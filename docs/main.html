<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 14.5.1"/>
    <title>main API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .pdoc-alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:1rem center;margin-bottom:1rem;}.pdoc .pdoc-alert > *:last-child{margin-bottom:0;}.pdoc .pdoc-alert-note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>




            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="variable" href="#cred">cred</a>
            </li>
            <li>
                    <a class="variable" href="#db">db</a>
            </li>
            <li>
                    <a class="class" href="#MainWindow">MainWindow</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#MainWindow.__init__">MainWindow</a>
                        </li>
                        <li>
                                <a class="function" href="#MainWindow.abrir_master">abrir_master</a>
                        </li>
                        <li>
                                <a class="function" href="#MainWindow.abrir_jugador">abrir_jugador</a>
                        </li>
                        <li>
                                <a class="function" href="#MainWindow.abrir_registro">abrir_registro</a>
                        </li>
                        <li>
                                <a class="variable" href="#MainWindow.staticMetaObject">staticMetaObject</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#jugadorWindow">jugadorWindow</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#jugadorWindow.__init__">jugadorWindow</a>
                        </li>
                        <li>
                                <a class="function" href="#jugadorWindow.show_character_stats">show_character_stats</a>
                        </li>
                        <li>
                                <a class="function" href="#jugadorWindow.handle_sala_unida">handle_sala_unida</a>
                        </li>
                        <li>
                                <a class="variable" href="#jugadorWindow.staticMetaObject">staticMetaObject</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#BitacoraWindow">BitacoraWindow</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#BitacoraWindow.__init__">BitacoraWindow</a>
                        </li>
                        <li>
                                <a class="function" href="#BitacoraWindow.layout">layout</a>
                        </li>
                        <li>
                                <a class="variable" href="#BitacoraWindow.bitacora_text">bitacora_text</a>
                        </li>
                        <li>
                                <a class="variable" href="#BitacoraWindow.staticMetaObject">staticMetaObject</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#MasterWindow">MasterWindow</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#MasterWindow.__init__">MasterWindow</a>
                        </li>
                        <li>
                                <a class="function" href="#MasterWindow.continuar_aventura">continuar_aventura</a>
                        </li>
                        <li>
                                <a class="function" href="#MasterWindow.actualizar_referencia">actualizar_referencia</a>
                        </li>
                        <li>
                                <a class="function" href="#MasterWindow.sigue_la_aventura">sigue_la_aventura</a>
                        </li>
                        <li>
                                <a class="function" href="#MasterWindow.up_progress">up_progress</a>
                        </li>
                        <li>
                                <a class="function" href="#MasterWindow.crear_nueva">crear_nueva</a>
                        </li>
                        <li>
                                <a class="function" href="#MasterWindow.nueva_mission">nueva_mission</a>
                        </li>
                        <li>
                                <a class="function" href="#MasterWindow.update_progress">update_progress</a>
                        </li>
                        <li>
                                <a class="function" href="#MasterWindow.go_juego">go_juego</a>
                        </li>
                        <li>
                                <a class="variable" href="#MasterWindow.staticMetaObject">staticMetaObject</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#JuegoWindow">JuegoWindow</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#JuegoWindow.__init__">JuegoWindow</a>
                        </li>
                        <li>
                                <a class="variable" href="#JuegoWindow.nombre_sala">nombre_sala</a>
                        </li>
                        <li>
                                <a class="variable" href="#JuegoWindow.contador_giros">contador_giros</a>
                        </li>
                        <li>
                                <a class="variable" href="#JuegoWindow.animations">animations</a>
                        </li>
                        <li>
                                <a class="variable" href="#JuegoWindow.tabla_personajes_agregada">tabla_personajes_agregada</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.ventana_dados">ventana_dados</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.mision_seleccionada">mision_seleccionada</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.mostrar_mision_resultado">mostrar_mision_resultado</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.manejar_error_mision">manejar_error_mision</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.mostrar_ventana_mision_selec">mostrar_ventana_mision_selec</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.victoria_mision_selec">victoria_mision_selec</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.derrota_mision_selec">derrota_mision_selec</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.mostrar_penalizacion_selec">mostrar_penalizacion_selec</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.guardar_penalizacion_selec">guardar_penalizacion_selec</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.guardar_recompensa">guardar_recompensa</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.mision_aleatoria">mision_aleatoria</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.mostrar_ruleta">mostrar_ruleta</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.aceptar_mision">aceptar_mision</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.rechazar_mision">rechazar_mision</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.girar_otra_vez">girar_otra_vez</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.mostrar_ventana_mision">mostrar_ventana_mision</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.victoria_mision">victoria_mision</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.derrota_mision">derrota_mision</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.mostrar_penalizacion">mostrar_penalizacion</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.guardar_penalizacion">guardar_penalizacion</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.send_text_to_vita">send_text_to_vita</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.save_bitacora">save_bitacora</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.open_bitacora_history">open_bitacora_history</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.show_pagina_1">show_pagina_1</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.show_pagina_2">show_pagina_2</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.crear_nueva_mision">crear_nueva_mision</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.show_pagina_4">show_pagina_4</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.show_pagina_3">show_pagina_3</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.cambio_etapa">cambio_etapa</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.show_pagina_5">show_pagina_5</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.agregar_tabla_personajes">agregar_tabla_personajes</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.actualizar_tabla_personajes">actualizar_tabla_personajes</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.recuperar_personajes">recuperar_personajes</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.modificar_personaje">modificar_personaje</a>
                        </li>
                        <li>
                                <a class="function" href="#JuegoWindow.load_mission">load_mission</a>
                        </li>
                        <li>
                                <a class="variable" href="#JuegoWindow.staticMetaObject">staticMetaObject</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#DiceWindow">DiceWindow</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#DiceWindow.layout">layout</a>
                        </li>
                        <li>
                                <a class="variable" href="#DiceWindow.title_label">title_label</a>
                        </li>
                        <li>
                                <a class="variable" href="#DiceWindow.label_result">label_result</a>
                        </li>
                        <li>
                                <a class="variable" href="#DiceWindow.button_layout">button_layout</a>
                        </li>
                        <li>
                                <a class="variable" href="#DiceWindow.btn_roll_d4">btn_roll_d4</a>
                        </li>
                        <li>
                                <a class="variable" href="#DiceWindow.btn_roll_d6">btn_roll_d6</a>
                        </li>
                        <li>
                                <a class="variable" href="#DiceWindow.btn_roll_d10">btn_roll_d10</a>
                        </li>
                        <li>
                                <a class="variable" href="#DiceWindow.btn_roll_d12">btn_roll_d12</a>
                        </li>
                        <li>
                                <a class="variable" href="#DiceWindow.btn_roll_d20">btn_roll_d20</a>
                        </li>
                        <li>
                                <a class="function" href="#DiceWindow.set_background">set_background</a>
                        </li>
                        <li>
                                <a class="function" href="#DiceWindow.resizeEvent">resizeEvent</a>
                        </li>
                        <li>
                                <a class="function" href="#DiceWindow.roll_dice">roll_dice</a>
                        </li>
                        <li>
                                <a class="variable" href="#DiceWindow.staticMetaObject">staticMetaObject</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#PersonajesWindow">PersonajesWindow</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#PersonajesWindow.validacion_campos">validacion_campos</a>
                        </li>
                        <li>
                                <a class="function" href="#PersonajesWindow.validar_habilidades">validar_habilidades</a>
                        </li>
                        <li>
                                <a class="function" href="#PersonajesWindow.validar_poderes">validar_poderes</a>
                        </li>
                        <li>
                                <a class="function" href="#PersonajesWindow.guardar_p">guardar_p</a>
                        </li>
                        <li>
                                <a class="function" href="#PersonajesWindow.limpiar_p">limpiar_p</a>
                        </li>
                        <li>
                                <a class="variable" href="#PersonajesWindow.staticMetaObject">staticMetaObject</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#CargandoWindow">CargandoWindow</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#CargandoWindow.barra_cargado">barra_cargado</a>
                        </li>
                        <li>
                                <a class="variable" href="#CargandoWindow.staticMetaObject">staticMetaObject</a>
                        </li>
                </ul>

            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
main    </h1>

                
                        <input id="mod-main-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-main-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">   1</span></a><span class="kn">import</span> <span class="nn">sys</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">   2</span></a><span class="kn">import</span> <span class="nn">random</span>  
</span><span id="L-3"><a href="#L-3"><span class="linenos">   3</span></a><span class="kn">from</span> <span class="nn">PySide6.QtGui</span> <span class="kn">import</span> <span class="n">QMovie</span><span class="p">,</span> <span class="n">QIcon</span><span class="p">,</span> <span class="n">QPixmap</span><span class="p">,</span> <span class="n">QPalette</span><span class="p">,</span> <span class="n">QBrush</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">   4</span></a><span class="kn">from</span> <span class="nn">PySide6.QtWidgets</span> <span class="kn">import</span> <span class="p">(</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos">   5</span></a>    <span class="n">QApplication</span><span class="p">,</span> <span class="n">QWidget</span><span class="p">,</span> <span class="n">QMessageBox</span><span class="p">,</span> <span class="n">QLineEdit</span><span class="p">,</span> <span class="n">QHBoxLayout</span><span class="p">,</span> <span class="n">QPushButton</span><span class="p">,</span> <span class="n">QVBoxLayout</span><span class="p">,</span> <span class="n">QTextEdit</span><span class="p">,</span> <span class="n">QHeaderView</span><span class="p">,</span> <span class="n">QTextBrowser</span><span class="p">,</span> <span class="n">QLabel</span><span class="p">,</span> <span class="n">QTableWidgetItem</span><span class="p">,</span> <span class="n">QMainWindow</span><span class="p">,</span> <span class="n">QProgressBar</span><span class="p">,</span> <span class="n">QDialog</span><span class="p">,</span> <span class="n">QFormLayout</span><span class="p">,</span> <span class="n">QTableWidget</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">   6</span></a><span class="p">)</span> 
</span><span id="L-7"><a href="#L-7"><span class="linenos">   7</span></a><span class="kn">from</span> <span class="nn">PySide6</span> <span class="kn">import</span> <span class="n">QtWidgets</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">   8</span></a><span class="kn">from</span> <span class="nn">PySide6.QtCore</span> <span class="kn">import</span> <span class="n">QTimer</span><span class="p">,</span> <span class="n">Signal</span><span class="p">,</span> <span class="n">Slot</span><span class="p">,</span> <span class="n">Qt</span><span class="p">,</span> <span class="n">QSize</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos">   9</span></a><span class="kn">from</span> <span class="nn">PyQt6.QtGui</span> <span class="kn">import</span> <span class="n">QFont</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos">  10</span></a><span class="kn">import</span> <span class="nn">firebase_admin</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos">  11</span></a><span class="kn">from</span> <span class="nn">firebase_admin</span> <span class="kn">import</span> <span class="n">credentials</span><span class="p">,</span> <span class="n">firestore</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos">  12</span></a><span class="kn">from</span> <span class="nn">PySide6.QtWidgets</span> <span class="kn">import</span> <span class="n">QWidget</span><span class="p">,</span> <span class="n">QProgressBar</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos">  13</span></a>
</span><span id="L-14"><a href="#L-14"><span class="linenos">  14</span></a><span class="kn">from</span> <span class="nn">ui_inicio</span> <span class="kn">import</span> <span class="n">Ui_Forms</span> 
</span><span id="L-15"><a href="#L-15"><span class="linenos">  15</span></a><span class="kn">from</span> <span class="nn">ui_master</span> <span class="kn">import</span> <span class="n">Ui_Formmaster</span> 
</span><span id="L-16"><a href="#L-16"><span class="linenos">  16</span></a><span class="kn">from</span> <span class="nn">ui_juego</span> <span class="kn">import</span> <span class="n">Ui_MainWindow</span> 
</span><span id="L-17"><a href="#L-17"><span class="linenos">  17</span></a><span class="kn">from</span> <span class="nn">ui_personajes</span> <span class="kn">import</span> <span class="n">Ui_Formperso</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos">  18</span></a><span class="kn">from</span> <span class="nn">ui_cargando</span> <span class="kn">import</span> <span class="n">Ui_Formcarga</span> 
</span><span id="L-19"><a href="#L-19"><span class="linenos">  19</span></a><span class="kn">from</span> <span class="nn">ui_jugadores</span> <span class="kn">import</span> <span class="n">Ui_Formjugadores</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos">  20</span></a>
</span><span id="L-21"><a href="#L-21"><span class="linenos">  21</span></a><span class="c1"># Inicialización de Firebase con las credenciales proporcionadas</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos">  22</span></a><span class="n">cred</span> <span class="o">=</span> <span class="n">credentials</span><span class="o">.</span><span class="n">Certificate</span><span class="p">(</span><span class="s2">&quot;C:/Users/anghe/OneDrive/Desktop/NUEVA INT/juegorol-6d13a-firebase-adminsdk-7pr5a-54114fa36b.json&quot;</span><span class="p">)</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos">  23</span></a><span class="n">firebase_admin</span><span class="o">.</span><span class="n">initialize_app</span><span class="p">(</span><span class="n">cred</span><span class="p">)</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos">  24</span></a>
</span><span id="L-25"><a href="#L-25"><span class="linenos">  25</span></a><span class="n">db</span> <span class="o">=</span> <span class="n">firestore</span><span class="o">.</span><span class="n">client</span><span class="p">()</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos">  26</span></a>
</span><span id="L-27"><a href="#L-27"><span class="linenos">  27</span></a><span class="k">class</span> <span class="nc">MainWindow</span><span class="p">(</span><span class="n">QWidget</span><span class="p">,</span> <span class="n">Ui_Forms</span><span class="p">):</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos">  28</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos">  29</span></a><span class="sd">    Ventana principal de la aplicación. </span>
</span><span id="L-30"><a href="#L-30"><span class="linenos">  30</span></a>
</span><span id="L-31"><a href="#L-31"><span class="linenos">  31</span></a><span class="sd">    Esta clase gestiona las acciones de los botones en la ventana principal, abriendo diferentes ventanas según la opción seleccionada por el usuario.</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos">  32</span></a>
</span><span id="L-33"><a href="#L-33"><span class="linenos">  33</span></a><span class="sd">    Métodos:</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos">  34</span></a><span class="sd">        __init__: Inicializa la ventana principal y configura las conexiones de los botones.</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos">  35</span></a><span class="sd">        abrir_master: Abre la ventana del master para gestionar misiones.</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos">  36</span></a><span class="sd">        abrir_jugador: Abre la ventana para gestionar personajes.</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos">  37</span></a><span class="sd">        abrir_registro: Abre la ventana para registrar nuevos personajes.</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos">  38</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos">  39</span></a>
</span><span id="L-40"><a href="#L-40"><span class="linenos">  40</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos">  41</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos">  42</span></a><span class="sd">        Inicializa la ventana principal y configura las conexiones de los botones.</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos">  43</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos">  44</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos">  45</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos">  46</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_master</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">abrir_master</span><span class="p">)</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos">  47</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_jugador</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">abrir_jugador</span><span class="p">)</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos">  48</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_registro</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">abrir_registro</span><span class="p">)</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos">  49</span></a>
</span><span id="L-50"><a href="#L-50"><span class="linenos">  50</span></a>    <span class="k">def</span> <span class="nf">abrir_master</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos">  51</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos">  52</span></a><span class="sd">        Abre la ventana del master para gestionar misiones.</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos">  53</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos">  54</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">master_window</span> <span class="o">=</span> <span class="n">MasterWindow</span><span class="p">()</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos">  55</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">master_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos">  56</span></a>
</span><span id="L-57"><a href="#L-57"><span class="linenos">  57</span></a>    <span class="k">def</span> <span class="nf">abrir_jugador</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos">  58</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos">  59</span></a><span class="sd">        Abre la ventana para gestionar personajes.</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos">  60</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos">  61</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">master_window</span> <span class="o">=</span> <span class="n">jugadorWindow</span><span class="p">()</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos">  62</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">master_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos">  63</span></a>
</span><span id="L-64"><a href="#L-64"><span class="linenos">  64</span></a>    <span class="k">def</span> <span class="nf">abrir_registro</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos">  65</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos">  66</span></a><span class="sd">        Abre la ventana para registrar nuevos personajes.</span>
</span><span id="L-67"><a href="#L-67"><span class="linenos">  67</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos">  68</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">master_window</span> <span class="o">=</span> <span class="n">PersonajesWindow</span><span class="p">()</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos">  69</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">master_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos">  70</span></a>
</span><span id="L-71"><a href="#L-71"><span class="linenos">  71</span></a>
</span><span id="L-72"><a href="#L-72"><span class="linenos">  72</span></a><span class="k">class</span> <span class="nc">jugadorWindow</span><span class="p">(</span><span class="n">QWidget</span><span class="p">,</span> <span class="n">Ui_Formjugadores</span><span class="p">):</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos">  73</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-74"><a href="#L-74"><span class="linenos">  74</span></a><span class="sd">    Ventana para gestionar y mostrar las estadísticas de los personajes.</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos">  75</span></a>
</span><span id="L-76"><a href="#L-76"><span class="linenos">  76</span></a><span class="sd">    Esta clase permite al usuario buscar un personaje por nombre y muestra sus estadísticas y el historial de la bitácora.</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos">  77</span></a>
</span><span id="L-78"><a href="#L-78"><span class="linenos">  78</span></a><span class="sd">    Métodos:</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos">  79</span></a><span class="sd">        __init__: Inicializa la ventana de gestión de personajes.</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos">  80</span></a><span class="sd">        show_character_stats: Muestra las estadísticas del personaje buscado.</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos">  81</span></a><span class="sd">        handle_sala_unida: Maneja la entrada a una sala y actualiza la bitácora.</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos">  82</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos">  83</span></a>
</span><span id="L-84"><a href="#L-84"><span class="linenos">  84</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos">  85</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos">  86</span></a><span class="sd">        Inicializa la ventana de gestión de personajes y configura el manejo del evento de búsqueda del personaje.</span>
</span><span id="L-87"><a href="#L-87"><span class="linenos">  87</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos">  88</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">jugadorWindow</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos">  89</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-90"><a href="#L-90"><span class="linenos">  90</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">line_pp</span><span class="o">.</span><span class="n">returnPressed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">show_character_stats</span><span class="p">)</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos">  91</span></a>
</span><span id="L-92"><a href="#L-92"><span class="linenos">  92</span></a>    <span class="k">def</span> <span class="nf">show_character_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-93"><a href="#L-93"><span class="linenos">  93</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos">  94</span></a><span class="sd">        Muestra las estadísticas del personaje buscado por el usuario.</span>
</span><span id="L-95"><a href="#L-95"><span class="linenos">  95</span></a>
</span><span id="L-96"><a href="#L-96"><span class="linenos">  96</span></a><span class="sd">        Busca el personaje en la base de datos usando el nombre proporcionado y muestra el nivel, raza, habilidades, poderes, equipamiento y estado. También muestra el historial de la bitácora asociado al personaje.</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos">  97</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-98"><a href="#L-98"><span class="linenos">  98</span></a>        <span class="n">nombre_personaje</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_pp</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos">  99</span></a>
</span><span id="L-100"><a href="#L-100"><span class="linenos"> 100</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">nombre_personaje</span><span class="p">:</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos"> 101</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Introduce el nombre del personaje.&#39;</span><span class="p">)</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos"> 102</span></a>            <span class="k">return</span>
</span><span id="L-103"><a href="#L-103"><span class="linenos"> 103</span></a>
</span><span id="L-104"><a href="#L-104"><span class="linenos"> 104</span></a>        <span class="n">personajes_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;personajes&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s1">&#39;nombre&#39;</span><span class="p">,</span> <span class="s1">&#39;==&#39;</span><span class="p">,</span> <span class="n">nombre_personaje</span><span class="p">)</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</span><span id="L-105"><a href="#L-105"><span class="linenos"> 105</span></a>
</span><span id="L-106"><a href="#L-106"><span class="linenos"> 106</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">personajes_ref</span><span class="p">:</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos"> 107</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Personaje no encontrado.&#39;</span><span class="p">)</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos"> 108</span></a>            <span class="k">return</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos"> 109</span></a>
</span><span id="L-110"><a href="#L-110"><span class="linenos"> 110</span></a>        <span class="n">personaje</span> <span class="o">=</span> <span class="n">personajes_ref</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos"> 111</span></a>        <span class="n">nivel</span> <span class="o">=</span> <span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;nivel&#39;</span><span class="p">,</span> <span class="s1">&#39;Desconocido&#39;</span><span class="p">)</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos"> 112</span></a>        <span class="n">raza</span> <span class="o">=</span> <span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;raza&#39;</span><span class="p">,</span> <span class="s1">&#39;Desconocida&#39;</span><span class="p">)</span>
</span><span id="L-113"><a href="#L-113"><span class="linenos"> 113</span></a>        <span class="n">habilidades</span> <span class="o">=</span> <span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;habilidades&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos"> 114</span></a>        <span class="n">poderes</span> <span class="o">=</span> <span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;poderes&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="L-115"><a href="#L-115"><span class="linenos"> 115</span></a>        <span class="n">equipamiento</span> <span class="o">=</span> <span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;equipamiento&#39;</span><span class="p">,</span> <span class="s1">&#39;Ninguno&#39;</span><span class="p">)</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos"> 116</span></a>        <span class="n">estado</span> <span class="o">=</span> <span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;estado&#39;</span><span class="p">,</span> <span class="s1">&#39;Desconocido&#39;</span><span class="p">)</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos"> 117</span></a>
</span><span id="L-118"><a href="#L-118"><span class="linenos"> 118</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">t_nivel</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39; </span><span class="si">{</span><span class="n">nivel</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos"> 119</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">t_raza</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39; </span><span class="si">{</span><span class="n">raza</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos"> 120</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">t_Ha</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39; </span><span class="si">{</span><span class="n">habilidades</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos"> 121</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">t_PO</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39; </span><span class="si">{</span><span class="n">poderes</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos"> 122</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">T_EQ</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39; </span><span class="si">{</span><span class="n">equipamiento</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-123"><a href="#L-123"><span class="linenos"> 123</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">t_estado</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">estado</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos"> 124</span></a>
</span><span id="L-125"><a href="#L-125"><span class="linenos"> 125</span></a>        <span class="n">bitacora_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;bitacora&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s1">&#39;personajes&#39;</span><span class="p">,</span> <span class="s1">&#39;array_contains&#39;</span><span class="p">,</span> <span class="n">nombre_personaje</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</span><span id="L-126"><a href="#L-126"><span class="linenos"> 126</span></a>        <span class="n">historial</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">doc</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;texto&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">bitacora_ref</span><span class="p">])</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos"> 127</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">t_his</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="n">historial</span><span class="p">)</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos"> 128</span></a>
</span><span id="L-129"><a href="#L-129"><span class="linenos"> 129</span></a>    <span class="nd">@Slot</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos"> 130</span></a>    <span class="k">def</span> <span class="nf">handle_sala_unida</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre_sala</span><span class="p">):</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos"> 131</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos"> 132</span></a><span class="sd">        Maneja la entrada a una sala de juego y actualiza la bitácora de la sala con un mensaje de entrada del jugador.</span>
</span><span id="L-133"><a href="#L-133"><span class="linenos"> 133</span></a>
</span><span id="L-134"><a href="#L-134"><span class="linenos"> 134</span></a><span class="sd">        Args:</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos"> 135</span></a><span class="sd">            nombre_sala (str): El nombre de la sala a la que el jugador se une.</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos"> 136</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos"> 137</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-138"><a href="#L-138"><span class="linenos"> 138</span></a>            <span class="n">sala_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;salas&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">nombre_sala</span><span class="p">)</span>
</span><span id="L-139"><a href="#L-139"><span class="linenos"> 139</span></a>            <span class="n">sala_doc</span> <span class="o">=</span> <span class="n">sala_ref</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos"> 140</span></a>            
</span><span id="L-141"><a href="#L-141"><span class="linenos"> 141</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">sala_doc</span><span class="o">.</span><span class="n">exists</span><span class="p">:</span>
</span><span id="L-142"><a href="#L-142"><span class="linenos"> 142</span></a>                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Sala no encontrada.&#39;</span><span class="p">)</span>
</span><span id="L-143"><a href="#L-143"><span class="linenos"> 143</span></a>                <span class="k">return</span>
</span><span id="L-144"><a href="#L-144"><span class="linenos"> 144</span></a>            <span class="n">bitacora_text</span> <span class="o">=</span> <span class="n">sala_doc</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;bitacora&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos"> 145</span></a>            
</span><span id="L-146"><a href="#L-146"><span class="linenos"> 146</span></a>            <span class="n">nuevo_mensaje</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;Jugador </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">nombre_jugador</span><span class="si">}</span><span class="s1"> se unió a la sala&#39;</span>
</span><span id="L-147"><a href="#L-147"><span class="linenos"> 147</span></a>            <span class="k">if</span> <span class="n">bitacora_text</span><span class="p">:</span>
</span><span id="L-148"><a href="#L-148"><span class="linenos"> 148</span></a>                <span class="n">bitacora_text</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="n">nuevo_mensaje</span>
</span><span id="L-149"><a href="#L-149"><span class="linenos"> 149</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-150"><a href="#L-150"><span class="linenos"> 150</span></a>                <span class="n">bitacora_text</span> <span class="o">=</span> <span class="n">nuevo_mensaje</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos"> 151</span></a>            
</span><span id="L-152"><a href="#L-152"><span class="linenos"> 152</span></a>            <span class="n">sala_ref</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;bitacora&#39;</span><span class="p">:</span> <span class="n">bitacora_text</span><span class="p">})</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos"> 153</span></a>            
</span><span id="L-154"><a href="#L-154"><span class="linenos"> 154</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">bitacora_window</span> <span class="o">=</span> <span class="n">BitacoraWindow</span><span class="p">(</span><span class="n">nombre_sala</span><span class="p">)</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos"> 155</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">bitacora_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="L-156"><a href="#L-156"><span class="linenos"> 156</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos"> 157</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error al manejar la sala unida: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos"> 158</span></a>
</span><span id="L-159"><a href="#L-159"><span class="linenos"> 159</span></a><span class="k">class</span> <span class="nc">BitacoraWindow</span><span class="p">(</span><span class="n">QDialog</span><span class="p">):</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos"> 160</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos"> 161</span></a><span class="sd">    Ventana de diálogo para mostrar la bitácora de una sala de juego.</span>
</span><span id="L-162"><a href="#L-162"><span class="linenos"> 162</span></a>
</span><span id="L-163"><a href="#L-163"><span class="linenos"> 163</span></a><span class="sd">    Esta clase crea una ventana de diálogo que muestra el historial de eventos en una sala específica. La ventana muestra los mensajes registrados en la bitácora de la sala.</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos"> 164</span></a>
</span><span id="L-165"><a href="#L-165"><span class="linenos"> 165</span></a><span class="sd">    Métodos:</span>
</span><span id="L-166"><a href="#L-166"><span class="linenos"> 166</span></a><span class="sd">        __init__(nombre_sala): Inicializa la ventana de la bitácora con el historial de la sala especificada.</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos"> 167</span></a>
</span><span id="L-168"><a href="#L-168"><span class="linenos"> 168</span></a><span class="sd">    Atributos:</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos"> 169</span></a><span class="sd">        bitacora_text (QTextBrowser): Widget que muestra el texto de la bitácora de la sala.</span>
</span><span id="L-170"><a href="#L-170"><span class="linenos"> 170</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos"> 171</span></a>
</span><span id="L-172"><a href="#L-172"><span class="linenos"> 172</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre_sala</span><span class="p">):</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos"> 173</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos"> 174</span></a><span class="sd">        Inicializa la ventana de la bitácora con el historial de la sala especificada.</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos"> 175</span></a>
</span><span id="L-176"><a href="#L-176"><span class="linenos"> 176</span></a><span class="sd">        Esta función establece el título de la ventana, define su tamaño, y carga el historial de eventos de la bitácora de la sala desde la base de datos de Firebase.</span>
</span><span id="L-177"><a href="#L-177"><span class="linenos"> 177</span></a>
</span><span id="L-178"><a href="#L-178"><span class="linenos"> 178</span></a><span class="sd">        Args:</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos"> 179</span></a><span class="sd">            nombre_sala (str): El nombre de la sala cuya bitácora se mostrará en la ventana.</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos"> 180</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-181"><a href="#L-181"><span class="linenos"> 181</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="L-182"><a href="#L-182"><span class="linenos"> 182</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s1">&#39;Bitácora de Sala&#39;</span><span class="p">)</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos"> 183</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos"> 184</span></a>        
</span><span id="L-185"><a href="#L-185"><span class="linenos"> 185</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-186"><a href="#L-186"><span class="linenos"> 186</span></a>        
</span><span id="L-187"><a href="#L-187"><span class="linenos"> 187</span></a>        <span class="c1"># Crea un QTextBrowser para mostrar el texto de la bitácora</span>
</span><span id="L-188"><a href="#L-188"><span class="linenos"> 188</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">bitacora_text</span> <span class="o">=</span> <span class="n">QTextBrowser</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-189"><a href="#L-189"><span class="linenos"> 189</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">bitacora_text</span><span class="o">.</span><span class="n">setOpenExternalLinks</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># Permite abrir enlaces externos en el QTextBrowser</span>
</span><span id="L-190"><a href="#L-190"><span class="linenos"> 190</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bitacora_text</span><span class="p">)</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos"> 191</span></a>        
</span><span id="L-192"><a href="#L-192"><span class="linenos"> 192</span></a>        <span class="c1"># Obtiene la referencia a la colección &#39;salas&#39; y el documento correspondiente a la sala especificada</span>
</span><span id="L-193"><a href="#L-193"><span class="linenos"> 193</span></a>        <span class="n">sala_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;salas&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">nombre_sala</span><span class="p">)</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos"> 194</span></a>        <span class="n">sala_doc</span> <span class="o">=</span> <span class="n">sala_ref</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos"> 195</span></a>        
</span><span id="L-196"><a href="#L-196"><span class="linenos"> 196</span></a>        <span class="c1"># Obtiene el texto de la bitácora de la sala desde la base de datos</span>
</span><span id="L-197"><a href="#L-197"><span class="linenos"> 197</span></a>        <span class="n">bitacora_text</span> <span class="o">=</span> <span class="n">sala_doc</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;bitacora&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos"> 198</span></a>        
</span><span id="L-199"><a href="#L-199"><span class="linenos"> 199</span></a>        <span class="c1"># Establece el texto de la bitácora en el QTextBrowser</span>
</span><span id="L-200"><a href="#L-200"><span class="linenos"> 200</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">bitacora_text</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="n">bitacora_text</span><span class="p">)</span>
</span><span id="L-201"><a href="#L-201"><span class="linenos"> 201</span></a>
</span><span id="L-202"><a href="#L-202"><span class="linenos"> 202</span></a><span class="k">class</span> <span class="nc">MasterWindow</span><span class="p">(</span><span class="n">QWidget</span><span class="p">,</span> <span class="n">Ui_Formmaster</span><span class="p">):</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos"> 203</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-204"><a href="#L-204"><span class="linenos"> 204</span></a><span class="sd">    Ventana principal para gestionar misiones y aventuras en el juego.</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos"> 205</span></a>
</span><span id="L-206"><a href="#L-206"><span class="linenos"> 206</span></a><span class="sd">    Esta clase representa la ventana principal para los administradores de misiones en el juego. Permite al usuario continuar aventuras existentes, crear nuevas misiones y acceder a la pantalla de carga para avanzar en las aventuras.</span>
</span><span id="L-207"><a href="#L-207"><span class="linenos"> 207</span></a>
</span><span id="L-208"><a href="#L-208"><span class="linenos"> 208</span></a><span class="sd">    Métodos:</span>
</span><span id="L-209"><a href="#L-209"><span class="linenos"> 209</span></a><span class="sd">        __init__(self): Inicializa la ventana principal del master y configura los eventos de los botones.</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos"> 210</span></a><span class="sd">        continuar_aventura(self): Cambia a la página para continuar una aventura existente.</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos"> 211</span></a><span class="sd">        actualizar_referencia(self): Actualiza el contenido de la referencia de la sala basada en el nombre ingresado por el usuario.</span>
</span><span id="L-212"><a href="#L-212"><span class="linenos"> 212</span></a><span class="sd">        sigue_la_aventura(self): Muestra una ventana de carga y cambia a la pantalla del juego para una aventura existente.</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos"> 213</span></a><span class="sd">        up_progress(self, nombre_sala): Actualiza el progreso de la barra de carga y abre la ventana del juego cuando el progreso alcanza el 100%.</span>
</span><span id="L-214"><a href="#L-214"><span class="linenos"> 214</span></a><span class="sd">        crear_nueva(self): Cambia a la página para crear una nueva misión.</span>
</span><span id="L-215"><a href="#L-215"><span class="linenos"> 215</span></a><span class="sd">        nueva_mission(self): Crea una nueva misión en la base de datos y muestra una ventana de carga mientras se actualiza el progreso.</span>
</span><span id="L-216"><a href="#L-216"><span class="linenos"> 216</span></a><span class="sd">        update_progress(self, nombre_sala): Actualiza el progreso de la barra de carga y abre la ventana del juego cuando el progreso alcanza el 100%.</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos"> 217</span></a><span class="sd">        go_juego(self, nombre_sala): Cambia a la pantalla del juego para una nueva misión y actualiza el nombre de la sala actual.</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos"> 218</span></a>
</span><span id="L-219"><a href="#L-219"><span class="linenos"> 219</span></a><span class="sd">    Atributos:</span>
</span><span id="L-220"><a href="#L-220"><span class="linenos"> 220</span></a><span class="sd">        btn_continuar (QPushButton): Botón para continuar una aventura existente.</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos"> 221</span></a><span class="sd">        btn_nueva (QPushButton): Botón para crear una nueva misión.</span>
</span><span id="L-222"><a href="#L-222"><span class="linenos"> 222</span></a><span class="sd">        btn_crear (QPushButton): Botón para agregar una nueva misión en la base de datos.</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos"> 223</span></a><span class="sd">        btn_inicio (QPushButton): Botón para iniciar una nueva aventura.</span>
</span><span id="L-224"><a href="#L-224"><span class="linenos"> 224</span></a><span class="sd">        nombre_sala (QLineEdit): Campo de texto para ingresar el nombre de la sala de juego.</span>
</span><span id="L-225"><a href="#L-225"><span class="linenos"> 225</span></a><span class="sd">        text_refe (QTextEdit): Área de texto para mostrar el contenido de la sala o los detalles de la referencia.</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos"> 226</span></a><span class="sd">        tex_nuevo (QLineEdit): Campo de texto para ingresar el texto de la nueva misión.</span>
</span><span id="L-227"><a href="#L-227"><span class="linenos"> 227</span></a><span class="sd">        text_sala (QLineEdit): Campo de texto para ingresar el nombre de la sala para una nueva misión.</span>
</span><span id="L-228"><a href="#L-228"><span class="linenos"> 228</span></a><span class="sd">        stackedWidget (QStackedWidget): Widget de apilamiento para cambiar entre diferentes páginas de la ventana.</span>
</span><span id="L-229"><a href="#L-229"><span class="linenos"> 229</span></a><span class="sd">        page (QWidget): Página para la creación de nuevas misiones.</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos"> 230</span></a><span class="sd">        page_2 (QWidget): Página para continuar una aventura existente.</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos"> 231</span></a><span class="sd">        cargando_window (CargandoWindow): Ventana de carga mostrada mientras se actualiza el progreso.</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos"> 232</span></a><span class="sd">        progress (int): Variable para almacenar el progreso de la barra de carga.</span>
</span><span id="L-233"><a href="#L-233"><span class="linenos"> 233</span></a><span class="sd">        timer (QTimer): Temporizador para actualizar la barra de carga.</span>
</span><span id="L-234"><a href="#L-234"><span class="linenos"> 234</span></a><span class="sd">        juego_window (JuegoWindow): Ventana de juego que se muestra cuando se continúa una aventura o se inicia una nueva misión.</span>
</span><span id="L-235"><a href="#L-235"><span class="linenos"> 235</span></a>
</span><span id="L-236"><a href="#L-236"><span class="linenos"> 236</span></a><span class="sd">    Excepciones:</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos"> 237</span></a><span class="sd">        Captura errores de conexión o recuperación de datos de Firebase y muestra un mensaje de error adecuado al usuario.</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos"> 238</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-239"><a href="#L-239"><span class="linenos"> 239</span></a>
</span><span id="L-240"><a href="#L-240"><span class="linenos"> 240</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-241"><a href="#L-241"><span class="linenos"> 241</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-242"><a href="#L-242"><span class="linenos"> 242</span></a><span class="sd">        Inicializa la ventana principal del master y configura los eventos de los botones.</span>
</span><span id="L-243"><a href="#L-243"><span class="linenos"> 243</span></a>
</span><span id="L-244"><a href="#L-244"><span class="linenos"> 244</span></a><span class="sd">        Configura los eventos de los botones para manejar las acciones de continuar aventuras, crear nuevas misiones y gestionar la carga de las misiones.</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos"> 245</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-246"><a href="#L-246"><span class="linenos"> 246</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">MasterWindow</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos"> 247</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-248"><a href="#L-248"><span class="linenos"> 248</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_continuar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">continuar_aventura</span><span class="p">)</span>
</span><span id="L-249"><a href="#L-249"><span class="linenos"> 249</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_nueva</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">crear_nueva</span><span class="p">)</span>
</span><span id="L-250"><a href="#L-250"><span class="linenos"> 250</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_crear</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nueva_mission</span><span class="p">)</span>
</span><span id="L-251"><a href="#L-251"><span class="linenos"> 251</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_inicio</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sigue_la_aventura</span><span class="p">)</span>  
</span><span id="L-252"><a href="#L-252"><span class="linenos"> 252</span></a>
</span><span id="L-253"><a href="#L-253"><span class="linenos"> 253</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nombre_sala</span><span class="o">.</span><span class="n">returnPressed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actualizar_referencia</span><span class="p">)</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos"> 254</span></a>
</span><span id="L-255"><a href="#L-255"><span class="linenos"> 255</span></a>    <span class="k">def</span> <span class="nf">continuar_aventura</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-256"><a href="#L-256"><span class="linenos"> 256</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-257"><a href="#L-257"><span class="linenos"> 257</span></a><span class="sd">        Cambia a la página para continuar una aventura existente.</span>
</span><span id="L-258"><a href="#L-258"><span class="linenos"> 258</span></a>
</span><span id="L-259"><a href="#L-259"><span class="linenos"> 259</span></a><span class="sd">        Este método cambia el widget actual a la página para continuar una aventura existente, mostrando la interfaz para la gestión de aventuras.</span>
</span><span id="L-260"><a href="#L-260"><span class="linenos"> 260</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-261"><a href="#L-261"><span class="linenos"> 261</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stackedWidget</span><span class="o">.</span><span class="n">setCurrentWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">page_2</span><span class="p">)</span>
</span><span id="L-262"><a href="#L-262"><span class="linenos"> 262</span></a>
</span><span id="L-263"><a href="#L-263"><span class="linenos"> 263</span></a>    <span class="k">def</span> <span class="nf">actualizar_referencia</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos"> 264</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos"> 265</span></a><span class="sd">        Actualiza el contenido de la referencia de la sala basada en el nombre ingresado por el usuario.</span>
</span><span id="L-266"><a href="#L-266"><span class="linenos"> 266</span></a>
</span><span id="L-267"><a href="#L-267"><span class="linenos"> 267</span></a><span class="sd">        Recupera los datos de la sala desde Firebase usando el nombre ingresado y muestra el último texto añadido, penalización y recompensa en el área de texto correspondiente.</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos"> 268</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-269"><a href="#L-269"><span class="linenos"> 269</span></a>        <span class="n">nombre_sala</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nombre_sala</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>  
</span><span id="L-270"><a href="#L-270"><span class="linenos"> 270</span></a>        <span class="k">if</span> <span class="n">nombre_sala</span><span class="p">:</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos"> 271</span></a>            <span class="n">sala_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;unico_</span><span class="si">{</span><span class="n">nombre_sala</span><span class="si">}</span><span class="s1">&#39;</span>  
</span><span id="L-272"><a href="#L-272"><span class="linenos"> 272</span></a>            <span class="n">doc_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;PUNTOGUARDADO&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">sala_id</span><span class="p">)</span>  
</span><span id="L-273"><a href="#L-273"><span class="linenos"> 273</span></a>
</span><span id="L-274"><a href="#L-274"><span class="linenos"> 274</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="L-275"><a href="#L-275"><span class="linenos"> 275</span></a>                <span class="n">doc</span> <span class="o">=</span> <span class="n">doc_ref</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>  <span class="c1">#</span>
</span><span id="L-276"><a href="#L-276"><span class="linenos"> 276</span></a>                <span class="k">if</span> <span class="n">doc</span><span class="o">.</span><span class="n">exists</span><span class="p">:</span>
</span><span id="L-277"><a href="#L-277"><span class="linenos"> 277</span></a>                    <span class="n">data</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>  
</span><span id="L-278"><a href="#L-278"><span class="linenos"> 278</span></a>
</span><span id="L-279"><a href="#L-279"><span class="linenos"> 279</span></a>                    <span class="n">textos</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-280"><a href="#L-280"><span class="linenos"> 280</span></a>                    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
</span><span id="L-281"><a href="#L-281"><span class="linenos"> 281</span></a>                        <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;texto&#39;</span><span class="p">):</span>
</span><span id="L-282"><a href="#L-282"><span class="linenos"> 282</span></a>                            <span class="n">textos</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>
</span><span id="L-283"><a href="#L-283"><span class="linenos"> 283</span></a>                 
</span><span id="L-284"><a href="#L-284"><span class="linenos"> 284</span></a>                    <span class="k">if</span> <span class="n">textos</span><span class="p">:</span>
</span><span id="L-285"><a href="#L-285"><span class="linenos"> 285</span></a>                        <span class="n">ultimo_texto</span> <span class="o">=</span> <span class="n">textos</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  
</span><span id="L-286"><a href="#L-286"><span class="linenos"> 286</span></a>                        <span class="n">texto_mostrar</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Último texto añadido:</span><span class="se">\n</span><span class="si">{</span><span class="n">ultimo_texto</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">&quot;</span>
</span><span id="L-287"><a href="#L-287"><span class="linenos"> 287</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="L-288"><a href="#L-288"><span class="linenos"> 288</span></a>                        <span class="n">ultimo_texto</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="L-289"><a href="#L-289"><span class="linenos"> 289</span></a>                        <span class="n">texto_mostrar</span> <span class="o">=</span> <span class="s2">&quot;No hay textos añadidos.</span><span class="se">\n\n</span><span class="s2">&quot;</span>
</span><span id="L-290"><a href="#L-290"><span class="linenos"> 290</span></a>                  
</span><span id="L-291"><a href="#L-291"><span class="linenos"> 291</span></a>                    <span class="n">penalizacion</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;penalizacion&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="L-292"><a href="#L-292"><span class="linenos"> 292</span></a>                    <span class="n">recompensa</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;recompensa&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="L-293"><a href="#L-293"><span class="linenos"> 293</span></a>
</span><span id="L-294"><a href="#L-294"><span class="linenos"> 294</span></a>                    <span class="k">if</span> <span class="n">penalizacion</span> <span class="ow">or</span> <span class="n">recompensa</span><span class="p">:</span>
</span><span id="L-295"><a href="#L-295"><span class="linenos"> 295</span></a>                        <span class="n">texto_mostrar</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;Penalización: </span><span class="si">{</span><span class="n">penalizacion</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">penalizacion</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
</span><span id="L-296"><a href="#L-296"><span class="linenos"> 296</span></a>                        <span class="n">texto_mostrar</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;Recompensa: </span><span class="si">{</span><span class="n">recompensa</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">recompensa</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
</span><span id="L-297"><a href="#L-297"><span class="linenos"> 297</span></a>
</span><span id="L-298"><a href="#L-298"><span class="linenos"> 298</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">text_refe</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="n">texto_mostrar</span><span class="p">)</span>  
</span><span id="L-299"><a href="#L-299"><span class="linenos"> 299</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Último texto añadido: </span><span class="si">{</span><span class="n">ultimo_texto</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> 
</span><span id="L-300"><a href="#L-300"><span class="linenos"> 300</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Penalización: </span><span class="si">{</span><span class="n">penalizacion</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  
</span><span id="L-301"><a href="#L-301"><span class="linenos"> 301</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Recompensa: </span><span class="si">{</span><span class="n">recompensa</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  
</span><span id="L-302"><a href="#L-302"><span class="linenos"> 302</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="L-303"><a href="#L-303"><span class="linenos"> 303</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">text_refe</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="s1">&#39;La sala no existe.&#39;</span><span class="p">)</span> 
</span><span id="L-304"><a href="#L-304"><span class="linenos"> 304</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;La sala &#39;</span><span class="si">{</span><span class="n">nombre_sala</span><span class="si">}</span><span class="s2">&#39; no existe.&quot;</span><span class="p">)</span> 
</span><span id="L-305"><a href="#L-305"><span class="linenos"> 305</span></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-306"><a href="#L-306"><span class="linenos"> 306</span></a>                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Error al recuperar los datos de la sala: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-307"><a href="#L-307"><span class="linenos"> 307</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Excepción al recuperar los datos de la sala: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> 
</span><span id="L-308"><a href="#L-308"><span class="linenos"> 308</span></a>    
</span><span id="L-309"><a href="#L-309"><span class="linenos"> 309</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Nombre de sala vacío.&quot;</span><span class="p">)</span>  
</span><span id="L-310"><a href="#L-310"><span class="linenos"> 310</span></a>
</span><span id="L-311"><a href="#L-311"><span class="linenos"> 311</span></a>    <span class="k">def</span> <span class="nf">sigue_la_aventura</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-312"><a href="#L-312"><span class="linenos"> 312</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-313"><a href="#L-313"><span class="linenos"> 313</span></a><span class="sd">        Muestra una ventana de carga y cambia a la pantalla del juego para una aventura existente.</span>
</span><span id="L-314"><a href="#L-314"><span class="linenos"> 314</span></a>
</span><span id="L-315"><a href="#L-315"><span class="linenos"> 315</span></a><span class="sd">        Muestra una ventana de carga mientras se actualiza el progreso, y luego cambia a la pantalla del juego para la sala especificada por el usuario.</span>
</span><span id="L-316"><a href="#L-316"><span class="linenos"> 316</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-317"><a href="#L-317"><span class="linenos"> 317</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cargando_window</span> <span class="o">=</span> <span class="n">CargandoWindow</span><span class="p">()</span>
</span><span id="L-318"><a href="#L-318"><span class="linenos"> 318</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cargando_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="L-319"><a href="#L-319"><span class="linenos"> 319</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">progress</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-320"><a href="#L-320"><span class="linenos"> 320</span></a>        
</span><span id="L-321"><a href="#L-321"><span class="linenos"> 321</span></a>        <span class="n">nombre_sala</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nombre_sala</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>  
</span><span id="L-322"><a href="#L-322"><span class="linenos"> 322</span></a>        <span class="k">if</span> <span class="n">nombre_sala</span><span class="p">:</span>
</span><span id="L-323"><a href="#L-323"><span class="linenos"> 323</span></a>            <span class="n">sala_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;unico_</span><span class="si">{</span><span class="n">nombre_sala</span><span class="si">}</span><span class="s1">&#39;</span>  
</span><span id="L-324"><a href="#L-324"><span class="linenos"> 324</span></a>            <span class="n">doc_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;PUNTOGUARDADO&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">sala_id</span><span class="p">)</span>  
</span><span id="L-325"><a href="#L-325"><span class="linenos"> 325</span></a>            
</span><span id="L-326"><a href="#L-326"><span class="linenos"> 326</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="L-327"><a href="#L-327"><span class="linenos"> 327</span></a>                <span class="n">doc</span> <span class="o">=</span> <span class="n">doc_ref</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>  
</span><span id="L-328"><a href="#L-328"><span class="linenos"> 328</span></a>                <span class="k">if</span> <span class="n">doc</span><span class="o">.</span><span class="n">exists</span><span class="p">:</span>
</span><span id="L-329"><a href="#L-329"><span class="linenos"> 329</span></a>                    <span class="n">data</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>  
</span><span id="L-330"><a href="#L-330"><span class="linenos"> 330</span></a>                    <span class="n">texto_sala</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;contenido&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>  
</span><span id="L-331"><a href="#L-331"><span class="linenos"> 331</span></a>
</span><span id="L-332"><a href="#L-332"><span class="linenos"> 332</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">text_refe</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="n">texto_sala</span><span class="p">)</span>
</span><span id="L-333"><a href="#L-333"><span class="linenos"> 333</span></a>
</span><span id="L-334"><a href="#L-334"><span class="linenos"> 334</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">timer</span> <span class="o">=</span> <span class="n">QTimer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-335"><a href="#L-335"><span class="linenos"> 335</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">timeout</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">up_progress</span><span class="p">(</span><span class="n">nombre_sala</span><span class="p">))</span> 
</span><span id="L-336"><a href="#L-336"><span class="linenos"> 336</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>  
</span><span id="L-337"><a href="#L-337"><span class="linenos"> 337</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="L-338"><a href="#L-338"><span class="linenos"> 338</span></a>                    <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;La sala no existe.&#39;</span><span class="p">)</span>
</span><span id="L-339"><a href="#L-339"><span class="linenos"> 339</span></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos"> 340</span></a>                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Error al recuperar los datos de la sala: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-341"><a href="#L-341"><span class="linenos"> 341</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-342"><a href="#L-342"><span class="linenos"> 342</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Por favor, ingresa el nombre de la sala.&#39;</span><span class="p">)</span>
</span><span id="L-343"><a href="#L-343"><span class="linenos"> 343</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="L-344"><a href="#L-344"><span class="linenos"> 344</span></a>
</span><span id="L-345"><a href="#L-345"><span class="linenos"> 345</span></a>    <span class="k">def</span> <span class="nf">up_progress</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre_sala</span><span class="p">):</span>
</span><span id="L-346"><a href="#L-346"><span class="linenos"> 346</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-347"><a href="#L-347"><span class="linenos"> 347</span></a><span class="sd">        Actualiza el progreso de la barra de carga y abre la ventana del juego cuando el progreso alcanza el 100%.</span>
</span><span id="L-348"><a href="#L-348"><span class="linenos"> 348</span></a>
</span><span id="L-349"><a href="#L-349"><span class="linenos"> 349</span></a><span class="sd">        Este método aumenta el progreso de la barra de carga y, cuando llega al 100%, detiene el temporizador y abre la ventana del juego.</span>
</span><span id="L-350"><a href="#L-350"><span class="linenos"> 350</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-351"><a href="#L-351"><span class="linenos"> 351</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">progress</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="L-352"><a href="#L-352"><span class="linenos"> 352</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">progress</span> <span class="o">&gt;=</span> <span class="mi">100</span><span class="p">:</span>
</span><span id="L-353"><a href="#L-353"><span class="linenos"> 353</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</span><span id="L-354"><a href="#L-354"><span class="linenos"> 354</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">cargando_window</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="L-355"><a href="#L-355"><span class="linenos"> 355</span></a>            
</span><span id="L-356"><a href="#L-356"><span class="linenos"> 356</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">juego_window</span> <span class="o">=</span> <span class="n">JuegoWindow</span><span class="p">(</span><span class="n">nombre_sala</span><span class="p">)</span> 
</span><span id="L-357"><a href="#L-357"><span class="linenos"> 357</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">juego_window</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sala Actual: </span><span class="si">{</span><span class="n">nombre_sala</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  
</span><span id="L-358"><a href="#L-358"><span class="linenos"> 358</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">juego_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>  
</span><span id="L-359"><a href="#L-359"><span class="linenos"> 359</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-360"><a href="#L-360"><span class="linenos"> 360</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">cargando_window</span><span class="o">.</span><span class="n">barra_cargado</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">progress</span><span class="p">)</span>
</span><span id="L-361"><a href="#L-361"><span class="linenos"> 361</span></a>
</span><span id="L-362"><a href="#L-362"><span class="linenos"> 362</span></a>    <span class="k">def</span> <span class="nf">crear_nueva</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-363"><a href="#L-363"><span class="linenos"> 363</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-364"><a href="#L-364"><span class="linenos"> 364</span></a><span class="sd">        Cambia a la página para crear una nueva misión.</span>
</span><span id="L-365"><a href="#L-365"><span class="linenos"> 365</span></a>
</span><span id="L-366"><a href="#L-366"><span class="linenos"> 366</span></a><span class="sd">        Este método cambia el widget actual a la página donde el usuario puede ingresar los detalles de una nueva misión.</span>
</span><span id="L-367"><a href="#L-367"><span class="linenos"> 367</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-368"><a href="#L-368"><span class="linenos"> 368</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stackedWidget</span><span class="o">.</span><span class="n">setCurrentWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">page</span><span class="p">)</span>
</span><span id="L-369"><a href="#L-369"><span class="linenos"> 369</span></a>
</span><span id="L-370"><a href="#L-370"><span class="linenos"> 370</span></a>    <span class="k">def</span> <span class="nf">nueva_mission</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-371"><a href="#L-371"><span class="linenos"> 371</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-372"><a href="#L-372"><span class="linenos"> 372</span></a><span class="sd">        Crea una nueva misión en la base de datos y muestra una ventana de carga mientras se actualiza el progreso.</span>
</span><span id="L-373"><a href="#L-373"><span class="linenos"> 373</span></a>
</span><span id="L-374"><a href="#L-374"><span class="linenos"> 374</span></a><span class="sd">        Este método toma el texto de la nueva misión y el nombre de la sala, crea una nueva entrada en la base de datos y muestra una ventana de carga mientras se actualiza el progreso.</span>
</span><span id="L-375"><a href="#L-375"><span class="linenos"> 375</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-376"><a href="#L-376"><span class="linenos"> 376</span></a>        <span class="n">tex_nuevo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tex_nuevo</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="L-377"><a href="#L-377"><span class="linenos"> 377</span></a>        <span class="n">nombre_sala</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_sala</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="L-378"><a href="#L-378"><span class="linenos"> 378</span></a>
</span><span id="L-379"><a href="#L-379"><span class="linenos"> 379</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">tex_nuevo</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">nombre_sala</span><span class="p">:</span>
</span><span id="L-380"><a href="#L-380"><span class="linenos"> 380</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Introduce el nombre de la sala y el texto de la nueva misión.&#39;</span><span class="p">)</span>
</span><span id="L-381"><a href="#L-381"><span class="linenos"> 381</span></a>            <span class="k">return</span>
</span><span id="L-382"><a href="#L-382"><span class="linenos"> 382</span></a>
</span><span id="L-383"><a href="#L-383"><span class="linenos"> 383</span></a>        <span class="n">salas_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;PUNTOGUARDADO&#39;</span><span class="p">)</span>
</span><span id="L-384"><a href="#L-384"><span class="linenos"> 384</span></a>        <span class="n">salas_ref</span><span class="o">.</span><span class="n">add</span><span class="p">({</span>
</span><span id="L-385"><a href="#L-385"><span class="linenos"> 385</span></a>            <span class="s1">&#39;nombre&#39;</span><span class="p">:</span> <span class="n">nombre_sala</span><span class="p">,</span>
</span><span id="L-386"><a href="#L-386"><span class="linenos"> 386</span></a>            <span class="s1">&#39;contenido&#39;</span><span class="p">:</span> <span class="n">tex_nuevo</span><span class="p">,</span>
</span><span id="L-387"><a href="#L-387"><span class="linenos"> 387</span></a>            <span class="s1">&#39;misiones&#39;</span><span class="p">:</span> <span class="p">[],</span> 
</span><span id="L-388"><a href="#L-388"><span class="linenos"> 388</span></a>        <span class="p">})</span>
</span><span id="L-389"><a href="#L-389"><span class="linenos"> 389</span></a>
</span><span id="L-390"><a href="#L-390"><span class="linenos"> 390</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cargando_window</span> <span class="o">=</span> <span class="n">CargandoWindow</span><span class="p">()</span>
</span><span id="L-391"><a href="#L-391"><span class="linenos"> 391</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cargando_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="L-392"><a href="#L-392"><span class="linenos"> 392</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span> <span class="o">=</span> <span class="n">QTimer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-393"><a href="#L-393"><span class="linenos"> 393</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">timeout</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">update_progress</span><span class="p">(</span><span class="n">nombre_sala</span><span class="p">))</span> 
</span><span id="L-394"><a href="#L-394"><span class="linenos"> 394</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">progress</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-395"><a href="#L-395"><span class="linenos"> 395</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>  
</span><span id="L-396"><a href="#L-396"><span class="linenos"> 396</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="L-397"><a href="#L-397"><span class="linenos"> 397</span></a>
</span><span id="L-398"><a href="#L-398"><span class="linenos"> 398</span></a>    <span class="k">def</span> <span class="nf">update_progress</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre_sala</span><span class="p">):</span>
</span><span id="L-399"><a href="#L-399"><span class="linenos"> 399</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-400"><a href="#L-400"><span class="linenos"> 400</span></a><span class="sd">        Actualiza el progreso de la barra de carga y abre la ventana del juego cuando el progreso alcanza el 100%.</span>
</span><span id="L-401"><a href="#L-401"><span class="linenos"> 401</span></a>
</span><span id="L-402"><a href="#L-402"><span class="linenos"> 402</span></a><span class="sd">        Este método aumenta el progreso de la barra de carga y, cuando llega al 100%, detiene el temporizador y abre la ventana del juego.</span>
</span><span id="L-403"><a href="#L-403"><span class="linenos"> 403</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-404"><a href="#L-404"><span class="linenos"> 404</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">progress</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="L-405"><a href="#L-405"><span class="linenos"> 405</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">progress</span> <span class="o">&gt;=</span> <span class="mi">100</span><span class="p">:</span>
</span><span id="L-406"><a href="#L-406"><span class="linenos"> 406</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</span><span id="L-407"><a href="#L-407"><span class="linenos"> 407</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">go_juego</span><span class="p">(</span><span class="n">nombre_sala</span><span class="p">)</span>
</span><span id="L-408"><a href="#L-408"><span class="linenos"> 408</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-409"><a href="#L-409"><span class="linenos"> 409</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">cargando_window</span><span class="o">.</span><span class="n">barra_cargado</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">progress</span><span class="p">)</span>
</span><span id="L-410"><a href="#L-410"><span class="linenos"> 410</span></a>
</span><span id="L-411"><a href="#L-411"><span class="linenos"> 411</span></a>    <span class="k">def</span> <span class="nf">go_juego</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre_sala</span><span class="p">):</span>
</span><span id="L-412"><a href="#L-412"><span class="linenos"> 412</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-413"><a href="#L-413"><span class="linenos"> 413</span></a><span class="sd">        Cambia a la pantalla del juego para una nueva misión y actualiza el nombre de la sala actual.</span>
</span><span id="L-414"><a href="#L-414"><span class="linenos"> 414</span></a>
</span><span id="L-415"><a href="#L-415"><span class="linenos"> 415</span></a><span class="sd">        Este método cambia a la ventana de juego para la nueva misión creada y actualiza el nombre de la sala actual.</span>
</span><span id="L-416"><a href="#L-416"><span class="linenos"> 416</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-417"><a href="#L-417"><span class="linenos"> 417</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">juego_window</span> <span class="o">=</span> <span class="n">JuegoWindow</span><span class="p">(</span><span class="n">nombre_sala</span><span class="p">)</span>
</span><span id="L-418"><a href="#L-418"><span class="linenos"> 418</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">juego_window</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Sala Actual: &quot;</span> <span class="o">+</span> <span class="n">nombre_sala</span><span class="p">)</span>
</span><span id="L-419"><a href="#L-419"><span class="linenos"> 419</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">juego_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="L-420"><a href="#L-420"><span class="linenos"> 420</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cargando_window</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="L-421"><a href="#L-421"><span class="linenos"> 421</span></a>
</span><span id="L-422"><a href="#L-422"><span class="linenos"> 422</span></a><span class="k">class</span> <span class="nc">JuegoWindow</span><span class="p">(</span><span class="n">QMainWindow</span><span class="p">,</span> <span class="n">Ui_MainWindow</span><span class="p">):</span>
</span><span id="L-423"><a href="#L-423"><span class="linenos"> 423</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-424"><a href="#L-424"><span class="linenos"> 424</span></a><span class="sd">    Ventana principal del juego que gestiona la interfaz del usuario y las interacciones del juego.</span>
</span><span id="L-425"><a href="#L-425"><span class="linenos"> 425</span></a>
</span><span id="L-426"><a href="#L-426"><span class="linenos"> 426</span></a><span class="sd">    Hereda de QMainWindow y Ui_MainWindow para proporcionar la funcionalidad de una ventana principal</span>
</span><span id="L-427"><a href="#L-427"><span class="linenos"> 427</span></a><span class="sd">    y usar el diseño definido en Ui_MainWindow.</span>
</span><span id="L-428"><a href="#L-428"><span class="linenos"> 428</span></a>
</span><span id="L-429"><a href="#L-429"><span class="linenos"> 429</span></a><span class="sd">    Atributos:</span>
</span><span id="L-430"><a href="#L-430"><span class="linenos"> 430</span></a><span class="sd">    ----------</span>
</span><span id="L-431"><a href="#L-431"><span class="linenos"> 431</span></a><span class="sd">    nombre_sala : QLabel</span>
</span><span id="L-432"><a href="#L-432"><span class="linenos"> 432</span></a><span class="sd">        Etiqueta que muestra el nombre de la sala actual del juego.</span>
</span><span id="L-433"><a href="#L-433"><span class="linenos"> 433</span></a><span class="sd">    contador_giros : int</span>
</span><span id="L-434"><a href="#L-434"><span class="linenos"> 434</span></a><span class="sd">        Contador para llevar la cuenta de las acciones realizadas en el juego.</span>
</span><span id="L-435"><a href="#L-435"><span class="linenos"> 435</span></a><span class="sd">    animations : dict</span>
</span><span id="L-436"><a href="#L-436"><span class="linenos"> 436</span></a><span class="sd">        Diccionario que mapea índices a rutas de imágenes para diferentes fondos de pantalla.</span>
</span><span id="L-437"><a href="#L-437"><span class="linenos"> 437</span></a><span class="sd">    tabla_personajes_agregada : bool</span>
</span><span id="L-438"><a href="#L-438"><span class="linenos"> 438</span></a><span class="sd">        Bandera para verificar si la tabla de personajes ha sido agregada a la interfaz.</span>
</span><span id="L-439"><a href="#L-439"><span class="linenos"> 439</span></a>
</span><span id="L-440"><a href="#L-440"><span class="linenos"> 440</span></a><span class="sd">    Métodos:</span>
</span><span id="L-441"><a href="#L-441"><span class="linenos"> 441</span></a><span class="sd">    --------</span>
</span><span id="L-442"><a href="#L-442"><span class="linenos"> 442</span></a><span class="sd">    __init__(self, nombre_sala, parent=None):</span>
</span><span id="L-443"><a href="#L-443"><span class="linenos"> 443</span></a><span class="sd">        Inicializa la ventana principal del juego y configura la interfaz de usuario.</span>
</span><span id="L-444"><a href="#L-444"><span class="linenos"> 444</span></a>
</span><span id="L-445"><a href="#L-445"><span class="linenos"> 445</span></a><span class="sd">    ventana_dados(self):</span>
</span><span id="L-446"><a href="#L-446"><span class="linenos"> 446</span></a><span class="sd">        Abre una nueva ventana para lanzar dados.</span>
</span><span id="L-447"><a href="#L-447"><span class="linenos"> 447</span></a>
</span><span id="L-448"><a href="#L-448"><span class="linenos"> 448</span></a><span class="sd">    mision_seleccionada(self):</span>
</span><span id="L-449"><a href="#L-449"><span class="linenos"> 449</span></a><span class="sd">        Busca una misión por su nombre en la base de datos y muestra el resultado.</span>
</span><span id="L-450"><a href="#L-450"><span class="linenos"> 450</span></a>
</span><span id="L-451"><a href="#L-451"><span class="linenos"> 451</span></a><span class="sd">    mostrar_mision_resultado(self, snapshot):</span>
</span><span id="L-452"><a href="#L-452"><span class="linenos"> 452</span></a><span class="sd">        Muestra los detalles de la misión encontrada en la búsqueda.</span>
</span><span id="L-453"><a href="#L-453"><span class="linenos"> 453</span></a>
</span><span id="L-454"><a href="#L-454"><span class="linenos"> 454</span></a><span class="sd">    manejar_error_mision(self, error):</span>
</span><span id="L-455"><a href="#L-455"><span class="linenos"> 455</span></a><span class="sd">        Muestra un mensaje de error si ocurre un problema durante la búsqueda de una misión.</span>
</span><span id="L-456"><a href="#L-456"><span class="linenos"> 456</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-457"><a href="#L-457"><span class="linenos"> 457</span></a>
</span><span id="L-458"><a href="#L-458"><span class="linenos"> 458</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre_sala</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="L-459"><a href="#L-459"><span class="linenos"> 459</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-460"><a href="#L-460"><span class="linenos"> 460</span></a><span class="sd">        Inicializa la ventana principal del juego y configura la interfaz de usuario.</span>
</span><span id="L-461"><a href="#L-461"><span class="linenos"> 461</span></a>
</span><span id="L-462"><a href="#L-462"><span class="linenos"> 462</span></a><span class="sd">        Parámetros:</span>
</span><span id="L-463"><a href="#L-463"><span class="linenos"> 463</span></a><span class="sd">        -----------</span>
</span><span id="L-464"><a href="#L-464"><span class="linenos"> 464</span></a><span class="sd">        nombre_sala : str</span>
</span><span id="L-465"><a href="#L-465"><span class="linenos"> 465</span></a><span class="sd">            El nombre de la sala actual del juego que se mostrará en la interfaz.</span>
</span><span id="L-466"><a href="#L-466"><span class="linenos"> 466</span></a><span class="sd">        parent : QWidget, opcional</span>
</span><span id="L-467"><a href="#L-467"><span class="linenos"> 467</span></a><span class="sd">            El widget padre para esta ventana. Por defecto es None.</span>
</span><span id="L-468"><a href="#L-468"><span class="linenos"> 468</span></a>
</span><span id="L-469"><a href="#L-469"><span class="linenos"> 469</span></a><span class="sd">        Configura los botones, conexiones de señales y otros elementos de la interfaz de usuario.</span>
</span><span id="L-470"><a href="#L-470"><span class="linenos"> 470</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-471"><a href="#L-471"><span class="linenos"> 471</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">JuegoWindow</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
</span><span id="L-472"><a href="#L-472"><span class="linenos"> 472</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-473"><a href="#L-473"><span class="linenos"> 473</span></a>
</span><span id="L-474"><a href="#L-474"><span class="linenos"> 474</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nombre_sala</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="n">nombre_sala</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>  
</span><span id="L-475"><a href="#L-475"><span class="linenos"> 475</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Juego - Sala: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">nombre_sala</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>  
</span><span id="L-476"><a href="#L-476"><span class="linenos"> 476</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sala Actual: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">nombre_sala</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  
</span><span id="L-477"><a href="#L-477"><span class="linenos"> 477</span></a>
</span><span id="L-478"><a href="#L-478"><span class="linenos"> 478</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_envio_2</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">send_text_to_vita</span><span class="p">)</span>
</span><span id="L-479"><a href="#L-479"><span class="linenos"> 479</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_guardado</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">save_bitacora</span><span class="p">)</span>
</span><span id="L-480"><a href="#L-480"><span class="linenos"> 480</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_his</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">open_bitacora_history</span><span class="p">)</span>
</span><span id="L-481"><a href="#L-481"><span class="linenos"> 481</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_dados</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ventana_dados</span><span class="p">)</span>
</span><span id="L-482"><a href="#L-482"><span class="linenos"> 482</span></a>
</span><span id="L-483"><a href="#L-483"><span class="linenos"> 483</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_aleatorio</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mision_aleatoria</span><span class="p">)</span>
</span><span id="L-484"><a href="#L-484"><span class="linenos"> 484</span></a>
</span><span id="L-485"><a href="#L-485"><span class="linenos"> 485</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_m</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">show_pagina_1</span><span class="p">)</span>
</span><span id="L-486"><a href="#L-486"><span class="linenos"> 486</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_crear</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">show_pagina_2</span><span class="p">)</span>
</span><span id="L-487"><a href="#L-487"><span class="linenos"> 487</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_tpa</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">show_pagina_3</span><span class="p">)</span>
</span><span id="L-488"><a href="#L-488"><span class="linenos"> 488</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_md</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">show_pagina_4</span><span class="p">)</span>
</span><span id="L-489"><a href="#L-489"><span class="linenos"> 489</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_pp</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">show_pagina_5</span><span class="p">)</span>
</span><span id="L-490"><a href="#L-490"><span class="linenos"> 490</span></a>
</span><span id="L-491"><a href="#L-491"><span class="linenos"> 491</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">b_ms</span><span class="o">.</span><span class="n">returnPressed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mision_seleccionada</span><span class="p">)</span>
</span><span id="L-492"><a href="#L-492"><span class="linenos"> 492</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_mison</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mision_seleccionada</span><span class="p">)</span>
</span><span id="L-493"><a href="#L-493"><span class="linenos"> 493</span></a>
</span><span id="L-494"><a href="#L-494"><span class="linenos"> 494</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">contador_giros</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-495"><a href="#L-495"><span class="linenos"> 495</span></a>
</span><span id="L-496"><a href="#L-496"><span class="linenos"> 496</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">animations</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-497"><a href="#L-497"><span class="linenos"> 497</span></a>            <span class="mi">0</span><span class="p">:</span> <span class="s2">&quot;fondos/fantasia.jpg&quot;</span><span class="p">,</span>
</span><span id="L-498"><a href="#L-498"><span class="linenos"> 498</span></a>            <span class="mi">1</span><span class="p">:</span> <span class="s2">&quot;fondos/mundo flotante.jpg&quot;</span><span class="p">,</span>
</span><span id="L-499"><a href="#L-499"><span class="linenos"> 499</span></a>            <span class="mi">2</span><span class="p">:</span> <span class="s2">&quot;fondos/mundo funki.jpg&quot;</span><span class="p">,</span>
</span><span id="L-500"><a href="#L-500"><span class="linenos"> 500</span></a>            <span class="mi">3</span><span class="p">:</span> <span class="s2">&quot;fondos/reino desconocido.jpg&quot;</span><span class="p">,</span>
</span><span id="L-501"><a href="#L-501"><span class="linenos"> 501</span></a>            <span class="mi">4</span><span class="p">:</span> <span class="s2">&quot;fondos/jefe.webp&quot;</span><span class="p">,</span>
</span><span id="L-502"><a href="#L-502"><span class="linenos"> 502</span></a>            <span class="mi">5</span><span class="p">:</span> <span class="s2">&quot;fondos/jefe dragon.jpg&quot;</span><span class="p">,</span>
</span><span id="L-503"><a href="#L-503"><span class="linenos"> 503</span></a>            <span class="mi">6</span><span class="p">:</span> <span class="s2">&quot;fondos/cosmo.jpg&quot;</span><span class="p">,</span>
</span><span id="L-504"><a href="#L-504"><span class="linenos"> 504</span></a>        <span class="p">}</span>
</span><span id="L-505"><a href="#L-505"><span class="linenos"> 505</span></a>    
</span><span id="L-506"><a href="#L-506"><span class="linenos"> 506</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">comboBox_2</span><span class="o">.</span><span class="n">currentIndexChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cambio_etapa</span><span class="p">)</span>
</span><span id="L-507"><a href="#L-507"><span class="linenos"> 507</span></a>
</span><span id="L-508"><a href="#L-508"><span class="linenos"> 508</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Sala Actual: &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
</span><span id="L-509"><a href="#L-509"><span class="linenos"> 509</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes_agregada</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-510"><a href="#L-510"><span class="linenos"> 510</span></a>
</span><span id="L-511"><a href="#L-511"><span class="linenos"> 511</span></a>    <span class="k">def</span> <span class="nf">ventana_dados</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-512"><a href="#L-512"><span class="linenos"> 512</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-513"><a href="#L-513"><span class="linenos"> 513</span></a><span class="sd">        Abre una nueva ventana para lanzar dados.</span>
</span><span id="L-514"><a href="#L-514"><span class="linenos"> 514</span></a>
</span><span id="L-515"><a href="#L-515"><span class="linenos"> 515</span></a><span class="sd">        Crea una instancia de DiceWindow y la muestra al usuario.</span>
</span><span id="L-516"><a href="#L-516"><span class="linenos"> 516</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-517"><a href="#L-517"><span class="linenos"> 517</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dice_window</span> <span class="o">=</span> <span class="n">DiceWindow</span><span class="p">()</span>
</span><span id="L-518"><a href="#L-518"><span class="linenos"> 518</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dice_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="L-519"><a href="#L-519"><span class="linenos"> 519</span></a>
</span><span id="L-520"><a href="#L-520"><span class="linenos"> 520</span></a>    <span class="k">def</span> <span class="nf">mision_seleccionada</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-521"><a href="#L-521"><span class="linenos"> 521</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-522"><a href="#L-522"><span class="linenos"> 522</span></a><span class="sd">        Busca una misión por su nombre en la base de datos y muestra el resultado.</span>
</span><span id="L-523"><a href="#L-523"><span class="linenos"> 523</span></a>
</span><span id="L-524"><a href="#L-524"><span class="linenos"> 524</span></a><span class="sd">        Recupera el nombre de la misión desde un campo de texto, realiza una búsqueda en la colección de eventos</span>
</span><span id="L-525"><a href="#L-525"><span class="linenos"> 525</span></a><span class="sd">        en la base de datos y llama a `mostrar_mision_resultado` para mostrar los detalles de la misión encontrada.</span>
</span><span id="L-526"><a href="#L-526"><span class="linenos"> 526</span></a>
</span><span id="L-527"><a href="#L-527"><span class="linenos"> 527</span></a><span class="sd">        Si no se ingresa un nombre de misión o hay un error en la consulta, muestra un mensaje de advertencia o error.</span>
</span><span id="L-528"><a href="#L-528"><span class="linenos"> 528</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-529"><a href="#L-529"><span class="linenos"> 529</span></a>        <span class="n">nombre_mision</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_ms</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="L-530"><a href="#L-530"><span class="linenos"> 530</span></a>
</span><span id="L-531"><a href="#L-531"><span class="linenos"> 531</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">nombre_mision</span><span class="p">:</span>
</span><span id="L-532"><a href="#L-532"><span class="linenos"> 532</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Campo Vacío&#39;</span><span class="p">,</span> <span class="s1">&#39;Por favor, ingresa el nombre de la misión que deseas buscar.&#39;</span><span class="p">)</span>
</span><span id="L-533"><a href="#L-533"><span class="linenos"> 533</span></a>            <span class="k">return</span>
</span><span id="L-534"><a href="#L-534"><span class="linenos"> 534</span></a>
</span><span id="L-535"><a href="#L-535"><span class="linenos"> 535</span></a>        <span class="n">eventos_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;evento&#39;</span><span class="p">)</span>
</span><span id="L-536"><a href="#L-536"><span class="linenos"> 536</span></a>        <span class="n">query</span> <span class="o">=</span> <span class="n">eventos_ref</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s1">&#39;nombre&#39;</span><span class="p">,</span> <span class="s1">&#39;==&#39;</span><span class="p">,</span> <span class="n">nombre_mision</span><span class="p">)</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-537"><a href="#L-537"><span class="linenos"> 537</span></a>        
</span><span id="L-538"><a href="#L-538"><span class="linenos"> 538</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-539"><a href="#L-539"><span class="linenos"> 539</span></a>            <span class="n">snapshot</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</span><span id="L-540"><a href="#L-540"><span class="linenos"> 540</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_mision_resultado</span><span class="p">(</span><span class="n">snapshot</span><span class="p">)</span>
</span><span id="L-541"><a href="#L-541"><span class="linenos"> 541</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-542"><a href="#L-542"><span class="linenos"> 542</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">manejar_error_mision</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="L-543"><a href="#L-543"><span class="linenos"> 543</span></a>
</span><span id="L-544"><a href="#L-544"><span class="linenos"> 544</span></a>    <span class="k">def</span> <span class="nf">mostrar_mision_resultado</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">snapshot</span><span class="p">):</span>
</span><span id="L-545"><a href="#L-545"><span class="linenos"> 545</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-546"><a href="#L-546"><span class="linenos"> 546</span></a><span class="sd">        Muestra los detalles de la misión encontrada en la búsqueda.</span>
</span><span id="L-547"><a href="#L-547"><span class="linenos"> 547</span></a>
</span><span id="L-548"><a href="#L-548"><span class="linenos"> 548</span></a><span class="sd">        Parámetros:</span>
</span><span id="L-549"><a href="#L-549"><span class="linenos"> 549</span></a><span class="sd">        -----------</span>
</span><span id="L-550"><a href="#L-550"><span class="linenos"> 550</span></a><span class="sd">        snapshot : list</span>
</span><span id="L-551"><a href="#L-551"><span class="linenos"> 551</span></a><span class="sd">            Lista de documentos de misión obtenidos de la búsqueda en la base de datos.</span>
</span><span id="L-552"><a href="#L-552"><span class="linenos"> 552</span></a>
</span><span id="L-553"><a href="#L-553"><span class="linenos"> 553</span></a><span class="sd">        Si se encuentra una misión, extrae los detalles como nombre, descripción, condiciones y recompensa, </span>
</span><span id="L-554"><a href="#L-554"><span class="linenos"> 554</span></a><span class="sd">        y llama a `mostrar_ventana_mision_selec` para mostrar esos detalles al usuario.</span>
</span><span id="L-555"><a href="#L-555"><span class="linenos"> 555</span></a>
</span><span id="L-556"><a href="#L-556"><span class="linenos"> 556</span></a><span class="sd">        Si no se encuentra ninguna misión, muestra un mensaje de advertencia.</span>
</span><span id="L-557"><a href="#L-557"><span class="linenos"> 557</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-558"><a href="#L-558"><span class="linenos"> 558</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">snapshot</span><span class="p">:</span>
</span><span id="L-559"><a href="#L-559"><span class="linenos"> 559</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Misión No Encontrada&#39;</span><span class="p">,</span> <span class="s1">&#39;No se encontró ninguna misión con el nombre proporcionado.&#39;</span><span class="p">)</span>
</span><span id="L-560"><a href="#L-560"><span class="linenos"> 560</span></a>            <span class="k">return</span>
</span><span id="L-561"><a href="#L-561"><span class="linenos"> 561</span></a>
</span><span id="L-562"><a href="#L-562"><span class="linenos"> 562</span></a>        <span class="n">mision</span> <span class="o">=</span> <span class="n">snapshot</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</span><span id="L-563"><a href="#L-563"><span class="linenos"> 563</span></a>        <span class="n">nombre</span> <span class="o">=</span> <span class="n">mision</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;nombre&#39;</span><span class="p">)</span>
</span><span id="L-564"><a href="#L-564"><span class="linenos"> 564</span></a>        <span class="n">descripcion</span> <span class="o">=</span> <span class="n">mision</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;descripcion&#39;</span><span class="p">)</span>
</span><span id="L-565"><a href="#L-565"><span class="linenos"> 565</span></a>        <span class="n">condiciones</span> <span class="o">=</span> <span class="n">mision</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;condiciones&#39;</span><span class="p">)</span>
</span><span id="L-566"><a href="#L-566"><span class="linenos"> 566</span></a>        <span class="n">recompensa</span> <span class="o">=</span> <span class="n">mision</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;recompensa&#39;</span><span class="p">)</span>
</span><span id="L-567"><a href="#L-567"><span class="linenos"> 567</span></a>
</span><span id="L-568"><a href="#L-568"><span class="linenos"> 568</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_ventana_mision_selec</span><span class="p">(</span><span class="n">nombre</span><span class="p">,</span> <span class="n">descripcion</span><span class="p">,</span> <span class="n">condiciones</span><span class="p">,</span> <span class="n">recompensa</span><span class="p">)</span>
</span><span id="L-569"><a href="#L-569"><span class="linenos"> 569</span></a>
</span><span id="L-570"><a href="#L-570"><span class="linenos"> 570</span></a>    <span class="k">def</span> <span class="nf">manejar_error_mision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">error</span><span class="p">):</span>
</span><span id="L-571"><a href="#L-571"><span class="linenos"> 571</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-572"><a href="#L-572"><span class="linenos"> 572</span></a><span class="sd">        Muestra un mensaje de error si ocurre un problema durante la búsqueda de una misión.</span>
</span><span id="L-573"><a href="#L-573"><span class="linenos"> 573</span></a>
</span><span id="L-574"><a href="#L-574"><span class="linenos"> 574</span></a><span class="sd">        Parámetros:</span>
</span><span id="L-575"><a href="#L-575"><span class="linenos"> 575</span></a><span class="sd">        -----------</span>
</span><span id="L-576"><a href="#L-576"><span class="linenos"> 576</span></a><span class="sd">        error : Exception</span>
</span><span id="L-577"><a href="#L-577"><span class="linenos"> 577</span></a><span class="sd">            La excepción capturada durante la búsqueda de la misión.</span>
</span><span id="L-578"><a href="#L-578"><span class="linenos"> 578</span></a>
</span><span id="L-579"><a href="#L-579"><span class="linenos"> 579</span></a><span class="sd">        Muestra un mensaje crítico con detalles sobre el error.</span>
</span><span id="L-580"><a href="#L-580"><span class="linenos"> 580</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-581"><a href="#L-581"><span class="linenos"> 581</span></a>        <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error de Consulta&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Ocurrió un error al buscar la misión: </span><span class="si">{</span><span class="n">error</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-582"><a href="#L-582"><span class="linenos"> 582</span></a>
</span><span id="L-583"><a href="#L-583"><span class="linenos"> 583</span></a>
</span><span id="L-584"><a href="#L-584"><span class="linenos"> 584</span></a>    <span class="k">def</span> <span class="nf">mostrar_ventana_mision_selec</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre</span><span class="p">,</span> <span class="n">descripcion</span><span class="p">,</span> <span class="n">condiciones</span><span class="p">,</span> <span class="n">recompensa</span><span class="p">):</span>
</span><span id="L-585"><a href="#L-585"><span class="linenos"> 585</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-586"><a href="#L-586"><span class="linenos"> 586</span></a><span class="sd">        Muestra una ventana de misión con opciones de victoria o derrota.</span>
</span><span id="L-587"><a href="#L-587"><span class="linenos"> 587</span></a>
</span><span id="L-588"><a href="#L-588"><span class="linenos"> 588</span></a><span class="sd">        Parámetros:</span>
</span><span id="L-589"><a href="#L-589"><span class="linenos"> 589</span></a><span class="sd">        -----------</span>
</span><span id="L-590"><a href="#L-590"><span class="linenos"> 590</span></a><span class="sd">        nombre : str</span>
</span><span id="L-591"><a href="#L-591"><span class="linenos"> 591</span></a><span class="sd">            El nombre de la misión a mostrar.</span>
</span><span id="L-592"><a href="#L-592"><span class="linenos"> 592</span></a><span class="sd">        descripcion : str</span>
</span><span id="L-593"><a href="#L-593"><span class="linenos"> 593</span></a><span class="sd">            La descripción detallada de la misión.</span>
</span><span id="L-594"><a href="#L-594"><span class="linenos"> 594</span></a><span class="sd">        condiciones : str</span>
</span><span id="L-595"><a href="#L-595"><span class="linenos"> 595</span></a><span class="sd">            Las condiciones necesarias para completar la misión.</span>
</span><span id="L-596"><a href="#L-596"><span class="linenos"> 596</span></a><span class="sd">        recompensa : str</span>
</span><span id="L-597"><a href="#L-597"><span class="linenos"> 597</span></a><span class="sd">            La recompensa ofrecida por completar la misión.</span>
</span><span id="L-598"><a href="#L-598"><span class="linenos"> 598</span></a>
</span><span id="L-599"><a href="#L-599"><span class="linenos"> 599</span></a><span class="sd">        Esta función crea una ventana emergente (`QWidget`) que muestra la información de la misión actual, </span>
</span><span id="L-600"><a href="#L-600"><span class="linenos"> 600</span></a><span class="sd">        incluyendo su nombre, descripción, condiciones y recompensa. También proporciona dos botones para </span>
</span><span id="L-601"><a href="#L-601"><span class="linenos"> 601</span></a><span class="sd">        manejar el resultado de la misión: &quot;Victoria&quot; y &quot;Derrota&quot;.</span>
</span><span id="L-602"><a href="#L-602"><span class="linenos"> 602</span></a>
</span><span id="L-603"><a href="#L-603"><span class="linenos"> 603</span></a><span class="sd">        El botón &quot;Victoria&quot; llama a `victoria_mision_selec` con el nombre de la misión y la recompensa, </span>
</span><span id="L-604"><a href="#L-604"><span class="linenos"> 604</span></a><span class="sd">        mientras que el botón &quot;Derrota&quot; llama a `derrota_mision_selec`.</span>
</span><span id="L-605"><a href="#L-605"><span class="linenos"> 605</span></a>
</span><span id="L-606"><a href="#L-606"><span class="linenos"> 606</span></a><span class="sd">        La ventana se diseña con un fondo de pergamino y un estilo que recuerda al papel antiguo.</span>
</span><span id="L-607"><a href="#L-607"><span class="linenos"> 607</span></a>
</span><span id="L-608"><a href="#L-608"><span class="linenos"> 608</span></a><span class="sd">        Ejemplos:</span>
</span><span id="L-609"><a href="#L-609"><span class="linenos"> 609</span></a><span class="sd">        ---------</span>
</span><span id="L-610"><a href="#L-610"><span class="linenos"> 610</span></a><span class="sd">        &gt;&gt;&gt; self.mostrar_ventana_mision_selec(&quot;Misión de Prueba&quot;, &quot;Descripción de la misión&quot;, &quot;Condiciones necesarias&quot;, &quot;Recompensa obtenida&quot;)</span>
</span><span id="L-611"><a href="#L-611"><span class="linenos"> 611</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-612"><a href="#L-612"><span class="linenos"> 612</span></a>        <span class="n">mision_dialog</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
</span><span id="L-613"><a href="#L-613"><span class="linenos"> 613</span></a>        <span class="n">mision_dialog</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Misión&quot;</span><span class="p">)</span>
</span><span id="L-614"><a href="#L-614"><span class="linenos"> 614</span></a>        <span class="n">mision_dialog</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="L-615"><a href="#L-615"><span class="linenos"> 615</span></a><span class="s2">        background-color: #f5f5dc; /* Color de fondo en caso de que la imagen no se cargue */</span>
</span><span id="L-616"><a href="#L-616"><span class="linenos"> 616</span></a><span class="s2">        color: #3e3e3e; /* Color del texto oscuro para buen contraste */</span>
</span><span id="L-617"><a href="#L-617"><span class="linenos"> 617</span></a><span class="s2">        border: 2px solid #8b4513; /* Borde marrón oscuro, como el pergamino envejecido */</span>
</span><span id="L-618"><a href="#L-618"><span class="linenos"> 618</span></a><span class="s2">        border-radius: 10px; /* Bordes redondeados */</span>
</span><span id="L-619"><a href="#L-619"><span class="linenos"> 619</span></a><span class="s2">        font-family: &#39;Times New Roman&#39;, serif; /* Fuente clásica que recuerda al papel antiguo */</span>
</span><span id="L-620"><a href="#L-620"><span class="linenos"> 620</span></a><span class="s2">        padding: 10px;</span>
</span><span id="L-621"><a href="#L-621"><span class="linenos"> 621</span></a><span class="s2">        background-image: url(&#39;fondos/31254.jpg&#39;);  /* Imagen de fondo de pergamino */</span>
</span><span id="L-622"><a href="#L-622"><span class="linenos"> 622</span></a><span class="s2">        background-repeat: repeat;  /* Repetir la imagen de fondo */</span>
</span><span id="L-623"><a href="#L-623"><span class="linenos"> 623</span></a><span class="s2">        background-size: cover;  /* Asegura que la imagen cubra toda la pantalla */</span>
</span><span id="L-624"><a href="#L-624"><span class="linenos"> 624</span></a><span class="s2">        background-position: center;  /* Centra la imagen */</span>
</span><span id="L-625"><a href="#L-625"><span class="linenos"> 625</span></a><span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="L-626"><a href="#L-626"><span class="linenos"> 626</span></a>        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
</span><span id="L-627"><a href="#L-627"><span class="linenos"> 627</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>  
</span><span id="L-628"><a href="#L-628"><span class="linenos"> 628</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>  
</span><span id="L-629"><a href="#L-629"><span class="linenos"> 629</span></a>
</span><span id="L-630"><a href="#L-630"><span class="linenos"> 630</span></a>        <span class="n">sala_text</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="L-631"><a href="#L-631"><span class="linenos"> 631</span></a>        <span class="n">evento_info</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nombre: </span><span class="si">{</span><span class="n">nombre</span><span class="si">}</span><span class="se">\n</span><span class="s2">Descripción:</span><span class="se">\n</span><span class="s2"> </span><span class="si">{</span><span class="n">descripcion</span><span class="si">}</span><span class="se">\n</span><span class="s2">Condiciones:</span><span class="se">\n</span><span class="si">{</span><span class="n">condiciones</span><span class="si">}</span><span class="se">\n</span><span class="s2">Recompensa:</span><span class="se">\n</span><span class="s2"> </span><span class="si">{</span><span class="n">recompensa</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="L-632"><a href="#L-632"><span class="linenos"> 632</span></a>        <span class="n">evento_info</span><span class="o">.</span><span class="n">setWordWrap</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>  
</span><span id="L-633"><a href="#L-633"><span class="linenos"> 633</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">evento_info</span><span class="p">)</span>
</span><span id="L-634"><a href="#L-634"><span class="linenos"> 634</span></a>
</span><span id="L-635"><a href="#L-635"><span class="linenos"> 635</span></a>        <span class="n">btn_victoria</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Victoria&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="L-636"><a href="#L-636"><span class="linenos"> 636</span></a>        <span class="n">btn_victoria</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;background-color: green; color: white;&quot;</span><span class="p">)</span>
</span><span id="L-637"><a href="#L-637"><span class="linenos"> 637</span></a>        <span class="n">btn_derrota</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Derrota&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="L-638"><a href="#L-638"><span class="linenos"> 638</span></a>        <span class="n">btn_derrota</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;background-color: red; color: white;&quot;</span><span class="p">)</span>
</span><span id="L-639"><a href="#L-639"><span class="linenos"> 639</span></a>
</span><span id="L-640"><a href="#L-640"><span class="linenos"> 640</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn_victoria</span><span class="p">)</span>
</span><span id="L-641"><a href="#L-641"><span class="linenos"> 641</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn_derrota</span><span class="p">)</span>
</span><span id="L-642"><a href="#L-642"><span class="linenos"> 642</span></a>
</span><span id="L-643"><a href="#L-643"><span class="linenos"> 643</span></a>        <span class="n">mision_dialog</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
</span><span id="L-644"><a href="#L-644"><span class="linenos"> 644</span></a>        <span class="n">mision_dialog</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="L-645"><a href="#L-645"><span class="linenos"> 645</span></a>
</span><span id="L-646"><a href="#L-646"><span class="linenos"> 646</span></a>        <span class="n">btn_victoria</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">victoria_mision_selec</span><span class="p">(</span><span class="n">nombre</span><span class="p">,</span> <span class="n">recompensa</span><span class="p">,</span> <span class="n">mision_dialog</span><span class="p">))</span>
</span><span id="L-647"><a href="#L-647"><span class="linenos"> 647</span></a>        <span class="n">btn_derrota</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">derrota_mision_selec</span><span class="p">(</span><span class="n">mision_dialog</span><span class="p">))</span>
</span><span id="L-648"><a href="#L-648"><span class="linenos"> 648</span></a>
</span><span id="L-649"><a href="#L-649"><span class="linenos"> 649</span></a>    <span class="k">def</span> <span class="nf">victoria_mision_selec</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre</span><span class="p">,</span> <span class="n">recompensa</span><span class="p">,</span> <span class="n">dialog</span><span class="p">):</span>
</span><span id="L-650"><a href="#L-650"><span class="linenos"> 650</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-651"><a href="#L-651"><span class="linenos"> 651</span></a><span class="sd">        Maneja la victoria en la misión y guarda la recompensa.</span>
</span><span id="L-652"><a href="#L-652"><span class="linenos"> 652</span></a>
</span><span id="L-653"><a href="#L-653"><span class="linenos"> 653</span></a><span class="sd">        Parámetros:</span>
</span><span id="L-654"><a href="#L-654"><span class="linenos"> 654</span></a><span class="sd">        -----------</span>
</span><span id="L-655"><a href="#L-655"><span class="linenos"> 655</span></a><span class="sd">        nombre : str</span>
</span><span id="L-656"><a href="#L-656"><span class="linenos"> 656</span></a><span class="sd">            El nombre de la misión ganada.</span>
</span><span id="L-657"><a href="#L-657"><span class="linenos"> 657</span></a><span class="sd">        recompensa : str</span>
</span><span id="L-658"><a href="#L-658"><span class="linenos"> 658</span></a><span class="sd">            La recompensa obtenida por completar la misión.</span>
</span><span id="L-659"><a href="#L-659"><span class="linenos"> 659</span></a><span class="sd">        dialog : QWidget</span>
</span><span id="L-660"><a href="#L-660"><span class="linenos"> 660</span></a><span class="sd">            La ventana de misión que se debe cerrar después de manejar la victoria.</span>
</span><span id="L-661"><a href="#L-661"><span class="linenos"> 661</span></a>
</span><span id="L-662"><a href="#L-662"><span class="linenos"> 662</span></a><span class="sd">        Esta función cierra la ventana de misión (`dialog`) y llama a `guardar_recompensa` para registrar </span>
</span><span id="L-663"><a href="#L-663"><span class="linenos"> 663</span></a><span class="sd">        la recompensa de la misión ganada.</span>
</span><span id="L-664"><a href="#L-664"><span class="linenos"> 664</span></a>
</span><span id="L-665"><a href="#L-665"><span class="linenos"> 665</span></a><span class="sd">        Ejemplos:</span>
</span><span id="L-666"><a href="#L-666"><span class="linenos"> 666</span></a><span class="sd">        ---------</span>
</span><span id="L-667"><a href="#L-667"><span class="linenos"> 667</span></a><span class="sd">        &gt;&gt;&gt; self.victoria_mision_selec(&quot;Misión de Prueba&quot;, &quot;1000 Oro&quot;, mision_dialog)</span>
</span><span id="L-668"><a href="#L-668"><span class="linenos"> 668</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-669"><a href="#L-669"><span class="linenos"> 669</span></a>        <span class="n">dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="L-670"><a href="#L-670"><span class="linenos"> 670</span></a>        
</span><span id="L-671"><a href="#L-671"><span class="linenos"> 671</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">guardar_recompensa</span><span class="p">(</span><span class="n">nombre</span><span class="p">,</span> <span class="n">recompensa</span><span class="p">)</span>
</span><span id="L-672"><a href="#L-672"><span class="linenos"> 672</span></a>
</span><span id="L-673"><a href="#L-673"><span class="linenos"> 673</span></a>    <span class="k">def</span> <span class="nf">derrota_mision_selec</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dialog</span><span class="p">):</span>
</span><span id="L-674"><a href="#L-674"><span class="linenos"> 674</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-675"><a href="#L-675"><span class="linenos"> 675</span></a><span class="sd">        Maneja la derrota en la misión y muestra la ventana de penalización.</span>
</span><span id="L-676"><a href="#L-676"><span class="linenos"> 676</span></a>
</span><span id="L-677"><a href="#L-677"><span class="linenos"> 677</span></a><span class="sd">        Parámetros:</span>
</span><span id="L-678"><a href="#L-678"><span class="linenos"> 678</span></a><span class="sd">        -----------</span>
</span><span id="L-679"><a href="#L-679"><span class="linenos"> 679</span></a><span class="sd">        dialog : QWidget</span>
</span><span id="L-680"><a href="#L-680"><span class="linenos"> 680</span></a><span class="sd">            La ventana de misión que se debe cerrar después de manejar la derrota.</span>
</span><span id="L-681"><a href="#L-681"><span class="linenos"> 681</span></a>
</span><span id="L-682"><a href="#L-682"><span class="linenos"> 682</span></a><span class="sd">        Esta función cierra la ventana de misión (`dialog`) y llama a `mostrar_penalizacion_selec` </span>
</span><span id="L-683"><a href="#L-683"><span class="linenos"> 683</span></a><span class="sd">        para mostrar la ventana de penalización al jugador.</span>
</span><span id="L-684"><a href="#L-684"><span class="linenos"> 684</span></a>
</span><span id="L-685"><a href="#L-685"><span class="linenos"> 685</span></a><span class="sd">        Ejemplos:</span>
</span><span id="L-686"><a href="#L-686"><span class="linenos"> 686</span></a><span class="sd">        ---------</span>
</span><span id="L-687"><a href="#L-687"><span class="linenos"> 687</span></a><span class="sd">        &gt;&gt;&gt; self.derrota_mision_selec(mision_dialog)</span>
</span><span id="L-688"><a href="#L-688"><span class="linenos"> 688</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-689"><a href="#L-689"><span class="linenos"> 689</span></a>        <span class="n">dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="L-690"><a href="#L-690"><span class="linenos"> 690</span></a>        
</span><span id="L-691"><a href="#L-691"><span class="linenos"> 691</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_penalizacion_selec</span><span class="p">()</span>
</span><span id="L-692"><a href="#L-692"><span class="linenos"> 692</span></a>
</span><span id="L-693"><a href="#L-693"><span class="linenos"> 693</span></a>    <span class="k">def</span> <span class="nf">mostrar_penalizacion_selec</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-694"><a href="#L-694"><span class="linenos"> 694</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-695"><a href="#L-695"><span class="linenos"> 695</span></a><span class="sd">        Muestra una ventana de ruleta para elegir una penalización.</span>
</span><span id="L-696"><a href="#L-696"><span class="linenos"> 696</span></a>
</span><span id="L-697"><a href="#L-697"><span class="linenos"> 697</span></a><span class="sd">        Esta función crea una ventana emergente (`QWidget`) que muestra una penalización aleatoria </span>
</span><span id="L-698"><a href="#L-698"><span class="linenos"> 698</span></a><span class="sd">        obtenida de la base de datos. La ventana muestra el nombre, descripción, efecto y el lanzamiento </span>
</span><span id="L-699"><a href="#L-699"><span class="linenos"> 699</span></a><span class="sd">        de dado asociado a la penalización.</span>
</span><span id="L-700"><a href="#L-700"><span class="linenos"> 700</span></a>
</span><span id="L-701"><a href="#L-701"><span class="linenos"> 701</span></a><span class="sd">        La ventana se diseña con un fondo de pergamino y un estilo que recuerda al papel antiguo. </span>
</span><span id="L-702"><a href="#L-702"><span class="linenos"> 702</span></a><span class="sd">        También proporciona un botón para cerrar la ventana.</span>
</span><span id="L-703"><a href="#L-703"><span class="linenos"> 703</span></a>
</span><span id="L-704"><a href="#L-704"><span class="linenos"> 704</span></a><span class="sd">        Ejemplos:</span>
</span><span id="L-705"><a href="#L-705"><span class="linenos"> 705</span></a><span class="sd">        ---------</span>
</span><span id="L-706"><a href="#L-706"><span class="linenos"> 706</span></a><span class="sd">        &gt;&gt;&gt; self.mostrar_penalizacion_selec()</span>
</span><span id="L-707"><a href="#L-707"><span class="linenos"> 707</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-708"><a href="#L-708"><span class="linenos"> 708</span></a>        <span class="n">penalizacion_dialog</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
</span><span id="L-709"><a href="#L-709"><span class="linenos"> 709</span></a>        <span class="n">penalizacion_dialog</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Penalización&quot;</span><span class="p">)</span>
</span><span id="L-710"><a href="#L-710"><span class="linenos"> 710</span></a>        <span class="n">penalizacion_dialog</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="L-711"><a href="#L-711"><span class="linenos"> 711</span></a><span class="s2">        background-color: #f5f5dc; /* Color de fondo en caso de que la imagen no se cargue */</span>
</span><span id="L-712"><a href="#L-712"><span class="linenos"> 712</span></a><span class="s2">        color: #3e3e3e; /* Color del texto oscuro para buen contraste */</span>
</span><span id="L-713"><a href="#L-713"><span class="linenos"> 713</span></a><span class="s2">        border: 2px solid #8b4513; /* Borde marrón oscuro, como el pergamino envejecido */</span>
</span><span id="L-714"><a href="#L-714"><span class="linenos"> 714</span></a><span class="s2">        border-radius: 10px; /* Bordes redondeados */</span>
</span><span id="L-715"><a href="#L-715"><span class="linenos"> 715</span></a><span class="s2">        font-family: &#39;Times New Roman&#39;, serif; /* Fuente clásica que recuerda al papel antiguo */</span>
</span><span id="L-716"><a href="#L-716"><span class="linenos"> 716</span></a><span class="s2">        padding: 10px;</span>
</span><span id="L-717"><a href="#L-717"><span class="linenos"> 717</span></a><span class="s2">        background-image: url(&#39;fondos/31254.jpg&#39;);  /* Imagen de fondo de pergamino */</span>
</span><span id="L-718"><a href="#L-718"><span class="linenos"> 718</span></a><span class="s2">        background-repeat: repeat;  /* Repetir la imagen de fondo */</span>
</span><span id="L-719"><a href="#L-719"><span class="linenos"> 719</span></a><span class="s2">        background-size: cover;  /* Asegura que la imagen cubra toda la pantalla */</span>
</span><span id="L-720"><a href="#L-720"><span class="linenos"> 720</span></a><span class="s2">        background-position: center;  /* Centra la imagen */</span>
</span><span id="L-721"><a href="#L-721"><span class="linenos"> 721</span></a><span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="L-722"><a href="#L-722"><span class="linenos"> 722</span></a>        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
</span><span id="L-723"><a href="#L-723"><span class="linenos"> 723</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>  
</span><span id="L-724"><a href="#L-724"><span class="linenos"> 724</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span> 
</span><span id="L-725"><a href="#L-725"><span class="linenos"> 725</span></a>
</span><span id="L-726"><a href="#L-726"><span class="linenos"> 726</span></a>        <span class="n">sala_text</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sala Actual: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="L-727"><a href="#L-727"><span class="linenos"> 727</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">sala_text</span><span class="p">)</span>
</span><span id="L-728"><a href="#L-728"><span class="linenos"> 728</span></a>
</span><span id="L-729"><a href="#L-729"><span class="linenos"> 729</span></a>        <span class="n">penalizaciones_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;penalizaciones&#39;</span><span class="p">)</span>
</span><span id="L-730"><a href="#L-730"><span class="linenos"> 730</span></a>        <span class="n">penalizaciones</span> <span class="o">=</span> <span class="n">penalizaciones_ref</span><span class="o">.</span><span class="n">stream</span><span class="p">()</span>
</span><span id="L-731"><a href="#L-731"><span class="linenos"> 731</span></a>        <span class="n">penalizacion_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">penalizacion</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">penalizacion</span> <span class="ow">in</span> <span class="n">penalizaciones</span><span class="p">]</span>
</span><span id="L-732"><a href="#L-732"><span class="linenos"> 732</span></a>
</span><span id="L-733"><a href="#L-733"><span class="linenos"> 733</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">penalizacion_list</span><span class="p">:</span>
</span><span id="L-734"><a href="#L-734"><span class="linenos"> 734</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Sin Penalizaciones&#39;</span><span class="p">,</span> <span class="s1">&#39;No hay penalizaciones disponibles en la base de datos.&#39;</span><span class="p">)</span>
</span><span id="L-735"><a href="#L-735"><span class="linenos"> 735</span></a>            <span class="k">return</span>
</span><span id="L-736"><a href="#L-736"><span class="linenos"> 736</span></a>
</span><span id="L-737"><a href="#L-737"><span class="linenos"> 737</span></a>        <span class="n">penalizacion</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">penalizacion_list</span><span class="p">)</span>
</span><span id="L-738"><a href="#L-738"><span class="linenos"> 738</span></a>        <span class="n">penalizacion_info</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nombre: </span><span class="si">{</span><span class="n">penalizacion</span><span class="p">[</span><span class="s1">&#39;nombre&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Descripción: </span><span class="si">{</span><span class="n">penalizacion</span><span class="p">[</span><span class="s1">&#39;descripcion&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Efecto: </span><span class="si">{</span><span class="n">penalizacion</span><span class="p">[</span><span class="s1">&#39;efecto&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Lanzamiento Dado: </span><span class="si">{</span><span class="n">penalizacion</span><span class="p">[</span><span class="s1">&#39;lanzamiento_dado&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="L-739"><a href="#L-739"><span class="linenos"> 739</span></a>        <span class="n">penalizacion_info</span><span class="o">.</span><span class="n">setWordWrap</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>  
</span><span id="L-740"><a href="#L-740"><span class="linenos"> 740</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">penalizacion_info</span><span class="p">)</span>
</span><span id="L-741"><a href="#L-741"><span class="linenos"> 741</span></a>
</span><span id="L-742"><a href="#L-742"><span class="linenos"> 742</span></a>        <span class="n">btn_cerrar</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Cerrar&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="L-743"><a href="#L-743"><span class="linenos"> 743</span></a>        <span class="n">btn_cerrar</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;background-color: red; color: white;&quot;</span><span class="p">)</span>
</span><span id="L-744"><a href="#L-744"><span class="linenos"> 744</span></a>
</span><span id="L-745"><a href="#L-745"><span class="linenos"> 745</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn_cerrar</span><span class="p">)</span>
</span><span id="L-746"><a href="#L-746"><span class="linenos"> 746</span></a>
</span><span id="L-747"><a href="#L-747"><span class="linenos"> 747</span></a>        <span class="n">penalizacion_dialog</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
</span><span id="L-748"><a href="#L-748"><span class="linenos"> 748</span></a>        <span class="n">penalizacion_dialog</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="L-749"><a href="#L-749"><span class="linenos"> 749</span></a>
</span><span id="L-750"><a href="#L-750"><span class="linenos"> 750</span></a>        <span class="n">btn_cerrar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">guardar_penalizacion_selec</span><span class="p">(</span><span class="n">penalizacion</span><span class="p">,</span> <span class="n">penalizacion_dialog</span><span class="p">))</span>
</span><span id="L-751"><a href="#L-751"><span class="linenos"> 751</span></a>    <span class="k">def</span> <span class="nf">guardar_penalizacion_selec</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">penalizacion</span><span class="p">,</span> <span class="n">dialog</span><span class="p">):</span>
</span><span id="L-752"><a href="#L-752"><span class="linenos"> 752</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-753"><a href="#L-753"><span class="linenos"> 753</span></a><span class="sd">        Guarda la penalización en la base de datos.</span>
</span><span id="L-754"><a href="#L-754"><span class="linenos"> 754</span></a>
</span><span id="L-755"><a href="#L-755"><span class="linenos"> 755</span></a><span class="sd">        Parámetros:</span>
</span><span id="L-756"><a href="#L-756"><span class="linenos"> 756</span></a><span class="sd">        -----------</span>
</span><span id="L-757"><a href="#L-757"><span class="linenos"> 757</span></a><span class="sd">        penalizacion : dict</span>
</span><span id="L-758"><a href="#L-758"><span class="linenos"> 758</span></a><span class="sd">            Diccionario con los detalles de la penalización. Debe contener al menos la clave &#39;descripcion&#39; con la descripción de la penalización.</span>
</span><span id="L-759"><a href="#L-759"><span class="linenos"> 759</span></a><span class="sd">        dialog : QWidget</span>
</span><span id="L-760"><a href="#L-760"><span class="linenos"> 760</span></a><span class="sd">            La ventana de penalización que se debe cerrar después de manejar la penalización.</span>
</span><span id="L-761"><a href="#L-761"><span class="linenos"> 761</span></a>
</span><span id="L-762"><a href="#L-762"><span class="linenos"> 762</span></a><span class="sd">        Esta función cierra la ventana de penalización (`dialog`) y actualiza el documento de la sala actual en </span>
</span><span id="L-763"><a href="#L-763"><span class="linenos"> 763</span></a><span class="sd">        la colección `PUNTOGUARDADO` con la descripción de la penalización. Si la actualización es exitosa, se </span>
</span><span id="L-764"><a href="#L-764"><span class="linenos"> 764</span></a><span class="sd">        muestra un mensaje de información; si ocurre un error, se muestra un mensaje de error.</span>
</span><span id="L-765"><a href="#L-765"><span class="linenos"> 765</span></a>
</span><span id="L-766"><a href="#L-766"><span class="linenos"> 766</span></a><span class="sd">        Ejemplos:</span>
</span><span id="L-767"><a href="#L-767"><span class="linenos"> 767</span></a><span class="sd">        ---------</span>
</span><span id="L-768"><a href="#L-768"><span class="linenos"> 768</span></a><span class="sd">        &gt;&gt;&gt; self.guardar_penalizacion_selec({&#39;descripcion&#39;: &#39;Pierdes 100 Oro&#39;}, penalizacion_dialog)</span>
</span><span id="L-769"><a href="#L-769"><span class="linenos"> 769</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-770"><a href="#L-770"><span class="linenos"> 770</span></a>        <span class="n">dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="L-771"><a href="#L-771"><span class="linenos"> 771</span></a>        <span class="n">sala</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Sala Actual: &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="L-772"><a href="#L-772"><span class="linenos"> 772</span></a>        <span class="n">doc_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;unico_</span><span class="si">{</span><span class="n">sala</span><span class="si">}</span><span class="s1">&#39;</span>
</span><span id="L-773"><a href="#L-773"><span class="linenos"> 773</span></a>
</span><span id="L-774"><a href="#L-774"><span class="linenos"> 774</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-775"><a href="#L-775"><span class="linenos"> 775</span></a>            <span class="n">doc_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;PUNTOGUARDADO&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">doc_id</span><span class="p">)</span>
</span><span id="L-776"><a href="#L-776"><span class="linenos"> 776</span></a>            <span class="n">doc_ref</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
</span><span id="L-777"><a href="#L-777"><span class="linenos"> 777</span></a>                <span class="s1">&#39;penalizacion&#39;</span><span class="p">:</span> <span class="n">penalizacion</span><span class="p">[</span><span class="s1">&#39;descripcion&#39;</span><span class="p">]</span>
</span><span id="L-778"><a href="#L-778"><span class="linenos"> 778</span></a>            <span class="p">})</span>
</span><span id="L-779"><a href="#L-779"><span class="linenos"> 779</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Penalización&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Penalización: </span><span class="si">{</span><span class="n">penalizacion</span><span class="p">[</span><span class="s2">&quot;descripcion&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-780"><a href="#L-780"><span class="linenos"> 780</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-781"><a href="#L-781"><span class="linenos"> 781</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error de Actualización&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Ocurrió un error al guardar la penalización: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-782"><a href="#L-782"><span class="linenos"> 782</span></a>
</span><span id="L-783"><a href="#L-783"><span class="linenos"> 783</span></a>
</span><span id="L-784"><a href="#L-784"><span class="linenos"> 784</span></a>    <span class="k">def</span> <span class="nf">guardar_recompensa</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre</span><span class="p">,</span> <span class="n">recompensa</span><span class="p">):</span>
</span><span id="L-785"><a href="#L-785"><span class="linenos"> 785</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-786"><a href="#L-786"><span class="linenos"> 786</span></a><span class="sd">        Guarda la recompensa en la base de datos.</span>
</span><span id="L-787"><a href="#L-787"><span class="linenos"> 787</span></a>
</span><span id="L-788"><a href="#L-788"><span class="linenos"> 788</span></a><span class="sd">        Parámetros:</span>
</span><span id="L-789"><a href="#L-789"><span class="linenos"> 789</span></a><span class="sd">        -----------</span>
</span><span id="L-790"><a href="#L-790"><span class="linenos"> 790</span></a><span class="sd">        nombre : str</span>
</span><span id="L-791"><a href="#L-791"><span class="linenos"> 791</span></a><span class="sd">            El nombre de la misión ganada.</span>
</span><span id="L-792"><a href="#L-792"><span class="linenos"> 792</span></a><span class="sd">        recompensa : str</span>
</span><span id="L-793"><a href="#L-793"><span class="linenos"> 793</span></a><span class="sd">            La recompensa obtenida por completar la misión.</span>
</span><span id="L-794"><a href="#L-794"><span class="linenos"> 794</span></a>
</span><span id="L-795"><a href="#L-795"><span class="linenos"> 795</span></a><span class="sd">        Esta función actualiza el documento de la sala actual en la colección `PUNTOGUARDADO` con la recompensa </span>
</span><span id="L-796"><a href="#L-796"><span class="linenos"> 796</span></a><span class="sd">        obtenida por completar una misión. Si la actualización es exitosa, se muestra un mensaje de victoria; </span>
</span><span id="L-797"><a href="#L-797"><span class="linenos"> 797</span></a><span class="sd">        si ocurre un error, se muestra un mensaje de error.</span>
</span><span id="L-798"><a href="#L-798"><span class="linenos"> 798</span></a>
</span><span id="L-799"><a href="#L-799"><span class="linenos"> 799</span></a><span class="sd">        Ejemplos:</span>
</span><span id="L-800"><a href="#L-800"><span class="linenos"> 800</span></a><span class="sd">        ---------</span>
</span><span id="L-801"><a href="#L-801"><span class="linenos"> 801</span></a><span class="sd">        &gt;&gt;&gt; self.guardar_recompensa(&quot;Misión de Prueba&quot;, &quot;1000 Oro&quot;)</span>
</span><span id="L-802"><a href="#L-802"><span class="linenos"> 802</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-803"><a href="#L-803"><span class="linenos"> 803</span></a>        <span class="n">sala</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Sala Actual: &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="L-804"><a href="#L-804"><span class="linenos"> 804</span></a>        <span class="n">doc_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;unico_</span><span class="si">{</span><span class="n">sala</span><span class="si">}</span><span class="s1">&#39;</span>
</span><span id="L-805"><a href="#L-805"><span class="linenos"> 805</span></a>
</span><span id="L-806"><a href="#L-806"><span class="linenos"> 806</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-807"><a href="#L-807"><span class="linenos"> 807</span></a>            <span class="n">doc_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;PUNTOGUARDADO&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">doc_id</span><span class="p">)</span>
</span><span id="L-808"><a href="#L-808"><span class="linenos"> 808</span></a>            <span class="n">doc_ref</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
</span><span id="L-809"><a href="#L-809"><span class="linenos"> 809</span></a>                <span class="s1">&#39;recompensa&#39;</span><span class="p">:</span> <span class="n">recompensa</span>
</span><span id="L-810"><a href="#L-810"><span class="linenos"> 810</span></a>            <span class="p">})</span>
</span><span id="L-811"><a href="#L-811"><span class="linenos"> 811</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Victoria&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;¡Has ganado! Recompensa: </span><span class="si">{</span><span class="n">recompensa</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-812"><a href="#L-812"><span class="linenos"> 812</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-813"><a href="#L-813"><span class="linenos"> 813</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error de Actualización&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Ocurrió un error al guardar la recompensa: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-814"><a href="#L-814"><span class="linenos"> 814</span></a>
</span><span id="L-815"><a href="#L-815"><span class="linenos"> 815</span></a>
</span><span id="L-816"><a href="#L-816"><span class="linenos"> 816</span></a>    <span class="k">def</span> <span class="nf">mision_aleatoria</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-817"><a href="#L-817"><span class="linenos"> 817</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-818"><a href="#L-818"><span class="linenos"> 818</span></a><span class="sd">        Selecciona una misión al azar de la base de datos y muestra la ruleta.</span>
</span><span id="L-819"><a href="#L-819"><span class="linenos"> 819</span></a>
</span><span id="L-820"><a href="#L-820"><span class="linenos"> 820</span></a><span class="sd">        Esta función obtiene una lista de eventos de la colección `evento` en la base de datos, elige uno al azar </span>
</span><span id="L-821"><a href="#L-821"><span class="linenos"> 821</span></a><span class="sd">        y llama al método `mostrar_ruleta` para presentar una ventana de ruleta con opciones de aceptar, rechazar </span>
</span><span id="L-822"><a href="#L-822"><span class="linenos"> 822</span></a><span class="sd">        o girar otra vez la ruleta.</span>
</span><span id="L-823"><a href="#L-823"><span class="linenos"> 823</span></a>
</span><span id="L-824"><a href="#L-824"><span class="linenos"> 824</span></a><span class="sd">        Ejemplos:</span>
</span><span id="L-825"><a href="#L-825"><span class="linenos"> 825</span></a><span class="sd">        ---------</span>
</span><span id="L-826"><a href="#L-826"><span class="linenos"> 826</span></a><span class="sd">        &gt;&gt;&gt; self.mision_aleatoria()</span>
</span><span id="L-827"><a href="#L-827"><span class="linenos"> 827</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-828"><a href="#L-828"><span class="linenos"> 828</span></a>        <span class="n">eventos_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;evento&#39;</span><span class="p">)</span>
</span><span id="L-829"><a href="#L-829"><span class="linenos"> 829</span></a>        <span class="n">eventos</span> <span class="o">=</span> <span class="n">eventos_ref</span><span class="o">.</span><span class="n">stream</span><span class="p">()</span>
</span><span id="L-830"><a href="#L-830"><span class="linenos"> 830</span></a>        <span class="n">evento_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">evento</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">evento</span> <span class="ow">in</span> <span class="n">eventos</span><span class="p">]</span>
</span><span id="L-831"><a href="#L-831"><span class="linenos"> 831</span></a>
</span><span id="L-832"><a href="#L-832"><span class="linenos"> 832</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">evento_list</span><span class="p">:</span>
</span><span id="L-833"><a href="#L-833"><span class="linenos"> 833</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Sin Eventos&#39;</span><span class="p">,</span> <span class="s1">&#39;No hay eventos disponibles en la base de datos.&#39;</span><span class="p">)</span>
</span><span id="L-834"><a href="#L-834"><span class="linenos"> 834</span></a>            <span class="k">return</span>
</span><span id="L-835"><a href="#L-835"><span class="linenos"> 835</span></a>
</span><span id="L-836"><a href="#L-836"><span class="linenos"> 836</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">evento_list</span> <span class="o">=</span> <span class="n">evento_list</span>
</span><span id="L-837"><a href="#L-837"><span class="linenos"> 837</span></a>        <span class="n">evento</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">evento_list</span><span class="p">)</span>
</span><span id="L-838"><a href="#L-838"><span class="linenos"> 838</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_ruleta</span><span class="p">(</span><span class="n">evento</span><span class="p">)</span>
</span><span id="L-839"><a href="#L-839"><span class="linenos"> 839</span></a>
</span><span id="L-840"><a href="#L-840"><span class="linenos"> 840</span></a>
</span><span id="L-841"><a href="#L-841"><span class="linenos"> 841</span></a>    <span class="k">def</span> <span class="nf">mostrar_ruleta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evento</span><span class="p">):</span>
</span><span id="L-842"><a href="#L-842"><span class="linenos"> 842</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-843"><a href="#L-843"><span class="linenos"> 843</span></a><span class="sd">        Muestra una ventana de ruleta con opciones de aceptar, rechazar o girar otra vez.</span>
</span><span id="L-844"><a href="#L-844"><span class="linenos"> 844</span></a>
</span><span id="L-845"><a href="#L-845"><span class="linenos"> 845</span></a><span class="sd">        Parámetros:</span>
</span><span id="L-846"><a href="#L-846"><span class="linenos"> 846</span></a><span class="sd">        -----------</span>
</span><span id="L-847"><a href="#L-847"><span class="linenos"> 847</span></a><span class="sd">        evento : dict</span>
</span><span id="L-848"><a href="#L-848"><span class="linenos"> 848</span></a><span class="sd">            Diccionario con los detalles del evento. Debe contener las claves &#39;nombre&#39;, &#39;descripcion&#39;, &#39;condiciones&#39;, </span>
</span><span id="L-849"><a href="#L-849"><span class="linenos"> 849</span></a><span class="sd">            y &#39;recompensa&#39; con la información de la misión.</span>
</span><span id="L-850"><a href="#L-850"><span class="linenos"> 850</span></a>
</span><span id="L-851"><a href="#L-851"><span class="linenos"> 851</span></a><span class="sd">        Esta función crea una ventana de diálogo que muestra los detalles del evento actual, incluyendo su nombre, </span>
</span><span id="L-852"><a href="#L-852"><span class="linenos"> 852</span></a><span class="sd">        descripción, condiciones y recompensa. También proporciona tres botones para manejar el evento: &quot;Aceptar&quot;, </span>
</span><span id="L-853"><a href="#L-853"><span class="linenos"> 853</span></a><span class="sd">        &quot;Rechazar&quot; y &quot;Girar Otra Vez&quot;. El botón &quot;Girar Otra Vez&quot; solo está habilitado si el número de giros es menor que 2.</span>
</span><span id="L-854"><a href="#L-854"><span class="linenos"> 854</span></a>
</span><span id="L-855"><a href="#L-855"><span class="linenos"> 855</span></a><span class="sd">        Ejemplos:</span>
</span><span id="L-856"><a href="#L-856"><span class="linenos"> 856</span></a><span class="sd">        ---------</span>
</span><span id="L-857"><a href="#L-857"><span class="linenos"> 857</span></a><span class="sd">        &gt;&gt;&gt; self.mostrar_ruleta({&#39;nombre&#39;: &#39;Misión de Prueba&#39;, &#39;descripcion&#39;: &#39;Descripción de la misión&#39;, &#39;condiciones&#39;: &#39;Condiciones necesarias&#39;, &#39;recompensa&#39;: &#39;Recompensa obtenida&#39;})</span>
</span><span id="L-858"><a href="#L-858"><span class="linenos"> 858</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-859"><a href="#L-859"><span class="linenos"> 859</span></a>        <span class="n">ruleta_dialog</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
</span><span id="L-860"><a href="#L-860"><span class="linenos"> 860</span></a>        <span class="n">ruleta_dialog</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Ruleta de Eventos&quot;</span><span class="p">)</span>
</span><span id="L-861"><a href="#L-861"><span class="linenos"> 861</span></a>        <span class="n">ruleta_dialog</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="L-862"><a href="#L-862"><span class="linenos"> 862</span></a><span class="s2">        background-color: #f5f5dc; /* Color de fondo en caso de que la imagen no se cargue */</span>
</span><span id="L-863"><a href="#L-863"><span class="linenos"> 863</span></a><span class="s2">        color: #3e3e3e; /* Color del texto oscuro para buen contraste */</span>
</span><span id="L-864"><a href="#L-864"><span class="linenos"> 864</span></a><span class="s2">        border: 2px solid #8b4513; /* Borde marrón oscuro, como el pergamino envejecido */</span>
</span><span id="L-865"><a href="#L-865"><span class="linenos"> 865</span></a><span class="s2">        border-radius: 10px; /* Bordes redondeados */</span>
</span><span id="L-866"><a href="#L-866"><span class="linenos"> 866</span></a><span class="s2">        font-family: &#39;Times New Roman&#39;, serif; /* Fuente clásica que recuerda al papel antiguo */</span>
</span><span id="L-867"><a href="#L-867"><span class="linenos"> 867</span></a><span class="s2">        padding: 10px;</span>
</span><span id="L-868"><a href="#L-868"><span class="linenos"> 868</span></a><span class="s2">        background-image: url(&#39;fondos/31254.jpg&#39;);  /* Imagen de fondo de pergamino */</span>
</span><span id="L-869"><a href="#L-869"><span class="linenos"> 869</span></a><span class="s2">        background-repeat: repeat;  /* Repetir la imagen de fondo */</span>
</span><span id="L-870"><a href="#L-870"><span class="linenos"> 870</span></a><span class="s2">        background-size: cover;  /* Asegura que la imagen cubra toda la pantalla */</span>
</span><span id="L-871"><a href="#L-871"><span class="linenos"> 871</span></a><span class="s2">        background-position: center;  /* Centra la imagen */</span>
</span><span id="L-872"><a href="#L-872"><span class="linenos"> 872</span></a><span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="L-873"><a href="#L-873"><span class="linenos"> 873</span></a>        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
</span><span id="L-874"><a href="#L-874"><span class="linenos"> 874</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>  <span class="c1"># Agregar márgenes</span>
</span><span id="L-875"><a href="#L-875"><span class="linenos"> 875</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>  <span class="c1"># Agregar espaciado</span>
</span><span id="L-876"><a href="#L-876"><span class="linenos"> 876</span></a>
</span><span id="L-877"><a href="#L-877"><span class="linenos"> 877</span></a>        <span class="n">sala_text</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sala Actual: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="L-878"><a href="#L-878"><span class="linenos"> 878</span></a>        <span class="n">evento_info</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nombre: </span><span class="si">{</span><span class="n">evento</span><span class="p">[</span><span class="s1">&#39;nombre&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Descripción:</span><span class="se">\n</span><span class="s2"> </span><span class="si">{</span><span class="n">evento</span><span class="p">[</span><span class="s1">&#39;descripcion&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Condiciones:</span><span class="se">\n</span><span class="s2"> </span><span class="si">{</span><span class="n">evento</span><span class="p">[</span><span class="s1">&#39;condiciones&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Recompensa:</span><span class="se">\n</span><span class="s2"> </span><span class="si">{</span><span class="n">evento</span><span class="p">[</span><span class="s1">&#39;recompensa&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="L-879"><a href="#L-879"><span class="linenos"> 879</span></a>        <span class="n">evento_info</span><span class="o">.</span><span class="n">setWordWrap</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># Habilitar el ajuste de línea</span>
</span><span id="L-880"><a href="#L-880"><span class="linenos"> 880</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">sala_text</span><span class="p">)</span>
</span><span id="L-881"><a href="#L-881"><span class="linenos"> 881</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">evento_info</span><span class="p">)</span>
</span><span id="L-882"><a href="#L-882"><span class="linenos"> 882</span></a>
</span><span id="L-883"><a href="#L-883"><span class="linenos"> 883</span></a>        <span class="n">btn_aceptar</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Aceptar&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="L-884"><a href="#L-884"><span class="linenos"> 884</span></a>        <span class="n">btn_aceptar</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;background-color: green; color: white;&quot;</span><span class="p">)</span>
</span><span id="L-885"><a href="#L-885"><span class="linenos"> 885</span></a>        <span class="n">btn_rechazar</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Rechazar&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="L-886"><a href="#L-886"><span class="linenos"> 886</span></a>        <span class="n">btn_rechazar</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;background-color: red; color: white;&quot;</span><span class="p">)</span>
</span><span id="L-887"><a href="#L-887"><span class="linenos"> 887</span></a>        <span class="n">btn_girar</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Girar Otra Vez&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="L-888"><a href="#L-888"><span class="linenos"> 888</span></a>        <span class="n">btn_girar</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;background-color: purple; color: white;&quot;</span><span class="p">)</span>
</span><span id="L-889"><a href="#L-889"><span class="linenos"> 889</span></a>        <span class="n">btn_girar</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">contador_giros</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="L-890"><a href="#L-890"><span class="linenos"> 890</span></a>
</span><span id="L-891"><a href="#L-891"><span class="linenos"> 891</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn_aceptar</span><span class="p">)</span>
</span><span id="L-892"><a href="#L-892"><span class="linenos"> 892</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn_rechazar</span><span class="p">)</span>
</span><span id="L-893"><a href="#L-893"><span class="linenos"> 893</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn_girar</span><span class="p">)</span>
</span><span id="L-894"><a href="#L-894"><span class="linenos"> 894</span></a>
</span><span id="L-895"><a href="#L-895"><span class="linenos"> 895</span></a>        <span class="n">ruleta_dialog</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
</span><span id="L-896"><a href="#L-896"><span class="linenos"> 896</span></a>        <span class="n">ruleta_dialog</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="L-897"><a href="#L-897"><span class="linenos"> 897</span></a>
</span><span id="L-898"><a href="#L-898"><span class="linenos"> 898</span></a>        <span class="n">btn_aceptar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">aceptar_mision</span><span class="p">(</span><span class="n">evento</span><span class="p">,</span> <span class="n">ruleta_dialog</span><span class="p">))</span>
</span><span id="L-899"><a href="#L-899"><span class="linenos"> 899</span></a>        <span class="n">btn_rechazar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">rechazar_mision</span><span class="p">(</span><span class="n">ruleta_dialog</span><span class="p">))</span>
</span><span id="L-900"><a href="#L-900"><span class="linenos"> 900</span></a>        <span class="n">btn_girar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">girar_otra_vez</span><span class="p">(</span><span class="n">btn_girar</span><span class="p">,</span> <span class="n">ruleta_dialog</span><span class="p">))</span>
</span><span id="L-901"><a href="#L-901"><span class="linenos"> 901</span></a>
</span><span id="L-902"><a href="#L-902"><span class="linenos"> 902</span></a>    <span class="k">def</span> <span class="nf">aceptar_mision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evento</span><span class="p">,</span> <span class="n">dialog</span><span class="p">):</span>
</span><span id="L-903"><a href="#L-903"><span class="linenos"> 903</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-904"><a href="#L-904"><span class="linenos"> 904</span></a><span class="sd">        Acepta la misión y muestra la ventana de victoria o derrota.</span>
</span><span id="L-905"><a href="#L-905"><span class="linenos"> 905</span></a>
</span><span id="L-906"><a href="#L-906"><span class="linenos"> 906</span></a><span class="sd">        Este método cierra el diálogo actual y llama a `mostrar_ventana_mision` para mostrar una nueva ventana </span>
</span><span id="L-907"><a href="#L-907"><span class="linenos"> 907</span></a><span class="sd">        con las opciones de victoria o derrota basadas en el evento de la misión aceptada.</span>
</span><span id="L-908"><a href="#L-908"><span class="linenos"> 908</span></a>
</span><span id="L-909"><a href="#L-909"><span class="linenos"> 909</span></a><span class="sd">        Parámetros:</span>
</span><span id="L-910"><a href="#L-910"><span class="linenos"> 910</span></a><span class="sd">        -----------</span>
</span><span id="L-911"><a href="#L-911"><span class="linenos"> 911</span></a><span class="sd">        evento : dict</span>
</span><span id="L-912"><a href="#L-912"><span class="linenos"> 912</span></a><span class="sd">            Diccionario con los detalles del evento. Debe contener las claves &#39;nombre&#39;, &#39;descripcion&#39;, &#39;condiciones&#39;, </span>
</span><span id="L-913"><a href="#L-913"><span class="linenos"> 913</span></a><span class="sd">            y &#39;recompensa&#39; con la información de la misión.</span>
</span><span id="L-914"><a href="#L-914"><span class="linenos"> 914</span></a><span class="sd">        dialog : QWidget</span>
</span><span id="L-915"><a href="#L-915"><span class="linenos"> 915</span></a><span class="sd">            La ventana de la ruleta que se debe cerrar después de aceptar la misión.</span>
</span><span id="L-916"><a href="#L-916"><span class="linenos"> 916</span></a>
</span><span id="L-917"><a href="#L-917"><span class="linenos"> 917</span></a><span class="sd">        Ejemplos:</span>
</span><span id="L-918"><a href="#L-918"><span class="linenos"> 918</span></a><span class="sd">        ---------</span>
</span><span id="L-919"><a href="#L-919"><span class="linenos"> 919</span></a><span class="sd">        &gt;&gt;&gt; self.aceptar_mision({&#39;nombre&#39;: &#39;Misión de Prueba&#39;, &#39;descripcion&#39;: &#39;Descripción de la misión&#39;, &#39;condiciones&#39;: &#39;Condiciones necesarias&#39;, &#39;recompensa&#39;: &#39;Recompensa obtenida&#39;}, ruleta_dialog)</span>
</span><span id="L-920"><a href="#L-920"><span class="linenos"> 920</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-921"><a href="#L-921"><span class="linenos"> 921</span></a>        <span class="n">dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="L-922"><a href="#L-922"><span class="linenos"> 922</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_ventana_mision</span><span class="p">(</span><span class="n">evento</span><span class="p">)</span>
</span><span id="L-923"><a href="#L-923"><span class="linenos"> 923</span></a>
</span><span id="L-924"><a href="#L-924"><span class="linenos"> 924</span></a>
</span><span id="L-925"><a href="#L-925"><span class="linenos"> 925</span></a>    <span class="k">def</span> <span class="nf">rechazar_mision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dialog</span><span class="p">):</span>
</span><span id="L-926"><a href="#L-926"><span class="linenos"> 926</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-927"><a href="#L-927"><span class="linenos"> 927</span></a><span class="sd">        Rechaza la misión y muestra la ventana de penalización.</span>
</span><span id="L-928"><a href="#L-928"><span class="linenos"> 928</span></a>
</span><span id="L-929"><a href="#L-929"><span class="linenos"> 929</span></a><span class="sd">        Este método cierra el diálogo actual y llama a `mostrar_penalizacion` para mostrar una nueva ventana </span>
</span><span id="L-930"><a href="#L-930"><span class="linenos"> 930</span></a><span class="sd">        donde se puede definir una penalización por rechazar la misión.</span>
</span><span id="L-931"><a href="#L-931"><span class="linenos"> 931</span></a>
</span><span id="L-932"><a href="#L-932"><span class="linenos"> 932</span></a><span class="sd">        Parámetros:</span>
</span><span id="L-933"><a href="#L-933"><span class="linenos"> 933</span></a><span class="sd">        -----------</span>
</span><span id="L-934"><a href="#L-934"><span class="linenos"> 934</span></a><span class="sd">        dialog : QWidget</span>
</span><span id="L-935"><a href="#L-935"><span class="linenos"> 935</span></a><span class="sd">            La ventana de la ruleta que se debe cerrar después de rechazar la misión.</span>
</span><span id="L-936"><a href="#L-936"><span class="linenos"> 936</span></a>
</span><span id="L-937"><a href="#L-937"><span class="linenos"> 937</span></a><span class="sd">        Ejemplos:</span>
</span><span id="L-938"><a href="#L-938"><span class="linenos"> 938</span></a><span class="sd">        ---------</span>
</span><span id="L-939"><a href="#L-939"><span class="linenos"> 939</span></a><span class="sd">        &gt;&gt;&gt; self.rechazar_mision(ruleta_dialog)</span>
</span><span id="L-940"><a href="#L-940"><span class="linenos"> 940</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-941"><a href="#L-941"><span class="linenos"> 941</span></a>        <span class="n">dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="L-942"><a href="#L-942"><span class="linenos"> 942</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_penalizacion</span><span class="p">()</span>
</span><span id="L-943"><a href="#L-943"><span class="linenos"> 943</span></a>
</span><span id="L-944"><a href="#L-944"><span class="linenos"> 944</span></a>
</span><span id="L-945"><a href="#L-945"><span class="linenos"> 945</span></a>    <span class="k">def</span> <span class="nf">girar_otra_vez</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">btn_girar</span><span class="p">,</span> <span class="n">dialog</span><span class="p">):</span>
</span><span id="L-946"><a href="#L-946"><span class="linenos"> 946</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-947"><a href="#L-947"><span class="linenos"> 947</span></a><span class="sd">        Permite girar la ruleta otra vez, con un máximo de 2 giros.</span>
</span><span id="L-948"><a href="#L-948"><span class="linenos"> 948</span></a>
</span><span id="L-949"><a href="#L-949"><span class="linenos"> 949</span></a><span class="sd">        Este método incrementa el contador de giros y selecciona un nuevo evento de la lista de eventos. Si el número </span>
</span><span id="L-950"><a href="#L-950"><span class="linenos"> 950</span></a><span class="sd">        de giros alcanza 2, deshabilita el botón para girar nuevamente.</span>
</span><span id="L-951"><a href="#L-951"><span class="linenos"> 951</span></a>
</span><span id="L-952"><a href="#L-952"><span class="linenos"> 952</span></a><span class="sd">        Parámetros:</span>
</span><span id="L-953"><a href="#L-953"><span class="linenos"> 953</span></a><span class="sd">        -----------</span>
</span><span id="L-954"><a href="#L-954"><span class="linenos"> 954</span></a><span class="sd">        btn_girar : QPushButton</span>
</span><span id="L-955"><a href="#L-955"><span class="linenos"> 955</span></a><span class="sd">            El botón para girar la ruleta que se deshabilitará si se alcanza el límite de giros.</span>
</span><span id="L-956"><a href="#L-956"><span class="linenos"> 956</span></a><span class="sd">        dialog : QWidget</span>
</span><span id="L-957"><a href="#L-957"><span class="linenos"> 957</span></a><span class="sd">            La ventana de la ruleta que se debe cerrar después de girar nuevamente.</span>
</span><span id="L-958"><a href="#L-958"><span class="linenos"> 958</span></a>
</span><span id="L-959"><a href="#L-959"><span class="linenos"> 959</span></a><span class="sd">        Ejemplos:</span>
</span><span id="L-960"><a href="#L-960"><span class="linenos"> 960</span></a><span class="sd">        ---------</span>
</span><span id="L-961"><a href="#L-961"><span class="linenos"> 961</span></a><span class="sd">        &gt;&gt;&gt; self.girar_otra_vez(btn_girar, ruleta_dialog)</span>
</span><span id="L-962"><a href="#L-962"><span class="linenos"> 962</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-963"><a href="#L-963"><span class="linenos"> 963</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">contador_giros</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="L-964"><a href="#L-964"><span class="linenos"> 964</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">contador_giros</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="L-965"><a href="#L-965"><span class="linenos"> 965</span></a>            <span class="n">btn_girar</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="L-966"><a href="#L-966"><span class="linenos"> 966</span></a>
</span><span id="L-967"><a href="#L-967"><span class="linenos"> 967</span></a>        <span class="n">evento</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">evento_list</span><span class="p">)</span>  <span class="c1"># Seleccionar un nuevo evento</span>
</span><span id="L-968"><a href="#L-968"><span class="linenos"> 968</span></a>        <span class="n">dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="L-969"><a href="#L-969"><span class="linenos"> 969</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_ruleta</span><span class="p">(</span><span class="n">evento</span><span class="p">)</span>
</span><span id="L-970"><a href="#L-970"><span class="linenos"> 970</span></a>
</span><span id="L-971"><a href="#L-971"><span class="linenos"> 971</span></a>
</span><span id="L-972"><a href="#L-972"><span class="linenos"> 972</span></a>    <span class="k">def</span> <span class="nf">mostrar_ventana_mision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evento</span><span class="p">):</span>
</span><span id="L-973"><a href="#L-973"><span class="linenos"> 973</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-974"><a href="#L-974"><span class="linenos"> 974</span></a><span class="sd">        Muestra la ventana de misión con opciones de victoria o derrota.</span>
</span><span id="L-975"><a href="#L-975"><span class="linenos"> 975</span></a>
</span><span id="L-976"><a href="#L-976"><span class="linenos"> 976</span></a><span class="sd">        Este método crea una ventana de diálogo que muestra los detalles de la misión actual, incluyendo su nombre, </span>
</span><span id="L-977"><a href="#L-977"><span class="linenos"> 977</span></a><span class="sd">        descripción, condiciones y recompensa. También proporciona botones para aceptar la victoria o la derrota en </span>
</span><span id="L-978"><a href="#L-978"><span class="linenos"> 978</span></a><span class="sd">        la misión.</span>
</span><span id="L-979"><a href="#L-979"><span class="linenos"> 979</span></a>
</span><span id="L-980"><a href="#L-980"><span class="linenos"> 980</span></a><span class="sd">        Parámetros:</span>
</span><span id="L-981"><a href="#L-981"><span class="linenos"> 981</span></a><span class="sd">        -----------</span>
</span><span id="L-982"><a href="#L-982"><span class="linenos"> 982</span></a><span class="sd">        evento : dict</span>
</span><span id="L-983"><a href="#L-983"><span class="linenos"> 983</span></a><span class="sd">            Diccionario con los detalles del evento. Debe contener las claves &#39;nombre&#39;, &#39;descripcion&#39;, &#39;condiciones&#39;, </span>
</span><span id="L-984"><a href="#L-984"><span class="linenos"> 984</span></a><span class="sd">            y &#39;recompensa&#39; con la información de la misión.</span>
</span><span id="L-985"><a href="#L-985"><span class="linenos"> 985</span></a>
</span><span id="L-986"><a href="#L-986"><span class="linenos"> 986</span></a><span class="sd">        Ejemplos:</span>
</span><span id="L-987"><a href="#L-987"><span class="linenos"> 987</span></a><span class="sd">        ---------</span>
</span><span id="L-988"><a href="#L-988"><span class="linenos"> 988</span></a><span class="sd">        &gt;&gt;&gt; self.mostrar_ventana_mision({&#39;nombre&#39;: &#39;Misión de Prueba&#39;, &#39;descripcion&#39;: &#39;Descripción de la misión&#39;, &#39;condiciones&#39;: &#39;Condiciones necesarias&#39;, &#39;recompensa&#39;: &#39;Recompensa obtenida&#39;})</span>
</span><span id="L-989"><a href="#L-989"><span class="linenos"> 989</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-990"><a href="#L-990"><span class="linenos"> 990</span></a>        <span class="n">mision_dialog</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
</span><span id="L-991"><a href="#L-991"><span class="linenos"> 991</span></a>        <span class="n">mision_dialog</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Misión&quot;</span><span class="p">)</span>
</span><span id="L-992"><a href="#L-992"><span class="linenos"> 992</span></a>        <span class="n">mision_dialog</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="L-993"><a href="#L-993"><span class="linenos"> 993</span></a><span class="s2">        background-color: #f5f5dc; /* Color de fondo en caso de que la imagen no se cargue */</span>
</span><span id="L-994"><a href="#L-994"><span class="linenos"> 994</span></a><span class="s2">        color: #3e3e3e; /* Color del texto oscuro para buen contraste */</span>
</span><span id="L-995"><a href="#L-995"><span class="linenos"> 995</span></a><span class="s2">        border: 2px solid #8b4513; /* Borde marrón oscuro, como el pergamino envejecido */</span>
</span><span id="L-996"><a href="#L-996"><span class="linenos"> 996</span></a><span class="s2">        border-radius: 10px; /* Bordes redondeados */</span>
</span><span id="L-997"><a href="#L-997"><span class="linenos"> 997</span></a><span class="s2">        font-family: &#39;Times New Roman&#39;, serif; /* Fuente clásica que recuerda al papel antiguo */</span>
</span><span id="L-998"><a href="#L-998"><span class="linenos"> 998</span></a><span class="s2">        padding: 10px;</span>
</span><span id="L-999"><a href="#L-999"><span class="linenos"> 999</span></a><span class="s2">        background-image: url(&#39;fondos/31254.jpg&#39;);  /* Imagen de fondo de pergamino */</span>
</span><span id="L-1000"><a href="#L-1000"><span class="linenos">1000</span></a><span class="s2">        background-repeat: repeat;  /* Repetir la imagen de fondo */</span>
</span><span id="L-1001"><a href="#L-1001"><span class="linenos">1001</span></a><span class="s2">        background-size: cover;  /* Asegura que la imagen cubra toda la pantalla */</span>
</span><span id="L-1002"><a href="#L-1002"><span class="linenos">1002</span></a><span class="s2">        background-position: center;  /* Centra la imagen */</span>
</span><span id="L-1003"><a href="#L-1003"><span class="linenos">1003</span></a><span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="L-1004"><a href="#L-1004"><span class="linenos">1004</span></a>
</span><span id="L-1005"><a href="#L-1005"><span class="linenos">1005</span></a>        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
</span><span id="L-1006"><a href="#L-1006"><span class="linenos">1006</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>  <span class="c1"># Agregar márgenes</span>
</span><span id="L-1007"><a href="#L-1007"><span class="linenos">1007</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>  <span class="c1"># Agregar espaciado</span>
</span><span id="L-1008"><a href="#L-1008"><span class="linenos">1008</span></a>
</span><span id="L-1009"><a href="#L-1009"><span class="linenos">1009</span></a>        <span class="n">sala_text</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="L-1010"><a href="#L-1010"><span class="linenos">1010</span></a>        <span class="n">evento_info</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nombre: </span><span class="si">{</span><span class="n">evento</span><span class="p">[</span><span class="s1">&#39;nombre&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Descripción:</span><span class="se">\n</span><span class="s2"> </span><span class="si">{</span><span class="n">evento</span><span class="p">[</span><span class="s1">&#39;descripcion&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Condiciones:</span><span class="se">\n</span><span class="s2"> </span><span class="si">{</span><span class="n">evento</span><span class="p">[</span><span class="s1">&#39;condiciones&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Recompensa:</span><span class="se">\n</span><span class="s2"> </span><span class="si">{</span><span class="n">evento</span><span class="p">[</span><span class="s1">&#39;recompensa&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="L-1011"><a href="#L-1011"><span class="linenos">1011</span></a>        <span class="n">evento_info</span><span class="o">.</span><span class="n">setWordWrap</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># Habilitar el ajuste de línea</span>
</span><span id="L-1012"><a href="#L-1012"><span class="linenos">1012</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">sala_text</span><span class="p">)</span>
</span><span id="L-1013"><a href="#L-1013"><span class="linenos">1013</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">evento_info</span><span class="p">)</span>
</span><span id="L-1014"><a href="#L-1014"><span class="linenos">1014</span></a>
</span><span id="L-1015"><a href="#L-1015"><span class="linenos">1015</span></a>        <span class="n">btn_victoria</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Victoria&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="L-1016"><a href="#L-1016"><span class="linenos">1016</span></a>        <span class="n">btn_victoria</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="L-1017"><a href="#L-1017"><span class="linenos">1017</span></a><span class="s2">            background-color: green; </span>
</span><span id="L-1018"><a href="#L-1018"><span class="linenos">1018</span></a><span class="s2">            color: white; </span>
</span><span id="L-1019"><a href="#L-1019"><span class="linenos">1019</span></a><span class="s2">            border: 2px solid #003300; /* Borde verde oscuro */</span>
</span><span id="L-1020"><a href="#L-1020"><span class="linenos">1020</span></a><span class="s2">            border-radius: 5px; </span>
</span><span id="L-1021"><a href="#L-1021"><span class="linenos">1021</span></a><span class="s2">            padding: 12px 20px; </span>
</span><span id="L-1022"><a href="#L-1022"><span class="linenos">1022</span></a><span class="s2">            font-weight: bold; </span>
</span><span id="L-1023"><a href="#L-1023"><span class="linenos">1023</span></a><span class="s2">            min-width: 120px; </span>
</span><span id="L-1024"><a href="#L-1024"><span class="linenos">1024</span></a><span class="s2">            text-align: center; </span>
</span><span id="L-1025"><a href="#L-1025"><span class="linenos">1025</span></a><span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="L-1026"><a href="#L-1026"><span class="linenos">1026</span></a>        <span class="n">btn_derrota</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Derrota&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="L-1027"><a href="#L-1027"><span class="linenos">1027</span></a>        <span class="n">btn_derrota</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="L-1028"><a href="#L-1028"><span class="linenos">1028</span></a><span class="s2">            background-color: red; </span>
</span><span id="L-1029"><a href="#L-1029"><span class="linenos">1029</span></a><span class="s2">            color: white; </span>
</span><span id="L-1030"><a href="#L-1030"><span class="linenos">1030</span></a><span class="s2">            border: 2px solid #660000; /* Borde rojo oscuro */</span>
</span><span id="L-1031"><a href="#L-1031"><span class="linenos">1031</span></a><span class="s2">            border-radius: 5px; </span>
</span><span id="L-1032"><a href="#L-1032"><span class="linenos">1032</span></a><span class="s2">            padding: 12px 20px; </span>
</span><span id="L-1033"><a href="#L-1033"><span class="linenos">1033</span></a><span class="s2">            font-weight: bold; </span>
</span><span id="L-1034"><a href="#L-1034"><span class="linenos">1034</span></a><span class="s2">            min-width: 120px; </span>
</span><span id="L-1035"><a href="#L-1035"><span class="linenos">1035</span></a><span class="s2">            text-align: center; </span>
</span><span id="L-1036"><a href="#L-1036"><span class="linenos">1036</span></a><span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="L-1037"><a href="#L-1037"><span class="linenos">1037</span></a>
</span><span id="L-1038"><a href="#L-1038"><span class="linenos">1038</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn_victoria</span><span class="p">)</span>
</span><span id="L-1039"><a href="#L-1039"><span class="linenos">1039</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn_derrota</span><span class="p">)</span>
</span><span id="L-1040"><a href="#L-1040"><span class="linenos">1040</span></a>
</span><span id="L-1041"><a href="#L-1041"><span class="linenos">1041</span></a>        <span class="n">mision_dialog</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
</span><span id="L-1042"><a href="#L-1042"><span class="linenos">1042</span></a>        <span class="n">mision_dialog</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="L-1043"><a href="#L-1043"><span class="linenos">1043</span></a>
</span><span id="L-1044"><a href="#L-1044"><span class="linenos">1044</span></a>        <span class="n">btn_victoria</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">victoria_mision</span><span class="p">(</span><span class="n">evento</span><span class="p">,</span> <span class="n">mision_dialog</span><span class="p">))</span>
</span><span id="L-1045"><a href="#L-1045"><span class="linenos">1045</span></a>        <span class="n">btn_derrota</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">derrota_mision</span><span class="p">(</span><span class="n">evento</span><span class="p">,</span> <span class="n">mision_dialog</span><span class="p">))</span>
</span><span id="L-1046"><a href="#L-1046"><span class="linenos">1046</span></a>
</span><span id="L-1047"><a href="#L-1047"><span class="linenos">1047</span></a>        <span class="c1"># Estilo para tabla_personajes</span>
</span><span id="L-1048"><a href="#L-1048"><span class="linenos">1048</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="L-1049"><a href="#L-1049"><span class="linenos">1049</span></a><span class="s2">            background-color: #f5f5dc; /* Color de fondo en caso de que la imagen no se cargue */</span>
</span><span id="L-1050"><a href="#L-1050"><span class="linenos">1050</span></a><span class="s2">        color: #3e3e3e; /* Color del texto oscuro para buen contraste */</span>
</span><span id="L-1051"><a href="#L-1051"><span class="linenos">1051</span></a><span class="s2">        border: 2px solid #8b4513; /* Borde marrón oscuro, como el pergamino envejecido */</span>
</span><span id="L-1052"><a href="#L-1052"><span class="linenos">1052</span></a><span class="s2">        border-radius: 10px; /* Bordes redondeados */</span>
</span><span id="L-1053"><a href="#L-1053"><span class="linenos">1053</span></a><span class="s2">        font-family: &#39;Times New Roman&#39;, serif; /* Fuente clásica que recuerda al papel antiguo */</span>
</span><span id="L-1054"><a href="#L-1054"><span class="linenos">1054</span></a><span class="s2">        padding: 10px;</span>
</span><span id="L-1055"><a href="#L-1055"><span class="linenos">1055</span></a><span class="s2">        background-image: url(&#39;fondos/31254.jpg&#39;);  /* Imagen de fondo de pergamino */</span>
</span><span id="L-1056"><a href="#L-1056"><span class="linenos">1056</span></a><span class="s2">        background-repeat: repeat;  /* Repetir la imagen de fondo */</span>
</span><span id="L-1057"><a href="#L-1057"><span class="linenos">1057</span></a><span class="s2">        background-size: cover;  /* Asegura que la imagen cubra toda la pantalla */</span>
</span><span id="L-1058"><a href="#L-1058"><span class="linenos">1058</span></a><span class="s2">        background-position: center;  /* Centra la imagen */</span>
</span><span id="L-1059"><a href="#L-1059"><span class="linenos">1059</span></a><span class="s2">            QTableWidget {</span>
</span><span id="L-1060"><a href="#L-1060"><span class="linenos">1060</span></a><span class="s2">                border: 2px solid red; /* Borde exterior rojo */</span>
</span><span id="L-1061"><a href="#L-1061"><span class="linenos">1061</span></a><span class="s2">                border-radius: 5px; /* Esquinas redondeadas */</span>
</span><span id="L-1062"><a href="#L-1062"><span class="linenos">1062</span></a><span class="s2">                padding: 5px; /* Espaciado interno */</span>
</span><span id="L-1063"><a href="#L-1063"><span class="linenos">1063</span></a><span class="s2">            }</span>
</span><span id="L-1064"><a href="#L-1064"><span class="linenos">1064</span></a><span class="s2">            QHeaderView::section {</span>
</span><span id="L-1065"><a href="#L-1065"><span class="linenos">1065</span></a><span class="s2">                background-color: #DCE8F5; /* Color de fondo de las cabeceras */</span>
</span><span id="L-1066"><a href="#L-1066"><span class="linenos">1066</span></a><span class="s2">                color: #000000; /* Color del texto en las cabeceras */</span>
</span><span id="L-1067"><a href="#L-1067"><span class="linenos">1067</span></a><span class="s2">                padding: 10px; /* Espaciado interno de las cabeceras */</span>
</span><span id="L-1068"><a href="#L-1068"><span class="linenos">1068</span></a><span class="s2">                border: 1px solid #a0a0a0; /* Borde de las cabeceras */</span>
</span><span id="L-1069"><a href="#L-1069"><span class="linenos">1069</span></a><span class="s2">            }</span>
</span><span id="L-1070"><a href="#L-1070"><span class="linenos">1070</span></a><span class="s2">            QPushButton {</span>
</span><span id="L-1071"><a href="#L-1071"><span class="linenos">1071</span></a><span class="s2">                background-color: #FFD700; /* Color de fondo dorado */</span>
</span><span id="L-1072"><a href="#L-1072"><span class="linenos">1072</span></a><span class="s2">                color: #000000; /* Color del texto */</span>
</span><span id="L-1073"><a href="#L-1073"><span class="linenos">1073</span></a><span class="s2">                border: 2px solid #DAA520; /* Borde dorado oscuro */</span>
</span><span id="L-1074"><a href="#L-1074"><span class="linenos">1074</span></a><span class="s2">                border-radius: 5px; /* Esquinas redondeadas */</span>
</span><span id="L-1075"><a href="#L-1075"><span class="linenos">1075</span></a><span class="s2">                padding: 12px 20px; /* Espaciado interno del botón */</span>
</span><span id="L-1076"><a href="#L-1076"><span class="linenos">1076</span></a><span class="s2">                font-weight: bold; /* Texto en negrita */</span>
</span><span id="L-1077"><a href="#L-1077"><span class="linenos">1077</span></a><span class="s2">                min-width: 120px; /* Ancho mínimo del botón */</span>
</span><span id="L-1078"><a href="#L-1078"><span class="linenos">1078</span></a><span class="s2">                text-align: center; /* Alinear el texto al centro */</span>
</span><span id="L-1079"><a href="#L-1079"><span class="linenos">1079</span></a><span class="s2">            }</span>
</span><span id="L-1080"><a href="#L-1080"><span class="linenos">1080</span></a><span class="s2">            QPushButton:hover {</span>
</span><span id="L-1081"><a href="#L-1081"><span class="linenos">1081</span></a><span class="s2">                background-color: #FFC107; /* Color de fondo dorado al pasar el ratón */</span>
</span><span id="L-1082"><a href="#L-1082"><span class="linenos">1082</span></a><span class="s2">            }</span>
</span><span id="L-1083"><a href="#L-1083"><span class="linenos">1083</span></a><span class="s2">            QPushButton:pressed {</span>
</span><span id="L-1084"><a href="#L-1084"><span class="linenos">1084</span></a><span class="s2">                background-color: #FFA000; /* Color de fondo dorado oscuro al presionar */</span>
</span><span id="L-1085"><a href="#L-1085"><span class="linenos">1085</span></a><span class="s2">            }</span>
</span><span id="L-1086"><a href="#L-1086"><span class="linenos">1086</span></a><span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="L-1087"><a href="#L-1087"><span class="linenos">1087</span></a>
</span><span id="L-1088"><a href="#L-1088"><span class="linenos">1088</span></a>    <span class="k">def</span> <span class="nf">victoria_mision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evento</span><span class="p">,</span> <span class="n">dialog</span><span class="p">):</span>
</span><span id="L-1089"><a href="#L-1089"><span class="linenos">1089</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1090"><a href="#L-1090"><span class="linenos">1090</span></a><span class="sd">        Maneja la victoria en la misión y guarda la recompensa en la base de datos.</span>
</span><span id="L-1091"><a href="#L-1091"><span class="linenos">1091</span></a>
</span><span id="L-1092"><a href="#L-1092"><span class="linenos">1092</span></a><span class="sd">        Este método se llama cuando el jugador completa exitosamente una misión. </span>
</span><span id="L-1093"><a href="#L-1093"><span class="linenos">1093</span></a><span class="sd">        Actualiza el documento correspondiente en la colección `PUNTOGUARDADO` </span>
</span><span id="L-1094"><a href="#L-1094"><span class="linenos">1094</span></a><span class="sd">        con la recompensa obtenida por el jugador. Luego, muestra un mensaje </span>
</span><span id="L-1095"><a href="#L-1095"><span class="linenos">1095</span></a><span class="sd">        de victoria con la recompensa.</span>
</span><span id="L-1096"><a href="#L-1096"><span class="linenos">1096</span></a>
</span><span id="L-1097"><a href="#L-1097"><span class="linenos">1097</span></a><span class="sd">        **Parametros**:</span>
</span><span id="L-1098"><a href="#L-1098"><span class="linenos">1098</span></a><span class="sd">        - `evento` (dict): Un diccionario con los detalles del evento de la misión ganada. </span>
</span><span id="L-1099"><a href="#L-1099"><span class="linenos">1099</span></a><span class="sd">          Ejemplo:</span>
</span><span id="L-1100"><a href="#L-1100"><span class="linenos">1100</span></a><span class="sd">          ```python</span>
</span><span id="L-1101"><a href="#L-1101"><span class="linenos">1101</span></a><span class="sd">          evento = {</span>
</span><span id="L-1102"><a href="#L-1102"><span class="linenos">1102</span></a><span class="sd">              &#39;nombre&#39;: &#39;Rescatar al aldeano&#39;,</span>
</span><span id="L-1103"><a href="#L-1103"><span class="linenos">1103</span></a><span class="sd">              &#39;descripcion&#39;: &#39;Has rescatado al aldeano perdido en el bosque.&#39;,</span>
</span><span id="L-1104"><a href="#L-1104"><span class="linenos">1104</span></a><span class="sd">              &#39;condiciones&#39;: &#39;Debes tener al menos 100 puntos de vida.&#39;,</span>
</span><span id="L-1105"><a href="#L-1105"><span class="linenos">1105</span></a><span class="sd">              &#39;recompensa&#39;: &#39;1000 monedas de oro&#39;</span>
</span><span id="L-1106"><a href="#L-1106"><span class="linenos">1106</span></a><span class="sd">          }</span>
</span><span id="L-1107"><a href="#L-1107"><span class="linenos">1107</span></a><span class="sd">          ```</span>
</span><span id="L-1108"><a href="#L-1108"><span class="linenos">1108</span></a><span class="sd">        - `dialog` (QWidget): La ventana de diálogo actual de la misión que se va a cerrar.</span>
</span><span id="L-1109"><a href="#L-1109"><span class="linenos">1109</span></a>
</span><span id="L-1110"><a href="#L-1110"><span class="linenos">1110</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="L-1111"><a href="#L-1111"><span class="linenos">1111</span></a><span class="sd">        ```python</span>
</span><span id="L-1112"><a href="#L-1112"><span class="linenos">1112</span></a><span class="sd">        self.victoria_mision(evento, mision_dialog)</span>
</span><span id="L-1113"><a href="#L-1113"><span class="linenos">1113</span></a><span class="sd">        ```</span>
</span><span id="L-1114"><a href="#L-1114"><span class="linenos">1114</span></a>
</span><span id="L-1115"><a href="#L-1115"><span class="linenos">1115</span></a><span class="sd">        **Exceptions**:</span>
</span><span id="L-1116"><a href="#L-1116"><span class="linenos">1116</span></a><span class="sd">        - Lanza `Exception` si ocurre un error al actualizar el documento en Firestore.</span>
</span><span id="L-1117"><a href="#L-1117"><span class="linenos">1117</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1118"><a href="#L-1118"><span class="linenos">1118</span></a>        <span class="n">dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>  <span class="c1"># Cierra el diálogo de misión</span>
</span><span id="L-1119"><a href="#L-1119"><span class="linenos">1119</span></a>        <span class="n">recompensa</span> <span class="o">=</span> <span class="n">evento</span><span class="p">[</span><span class="s1">&#39;recompensa&#39;</span><span class="p">]</span>
</span><span id="L-1120"><a href="#L-1120"><span class="linenos">1120</span></a>        <span class="n">sala</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Sala Actual: &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="L-1121"><a href="#L-1121"><span class="linenos">1121</span></a>        <span class="n">doc_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;unico_</span><span class="si">{</span><span class="n">sala</span><span class="si">}</span><span class="s1">&#39;</span>  <span class="c1"># Nombre único del documento basado en la sala</span>
</span><span id="L-1122"><a href="#L-1122"><span class="linenos">1122</span></a>
</span><span id="L-1123"><a href="#L-1123"><span class="linenos">1123</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-1124"><a href="#L-1124"><span class="linenos">1124</span></a>            <span class="c1"># Actualiza el documento existente en la colección PUNTOGUARDADO</span>
</span><span id="L-1125"><a href="#L-1125"><span class="linenos">1125</span></a>            <span class="n">doc_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;PUNTOGUARDADO&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">doc_id</span><span class="p">)</span>
</span><span id="L-1126"><a href="#L-1126"><span class="linenos">1126</span></a>            <span class="n">doc_ref</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
</span><span id="L-1127"><a href="#L-1127"><span class="linenos">1127</span></a>                <span class="s1">&#39;recompensa&#39;</span><span class="p">:</span> <span class="n">recompensa</span>
</span><span id="L-1128"><a href="#L-1128"><span class="linenos">1128</span></a>            <span class="p">})</span>
</span><span id="L-1129"><a href="#L-1129"><span class="linenos">1129</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Victoria&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;¡Has ganado! Recompensa: </span><span class="si">{</span><span class="n">recompensa</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-1130"><a href="#L-1130"><span class="linenos">1130</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-1131"><a href="#L-1131"><span class="linenos">1131</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error de Actualización&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Ocurrió un error al guardar la recompensa: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-1132"><a href="#L-1132"><span class="linenos">1132</span></a>
</span><span id="L-1133"><a href="#L-1133"><span class="linenos">1133</span></a>    <span class="k">def</span> <span class="nf">derrota_mision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evento</span><span class="p">,</span> <span class="n">dialog</span><span class="p">):</span>
</span><span id="L-1134"><a href="#L-1134"><span class="linenos">1134</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1135"><a href="#L-1135"><span class="linenos">1135</span></a><span class="sd">        Maneja la derrota en la misión y muestra la ventana de penalización.</span>
</span><span id="L-1136"><a href="#L-1136"><span class="linenos">1136</span></a>
</span><span id="L-1137"><a href="#L-1137"><span class="linenos">1137</span></a><span class="sd">        Este método se llama cuando el jugador falla en una misión. Cierra el diálogo</span>
</span><span id="L-1138"><a href="#L-1138"><span class="linenos">1138</span></a><span class="sd">        actual de la misión y muestra una ventana para seleccionar una penalización.</span>
</span><span id="L-1139"><a href="#L-1139"><span class="linenos">1139</span></a>
</span><span id="L-1140"><a href="#L-1140"><span class="linenos">1140</span></a><span class="sd">        **Parametros**:</span>
</span><span id="L-1141"><a href="#L-1141"><span class="linenos">1141</span></a><span class="sd">        - `evento` (dict): Un diccionario con los detalles del evento de la misión fallida. </span>
</span><span id="L-1142"><a href="#L-1142"><span class="linenos">1142</span></a><span class="sd">          Ejemplo:</span>
</span><span id="L-1143"><a href="#L-1143"><span class="linenos">1143</span></a><span class="sd">          ```python</span>
</span><span id="L-1144"><a href="#L-1144"><span class="linenos">1144</span></a><span class="sd">          evento = {</span>
</span><span id="L-1145"><a href="#L-1145"><span class="linenos">1145</span></a><span class="sd">              &#39;nombre&#39;: &#39;Rescatar al aldeano&#39;,</span>
</span><span id="L-1146"><a href="#L-1146"><span class="linenos">1146</span></a><span class="sd">              &#39;descripcion&#39;: &#39;No lograste rescatar al aldeano perdido en el bosque.&#39;,</span>
</span><span id="L-1147"><a href="#L-1147"><span class="linenos">1147</span></a><span class="sd">              &#39;condiciones&#39;: &#39;Debes tener al menos 100 puntos de vida.&#39;,</span>
</span><span id="L-1148"><a href="#L-1148"><span class="linenos">1148</span></a><span class="sd">              &#39;recompensa&#39;: &#39;1000 monedas de oro&#39;</span>
</span><span id="L-1149"><a href="#L-1149"><span class="linenos">1149</span></a><span class="sd">          }</span>
</span><span id="L-1150"><a href="#L-1150"><span class="linenos">1150</span></a><span class="sd">          ```</span>
</span><span id="L-1151"><a href="#L-1151"><span class="linenos">1151</span></a><span class="sd">        - `dialog` (QWidget): La ventana de diálogo actual de la misión que se va a cerrar.</span>
</span><span id="L-1152"><a href="#L-1152"><span class="linenos">1152</span></a>
</span><span id="L-1153"><a href="#L-1153"><span class="linenos">1153</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="L-1154"><a href="#L-1154"><span class="linenos">1154</span></a><span class="sd">        ```python</span>
</span><span id="L-1155"><a href="#L-1155"><span class="linenos">1155</span></a><span class="sd">        self.derrota_mision(evento, mision_dialog)</span>
</span><span id="L-1156"><a href="#L-1156"><span class="linenos">1156</span></a><span class="sd">        ```</span>
</span><span id="L-1157"><a href="#L-1157"><span class="linenos">1157</span></a>
</span><span id="L-1158"><a href="#L-1158"><span class="linenos">1158</span></a><span class="sd">        **Exceptions**:</span>
</span><span id="L-1159"><a href="#L-1159"><span class="linenos">1159</span></a><span class="sd">        - No se esperan excepciones, pero puede ocurrir un error en la carga de la penalización.</span>
</span><span id="L-1160"><a href="#L-1160"><span class="linenos">1160</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1161"><a href="#L-1161"><span class="linenos">1161</span></a>        <span class="n">dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>  <span class="c1"># Cierra el diálogo de misión</span>
</span><span id="L-1162"><a href="#L-1162"><span class="linenos">1162</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_penalizacion</span><span class="p">()</span>  <span class="c1"># Muestra la ventana de penalización</span>
</span><span id="L-1163"><a href="#L-1163"><span class="linenos">1163</span></a>
</span><span id="L-1164"><a href="#L-1164"><span class="linenos">1164</span></a>    <span class="k">def</span> <span class="nf">mostrar_penalizacion</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1165"><a href="#L-1165"><span class="linenos">1165</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1166"><a href="#L-1166"><span class="linenos">1166</span></a><span class="sd">        Muestra una ventana de penalización con una opción para seleccionar una penalización aleatoria.</span>
</span><span id="L-1167"><a href="#L-1167"><span class="linenos">1167</span></a>
</span><span id="L-1168"><a href="#L-1168"><span class="linenos">1168</span></a><span class="sd">        Este método crea una ventana de diálogo que presenta una penalización aleatoria </span>
</span><span id="L-1169"><a href="#L-1169"><span class="linenos">1169</span></a><span class="sd">        de la base de datos. El jugador puede cerrar la ventana para guardar la penalización </span>
</span><span id="L-1170"><a href="#L-1170"><span class="linenos">1170</span></a><span class="sd">        en la base de datos.</span>
</span><span id="L-1171"><a href="#L-1171"><span class="linenos">1171</span></a>
</span><span id="L-1172"><a href="#L-1172"><span class="linenos">1172</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="L-1173"><a href="#L-1173"><span class="linenos">1173</span></a><span class="sd">        ```python</span>
</span><span id="L-1174"><a href="#L-1174"><span class="linenos">1174</span></a><span class="sd">        self.mostrar_penalizacion()</span>
</span><span id="L-1175"><a href="#L-1175"><span class="linenos">1175</span></a><span class="sd">        ```</span>
</span><span id="L-1176"><a href="#L-1176"><span class="linenos">1176</span></a>
</span><span id="L-1177"><a href="#L-1177"><span class="linenos">1177</span></a><span class="sd">        **Exceptions**:</span>
</span><span id="L-1178"><a href="#L-1178"><span class="linenos">1178</span></a><span class="sd">        - Lanza `QMessageBox.warning` si no hay penalizaciones disponibles en la base de datos.</span>
</span><span id="L-1179"><a href="#L-1179"><span class="linenos">1179</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1180"><a href="#L-1180"><span class="linenos">1180</span></a>        <span class="n">penalizacion_dialog</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
</span><span id="L-1181"><a href="#L-1181"><span class="linenos">1181</span></a>        <span class="n">penalizacion_dialog</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Penalización&quot;</span><span class="p">)</span>
</span><span id="L-1182"><a href="#L-1182"><span class="linenos">1182</span></a>        <span class="n">penalizacion_dialog</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="L-1183"><a href="#L-1183"><span class="linenos">1183</span></a><span class="s2">        background-color: #f5f5dc; /* Color de fondo en caso de que la imagen no se cargue */</span>
</span><span id="L-1184"><a href="#L-1184"><span class="linenos">1184</span></a><span class="s2">        color: #3e3e3e; /* Color del texto oscuro para buen contraste */</span>
</span><span id="L-1185"><a href="#L-1185"><span class="linenos">1185</span></a><span class="s2">        border: 2px solid #8b4513; /* Borde marrón oscuro, como el pergamino envejecido */</span>
</span><span id="L-1186"><a href="#L-1186"><span class="linenos">1186</span></a><span class="s2">        border-radius: 10px; /* Bordes redondeados */</span>
</span><span id="L-1187"><a href="#L-1187"><span class="linenos">1187</span></a><span class="s2">        font-family: &#39;Times New Roman&#39;, serif; /* Fuente clásica que recuerda al papel antiguo */</span>
</span><span id="L-1188"><a href="#L-1188"><span class="linenos">1188</span></a><span class="s2">        padding: 10px;</span>
</span><span id="L-1189"><a href="#L-1189"><span class="linenos">1189</span></a><span class="s2">        background-image: url(&#39;fondos/31254.jpg&#39;);  /* Imagen de fondo de pergamino */</span>
</span><span id="L-1190"><a href="#L-1190"><span class="linenos">1190</span></a><span class="s2">        background-repeat: repeat;  /* Repetir la imagen de fondo */</span>
</span><span id="L-1191"><a href="#L-1191"><span class="linenos">1191</span></a><span class="s2">        background-size: cover;  /* Asegura que la imagen cubra toda la pantalla */</span>
</span><span id="L-1192"><a href="#L-1192"><span class="linenos">1192</span></a><span class="s2">        background-position: center;  /* Centra la imagen */</span>
</span><span id="L-1193"><a href="#L-1193"><span class="linenos">1193</span></a><span class="s2">    &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="L-1194"><a href="#L-1194"><span class="linenos">1194</span></a>        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
</span><span id="L-1195"><a href="#L-1195"><span class="linenos">1195</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>  <span class="c1"># Agregar márgenes</span>
</span><span id="L-1196"><a href="#L-1196"><span class="linenos">1196</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>  <span class="c1"># Agregar espaciado</span>
</span><span id="L-1197"><a href="#L-1197"><span class="linenos">1197</span></a>
</span><span id="L-1198"><a href="#L-1198"><span class="linenos">1198</span></a>        <span class="n">sala_text</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sala Actual: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="L-1199"><a href="#L-1199"><span class="linenos">1199</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">sala_text</span><span class="p">)</span>
</span><span id="L-1200"><a href="#L-1200"><span class="linenos">1200</span></a>
</span><span id="L-1201"><a href="#L-1201"><span class="linenos">1201</span></a>        <span class="c1"># Rescatar las penalizaciones de la base de datos</span>
</span><span id="L-1202"><a href="#L-1202"><span class="linenos">1202</span></a>        <span class="n">penalizaciones_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;penalizaciones&#39;</span><span class="p">)</span>
</span><span id="L-1203"><a href="#L-1203"><span class="linenos">1203</span></a>        <span class="n">penalizaciones</span> <span class="o">=</span> <span class="n">penalizaciones_ref</span><span class="o">.</span><span class="n">stream</span><span class="p">()</span>
</span><span id="L-1204"><a href="#L-1204"><span class="linenos">1204</span></a>        <span class="n">penalizacion_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">penalizacion</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">penalizacion</span> <span class="ow">in</span> <span class="n">penalizaciones</span><span class="p">]</span>
</span><span id="L-1205"><a href="#L-1205"><span class="linenos">1205</span></a>
</span><span id="L-1206"><a href="#L-1206"><span class="linenos">1206</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">penalizacion_list</span><span class="p">:</span>
</span><span id="L-1207"><a href="#L-1207"><span class="linenos">1207</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Sin Penalizaciones&#39;</span><span class="p">,</span> <span class="s1">&#39;No hay penalizaciones disponibles en la base de datos.&#39;</span><span class="p">)</span>
</span><span id="L-1208"><a href="#L-1208"><span class="linenos">1208</span></a>            <span class="k">return</span>
</span><span id="L-1209"><a href="#L-1209"><span class="linenos">1209</span></a>
</span><span id="L-1210"><a href="#L-1210"><span class="linenos">1210</span></a>        <span class="n">penalizacion</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">penalizacion_list</span><span class="p">)</span>
</span><span id="L-1211"><a href="#L-1211"><span class="linenos">1211</span></a>        <span class="n">penalizacion_info</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nombre: </span><span class="si">{</span><span class="n">penalizacion</span><span class="p">[</span><span class="s1">&#39;nombre&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Descripción: </span><span class="si">{</span><span class="n">penalizacion</span><span class="p">[</span><span class="s1">&#39;descripcion&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Efecto: </span><span class="si">{</span><span class="n">penalizacion</span><span class="p">[</span><span class="s1">&#39;efecto&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Lanzamiento Dado: </span><span class="si">{</span><span class="n">penalizacion</span><span class="p">[</span><span class="s1">&#39;lanzamiento_dado&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="L-1212"><a href="#L-1212"><span class="linenos">1212</span></a>        <span class="n">penalizacion_info</span><span class="o">.</span><span class="n">setWordWrap</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># Habilitar el ajuste de línea</span>
</span><span id="L-1213"><a href="#L-1213"><span class="linenos">1213</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">penalizacion_info</span><span class="p">)</span>
</span><span id="L-1214"><a href="#L-1214"><span class="linenos">1214</span></a>
</span><span id="L-1215"><a href="#L-1215"><span class="linenos">1215</span></a>        <span class="n">btn_cerrar</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Cerrar&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="L-1216"><a href="#L-1216"><span class="linenos">1216</span></a>        <span class="n">btn_cerrar</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;background-color: red; color: white;&quot;</span><span class="p">)</span>
</span><span id="L-1217"><a href="#L-1217"><span class="linenos">1217</span></a>
</span><span id="L-1218"><a href="#L-1218"><span class="linenos">1218</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn_cerrar</span><span class="p">)</span>
</span><span id="L-1219"><a href="#L-1219"><span class="linenos">1219</span></a>
</span><span id="L-1220"><a href="#L-1220"><span class="linenos">1220</span></a>        <span class="n">penalizacion_dialog</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
</span><span id="L-1221"><a href="#L-1221"><span class="linenos">1221</span></a>        <span class="n">penalizacion_dialog</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="L-1222"><a href="#L-1222"><span class="linenos">1222</span></a>
</span><span id="L-1223"><a href="#L-1223"><span class="linenos">1223</span></a>        <span class="n">btn_cerrar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">guardar_penalizacion</span><span class="p">(</span><span class="n">penalizacion</span><span class="p">,</span> <span class="n">penalizacion_dialog</span><span class="p">))</span>
</span><span id="L-1224"><a href="#L-1224"><span class="linenos">1224</span></a>
</span><span id="L-1225"><a href="#L-1225"><span class="linenos">1225</span></a>    <span class="k">def</span> <span class="nf">guardar_penalizacion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">penalizacion</span><span class="p">,</span> <span class="n">dialog</span><span class="p">):</span>
</span><span id="L-1226"><a href="#L-1226"><span class="linenos">1226</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1227"><a href="#L-1227"><span class="linenos">1227</span></a><span class="sd">        Guarda la penalización seleccionada en la base de datos.</span>
</span><span id="L-1228"><a href="#L-1228"><span class="linenos">1228</span></a>
</span><span id="L-1229"><a href="#L-1229"><span class="linenos">1229</span></a><span class="sd">        Este método actualiza el documento de `PUNTOGUARDADO` con la penalización seleccionada por el jugador.</span>
</span><span id="L-1230"><a href="#L-1230"><span class="linenos">1230</span></a>
</span><span id="L-1231"><a href="#L-1231"><span class="linenos">1231</span></a><span class="sd">        **Parametros**:</span>
</span><span id="L-1232"><a href="#L-1232"><span class="linenos">1232</span></a><span class="sd">        - `penalizacion` (dict): Un diccionario con los detalles de la penalización seleccionada. </span>
</span><span id="L-1233"><a href="#L-1233"><span class="linenos">1233</span></a><span class="sd">          Ejemplo:</span>
</span><span id="L-1234"><a href="#L-1234"><span class="linenos">1234</span></a><span class="sd">          ```python</span>
</span><span id="L-1235"><a href="#L-1235"><span class="linenos">1235</span></a><span class="sd">          penalizacion = {</span>
</span><span id="L-1236"><a href="#L-1236"><span class="linenos">1236</span></a><span class="sd">              &#39;nombre&#39;: &#39;Reducción de Puntos de Vida&#39;,</span>
</span><span id="L-1237"><a href="#L-1237"><span class="linenos">1237</span></a><span class="sd">              &#39;descripcion&#39;: &#39;Pierdes 50 puntos de vida.&#39;,</span>
</span><span id="L-1238"><a href="#L-1238"><span class="linenos">1238</span></a><span class="sd">              &#39;efecto&#39;: &#39;Reducir puntos de vida&#39;,</span>
</span><span id="L-1239"><a href="#L-1239"><span class="linenos">1239</span></a><span class="sd">              &#39;lanzamiento_dado&#39;: &#39;1d6&#39;</span>
</span><span id="L-1240"><a href="#L-1240"><span class="linenos">1240</span></a><span class="sd">          }</span>
</span><span id="L-1241"><a href="#L-1241"><span class="linenos">1241</span></a><span class="sd">          ```</span>
</span><span id="L-1242"><a href="#L-1242"><span class="linenos">1242</span></a><span class="sd">        - `dialog` (QWidget): La ventana de diálogo actual de penalización que se va a cerrar.</span>
</span><span id="L-1243"><a href="#L-1243"><span class="linenos">1243</span></a>
</span><span id="L-1244"><a href="#L-1244"><span class="linenos">1244</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="L-1245"><a href="#L-1245"><span class="linenos">1245</span></a><span class="sd">        ```python</span>
</span><span id="L-1246"><a href="#L-1246"><span class="linenos">1246</span></a><span class="sd">        self.guardar_penalizacion(penalizacion, penalizacion_dialog)</span>
</span><span id="L-1247"><a href="#L-1247"><span class="linenos">1247</span></a><span class="sd">        ```</span>
</span><span id="L-1248"><a href="#L-1248"><span class="linenos">1248</span></a>
</span><span id="L-1249"><a href="#L-1249"><span class="linenos">1249</span></a><span class="sd">        **Exceptions**:</span>
</span><span id="L-1250"><a href="#L-1250"><span class="linenos">1250</span></a><span class="sd">        - Lanza `Exception` si ocurre un error al actualizar el documento en Firestore.</span>
</span><span id="L-1251"><a href="#L-1251"><span class="linenos">1251</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1252"><a href="#L-1252"><span class="linenos">1252</span></a>        <span class="n">dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="L-1253"><a href="#L-1253"><span class="linenos">1253</span></a>        <span class="n">sala</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Sala Actual: &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="L-1254"><a href="#L-1254"><span class="linenos">1254</span></a>        <span class="n">doc_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;unico_</span><span class="si">{</span><span class="n">sala</span><span class="si">}</span><span class="s1">&#39;</span>  <span class="c1"># Nombre único del documento basado en la sala</span>
</span><span id="L-1255"><a href="#L-1255"><span class="linenos">1255</span></a>
</span><span id="L-1256"><a href="#L-1256"><span class="linenos">1256</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-1257"><a href="#L-1257"><span class="linenos">1257</span></a>            <span class="c1"># Actualiza el documento existente en la colección PUNTOGUARDADO</span>
</span><span id="L-1258"><a href="#L-1258"><span class="linenos">1258</span></a>            <span class="n">doc_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;PUNTOGUARDADO&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">doc_id</span><span class="p">)</span>
</span><span id="L-1259"><a href="#L-1259"><span class="linenos">1259</span></a>            <span class="n">doc_ref</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
</span><span id="L-1260"><a href="#L-1260"><span class="linenos">1260</span></a>                <span class="s1">&#39;penalizacion&#39;</span><span class="p">:</span> <span class="n">penalizacion</span><span class="p">[</span><span class="s1">&#39;descripcion&#39;</span><span class="p">]</span>
</span><span id="L-1261"><a href="#L-1261"><span class="linenos">1261</span></a>            <span class="p">})</span>
</span><span id="L-1262"><a href="#L-1262"><span class="linenos">1262</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Penalización&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Penalización: </span><span class="si">{</span><span class="n">penalizacion</span><span class="p">[</span><span class="s2">&quot;descripcion&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-1263"><a href="#L-1263"><span class="linenos">1263</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-1264"><a href="#L-1264"><span class="linenos">1264</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error de Actualización&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Ocurrió un error al guardar la penalización: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-1265"><a href="#L-1265"><span class="linenos">1265</span></a>
</span><span id="L-1266"><a href="#L-1266"><span class="linenos">1266</span></a>    <span class="k">def</span> <span class="nf">send_text_to_vita</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1267"><a href="#L-1267"><span class="linenos">1267</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1268"><a href="#L-1268"><span class="linenos">1268</span></a><span class="sd">        Envía el texto del campo `game_edit` al `tex_vita` y limpia el campo de texto.</span>
</span><span id="L-1269"><a href="#L-1269"><span class="linenos">1269</span></a>
</span><span id="L-1270"><a href="#L-1270"><span class="linenos">1270</span></a><span class="sd">        Este método toma el texto escrito en el campo `game_edit`, lo añade al `tex_vita`, </span>
</span><span id="L-1271"><a href="#L-1271"><span class="linenos">1271</span></a><span class="sd">        y luego limpia `game_edit` para permitir la entrada de nuevo texto.</span>
</span><span id="L-1272"><a href="#L-1272"><span class="linenos">1272</span></a>
</span><span id="L-1273"><a href="#L-1273"><span class="linenos">1273</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="L-1274"><a href="#L-1274"><span class="linenos">1274</span></a><span class="sd">        ```python</span>
</span><span id="L-1275"><a href="#L-1275"><span class="linenos">1275</span></a><span class="sd">        self.send_text_to_vita()</span>
</span><span id="L-1276"><a href="#L-1276"><span class="linenos">1276</span></a><span class="sd">        ```</span>
</span><span id="L-1277"><a href="#L-1277"><span class="linenos">1277</span></a>
</span><span id="L-1278"><a href="#L-1278"><span class="linenos">1278</span></a><span class="sd">        **Exceptions**:</span>
</span><span id="L-1279"><a href="#L-1279"><span class="linenos">1279</span></a><span class="sd">        - No se esperan excepciones en este método.</span>
</span><span id="L-1280"><a href="#L-1280"><span class="linenos">1280</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1281"><a href="#L-1281"><span class="linenos">1281</span></a>        <span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_edit</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">()</span>
</span><span id="L-1282"><a href="#L-1282"><span class="linenos">1282</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tex_vita</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</span><span id="L-1283"><a href="#L-1283"><span class="linenos">1283</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">game_edit</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="L-1284"><a href="#L-1284"><span class="linenos">1284</span></a>    
</span><span id="L-1285"><a href="#L-1285"><span class="linenos">1285</span></a>
</span><span id="L-1286"><a href="#L-1286"><span class="linenos">1286</span></a>    <span class="k">def</span> <span class="nf">save_bitacora</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1287"><a href="#L-1287"><span class="linenos">1287</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1288"><a href="#L-1288"><span class="linenos">1288</span></a><span class="sd">        Guarda una nueva entrada en la bitácora y añade campos adicionales si ya existe.</span>
</span><span id="L-1289"><a href="#L-1289"><span class="linenos">1289</span></a>
</span><span id="L-1290"><a href="#L-1290"><span class="linenos">1290</span></a><span class="sd">        Este método guarda el texto actual de la bitácora en la base de datos. Si el documento</span>
</span><span id="L-1291"><a href="#L-1291"><span class="linenos">1291</span></a><span class="sd">        ya existe en la colección `PUNTOGUARDADO`, agrega un nuevo campo de texto numerado </span>
</span><span id="L-1292"><a href="#L-1292"><span class="linenos">1292</span></a><span class="sd">        (`texto1`, `texto2`, etc.). Si el documento no existe, crea uno nuevo con el primer campo </span>
</span><span id="L-1293"><a href="#L-1293"><span class="linenos">1293</span></a><span class="sd">        de texto llamado `texto`.</span>
</span><span id="L-1294"><a href="#L-1294"><span class="linenos">1294</span></a>
</span><span id="L-1295"><a href="#L-1295"><span class="linenos">1295</span></a><span class="sd">        **Pasos del método**:</span>
</span><span id="L-1296"><a href="#L-1296"><span class="linenos">1296</span></a><span class="sd">        1. Obtiene el nombre de la sala desde el widget `sala_name`.</span>
</span><span id="L-1297"><a href="#L-1297"><span class="linenos">1297</span></a><span class="sd">        2. Obtiene el texto de la bitácora desde el widget `tex_vita`.</span>
</span><span id="L-1298"><a href="#L-1298"><span class="linenos">1298</span></a><span class="sd">        3. Construye un ID único para el documento basado en el nombre de la sala.</span>
</span><span id="L-1299"><a href="#L-1299"><span class="linenos">1299</span></a><span class="sd">        4. Intenta recuperar el documento desde Firestore.</span>
</span><span id="L-1300"><a href="#L-1300"><span class="linenos">1300</span></a><span class="sd">        5. Si el documento existe, cuenta los campos existentes que comienzan con &#39;texto&#39; y añade un nuevo campo `textoN+1`.</span>
</span><span id="L-1301"><a href="#L-1301"><span class="linenos">1301</span></a><span class="sd">        6. Si el documento no existe, crea un nuevo campo llamado `texto`.</span>
</span><span id="L-1302"><a href="#L-1302"><span class="linenos">1302</span></a><span class="sd">        7. Muestra un mensaje de éxito al usuario y guarda el ID del documento para uso futuro.</span>
</span><span id="L-1303"><a href="#L-1303"><span class="linenos">1303</span></a><span class="sd">        8. Maneja cualquier excepción que pueda ocurrir durante el proceso de actualización.</span>
</span><span id="L-1304"><a href="#L-1304"><span class="linenos">1304</span></a>
</span><span id="L-1305"><a href="#L-1305"><span class="linenos">1305</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="L-1306"><a href="#L-1306"><span class="linenos">1306</span></a><span class="sd">        ```python</span>
</span><span id="L-1307"><a href="#L-1307"><span class="linenos">1307</span></a><span class="sd">        self.save_bitacora()</span>
</span><span id="L-1308"><a href="#L-1308"><span class="linenos">1308</span></a><span class="sd">        ```</span>
</span><span id="L-1309"><a href="#L-1309"><span class="linenos">1309</span></a>
</span><span id="L-1310"><a href="#L-1310"><span class="linenos">1310</span></a><span class="sd">        **Exceptions**:</span>
</span><span id="L-1311"><a href="#L-1311"><span class="linenos">1311</span></a><span class="sd">        - Lanza `Exception` si ocurre un error al actualizar el documento en Firestore.</span>
</span><span id="L-1312"><a href="#L-1312"><span class="linenos">1312</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1313"><a href="#L-1313"><span class="linenos">1313</span></a>        <span class="n">sala</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Sala Actual: &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="L-1314"><a href="#L-1314"><span class="linenos">1314</span></a>        <span class="n">bitacora_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tex_vita</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">()</span>
</span><span id="L-1315"><a href="#L-1315"><span class="linenos">1315</span></a>        <span class="n">doc_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;unico_</span><span class="si">{</span><span class="n">sala</span><span class="si">}</span><span class="s1">&#39;</span>  <span class="c1"># Nombre único del documento basado en la sala</span>
</span><span id="L-1316"><a href="#L-1316"><span class="linenos">1316</span></a>
</span><span id="L-1317"><a href="#L-1317"><span class="linenos">1317</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-1318"><a href="#L-1318"><span class="linenos">1318</span></a>            <span class="c1"># Referencia al documento específico</span>
</span><span id="L-1319"><a href="#L-1319"><span class="linenos">1319</span></a>            <span class="n">doc_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;PUNTOGUARDADO&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">doc_id</span><span class="p">)</span>
</span><span id="L-1320"><a href="#L-1320"><span class="linenos">1320</span></a>            
</span><span id="L-1321"><a href="#L-1321"><span class="linenos">1321</span></a>            <span class="c1"># Recuperar el documento existente</span>
</span><span id="L-1322"><a href="#L-1322"><span class="linenos">1322</span></a>            <span class="n">doc</span> <span class="o">=</span> <span class="n">doc_ref</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</span><span id="L-1323"><a href="#L-1323"><span class="linenos">1323</span></a>
</span><span id="L-1324"><a href="#L-1324"><span class="linenos">1324</span></a>            <span class="k">if</span> <span class="n">doc</span><span class="o">.</span><span class="n">exists</span><span class="p">:</span>
</span><span id="L-1325"><a href="#L-1325"><span class="linenos">1325</span></a>                <span class="c1"># Documento existe, contar los campos existentes de &#39;texto&#39;</span>
</span><span id="L-1326"><a href="#L-1326"><span class="linenos">1326</span></a>                <span class="n">data</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</span><span id="L-1327"><a href="#L-1327"><span class="linenos">1327</span></a>                <span class="n">texto_count</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;texto&#39;</span><span class="p">))</span>
</span><span id="L-1328"><a href="#L-1328"><span class="linenos">1328</span></a>                <span class="n">nuevo_campo</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;texto</span><span class="si">{</span><span class="n">texto_count</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s1">&#39;</span>
</span><span id="L-1329"><a href="#L-1329"><span class="linenos">1329</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-1330"><a href="#L-1330"><span class="linenos">1330</span></a>                <span class="c1"># Documento no existe, usar &#39;texto&#39; como primer campo</span>
</span><span id="L-1331"><a href="#L-1331"><span class="linenos">1331</span></a>                <span class="n">nuevo_campo</span> <span class="o">=</span> <span class="s1">&#39;texto&#39;</span>
</span><span id="L-1332"><a href="#L-1332"><span class="linenos">1332</span></a>            
</span><span id="L-1333"><a href="#L-1333"><span class="linenos">1333</span></a>            <span class="c1"># Actualizar el documento con el nuevo campo</span>
</span><span id="L-1334"><a href="#L-1334"><span class="linenos">1334</span></a>            <span class="n">doc_ref</span><span class="o">.</span><span class="n">set</span><span class="p">({</span>
</span><span id="L-1335"><a href="#L-1335"><span class="linenos">1335</span></a>                <span class="s1">&#39;sala&#39;</span><span class="p">:</span> <span class="n">sala</span><span class="p">,</span>
</span><span id="L-1336"><a href="#L-1336"><span class="linenos">1336</span></a>                <span class="n">nuevo_campo</span><span class="p">:</span> <span class="n">bitacora_text</span>
</span><span id="L-1337"><a href="#L-1337"><span class="linenos">1337</span></a>            <span class="p">},</span> <span class="n">merge</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># merge=True para no sobrescribir otros campos</span>
</span><span id="L-1338"><a href="#L-1338"><span class="linenos">1338</span></a>            
</span><span id="L-1339"><a href="#L-1339"><span class="linenos">1339</span></a>            <span class="c1"># Muestra un mensaje de éxito</span>
</span><span id="L-1340"><a href="#L-1340"><span class="linenos">1340</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Éxito&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Bitácora guardada exitosamente. Campo añadido: </span><span class="si">{</span><span class="n">nuevo_campo</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-1341"><a href="#L-1341"><span class="linenos">1341</span></a>            
</span><span id="L-1342"><a href="#L-1342"><span class="linenos">1342</span></a>            <span class="c1"># Imprime el ID del documento en la consola</span>
</span><span id="L-1343"><a href="#L-1343"><span class="linenos">1343</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;ID del documento: </span><span class="si">{</span><span class="n">doc_id</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-1344"><a href="#L-1344"><span class="linenos">1344</span></a>            
</span><span id="L-1345"><a href="#L-1345"><span class="linenos">1345</span></a>            <span class="c1"># Guarda el ID del documento para su uso futuro (opcional)</span>
</span><span id="L-1346"><a href="#L-1346"><span class="linenos">1346</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">last_doc_id</span> <span class="o">=</span> <span class="n">doc_id</span>
</span><span id="L-1347"><a href="#L-1347"><span class="linenos">1347</span></a>
</span><span id="L-1348"><a href="#L-1348"><span class="linenos">1348</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-1349"><a href="#L-1349"><span class="linenos">1349</span></a>            <span class="c1"># Manejo de errores en caso de que ocurra una excepción</span>
</span><span id="L-1350"><a href="#L-1350"><span class="linenos">1350</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;No se pudo guardar la bitácora: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-1351"><a href="#L-1351"><span class="linenos">1351</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Error al guardar la bitácora: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-1352"><a href="#L-1352"><span class="linenos">1352</span></a>
</span><span id="L-1353"><a href="#L-1353"><span class="linenos">1353</span></a>
</span><span id="L-1354"><a href="#L-1354"><span class="linenos">1354</span></a>    <span class="k">def</span> <span class="nf">open_bitacora_history</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1355"><a href="#L-1355"><span class="linenos">1355</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1356"><a href="#L-1356"><span class="linenos">1356</span></a><span class="sd">        Abre una ventana con el historial de bitácoras.</span>
</span><span id="L-1357"><a href="#L-1357"><span class="linenos">1357</span></a>
</span><span id="L-1358"><a href="#L-1358"><span class="linenos">1358</span></a><span class="sd">        Este método muestra un diálogo con el historial de bitácoras para la sala actual. </span>
</span><span id="L-1359"><a href="#L-1359"><span class="linenos">1359</span></a><span class="sd">        Recupera la información del documento correspondiente en la colección `PUNTOGUARDADO` </span>
</span><span id="L-1360"><a href="#L-1360"><span class="linenos">1360</span></a><span class="sd">        y muestra los campos de texto almacenados en el documento, así como la recompensa </span>
</span><span id="L-1361"><a href="#L-1361"><span class="linenos">1361</span></a><span class="sd">        y la penalización. Si no hay bitácora disponible o ocurre un error, muestra un </span>
</span><span id="L-1362"><a href="#L-1362"><span class="linenos">1362</span></a><span class="sd">        mensaje de advertencia o error, respectivamente.</span>
</span><span id="L-1363"><a href="#L-1363"><span class="linenos">1363</span></a>
</span><span id="L-1364"><a href="#L-1364"><span class="linenos">1364</span></a><span class="sd">        **Pasos del método**:</span>
</span><span id="L-1365"><a href="#L-1365"><span class="linenos">1365</span></a><span class="sd">        1. Crea una nueva ventana de diálogo para mostrar el historial de bitácoras.</span>
</span><span id="L-1366"><a href="#L-1366"><span class="linenos">1366</span></a><span class="sd">        2. Configura el estilo del diálogo para imitar un pergamino antiguo.</span>
</span><span id="L-1367"><a href="#L-1367"><span class="linenos">1367</span></a><span class="sd">        3. Obtiene el nombre de la sala desde el widget `sala_name`.</span>
</span><span id="L-1368"><a href="#L-1368"><span class="linenos">1368</span></a><span class="sd">        4. Construye el ID del documento basado en el nombre de la sala.</span>
</span><span id="L-1369"><a href="#L-1369"><span class="linenos">1369</span></a><span class="sd">        5. Intenta recuperar el documento desde Firestore.</span>
</span><span id="L-1370"><a href="#L-1370"><span class="linenos">1370</span></a><span class="sd">        6. Si el documento existe, extrae y muestra la recompensa, penalización y los campos de texto.</span>
</span><span id="L-1371"><a href="#L-1371"><span class="linenos">1371</span></a><span class="sd">        7. Si el documento no existe, muestra un mensaje de advertencia y cierra el diálogo.</span>
</span><span id="L-1372"><a href="#L-1372"><span class="linenos">1372</span></a><span class="sd">        8. Maneja cualquier excepción que pueda ocurrir durante el proceso de recuperación.</span>
</span><span id="L-1373"><a href="#L-1373"><span class="linenos">1373</span></a><span class="sd">        9. Configura un botón para cerrar el diálogo.</span>
</span><span id="L-1374"><a href="#L-1374"><span class="linenos">1374</span></a>
</span><span id="L-1375"><a href="#L-1375"><span class="linenos">1375</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="L-1376"><a href="#L-1376"><span class="linenos">1376</span></a><span class="sd">        ```python</span>
</span><span id="L-1377"><a href="#L-1377"><span class="linenos">1377</span></a><span class="sd">        self.open_bitacora_history()</span>
</span><span id="L-1378"><a href="#L-1378"><span class="linenos">1378</span></a><span class="sd">        ```</span>
</span><span id="L-1379"><a href="#L-1379"><span class="linenos">1379</span></a>
</span><span id="L-1380"><a href="#L-1380"><span class="linenos">1380</span></a><span class="sd">        **Exceptions**:</span>
</span><span id="L-1381"><a href="#L-1381"><span class="linenos">1381</span></a><span class="sd">        - Lanza `QMessageBox.warning` si no hay bitácora disponible para la sala actual.</span>
</span><span id="L-1382"><a href="#L-1382"><span class="linenos">1382</span></a><span class="sd">        - Lanza `QMessageBox.critical` si ocurre un error al recuperar la bitácora desde Firestore.</span>
</span><span id="L-1383"><a href="#L-1383"><span class="linenos">1383</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1384"><a href="#L-1384"><span class="linenos">1384</span></a>        <span class="n">historial_dialog</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
</span><span id="L-1385"><a href="#L-1385"><span class="linenos">1385</span></a>        <span class="n">historial_dialog</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Historial de Bitácora&quot;</span><span class="p">)</span>
</span><span id="L-1386"><a href="#L-1386"><span class="linenos">1386</span></a>
</span><span id="L-1387"><a href="#L-1387"><span class="linenos">1387</span></a>        <span class="c1"># Estilos para el diálogo</span>
</span><span id="L-1388"><a href="#L-1388"><span class="linenos">1388</span></a>        <span class="n">historial_dialog</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="L-1389"><a href="#L-1389"><span class="linenos">1389</span></a><span class="s2">        background-color: #f5f5dc; /* Color de fondo en caso de que la imagen no se cargue */</span>
</span><span id="L-1390"><a href="#L-1390"><span class="linenos">1390</span></a><span class="s2">        color: #3e3e3e; /* Color del texto oscuro para buen contraste */</span>
</span><span id="L-1391"><a href="#L-1391"><span class="linenos">1391</span></a><span class="s2">        border: 2px solid #8b4513; /* Borde marrón oscuro, como el pergamino envejecido */</span>
</span><span id="L-1392"><a href="#L-1392"><span class="linenos">1392</span></a><span class="s2">        border-radius: 10px; /* Bordes redondeados */</span>
</span><span id="L-1393"><a href="#L-1393"><span class="linenos">1393</span></a><span class="s2">        font-family: &#39;Times New Roman&#39;, serif; /* Fuente clásica que recuerda al papel antiguo */</span>
</span><span id="L-1394"><a href="#L-1394"><span class="linenos">1394</span></a><span class="s2">        padding: 10px;</span>
</span><span id="L-1395"><a href="#L-1395"><span class="linenos">1395</span></a><span class="s2">        background-image: url(&#39;fondos/31254.jpg&#39;);  /* Imagen de fondo de pergamino */</span>
</span><span id="L-1396"><a href="#L-1396"><span class="linenos">1396</span></a><span class="s2">        background-repeat: repeat;  /* Repetir la imagen de fondo */</span>
</span><span id="L-1397"><a href="#L-1397"><span class="linenos">1397</span></a><span class="s2">        background-size: cover;  /* Asegura que la imagen cubra toda la pantalla */</span>
</span><span id="L-1398"><a href="#L-1398"><span class="linenos">1398</span></a><span class="s2">        background-position: center;  /* Centra la imagen */</span>
</span><span id="L-1399"><a href="#L-1399"><span class="linenos">1399</span></a><span class="s2">    &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="L-1400"><a href="#L-1400"><span class="linenos">1400</span></a>
</span><span id="L-1401"><a href="#L-1401"><span class="linenos">1401</span></a>        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
</span><span id="L-1402"><a href="#L-1402"><span class="linenos">1402</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
</span><span id="L-1403"><a href="#L-1403"><span class="linenos">1403</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
</span><span id="L-1404"><a href="#L-1404"><span class="linenos">1404</span></a>
</span><span id="L-1405"><a href="#L-1405"><span class="linenos">1405</span></a>        <span class="c1"># Obtener el nombre de la sala del QLabel</span>
</span><span id="L-1406"><a href="#L-1406"><span class="linenos">1406</span></a>        <span class="n">nombre_sala</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;Sala Actual: &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>  <span class="c1"># Obtener el texto del QLabel</span>
</span><span id="L-1407"><a href="#L-1407"><span class="linenos">1407</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nombre de la sala: </span><span class="si">{</span><span class="n">nombre_sala</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># Mensaje de depuración</span>
</span><span id="L-1408"><a href="#L-1408"><span class="linenos">1408</span></a>
</span><span id="L-1409"><a href="#L-1409"><span class="linenos">1409</span></a>        <span class="c1"># Construir el ID único del documento</span>
</span><span id="L-1410"><a href="#L-1410"><span class="linenos">1410</span></a>        <span class="n">unique_nombre_sala</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;unico_</span><span class="si">{</span><span class="n">nombre_sala</span><span class="si">}</span><span class="s1">&#39;</span>  <span class="c1"># Asumiendo que el ID es único_ + nombre_sala</span>
</span><span id="L-1411"><a href="#L-1411"><span class="linenos">1411</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ID del documento: </span><span class="si">{</span><span class="n">unique_nombre_sala</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># Mensaje de depuración</span>
</span><span id="L-1412"><a href="#L-1412"><span class="linenos">1412</span></a>
</span><span id="L-1413"><a href="#L-1413"><span class="linenos">1413</span></a>        <span class="n">sala_text</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sala Actual: </span><span class="si">{</span><span class="n">nombre_sala</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="L-1414"><a href="#L-1414"><span class="linenos">1414</span></a>        <span class="n">sala_text</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;font-size: 18px; font-weight: bold;&quot;</span><span class="p">)</span>
</span><span id="L-1415"><a href="#L-1415"><span class="linenos">1415</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">sala_text</span><span class="p">)</span>
</span><span id="L-1416"><a href="#L-1416"><span class="linenos">1416</span></a>
</span><span id="L-1417"><a href="#L-1417"><span class="linenos">1417</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-1418"><a href="#L-1418"><span class="linenos">1418</span></a>            <span class="c1"># Recuperar el documento usando `unique_nombre_sala` como ID</span>
</span><span id="L-1419"><a href="#L-1419"><span class="linenos">1419</span></a>            <span class="n">bitacora_doc_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;PUNTOGUARDADO&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">unique_nombre_sala</span><span class="p">)</span>
</span><span id="L-1420"><a href="#L-1420"><span class="linenos">1420</span></a>            <span class="n">bitacora_doc</span> <span class="o">=</span> <span class="n">bitacora_doc_ref</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</span><span id="L-1421"><a href="#L-1421"><span class="linenos">1421</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Documento recuperado: </span><span class="si">{</span><span class="n">bitacora_doc</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># Mensaje de depuración</span>
</span><span id="L-1422"><a href="#L-1422"><span class="linenos">1422</span></a>
</span><span id="L-1423"><a href="#L-1423"><span class="linenos">1423</span></a>            <span class="k">if</span> <span class="n">bitacora_doc</span><span class="o">.</span><span class="n">exists</span><span class="p">:</span>
</span><span id="L-1424"><a href="#L-1424"><span class="linenos">1424</span></a>                <span class="n">bitacora_data</span> <span class="o">=</span> <span class="n">bitacora_doc</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</span><span id="L-1425"><a href="#L-1425"><span class="linenos">1425</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Datos del documento: </span><span class="si">{</span><span class="n">bitacora_data</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># Mensaje de depuración</span>
</span><span id="L-1426"><a href="#L-1426"><span class="linenos">1426</span></a>                
</span><span id="L-1427"><a href="#L-1427"><span class="linenos">1427</span></a>                <span class="n">recompensa</span> <span class="o">=</span> <span class="n">bitacora_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;recompensa&#39;</span><span class="p">,</span> <span class="s1">&#39;N/A&#39;</span><span class="p">)</span>
</span><span id="L-1428"><a href="#L-1428"><span class="linenos">1428</span></a>                <span class="n">penalizacion</span> <span class="o">=</span> <span class="n">bitacora_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;penalizacion&#39;</span><span class="p">,</span> <span class="s1">&#39;N/A&#39;</span><span class="p">)</span>
</span><span id="L-1429"><a href="#L-1429"><span class="linenos">1429</span></a>                <span class="n">textos</span> <span class="o">=</span> <span class="p">[</span><span class="n">bitacora_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;texto</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">)]</span>  <span class="c1"># Recupera texto1 a texto7</span>
</span><span id="L-1430"><a href="#L-1430"><span class="linenos">1430</span></a>
</span><span id="L-1431"><a href="#L-1431"><span class="linenos">1431</span></a>                <span class="n">bitacora_texts</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="L-1432"><a href="#L-1432"><span class="linenos">1432</span></a>                    <span class="sa">f</span><span class="s2">&quot;Recompensa: </span><span class="si">{</span><span class="n">recompensa</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="L-1433"><a href="#L-1433"><span class="linenos">1433</span></a>                    <span class="sa">f</span><span class="s2">&quot;Penalización: </span><span class="si">{</span><span class="n">penalizacion</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="L-1434"><a href="#L-1434"><span class="linenos">1434</span></a>                    <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">textos</span><span class="p">)</span>  <span class="c1"># Muestra todos los textos</span>
</span><span id="L-1435"><a href="#L-1435"><span class="linenos">1435</span></a>                <span class="p">]</span>
</span><span id="L-1436"><a href="#L-1436"><span class="linenos">1436</span></a>
</span><span id="L-1437"><a href="#L-1437"><span class="linenos">1437</span></a>                <span class="n">historial_info</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bitacora_texts</span><span class="p">),</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="L-1438"><a href="#L-1438"><span class="linenos">1438</span></a>                <span class="n">historial_info</span><span class="o">.</span><span class="n">setWordWrap</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-1439"><a href="#L-1439"><span class="linenos">1439</span></a>                <span class="n">historial_info</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;font-size: 16px;&quot;</span><span class="p">)</span>  <span class="c1"># Tamaño de fuente para el texto</span>
</span><span id="L-1440"><a href="#L-1440"><span class="linenos">1440</span></a>                <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">historial_info</span><span class="p">)</span>
</span><span id="L-1441"><a href="#L-1441"><span class="linenos">1441</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-1442"><a href="#L-1442"><span class="linenos">1442</span></a>                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Sin Bitácora&#39;</span><span class="p">,</span> <span class="s1">&#39;No hay bitácora disponible para esta sala en la base de datos.&#39;</span><span class="p">)</span>
</span><span id="L-1443"><a href="#L-1443"><span class="linenos">1443</span></a>                <span class="n">historial_dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>  <span class="c1"># Cierra el diálogo si no hay bitácora</span>
</span><span id="L-1444"><a href="#L-1444"><span class="linenos">1444</span></a>                <span class="k">return</span>
</span><span id="L-1445"><a href="#L-1445"><span class="linenos">1445</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-1446"><a href="#L-1446"><span class="linenos">1446</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Ocurrió un error al recuperar la bitácora: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-1447"><a href="#L-1447"><span class="linenos">1447</span></a>            <span class="n">historial_dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>  <span class="c1"># Cierra el diálogo en caso de error</span>
</span><span id="L-1448"><a href="#L-1448"><span class="linenos">1448</span></a>            <span class="k">return</span>
</span><span id="L-1449"><a href="#L-1449"><span class="linenos">1449</span></a>
</span><span id="L-1450"><a href="#L-1450"><span class="linenos">1450</span></a>        <span class="n">btn_cerrar</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Cerrar&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="L-1451"><a href="#L-1451"><span class="linenos">1451</span></a>        <span class="n">btn_cerrar</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="L-1452"><a href="#L-1452"><span class="linenos">1452</span></a><span class="s2">            background-color: #8b4513; /* Color marrón oscuro */</span>
</span><span id="L-1453"><a href="#L-1453"><span class="linenos">1453</span></a><span class="s2">            color: #f5f5dc; /* Color beige claro para el texto */</span>
</span><span id="L-1454"><a href="#L-1454"><span class="linenos">1454</span></a><span class="s2">            font-size: 14px; /* Tamaño de fuente del botón */</span>
</span><span id="L-1455"><a href="#L-1455"><span class="linenos">1455</span></a><span class="s2">            border: 2px solid #6a3e2f; /* Borde del botón */</span>
</span><span id="L-1456"><a href="#L-1456"><span class="linenos">1456</span></a><span class="s2">            border-radius: 5px; /* Bordes redondeados del botón */</span>
</span><span id="L-1457"><a href="#L-1457"><span class="linenos">1457</span></a><span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="L-1458"><a href="#L-1458"><span class="linenos">1458</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn_cerrar</span><span class="p">)</span>
</span><span id="L-1459"><a href="#L-1459"><span class="linenos">1459</span></a>
</span><span id="L-1460"><a href="#L-1460"><span class="linenos">1460</span></a>        <span class="n">historial_dialog</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
</span><span id="L-1461"><a href="#L-1461"><span class="linenos">1461</span></a>        <span class="n">historial_dialog</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">600</span><span class="p">,</span> <span class="mi">400</span><span class="p">)</span>  <span class="c1"># Establecer un tamaño inicial para el diálogo</span>
</span><span id="L-1462"><a href="#L-1462"><span class="linenos">1462</span></a>
</span><span id="L-1463"><a href="#L-1463"><span class="linenos">1463</span></a>        <span class="c1"># Mensaje de depuración para verificar antes de mostrar el diálogo</span>
</span><span id="L-1464"><a href="#L-1464"><span class="linenos">1464</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Mostrando el diálogo de historial&quot;</span><span class="p">)</span>
</span><span id="L-1465"><a href="#L-1465"><span class="linenos">1465</span></a>
</span><span id="L-1466"><a href="#L-1466"><span class="linenos">1466</span></a>        <span class="n">historial_dialog</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="L-1467"><a href="#L-1467"><span class="linenos">1467</span></a>
</span><span id="L-1468"><a href="#L-1468"><span class="linenos">1468</span></a>        <span class="n">btn_cerrar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Botón Cerrar clickeado&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">historial_dialog</span><span class="o">.</span><span class="n">close</span><span class="p">())</span>
</span><span id="L-1469"><a href="#L-1469"><span class="linenos">1469</span></a>
</span><span id="L-1470"><a href="#L-1470"><span class="linenos">1470</span></a>
</span><span id="L-1471"><a href="#L-1471"><span class="linenos">1471</span></a>    <span class="k">def</span> <span class="nf">show_pagina_1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1472"><a href="#L-1472"><span class="linenos">1472</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1473"><a href="#L-1473"><span class="linenos">1473</span></a><span class="sd">        Muestra la `pagina_1` en el `QStackedWidget`.</span>
</span><span id="L-1474"><a href="#L-1474"><span class="linenos">1474</span></a>
</span><span id="L-1475"><a href="#L-1475"><span class="linenos">1475</span></a><span class="sd">        Este método cambia la vista actual del `QStackedWidget` a la página de índice `pagina_1`.</span>
</span><span id="L-1476"><a href="#L-1476"><span class="linenos">1476</span></a>
</span><span id="L-1477"><a href="#L-1477"><span class="linenos">1477</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="L-1478"><a href="#L-1478"><span class="linenos">1478</span></a><span class="sd">        ```python</span>
</span><span id="L-1479"><a href="#L-1479"><span class="linenos">1479</span></a><span class="sd">        self.show_pagina_1()</span>
</span><span id="L-1480"><a href="#L-1480"><span class="linenos">1480</span></a><span class="sd">        ```</span>
</span><span id="L-1481"><a href="#L-1481"><span class="linenos">1481</span></a>
</span><span id="L-1482"><a href="#L-1482"><span class="linenos">1482</span></a><span class="sd">        **Notas**:</span>
</span><span id="L-1483"><a href="#L-1483"><span class="linenos">1483</span></a><span class="sd">        - Este método no recibe parámetros ni retorna valores.</span>
</span><span id="L-1484"><a href="#L-1484"><span class="linenos">1484</span></a><span class="sd">        - Asegúrate de que `pagina_1` esté correctamente añadida al `QStackedWidget` para que este método funcione.</span>
</span><span id="L-1485"><a href="#L-1485"><span class="linenos">1485</span></a>
</span><span id="L-1486"><a href="#L-1486"><span class="linenos">1486</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="L-1487"><a href="#L-1487"><span class="linenos">1487</span></a><span class="sd">        - `pagina_1` debe ser una de las páginas añadidas al `QStackedWidget`.</span>
</span><span id="L-1488"><a href="#L-1488"><span class="linenos">1488</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1489"><a href="#L-1489"><span class="linenos">1489</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stackedWidget</span><span class="o">.</span><span class="n">setCurrentWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pagina_1</span><span class="p">)</span>
</span><span id="L-1490"><a href="#L-1490"><span class="linenos">1490</span></a>
</span><span id="L-1491"><a href="#L-1491"><span class="linenos">1491</span></a>
</span><span id="L-1492"><a href="#L-1492"><span class="linenos">1492</span></a>    <span class="k">def</span> <span class="nf">show_pagina_2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1493"><a href="#L-1493"><span class="linenos">1493</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1494"><a href="#L-1494"><span class="linenos">1494</span></a><span class="sd">        Muestra la `pagina_2` en el `QStackedWidget` y conecta el botón `btn_crearM` al método `crear_nueva_mision`.</span>
</span><span id="L-1495"><a href="#L-1495"><span class="linenos">1495</span></a>
</span><span id="L-1496"><a href="#L-1496"><span class="linenos">1496</span></a><span class="sd">        Este método cambia la vista actual del `QStackedWidget` a la página de índice `pagina_2` y configura el botón </span>
</span><span id="L-1497"><a href="#L-1497"><span class="linenos">1497</span></a><span class="sd">        `btn_crearM` para que llame al método `crear_nueva_mision` cuando se haga clic en él.</span>
</span><span id="L-1498"><a href="#L-1498"><span class="linenos">1498</span></a>
</span><span id="L-1499"><a href="#L-1499"><span class="linenos">1499</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="L-1500"><a href="#L-1500"><span class="linenos">1500</span></a><span class="sd">        ```python</span>
</span><span id="L-1501"><a href="#L-1501"><span class="linenos">1501</span></a><span class="sd">        self.show_pagina_2()</span>
</span><span id="L-1502"><a href="#L-1502"><span class="linenos">1502</span></a><span class="sd">        ```</span>
</span><span id="L-1503"><a href="#L-1503"><span class="linenos">1503</span></a>
</span><span id="L-1504"><a href="#L-1504"><span class="linenos">1504</span></a><span class="sd">        **Notas**:</span>
</span><span id="L-1505"><a href="#L-1505"><span class="linenos">1505</span></a><span class="sd">        - Este método configura el evento de clic para `btn_crearM` para crear una nueva misión.</span>
</span><span id="L-1506"><a href="#L-1506"><span class="linenos">1506</span></a><span class="sd">        - Asegúrate de que `btn_crearM` y `crear_nueva_mision` estén definidos y configurados correctamente.</span>
</span><span id="L-1507"><a href="#L-1507"><span class="linenos">1507</span></a>
</span><span id="L-1508"><a href="#L-1508"><span class="linenos">1508</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="L-1509"><a href="#L-1509"><span class="linenos">1509</span></a><span class="sd">        - `btn_crearM` debe ser un botón válido en `pagina_2`.</span>
</span><span id="L-1510"><a href="#L-1510"><span class="linenos">1510</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1511"><a href="#L-1511"><span class="linenos">1511</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stackedWidget</span><span class="o">.</span><span class="n">setCurrentWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pagina_2</span><span class="p">)</span>
</span><span id="L-1512"><a href="#L-1512"><span class="linenos">1512</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_crearM</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">crear_nueva_mision</span><span class="p">)</span>
</span><span id="L-1513"><a href="#L-1513"><span class="linenos">1513</span></a>
</span><span id="L-1514"><a href="#L-1514"><span class="linenos">1514</span></a>
</span><span id="L-1515"><a href="#L-1515"><span class="linenos">1515</span></a>    <span class="k">def</span> <span class="nf">crear_nueva_mision</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1516"><a href="#L-1516"><span class="linenos">1516</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1517"><a href="#L-1517"><span class="linenos">1517</span></a><span class="sd">        Crea una nueva misión y la guarda en la colección `evento` en Firestore.</span>
</span><span id="L-1518"><a href="#L-1518"><span class="linenos">1518</span></a>
</span><span id="L-1519"><a href="#L-1519"><span class="linenos">1519</span></a><span class="sd">        Este método toma los datos de los campos de texto de la misión, los valida, y los guarda en la colección `evento`.</span>
</span><span id="L-1520"><a href="#L-1520"><span class="linenos">1520</span></a><span class="sd">        Luego, limpia los campos de entrada y muestra un mensaje de éxito.</span>
</span><span id="L-1521"><a href="#L-1521"><span class="linenos">1521</span></a>
</span><span id="L-1522"><a href="#L-1522"><span class="linenos">1522</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="L-1523"><a href="#L-1523"><span class="linenos">1523</span></a><span class="sd">        ```python</span>
</span><span id="L-1524"><a href="#L-1524"><span class="linenos">1524</span></a><span class="sd">        self.crear_nueva_mision()</span>
</span><span id="L-1525"><a href="#L-1525"><span class="linenos">1525</span></a><span class="sd">        ```</span>
</span><span id="L-1526"><a href="#L-1526"><span class="linenos">1526</span></a>
</span><span id="L-1527"><a href="#L-1527"><span class="linenos">1527</span></a><span class="sd">        **Manejo de Errores**:</span>
</span><span id="L-1528"><a href="#L-1528"><span class="linenos">1528</span></a><span class="sd">        - Muestra un mensaje de advertencia si algún campo está vacío.</span>
</span><span id="L-1529"><a href="#L-1529"><span class="linenos">1529</span></a><span class="sd">        - Muestra un mensaje de éxito cuando la misión se crea y se guarda correctamente.</span>
</span><span id="L-1530"><a href="#L-1530"><span class="linenos">1530</span></a><span class="sd">        - Maneja errores durante la adición de la misión a Firestore y muestra un mensaje de error si ocurre una excepción.</span>
</span><span id="L-1531"><a href="#L-1531"><span class="linenos">1531</span></a>
</span><span id="L-1532"><a href="#L-1532"><span class="linenos">1532</span></a><span class="sd">        **Notas**:</span>
</span><span id="L-1533"><a href="#L-1533"><span class="linenos">1533</span></a><span class="sd">        - `name_m`, `descrip_m`, `tex_condi`, y `recom_m` deben ser `QTextEdit` o widgets similares con texto que no esté vacío.</span>
</span><span id="L-1534"><a href="#L-1534"><span class="linenos">1534</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1535"><a href="#L-1535"><span class="linenos">1535</span></a>        <span class="n">nombre</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">name_m</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">()</span>
</span><span id="L-1536"><a href="#L-1536"><span class="linenos">1536</span></a>        <span class="n">descripcion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">descrip_m</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">()</span>
</span><span id="L-1537"><a href="#L-1537"><span class="linenos">1537</span></a>        <span class="n">condiciones</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tex_condi</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">()</span>
</span><span id="L-1538"><a href="#L-1538"><span class="linenos">1538</span></a>        <span class="n">recompensa</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">recom_m</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">()</span>
</span><span id="L-1539"><a href="#L-1539"><span class="linenos">1539</span></a>
</span><span id="L-1540"><a href="#L-1540"><span class="linenos">1540</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">nombre</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">descripcion</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">condiciones</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">recompensa</span><span class="p">:</span>
</span><span id="L-1541"><a href="#L-1541"><span class="linenos">1541</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Campos Vacíos&#39;</span><span class="p">,</span> <span class="s1">&#39;Por favor, completa todos los campos.&#39;</span><span class="p">)</span>
</span><span id="L-1542"><a href="#L-1542"><span class="linenos">1542</span></a>            <span class="k">return</span>
</span><span id="L-1543"><a href="#L-1543"><span class="linenos">1543</span></a>
</span><span id="L-1544"><a href="#L-1544"><span class="linenos">1544</span></a>        <span class="n">nueva_mision</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-1545"><a href="#L-1545"><span class="linenos">1545</span></a>            <span class="s1">&#39;nombre&#39;</span><span class="p">:</span> <span class="n">nombre</span><span class="p">,</span>
</span><span id="L-1546"><a href="#L-1546"><span class="linenos">1546</span></a>            <span class="s1">&#39;descripcion&#39;</span><span class="p">:</span> <span class="n">descripcion</span><span class="p">,</span>
</span><span id="L-1547"><a href="#L-1547"><span class="linenos">1547</span></a>            <span class="s1">&#39;condiciones&#39;</span><span class="p">:</span> <span class="n">condiciones</span><span class="p">,</span>
</span><span id="L-1548"><a href="#L-1548"><span class="linenos">1548</span></a>            <span class="s1">&#39;recompensa&#39;</span><span class="p">:</span> <span class="n">recompensa</span>
</span><span id="L-1549"><a href="#L-1549"><span class="linenos">1549</span></a>        <span class="p">}</span>
</span><span id="L-1550"><a href="#L-1550"><span class="linenos">1550</span></a>
</span><span id="L-1551"><a href="#L-1551"><span class="linenos">1551</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-1552"><a href="#L-1552"><span class="linenos">1552</span></a>            <span class="n">eventos_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;evento&#39;</span><span class="p">)</span>
</span><span id="L-1553"><a href="#L-1553"><span class="linenos">1553</span></a>            <span class="n">eventos_ref</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">nueva_mision</span><span class="p">)</span>
</span><span id="L-1554"><a href="#L-1554"><span class="linenos">1554</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">name_m</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="L-1555"><a href="#L-1555"><span class="linenos">1555</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">descrip_m</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="L-1556"><a href="#L-1556"><span class="linenos">1556</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tex_condi</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="L-1557"><a href="#L-1557"><span class="linenos">1557</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">recom_m</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="L-1558"><a href="#L-1558"><span class="linenos">1558</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Misión Creada&#39;</span><span class="p">,</span> <span class="s1">&#39;La nueva misión ha sido creada y guardada en la base de datos.&#39;</span><span class="p">)</span>
</span><span id="L-1559"><a href="#L-1559"><span class="linenos">1559</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-1560"><a href="#L-1560"><span class="linenos">1560</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error al Crear Misión&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;No se pudo crear la misión: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-1561"><a href="#L-1561"><span class="linenos">1561</span></a>
</span><span id="L-1562"><a href="#L-1562"><span class="linenos">1562</span></a>
</span><span id="L-1563"><a href="#L-1563"><span class="linenos">1563</span></a>            <span class="n">nueva_mision</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-1564"><a href="#L-1564"><span class="linenos">1564</span></a>                <span class="s1">&#39;nombre&#39;</span><span class="p">:</span> <span class="n">nombre</span><span class="p">,</span>
</span><span id="L-1565"><a href="#L-1565"><span class="linenos">1565</span></a>                <span class="s1">&#39;descripcion&#39;</span><span class="p">:</span> <span class="n">descripcion</span><span class="p">,</span>
</span><span id="L-1566"><a href="#L-1566"><span class="linenos">1566</span></a>                <span class="s1">&#39;condiciones&#39;</span><span class="p">:</span> <span class="n">condiciones</span><span class="p">,</span>
</span><span id="L-1567"><a href="#L-1567"><span class="linenos">1567</span></a>                <span class="s1">&#39;recompensa&#39;</span><span class="p">:</span> <span class="n">recompensa</span>
</span><span id="L-1568"><a href="#L-1568"><span class="linenos">1568</span></a>            <span class="p">}</span>
</span><span id="L-1569"><a href="#L-1569"><span class="linenos">1569</span></a>
</span><span id="L-1570"><a href="#L-1570"><span class="linenos">1570</span></a>            
</span><span id="L-1571"><a href="#L-1571"><span class="linenos">1571</span></a>            <span class="n">eventos_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;evento&#39;</span><span class="p">)</span>
</span><span id="L-1572"><a href="#L-1572"><span class="linenos">1572</span></a>            <span class="n">eventos_ref</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">nueva_mision</span><span class="p">)</span>
</span><span id="L-1573"><a href="#L-1573"><span class="linenos">1573</span></a>
</span><span id="L-1574"><a href="#L-1574"><span class="linenos">1574</span></a>            
</span><span id="L-1575"><a href="#L-1575"><span class="linenos">1575</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">name_m</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="L-1576"><a href="#L-1576"><span class="linenos">1576</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">descrip_m</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="L-1577"><a href="#L-1577"><span class="linenos">1577</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tex_condi</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="L-1578"><a href="#L-1578"><span class="linenos">1578</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">recom_m</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="L-1579"><a href="#L-1579"><span class="linenos">1579</span></a>
</span><span id="L-1580"><a href="#L-1580"><span class="linenos">1580</span></a>        
</span><span id="L-1581"><a href="#L-1581"><span class="linenos">1581</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Misión Creada&#39;</span><span class="p">,</span> <span class="s1">&#39;La nueva misión ha sido creada y guardada en la base de datos.&#39;</span><span class="p">)</span>
</span><span id="L-1582"><a href="#L-1582"><span class="linenos">1582</span></a>        
</span><span id="L-1583"><a href="#L-1583"><span class="linenos">1583</span></a>
</span><span id="L-1584"><a href="#L-1584"><span class="linenos">1584</span></a>    <span class="k">def</span> <span class="nf">show_pagina_4</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1585"><a href="#L-1585"><span class="linenos">1585</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1586"><a href="#L-1586"><span class="linenos">1586</span></a><span class="sd">        Muestra la `pagina_4` en el `QStackedWidget` y agrega una tabla de personajes si no está agregada.</span>
</span><span id="L-1587"><a href="#L-1587"><span class="linenos">1587</span></a>
</span><span id="L-1588"><a href="#L-1588"><span class="linenos">1588</span></a><span class="sd">        Este método cambia la vista actual del `QStackedWidget` a la página de índice `pagina_4` y agrega la tabla de </span>
</span><span id="L-1589"><a href="#L-1589"><span class="linenos">1589</span></a><span class="sd">        personajes solo si aún no se ha agregado.</span>
</span><span id="L-1590"><a href="#L-1590"><span class="linenos">1590</span></a>
</span><span id="L-1591"><a href="#L-1591"><span class="linenos">1591</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="L-1592"><a href="#L-1592"><span class="linenos">1592</span></a><span class="sd">        ```python</span>
</span><span id="L-1593"><a href="#L-1593"><span class="linenos">1593</span></a><span class="sd">        self.show_pagina_4()</span>
</span><span id="L-1594"><a href="#L-1594"><span class="linenos">1594</span></a><span class="sd">        ```</span>
</span><span id="L-1595"><a href="#L-1595"><span class="linenos">1595</span></a>
</span><span id="L-1596"><a href="#L-1596"><span class="linenos">1596</span></a><span class="sd">        **Notas**:</span>
</span><span id="L-1597"><a href="#L-1597"><span class="linenos">1597</span></a><span class="sd">        - Asegúrate de que `pagina_4` esté correctamente añadida al `QStackedWidget`.</span>
</span><span id="L-1598"><a href="#L-1598"><span class="linenos">1598</span></a><span class="sd">        - `self.tabla_personajes_agregada` debe ser un atributo booleano inicializado en `False`.</span>
</span><span id="L-1599"><a href="#L-1599"><span class="linenos">1599</span></a>
</span><span id="L-1600"><a href="#L-1600"><span class="linenos">1600</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="L-1601"><a href="#L-1601"><span class="linenos">1601</span></a><span class="sd">        - La tabla de personajes debe ser añadida a un diseño de `pagina_4`.</span>
</span><span id="L-1602"><a href="#L-1602"><span class="linenos">1602</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1603"><a href="#L-1603"><span class="linenos">1603</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stackedWidget</span><span class="o">.</span><span class="n">setCurrentWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pagina_4</span><span class="p">)</span>
</span><span id="L-1604"><a href="#L-1604"><span class="linenos">1604</span></a>
</span><span id="L-1605"><a href="#L-1605"><span class="linenos">1605</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes_agregada</span><span class="p">:</span>
</span><span id="L-1606"><a href="#L-1606"><span class="linenos">1606</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">agregar_tabla_personajes</span><span class="p">()</span>
</span><span id="L-1607"><a href="#L-1607"><span class="linenos">1607</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes_agregada</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-1608"><a href="#L-1608"><span class="linenos">1608</span></a>
</span><span id="L-1609"><a href="#L-1609"><span class="linenos">1609</span></a>
</span><span id="L-1610"><a href="#L-1610"><span class="linenos">1610</span></a>    <span class="k">def</span> <span class="nf">show_pagina_3</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1611"><a href="#L-1611"><span class="linenos">1611</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1612"><a href="#L-1612"><span class="linenos">1612</span></a><span class="sd">        Muestra la `pagina_3` en el `QStackedWidget` y llama al método `cambio_etapa`.</span>
</span><span id="L-1613"><a href="#L-1613"><span class="linenos">1613</span></a>
</span><span id="L-1614"><a href="#L-1614"><span class="linenos">1614</span></a><span class="sd">        Este método cambia la vista actual del `QStackedWidget` a la página de índice `pagina_3` y realiza una </span>
</span><span id="L-1615"><a href="#L-1615"><span class="linenos">1615</span></a><span class="sd">        actualización basada en la selección del `comboBox_2`.</span>
</span><span id="L-1616"><a href="#L-1616"><span class="linenos">1616</span></a>
</span><span id="L-1617"><a href="#L-1617"><span class="linenos">1617</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="L-1618"><a href="#L-1618"><span class="linenos">1618</span></a><span class="sd">        ```python</span>
</span><span id="L-1619"><a href="#L-1619"><span class="linenos">1619</span></a><span class="sd">        self.show_pagina_3()</span>
</span><span id="L-1620"><a href="#L-1620"><span class="linenos">1620</span></a><span class="sd">        ```</span>
</span><span id="L-1621"><a href="#L-1621"><span class="linenos">1621</span></a>
</span><span id="L-1622"><a href="#L-1622"><span class="linenos">1622</span></a><span class="sd">        **Notas**:</span>
</span><span id="L-1623"><a href="#L-1623"><span class="linenos">1623</span></a><span class="sd">        - Asegúrate de que `pagina_3` esté correctamente añadida al `QStackedWidget`.</span>
</span><span id="L-1624"><a href="#L-1624"><span class="linenos">1624</span></a><span class="sd">        - `cambio_etapa` debe ser un método definido en la clase para manejar la selección del `comboBox_2`.</span>
</span><span id="L-1625"><a href="#L-1625"><span class="linenos">1625</span></a>
</span><span id="L-1626"><a href="#L-1626"><span class="linenos">1626</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="L-1627"><a href="#L-1627"><span class="linenos">1627</span></a><span class="sd">        - `comboBox_2` debe ser un widget `QComboBox` válido en `pagina_3`.</span>
</span><span id="L-1628"><a href="#L-1628"><span class="linenos">1628</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1629"><a href="#L-1629"><span class="linenos">1629</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stackedWidget</span><span class="o">.</span><span class="n">setCurrentWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pagina_3</span><span class="p">)</span>
</span><span id="L-1630"><a href="#L-1630"><span class="linenos">1630</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cambio_etapa</span><span class="p">()</span>
</span><span id="L-1631"><a href="#L-1631"><span class="linenos">1631</span></a>
</span><span id="L-1632"><a href="#L-1632"><span class="linenos">1632</span></a>    <span class="k">def</span> <span class="nf">cambio_etapa</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1633"><a href="#L-1633"><span class="linenos">1633</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1634"><a href="#L-1634"><span class="linenos">1634</span></a><span class="sd">        Actualiza la animación del QLabel `inicio_p` basado en la selección del `comboBox_2`.</span>
</span><span id="L-1635"><a href="#L-1635"><span class="linenos">1635</span></a>
</span><span id="L-1636"><a href="#L-1636"><span class="linenos">1636</span></a><span class="sd">        Este método obtiene el índice seleccionado en `comboBox_2`, detiene cualquier animación actual en `inicio_p`,</span>
</span><span id="L-1637"><a href="#L-1637"><span class="linenos">1637</span></a><span class="sd">        y establece una nueva animación basada en el índice seleccionado.</span>
</span><span id="L-1638"><a href="#L-1638"><span class="linenos">1638</span></a>
</span><span id="L-1639"><a href="#L-1639"><span class="linenos">1639</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="L-1640"><a href="#L-1640"><span class="linenos">1640</span></a><span class="sd">        ```python</span>
</span><span id="L-1641"><a href="#L-1641"><span class="linenos">1641</span></a><span class="sd">        self.cambio_etapa()</span>
</span><span id="L-1642"><a href="#L-1642"><span class="linenos">1642</span></a><span class="sd">        ```</span>
</span><span id="L-1643"><a href="#L-1643"><span class="linenos">1643</span></a>
</span><span id="L-1644"><a href="#L-1644"><span class="linenos">1644</span></a><span class="sd">        **Notas**:</span>
</span><span id="L-1645"><a href="#L-1645"><span class="linenos">1645</span></a><span class="sd">        - `comboBox_2` debe ser un widget `QComboBox` con varias opciones.</span>
</span><span id="L-1646"><a href="#L-1646"><span class="linenos">1646</span></a><span class="sd">        - `self.animations` debe ser un diccionario que mapea índices de `comboBox_2` a rutas de archivos GIF.</span>
</span><span id="L-1647"><a href="#L-1647"><span class="linenos">1647</span></a>
</span><span id="L-1648"><a href="#L-1648"><span class="linenos">1648</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="L-1649"><a href="#L-1649"><span class="linenos">1649</span></a><span class="sd">        - Asegúrate de que `self.animations` esté correctamente configurado con rutas válidas de archivos GIF.</span>
</span><span id="L-1650"><a href="#L-1650"><span class="linenos">1650</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1651"><a href="#L-1651"><span class="linenos">1651</span></a>        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">comboBox_2</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">()</span>
</span><span id="L-1652"><a href="#L-1652"><span class="linenos">1652</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ComboBox index changed to: </span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># Mensaje de depuración</span>
</span><span id="L-1653"><a href="#L-1653"><span class="linenos">1653</span></a>
</span><span id="L-1654"><a href="#L-1654"><span class="linenos">1654</span></a>        <span class="c1"># Detiene cualquier animación actual en el QLabel</span>
</span><span id="L-1655"><a href="#L-1655"><span class="linenos">1655</span></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;movie&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">movie</span><span class="p">:</span>
</span><span id="L-1656"><a href="#L-1656"><span class="linenos">1656</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">movie</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</span><span id="L-1657"><a href="#L-1657"><span class="linenos">1657</span></a>        
</span><span id="L-1658"><a href="#L-1658"><span class="linenos">1658</span></a>        <span class="c1"># Establece el nuevo GIF basado en la selección del QComboBox_2</span>
</span><span id="L-1659"><a href="#L-1659"><span class="linenos">1659</span></a>        <span class="n">gif_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">animations</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
</span><span id="L-1660"><a href="#L-1660"><span class="linenos">1660</span></a>        <span class="k">if</span> <span class="n">gif_path</span><span class="p">:</span>
</span><span id="L-1661"><a href="#L-1661"><span class="linenos">1661</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Loading GIF: </span><span class="si">{</span><span class="n">gif_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># Mensaje de depuración</span>
</span><span id="L-1662"><a href="#L-1662"><span class="linenos">1662</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">movie</span> <span class="o">=</span> <span class="n">QMovie</span><span class="p">(</span><span class="n">gif_path</span><span class="p">)</span>
</span><span id="L-1663"><a href="#L-1663"><span class="linenos">1663</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">inicio_p</span><span class="o">.</span><span class="n">setMovie</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">movie</span><span class="p">)</span>
</span><span id="L-1664"><a href="#L-1664"><span class="linenos">1664</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">movie</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</span><span id="L-1665"><a href="#L-1665"><span class="linenos">1665</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-1666"><a href="#L-1666"><span class="linenos">1666</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">inicio_p</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="L-1667"><a href="#L-1667"><span class="linenos">1667</span></a>
</span><span id="L-1668"><a href="#L-1668"><span class="linenos">1668</span></a>    <span class="k">def</span> <span class="nf">show_pagina_5</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1669"><a href="#L-1669"><span class="linenos">1669</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1670"><a href="#L-1670"><span class="linenos">1670</span></a><span class="sd">        Muestra la `pagina_5` en el `QStackedWidget`.</span>
</span><span id="L-1671"><a href="#L-1671"><span class="linenos">1671</span></a>
</span><span id="L-1672"><a href="#L-1672"><span class="linenos">1672</span></a><span class="sd">        Este método cambia la vista actual del `QStackedWidget` a la página de índice `pagina_5`.</span>
</span><span id="L-1673"><a href="#L-1673"><span class="linenos">1673</span></a>
</span><span id="L-1674"><a href="#L-1674"><span class="linenos">1674</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="L-1675"><a href="#L-1675"><span class="linenos">1675</span></a><span class="sd">        ```python</span>
</span><span id="L-1676"><a href="#L-1676"><span class="linenos">1676</span></a><span class="sd">        self.show_pagina_5()</span>
</span><span id="L-1677"><a href="#L-1677"><span class="linenos">1677</span></a><span class="sd">        ```</span>
</span><span id="L-1678"><a href="#L-1678"><span class="linenos">1678</span></a>
</span><span id="L-1679"><a href="#L-1679"><span class="linenos">1679</span></a><span class="sd">        **Notas**:</span>
</span><span id="L-1680"><a href="#L-1680"><span class="linenos">1680</span></a><span class="sd">        - Asegúrate de que `pagina_5` esté correctamente añadida al `QStackedWidget`.</span>
</span><span id="L-1681"><a href="#L-1681"><span class="linenos">1681</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1682"><a href="#L-1682"><span class="linenos">1682</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stackedWidget</span><span class="o">.</span><span class="n">setCurrentWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pagina_5</span><span class="p">)</span>
</span><span id="L-1683"><a href="#L-1683"><span class="linenos">1683</span></a>
</span><span id="L-1684"><a href="#L-1684"><span class="linenos">1684</span></a>        
</span><span id="L-1685"><a href="#L-1685"><span class="linenos">1685</span></a>    <span class="k">def</span> <span class="nf">agregar_tabla_personajes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1686"><a href="#L-1686"><span class="linenos">1686</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1687"><a href="#L-1687"><span class="linenos">1687</span></a><span class="sd">        Crea y agrega una tabla de personajes a `pagina_4`.</span>
</span><span id="L-1688"><a href="#L-1688"><span class="linenos">1688</span></a>
</span><span id="L-1689"><a href="#L-1689"><span class="linenos">1689</span></a><span class="sd">        Este método crea un `QTableWidget` con 7 columnas para mostrar detalles de personajes y los agrega a `pagina_4`.</span>
</span><span id="L-1690"><a href="#L-1690"><span class="linenos">1690</span></a><span class="sd">        También aplica un estilo a la tabla para que coincida con el diseño visual del resto de la aplicación.</span>
</span><span id="L-1691"><a href="#L-1691"><span class="linenos">1691</span></a>
</span><span id="L-1692"><a href="#L-1692"><span class="linenos">1692</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="L-1693"><a href="#L-1693"><span class="linenos">1693</span></a><span class="sd">        ```python</span>
</span><span id="L-1694"><a href="#L-1694"><span class="linenos">1694</span></a><span class="sd">        self.agregar_tabla_personajes()</span>
</span><span id="L-1695"><a href="#L-1695"><span class="linenos">1695</span></a><span class="sd">        ```</span>
</span><span id="L-1696"><a href="#L-1696"><span class="linenos">1696</span></a>
</span><span id="L-1697"><a href="#L-1697"><span class="linenos">1697</span></a><span class="sd">        **Notas**:</span>
</span><span id="L-1698"><a href="#L-1698"><span class="linenos">1698</span></a><span class="sd">        - Asegúrate de que `pagina_4` tenga un diseño adecuado para contener la tabla de personajes.</span>
</span><span id="L-1699"><a href="#L-1699"><span class="linenos">1699</span></a><span class="sd">        - `self.tabla_personajes_agregada` debe ser un atributo booleano inicializado en `False`.</span>
</span><span id="L-1700"><a href="#L-1700"><span class="linenos">1700</span></a>
</span><span id="L-1701"><a href="#L-1701"><span class="linenos">1701</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="L-1702"><a href="#L-1702"><span class="linenos">1702</span></a><span class="sd">        - `self.tabla_personajes` debe ser una instancia de `QTableWidget`.</span>
</span><span id="L-1703"><a href="#L-1703"><span class="linenos">1703</span></a><span class="sd">        - Asegúrate de que `self.tabla_personajes` se haya configurado correctamente antes de añadirlo a `pagina_4`.</span>
</span><span id="L-1704"><a href="#L-1704"><span class="linenos">1704</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1705"><a href="#L-1705"><span class="linenos">1705</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span> <span class="o">=</span> <span class="n">QTableWidget</span><span class="p">()</span>
</span><span id="L-1706"><a href="#L-1706"><span class="linenos">1706</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setColumnCount</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
</span><span id="L-1707"><a href="#L-1707"><span class="linenos">1707</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setHorizontalHeaderLabels</span><span class="p">([</span><span class="s2">&quot;Nombre&quot;</span><span class="p">,</span> <span class="s2">&quot;Nivel&quot;</span><span class="p">,</span> <span class="s2">&quot;Raza&quot;</span><span class="p">,</span> <span class="s2">&quot;Habilidades&quot;</span><span class="p">,</span> <span class="s2">&quot;Poderes&quot;</span><span class="p">,</span> <span class="s2">&quot;Equipamiento&quot;</span><span class="p">,</span> <span class="s2">&quot;Modificar&quot;</span><span class="p">])</span>
</span><span id="L-1708"><a href="#L-1708"><span class="linenos">1708</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">actualizar_tabla_personajes</span><span class="p">()</span>
</span><span id="L-1709"><a href="#L-1709"><span class="linenos">1709</span></a>
</span><span id="L-1710"><a href="#L-1710"><span class="linenos">1710</span></a>        <span class="c1"># Estilo para la tabla</span>
</span><span id="L-1711"><a href="#L-1711"><span class="linenos">1711</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="L-1712"><a href="#L-1712"><span class="linenos">1712</span></a><span class="s2">            QTableWidget {</span>
</span><span id="L-1713"><a href="#L-1713"><span class="linenos">1713</span></a><span class="s2">                border: 2px solid red; /* Borde exterior rojo */</span>
</span><span id="L-1714"><a href="#L-1714"><span class="linenos">1714</span></a><span class="s2">                border-radius: 5px; /* Esquinas redondeadas */</span>
</span><span id="L-1715"><a href="#L-1715"><span class="linenos">1715</span></a><span class="s2">                padding: 5px; /* Espaciado interno */</span>
</span><span id="L-1716"><a href="#L-1716"><span class="linenos">1716</span></a><span class="s2">            }</span>
</span><span id="L-1717"><a href="#L-1717"><span class="linenos">1717</span></a><span class="s2">            QHeaderView::section {</span>
</span><span id="L-1718"><a href="#L-1718"><span class="linenos">1718</span></a><span class="s2">                background-color: #DCE8F5; /* Color de fondo de las cabeceras */</span>
</span><span id="L-1719"><a href="#L-1719"><span class="linenos">1719</span></a><span class="s2">                color: #000000; /* Color del texto en las cabeceras */</span>
</span><span id="L-1720"><a href="#L-1720"><span class="linenos">1720</span></a><span class="s2">                padding: 10px; /* Espaciado interno de las cabeceras */</span>
</span><span id="L-1721"><a href="#L-1721"><span class="linenos">1721</span></a><span class="s2">                border: 1px solid #a0a0a0; /* Borde de las cabeceras */</span>
</span><span id="L-1722"><a href="#L-1722"><span class="linenos">1722</span></a><span class="s2">            }</span>
</span><span id="L-1723"><a href="#L-1723"><span class="linenos">1723</span></a><span class="s2">            QPushButton {</span>
</span><span id="L-1724"><a href="#L-1724"><span class="linenos">1724</span></a><span class="s2">                background-color: #FFD700; /* Color de fondo dorado */</span>
</span><span id="L-1725"><a href="#L-1725"><span class="linenos">1725</span></a><span class="s2">                color: #000000; /* Color del texto */</span>
</span><span id="L-1726"><a href="#L-1726"><span class="linenos">1726</span></a><span class="s2">                border: 2px solid #DAA520; /* Borde dorado oscuro */</span>
</span><span id="L-1727"><a href="#L-1727"><span class="linenos">1727</span></a><span class="s2">                border-radius: 5px; /* Esquinas redondeadas */</span>
</span><span id="L-1728"><a href="#L-1728"><span class="linenos">1728</span></a><span class="s2">                padding: 12px 20px; /* Espaciado interno del botón */</span>
</span><span id="L-1729"><a href="#L-1729"><span class="linenos">1729</span></a><span class="s2">                font-weight: bold; /* Texto en negrita */</span>
</span><span id="L-1730"><a href="#L-1730"><span class="linenos">1730</span></a><span class="s2">                min-width: 120px; /* Ancho mínimo del botón */</span>
</span><span id="L-1731"><a href="#L-1731"><span class="linenos">1731</span></a><span class="s2">                text-align: center; /* Alinear el texto al centro */</span>
</span><span id="L-1732"><a href="#L-1732"><span class="linenos">1732</span></a><span class="s2">            }</span>
</span><span id="L-1733"><a href="#L-1733"><span class="linenos">1733</span></a><span class="s2">            QPushButton:hover {</span>
</span><span id="L-1734"><a href="#L-1734"><span class="linenos">1734</span></a><span class="s2">                background-color: #FFC107; /* Color de fondo dorado al pasar el ratón */</span>
</span><span id="L-1735"><a href="#L-1735"><span class="linenos">1735</span></a><span class="s2">            }</span>
</span><span id="L-1736"><a href="#L-1736"><span class="linenos">1736</span></a><span class="s2">            QPushButton:pressed {</span>
</span><span id="L-1737"><a href="#L-1737"><span class="linenos">1737</span></a><span class="s2">                background-color: #FFA000; /* Color de fondo dorado oscuro al presionar */</span>
</span><span id="L-1738"><a href="#L-1738"><span class="linenos">1738</span></a><span class="s2">            }</span>
</span><span id="L-1739"><a href="#L-1739"><span class="linenos">1739</span></a><span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="L-1740"><a href="#L-1740"><span class="linenos">1740</span></a>
</span><span id="L-1741"><a href="#L-1741"><span class="linenos">1741</span></a>        <span class="n">layout</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pagina_4</span><span class="o">.</span><span class="n">layout</span><span class="p">()</span>
</span><span id="L-1742"><a href="#L-1742"><span class="linenos">1742</span></a>        <span class="k">if</span> <span class="n">layout</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-1743"><a href="#L-1743"><span class="linenos">1743</span></a>            <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pagina_4</span><span class="p">)</span>
</span><span id="L-1744"><a href="#L-1744"><span class="linenos">1744</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">pagina_4</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
</span><span id="L-1745"><a href="#L-1745"><span class="linenos">1745</span></a>        
</span><span id="L-1746"><a href="#L-1746"><span class="linenos">1746</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">layout</span><span class="p">,</span> <span class="n">QVBoxLayout</span><span class="p">):</span>
</span><span id="L-1747"><a href="#L-1747"><span class="linenos">1747</span></a>            <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="p">)</span>
</span><span id="L-1748"><a href="#L-1748"><span class="linenos">1748</span></a>
</span><span id="L-1749"><a href="#L-1749"><span class="linenos">1749</span></a>
</span><span id="L-1750"><a href="#L-1750"><span class="linenos">1750</span></a>    <span class="k">def</span> <span class="nf">actualizar_tabla_personajes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1751"><a href="#L-1751"><span class="linenos">1751</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1752"><a href="#L-1752"><span class="linenos">1752</span></a><span class="sd">        Actualiza la tabla de personajes en `pagina_4` con datos de la colección `personajes` en Firestore.</span>
</span><span id="L-1753"><a href="#L-1753"><span class="linenos">1753</span></a>
</span><span id="L-1754"><a href="#L-1754"><span class="linenos">1754</span></a><span class="sd">        Este método recupera los datos de todos los personajes, los muestra en una tabla, y agrega un botón de modificación a cada fila.</span>
</span><span id="L-1755"><a href="#L-1755"><span class="linenos">1755</span></a>
</span><span id="L-1756"><a href="#L-1756"><span class="linenos">1756</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="L-1757"><a href="#L-1757"><span class="linenos">1757</span></a><span class="sd">        ```python</span>
</span><span id="L-1758"><a href="#L-1758"><span class="linenos">1758</span></a><span class="sd">        self.actualizar_tabla_personajes()</span>
</span><span id="L-1759"><a href="#L-1759"><span class="linenos">1759</span></a><span class="sd">        ```</span>
</span><span id="L-1760"><a href="#L-1760"><span class="linenos">1760</span></a>
</span><span id="L-1761"><a href="#L-1761"><span class="linenos">1761</span></a><span class="sd">        **Notas**:</span>
</span><span id="L-1762"><a href="#L-1762"><span class="linenos">1762</span></a><span class="sd">        - `self.tabla_personajes` debe ser un `QTableWidget` con 7 columnas: Nombre, Nivel, Raza, Habilidades, Poderes, Equipamiento, Modificar.</span>
</span><span id="L-1763"><a href="#L-1763"><span class="linenos">1763</span></a><span class="sd">        - El campo `habilidades` se convierte de un diccionario a una cadena de texto en el formato `&quot;Habilidad: valor\n&quot;`.</span>
</span><span id="L-1764"><a href="#L-1764"><span class="linenos">1764</span></a><span class="sd">        - El campo `poderes` también se convierte de un diccionario a una cadena de texto en el mismo formato.</span>
</span><span id="L-1765"><a href="#L-1765"><span class="linenos">1765</span></a>
</span><span id="L-1766"><a href="#L-1766"><span class="linenos">1766</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="L-1767"><a href="#L-1767"><span class="linenos">1767</span></a><span class="sd">        - Asegúrate de que `self.tabla_personajes` esté correctamente inicializado antes de llamar a este método.</span>
</span><span id="L-1768"><a href="#L-1768"><span class="linenos">1768</span></a><span class="sd">        - Verifica que los datos en Firestore estén en el formato correcto.</span>
</span><span id="L-1769"><a href="#L-1769"><span class="linenos">1769</span></a>
</span><span id="L-1770"><a href="#L-1770"><span class="linenos">1770</span></a><span class="sd">        **Modificaciones**:</span>
</span><span id="L-1771"><a href="#L-1771"><span class="linenos">1771</span></a><span class="sd">        - Asegúrate de que las habilidades y poderes estén en el formato adecuado para mostrarse en la tabla.</span>
</span><span id="L-1772"><a href="#L-1772"><span class="linenos">1772</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1773"><a href="#L-1773"><span class="linenos">1773</span></a>        <span class="n">personajes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">recuperar_personajes</span><span class="p">()</span>
</span><span id="L-1774"><a href="#L-1774"><span class="linenos">1774</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">personajes</span><span class="p">))</span>
</span><span id="L-1775"><a href="#L-1775"><span class="linenos">1775</span></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">personaje</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">personajes</span><span class="p">):</span>
</span><span id="L-1776"><a href="#L-1776"><span class="linenos">1776</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nombre&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))))</span>
</span><span id="L-1777"><a href="#L-1777"><span class="linenos">1777</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nivel&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))))</span>
</span><span id="L-1778"><a href="#L-1778"><span class="linenos">1778</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;raza&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))))</span>
</span><span id="L-1779"><a href="#L-1779"><span class="linenos">1779</span></a>            
</span><span id="L-1780"><a href="#L-1780"><span class="linenos">1780</span></a>            <span class="c1"># Mostrar habilidades como una cadena concatenada</span>
</span><span id="L-1781"><a href="#L-1781"><span class="linenos">1781</span></a>            <span class="n">habilidades</span> <span class="o">=</span> <span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;habilidades&quot;</span><span class="p">,</span> <span class="p">{})</span>
</span><span id="L-1782"><a href="#L-1782"><span class="linenos">1782</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">habilidades</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="L-1783"><a href="#L-1783"><span class="linenos">1783</span></a>                <span class="n">habilidades_texto</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">habilidades</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
</span><span id="L-1784"><a href="#L-1784"><span class="linenos">1784</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-1785"><a href="#L-1785"><span class="linenos">1785</span></a>                <span class="n">habilidades_texto</span> <span class="o">=</span> <span class="n">habilidades</span>  <span class="c1"># Asumimos que es una cadena ya formateada</span>
</span><span id="L-1786"><a href="#L-1786"><span class="linenos">1786</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">habilidades_texto</span><span class="p">))</span>
</span><span id="L-1787"><a href="#L-1787"><span class="linenos">1787</span></a>            
</span><span id="L-1788"><a href="#L-1788"><span class="linenos">1788</span></a>            <span class="c1"># Mostrar poderes como una cadena concatenada</span>
</span><span id="L-1789"><a href="#L-1789"><span class="linenos">1789</span></a>            <span class="n">poderes</span> <span class="o">=</span> <span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;poderes&quot;</span><span class="p">,</span> <span class="p">{})</span>
</span><span id="L-1790"><a href="#L-1790"><span class="linenos">1790</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">poderes</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="L-1791"><a href="#L-1791"><span class="linenos">1791</span></a>                <span class="n">poderes_texto</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">poderes</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
</span><span id="L-1792"><a href="#L-1792"><span class="linenos">1792</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-1793"><a href="#L-1793"><span class="linenos">1793</span></a>                <span class="n">poderes_texto</span> <span class="o">=</span> <span class="n">poderes</span>  <span class="c1"># Asumimos que es una cadena ya formateada</span>
</span><span id="L-1794"><a href="#L-1794"><span class="linenos">1794</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">poderes_texto</span><span class="p">))</span>
</span><span id="L-1795"><a href="#L-1795"><span class="linenos">1795</span></a>            
</span><span id="L-1796"><a href="#L-1796"><span class="linenos">1796</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;equipamiento&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))))</span>
</span><span id="L-1797"><a href="#L-1797"><span class="linenos">1797</span></a>            
</span><span id="L-1798"><a href="#L-1798"><span class="linenos">1798</span></a>            <span class="c1"># Añadir botón de modificar</span>
</span><span id="L-1799"><a href="#L-1799"><span class="linenos">1799</span></a>            <span class="n">btn_modificar</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Modificar&quot;</span><span class="p">)</span>
</span><span id="L-1800"><a href="#L-1800"><span class="linenos">1800</span></a>            <span class="n">btn_modificar</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="L-1801"><a href="#L-1801"><span class="linenos">1801</span></a><span class="s2">                QPushButton {</span>
</span><span id="L-1802"><a href="#L-1802"><span class="linenos">1802</span></a><span class="s2">                    background-color: #FFD700; /* Color de fondo dorado */</span>
</span><span id="L-1803"><a href="#L-1803"><span class="linenos">1803</span></a><span class="s2">                    color: #000000; /* Color del texto */</span>
</span><span id="L-1804"><a href="#L-1804"><span class="linenos">1804</span></a><span class="s2">                    border: 2px solid #DAA520; /* Borde dorado oscuro */</span>
</span><span id="L-1805"><a href="#L-1805"><span class="linenos">1805</span></a><span class="s2">                    border-radius: 5px; /* Esquinas redondeadas */</span>
</span><span id="L-1806"><a href="#L-1806"><span class="linenos">1806</span></a><span class="s2">                    padding: 12px 20px; /* Espaciado interno del botón */</span>
</span><span id="L-1807"><a href="#L-1807"><span class="linenos">1807</span></a><span class="s2">                    font-weight: bold; /* Texto en negrita */</span>
</span><span id="L-1808"><a href="#L-1808"><span class="linenos">1808</span></a><span class="s2">                    min-width: 120px; /* Ancho mínimo del botón */</span>
</span><span id="L-1809"><a href="#L-1809"><span class="linenos">1809</span></a><span class="s2">                    text-align: center; /* Alinear el texto al centro */</span>
</span><span id="L-1810"><a href="#L-1810"><span class="linenos">1810</span></a><span class="s2">                }</span>
</span><span id="L-1811"><a href="#L-1811"><span class="linenos">1811</span></a><span class="s2">                QPushButton:hover {</span>
</span><span id="L-1812"><a href="#L-1812"><span class="linenos">1812</span></a><span class="s2">                    background-color: #FFC107; /* Color de fondo dorado al pasar el ratón */</span>
</span><span id="L-1813"><a href="#L-1813"><span class="linenos">1813</span></a><span class="s2">                }</span>
</span><span id="L-1814"><a href="#L-1814"><span class="linenos">1814</span></a><span class="s2">                QPushButton:pressed {</span>
</span><span id="L-1815"><a href="#L-1815"><span class="linenos">1815</span></a><span class="s2">                    background-color: #FFA000; /* Color de fondo dorado oscuro al presionar */</span>
</span><span id="L-1816"><a href="#L-1816"><span class="linenos">1816</span></a><span class="s2">                }</span>
</span><span id="L-1817"><a href="#L-1817"><span class="linenos">1817</span></a><span class="s2">            &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="L-1818"><a href="#L-1818"><span class="linenos">1818</span></a>            <span class="n">btn_modificar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span> <span class="n">_</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="n">i</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">modificar_personaje</span><span class="p">(</span><span class="n">row</span><span class="p">))</span>
</span><span id="L-1819"><a href="#L-1819"><span class="linenos">1819</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setCellWidget</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">btn_modificar</span><span class="p">)</span>
</span><span id="L-1820"><a href="#L-1820"><span class="linenos">1820</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setRowHeight</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>  <span class="c1"># Asegúrate de que haya suficiente altura para el botón</span>
</span><span id="L-1821"><a href="#L-1821"><span class="linenos">1821</span></a>
</span><span id="L-1822"><a href="#L-1822"><span class="linenos">1822</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">resizeColumnsToContents</span><span class="p">()</span>
</span><span id="L-1823"><a href="#L-1823"><span class="linenos">1823</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">horizontalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">setSectionResizeMode</span><span class="p">(</span><span class="n">QHeaderView</span><span class="o">.</span><span class="n">Stretch</span><span class="p">)</span>
</span><span id="L-1824"><a href="#L-1824"><span class="linenos">1824</span></a>
</span><span id="L-1825"><a href="#L-1825"><span class="linenos">1825</span></a>
</span><span id="L-1826"><a href="#L-1826"><span class="linenos">1826</span></a>
</span><span id="L-1827"><a href="#L-1827"><span class="linenos">1827</span></a>    <span class="k">def</span> <span class="nf">recuperar_personajes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1828"><a href="#L-1828"><span class="linenos">1828</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1829"><a href="#L-1829"><span class="linenos">1829</span></a><span class="sd">        Recupera todos los personajes de la colección `personajes` en Firestore.</span>
</span><span id="L-1830"><a href="#L-1830"><span class="linenos">1830</span></a>
</span><span id="L-1831"><a href="#L-1831"><span class="linenos">1831</span></a><span class="sd">        Este método recupera los documentos de personajes y devuelve una lista de diccionarios que representan los personajes.</span>
</span><span id="L-1832"><a href="#L-1832"><span class="linenos">1832</span></a>
</span><span id="L-1833"><a href="#L-1833"><span class="linenos">1833</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="L-1834"><a href="#L-1834"><span class="linenos">1834</span></a><span class="sd">        ```python</span>
</span><span id="L-1835"><a href="#L-1835"><span class="linenos">1835</span></a><span class="sd">        personajes = self.recuperar_personajes()</span>
</span><span id="L-1836"><a href="#L-1836"><span class="linenos">1836</span></a><span class="sd">        ```</span>
</span><span id="L-1837"><a href="#L-1837"><span class="linenos">1837</span></a>
</span><span id="L-1838"><a href="#L-1838"><span class="linenos">1838</span></a><span class="sd">        **Notas**:</span>
</span><span id="L-1839"><a href="#L-1839"><span class="linenos">1839</span></a><span class="sd">        - Cada diccionario incluye el ID del documento (`personaje[&#39;id&#39;]`) para futuras referencias.</span>
</span><span id="L-1840"><a href="#L-1840"><span class="linenos">1840</span></a><span class="sd">        - Asegúrate de que la colección `personajes` exista en Firestore y contenga documentos válidos.</span>
</span><span id="L-1841"><a href="#L-1841"><span class="linenos">1841</span></a>
</span><span id="L-1842"><a href="#L-1842"><span class="linenos">1842</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="L-1843"><a href="#L-1843"><span class="linenos">1843</span></a><span class="sd">        - Verifica la conexión a Firestore y que la colección `personajes` esté correctamente configurada.</span>
</span><span id="L-1844"><a href="#L-1844"><span class="linenos">1844</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1845"><a href="#L-1845"><span class="linenos">1845</span></a>        <span class="n">personajes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-1846"><a href="#L-1846"><span class="linenos">1846</span></a>        <span class="n">docs</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s2">&quot;personajes&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">stream</span><span class="p">()</span>
</span><span id="L-1847"><a href="#L-1847"><span class="linenos">1847</span></a>        <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">docs</span><span class="p">:</span>
</span><span id="L-1848"><a href="#L-1848"><span class="linenos">1848</span></a>            <span class="n">personaje</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</span><span id="L-1849"><a href="#L-1849"><span class="linenos">1849</span></a>            <span class="n">personaje</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">id</span>  <span class="c1"># Agregar el ID del documento para futuras referencias</span>
</span><span id="L-1850"><a href="#L-1850"><span class="linenos">1850</span></a>            <span class="n">personajes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">personaje</span><span class="p">)</span>
</span><span id="L-1851"><a href="#L-1851"><span class="linenos">1851</span></a>        <span class="k">return</span> <span class="n">personajes</span>
</span><span id="L-1852"><a href="#L-1852"><span class="linenos">1852</span></a>
</span><span id="L-1853"><a href="#L-1853"><span class="linenos">1853</span></a>    
</span><span id="L-1854"><a href="#L-1854"><span class="linenos">1854</span></a>    <span class="k">def</span> <span class="nf">modificar_personaje</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">row</span><span class="p">):</span>
</span><span id="L-1855"><a href="#L-1855"><span class="linenos">1855</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1856"><a href="#L-1856"><span class="linenos">1856</span></a><span class="sd">        Modifica los datos del personaje en la fila seleccionada de la tabla y actualiza la base de datos.</span>
</span><span id="L-1857"><a href="#L-1857"><span class="linenos">1857</span></a>
</span><span id="L-1858"><a href="#L-1858"><span class="linenos">1858</span></a><span class="sd">        Este método obtiene los datos de la fila seleccionada, actualiza el personaje correspondiente en Firestore, </span>
</span><span id="L-1859"><a href="#L-1859"><span class="linenos">1859</span></a><span class="sd">        y muestra un mensaje de éxito.</span>
</span><span id="L-1860"><a href="#L-1860"><span class="linenos">1860</span></a>
</span><span id="L-1861"><a href="#L-1861"><span class="linenos">1861</span></a><span class="sd">        **Parámetros**:</span>
</span><span id="L-1862"><a href="#L-1862"><span class="linenos">1862</span></a><span class="sd">        - `row`: El índice de la fila seleccionada en la tabla de personajes.</span>
</span><span id="L-1863"><a href="#L-1863"><span class="linenos">1863</span></a>
</span><span id="L-1864"><a href="#L-1864"><span class="linenos">1864</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="L-1865"><a href="#L-1865"><span class="linenos">1865</span></a><span class="sd">        ```python</span>
</span><span id="L-1866"><a href="#L-1866"><span class="linenos">1866</span></a><span class="sd">        self.modificar_personaje(row)</span>
</span><span id="L-1867"><a href="#L-1867"><span class="linenos">1867</span></a><span class="sd">        ```</span>
</span><span id="L-1868"><a href="#L-1868"><span class="linenos">1868</span></a>
</span><span id="L-1869"><a href="#L-1869"><span class="linenos">1869</span></a><span class="sd">        **Notas**:</span>
</span><span id="L-1870"><a href="#L-1870"><span class="linenos">1870</span></a><span class="sd">        - Asegúrate de que la fila seleccionada corresponda a un personaje válido.</span>
</span><span id="L-1871"><a href="#L-1871"><span class="linenos">1871</span></a><span class="sd">        - Actualiza los campos `nombre`, `nivel`, `raza`, `habilidades`, `poderes` y `equipamiento` en Firestore.</span>
</span><span id="L-1872"><a href="#L-1872"><span class="linenos">1872</span></a>
</span><span id="L-1873"><a href="#L-1873"><span class="linenos">1873</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="L-1874"><a href="#L-1874"><span class="linenos">1874</span></a><span class="sd">        - Verifica que `self.tabla_personajes` tenga datos válidos en la fila seleccionada.</span>
</span><span id="L-1875"><a href="#L-1875"><span class="linenos">1875</span></a><span class="sd">        - Asegúrate de que los datos en la base de datos estén en el formato correcto.</span>
</span><span id="L-1876"><a href="#L-1876"><span class="linenos">1876</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1877"><a href="#L-1877"><span class="linenos">1877</span></a>        <span class="n">personaje_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">recuperar_personajes</span><span class="p">()[</span><span class="n">row</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">]</span>  <span class="c1"># Obtener el ID del personaje de la fila seleccionada</span>
</span><span id="L-1878"><a href="#L-1878"><span class="linenos">1878</span></a>        <span class="n">nombre</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
</span><span id="L-1879"><a href="#L-1879"><span class="linenos">1879</span></a>        <span class="n">nivel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
</span><span id="L-1880"><a href="#L-1880"><span class="linenos">1880</span></a>        <span class="n">raza</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
</span><span id="L-1881"><a href="#L-1881"><span class="linenos">1881</span></a>        <span class="n">habilidades</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
</span><span id="L-1882"><a href="#L-1882"><span class="linenos">1882</span></a>        <span class="n">poderes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
</span><span id="L-1883"><a href="#L-1883"><span class="linenos">1883</span></a>        <span class="n">equipamiento</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
</span><span id="L-1884"><a href="#L-1884"><span class="linenos">1884</span></a>        
</span><span id="L-1885"><a href="#L-1885"><span class="linenos">1885</span></a>        <span class="c1"># Actualizar los datos en la base de datos</span>
</span><span id="L-1886"><a href="#L-1886"><span class="linenos">1886</span></a>        <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s2">&quot;personajes&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">personaje_id</span><span class="p">)</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
</span><span id="L-1887"><a href="#L-1887"><span class="linenos">1887</span></a>            <span class="s2">&quot;nombre&quot;</span><span class="p">:</span> <span class="n">nombre</span><span class="p">,</span>
</span><span id="L-1888"><a href="#L-1888"><span class="linenos">1888</span></a>            <span class="s2">&quot;nivel&quot;</span><span class="p">:</span> <span class="n">nivel</span><span class="p">,</span>
</span><span id="L-1889"><a href="#L-1889"><span class="linenos">1889</span></a>            <span class="s2">&quot;raza&quot;</span><span class="p">:</span> <span class="n">raza</span><span class="p">,</span>
</span><span id="L-1890"><a href="#L-1890"><span class="linenos">1890</span></a>            <span class="s2">&quot;habilidades&quot;</span><span class="p">:</span> <span class="n">habilidades</span><span class="p">,</span>
</span><span id="L-1891"><a href="#L-1891"><span class="linenos">1891</span></a>            <span class="s2">&quot;poderes&quot;</span><span class="p">:</span> <span class="n">poderes</span><span class="p">,</span>
</span><span id="L-1892"><a href="#L-1892"><span class="linenos">1892</span></a>            <span class="s2">&quot;equipamiento&quot;</span><span class="p">:</span> <span class="n">equipamiento</span>
</span><span id="L-1893"><a href="#L-1893"><span class="linenos">1893</span></a>        <span class="p">})</span>
</span><span id="L-1894"><a href="#L-1894"><span class="linenos">1894</span></a>
</span><span id="L-1895"><a href="#L-1895"><span class="linenos">1895</span></a>        <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Éxito&#39;</span><span class="p">,</span> <span class="s1">&#39;Personaje modificado exitosamente.&#39;</span><span class="p">)</span>
</span><span id="L-1896"><a href="#L-1896"><span class="linenos">1896</span></a>
</span><span id="L-1897"><a href="#L-1897"><span class="linenos">1897</span></a>    
</span><span id="L-1898"><a href="#L-1898"><span class="linenos">1898</span></a>    
</span><span id="L-1899"><a href="#L-1899"><span class="linenos">1899</span></a>    
</span><span id="L-1900"><a href="#L-1900"><span class="linenos">1900</span></a>    <span class="k">def</span> <span class="nf">load_mission</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-1901"><a href="#L-1901"><span class="linenos">1901</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1902"><a href="#L-1902"><span class="linenos">1902</span></a><span class="sd">        Carga una misión de la colección &#39;Mision&#39; en Firestore y muestra los detalles en `tex_vita`.</span>
</span><span id="L-1903"><a href="#L-1903"><span class="linenos">1903</span></a>
</span><span id="L-1904"><a href="#L-1904"><span class="linenos">1904</span></a><span class="sd">        Este método busca una misión basada en el nombre proporcionado en `b_ms`, y si se encuentra, muestra los detalles en `tex_vita`.</span>
</span><span id="L-1905"><a href="#L-1905"><span class="linenos">1905</span></a>
</span><span id="L-1906"><a href="#L-1906"><span class="linenos">1906</span></a><span class="sd">        **Notas**:</span>
</span><span id="L-1907"><a href="#L-1907"><span class="linenos">1907</span></a><span class="sd">        - `self.b_ms` es un `QLineEdit` donde el usuario introduce el nombre de la misión.</span>
</span><span id="L-1908"><a href="#L-1908"><span class="linenos">1908</span></a><span class="sd">        - `self.tex_vita` es un `QTextBrowser` donde se muestran los detalles de la misión.</span>
</span><span id="L-1909"><a href="#L-1909"><span class="linenos">1909</span></a><span class="sd">        - Asegúrate de que `b_ms` tenga el nombre de una misión existente.</span>
</span><span id="L-1910"><a href="#L-1910"><span class="linenos">1910</span></a>
</span><span id="L-1911"><a href="#L-1911"><span class="linenos">1911</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="L-1912"><a href="#L-1912"><span class="linenos">1912</span></a><span class="sd">        - Verifica que `self.b_ms.text().strip()` no esté vacío.</span>
</span><span id="L-1913"><a href="#L-1913"><span class="linenos">1913</span></a><span class="sd">        - Asegúrate de que `tex_vita` esté correctamente inicializado y visible en la interfaz.</span>
</span><span id="L-1914"><a href="#L-1914"><span class="linenos">1914</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-1915"><a href="#L-1915"><span class="linenos">1915</span></a>        <span class="n">mission_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_ms</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="L-1916"><a href="#L-1916"><span class="linenos">1916</span></a>
</span><span id="L-1917"><a href="#L-1917"><span class="linenos">1917</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">mission_name</span><span class="p">:</span>
</span><span id="L-1918"><a href="#L-1918"><span class="linenos">1918</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Introduce el nombre de la misión.&#39;</span><span class="p">)</span>
</span><span id="L-1919"><a href="#L-1919"><span class="linenos">1919</span></a>            <span class="k">return</span>
</span><span id="L-1920"><a href="#L-1920"><span class="linenos">1920</span></a>
</span><span id="L-1921"><a href="#L-1921"><span class="linenos">1921</span></a>        <span class="n">misiones_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;Mision&#39;</span><span class="p">)</span>
</span><span id="L-1922"><a href="#L-1922"><span class="linenos">1922</span></a>        <span class="n">query</span> <span class="o">=</span> <span class="n">misiones_ref</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s1">&#39;nombre&#39;</span><span class="p">,</span> <span class="s1">&#39;==&#39;</span><span class="p">,</span> <span class="n">mission_name</span><span class="p">)</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-1923"><a href="#L-1923"><span class="linenos">1923</span></a>        <span class="n">results</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">stream</span><span class="p">()</span>
</span><span id="L-1924"><a href="#L-1924"><span class="linenos">1924</span></a>
</span><span id="L-1925"><a href="#L-1925"><span class="linenos">1925</span></a>        <span class="n">mission_found</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># Bandera para verificar si encontramos la misión</span>
</span><span id="L-1926"><a href="#L-1926"><span class="linenos">1926</span></a>        <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
</span><span id="L-1927"><a href="#L-1927"><span class="linenos">1927</span></a>            <span class="n">mision</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</span><span id="L-1928"><a href="#L-1928"><span class="linenos">1928</span></a>            <span class="n">evento_texto</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;&#39;&#39;</span>
</span><span id="L-1929"><a href="#L-1929"><span class="linenos">1929</span></a><span class="s1">                &lt;b&gt;Misión:&lt;/b&gt; </span><span class="si">{</span><span class="n">mision</span><span class="p">[</span><span class="s2">&quot;nombre&quot;</span><span class="p">]</span><span class="si">}</span>
</span><span id="L-1930"><a href="#L-1930"><span class="linenos">1930</span></a><span class="s1">                &lt;br&gt;&lt;b&gt;Descripción:&lt;/b&gt; </span><span class="si">{</span><span class="n">mision</span><span class="p">[</span><span class="s2">&quot;descripcion&quot;</span><span class="p">]</span><span class="si">}</span>
</span><span id="L-1931"><a href="#L-1931"><span class="linenos">1931</span></a><span class="s1">                &lt;br&gt;&lt;b&gt;Recompensa:&lt;/b&gt; </span><span class="si">{</span><span class="n">mision</span><span class="p">[</span><span class="s2">&quot;recompensa&quot;</span><span class="p">]</span><span class="si">}</span>
</span><span id="L-1932"><a href="#L-1932"><span class="linenos">1932</span></a><span class="s1">            &#39;&#39;&#39;</span>
</span><span id="L-1933"><a href="#L-1933"><span class="linenos">1933</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tex_vita</span><span class="o">.</span><span class="n">setHtml</span><span class="p">(</span><span class="n">evento_texto</span><span class="p">)</span>  <span class="c1"># Usar setHtml para formato mejorado</span>
</span><span id="L-1934"><a href="#L-1934"><span class="linenos">1934</span></a>            <span class="n">mission_found</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-1935"><a href="#L-1935"><span class="linenos">1935</span></a>            <span class="k">break</span>  <span class="c1"># Salir del bucle después de encontrar la misión</span>
</span><span id="L-1936"><a href="#L-1936"><span class="linenos">1936</span></a>
</span><span id="L-1937"><a href="#L-1937"><span class="linenos">1937</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">mission_found</span><span class="p">:</span>
</span><span id="L-1938"><a href="#L-1938"><span class="linenos">1938</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Misión no encontrada.&#39;</span><span class="p">)</span>
</span><span id="L-1939"><a href="#L-1939"><span class="linenos">1939</span></a>
</span><span id="L-1940"><a href="#L-1940"><span class="linenos">1940</span></a>
</span><span id="L-1941"><a href="#L-1941"><span class="linenos">1941</span></a><span class="k">class</span> <span class="nc">DiceWindow</span><span class="p">(</span><span class="n">QWidget</span><span class="p">):</span>
</span><span id="L-1942"><a href="#L-1942"><span class="linenos">1942</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1943"><a href="#L-1943"><span class="linenos">1943</span></a><span class="sd">    Ventana de la aplicación para lanzar dados de diferentes tipos.</span>
</span><span id="L-1944"><a href="#L-1944"><span class="linenos">1944</span></a>
</span><span id="L-1945"><a href="#L-1945"><span class="linenos">1945</span></a><span class="sd">    Esta clase define una ventana con botones para lanzar dados de varios tipos (D4, D6, D10, D12, D20) y muestra el resultado del lanzamiento en una etiqueta.</span>
</span><span id="L-1946"><a href="#L-1946"><span class="linenos">1946</span></a>
</span><span id="L-1947"><a href="#L-1947"><span class="linenos">1947</span></a><span class="sd">    **Atributos**:</span>
</span><span id="L-1948"><a href="#L-1948"><span class="linenos">1948</span></a><span class="sd">    - `title_label`: `QLabel` que muestra el título de la ventana.</span>
</span><span id="L-1949"><a href="#L-1949"><span class="linenos">1949</span></a><span class="sd">    - `label_result`: `QLabel` que muestra el resultado del lanzamiento del dado.</span>
</span><span id="L-1950"><a href="#L-1950"><span class="linenos">1950</span></a><span class="sd">    - `button_layout`: `QHBoxLayout` que organiza los botones para lanzar los dados.</span>
</span><span id="L-1951"><a href="#L-1951"><span class="linenos">1951</span></a><span class="sd">    - `btn_roll_d4`, `btn_roll_d6`, `btn_roll_d10`, `btn_roll_d12`, `btn_roll_d20`: `QPushButton` para lanzar dados de 4, 6, 10, 12 y 20 caras, respectivamente.</span>
</span><span id="L-1952"><a href="#L-1952"><span class="linenos">1952</span></a><span class="sd">    - `background_label`: `QLabel` que se utiliza para mostrar la imagen de fondo de la ventana.</span>
</span><span id="L-1953"><a href="#L-1953"><span class="linenos">1953</span></a>
</span><span id="L-1954"><a href="#L-1954"><span class="linenos">1954</span></a><span class="sd">    **Ejemplo de Uso**:</span>
</span><span id="L-1955"><a href="#L-1955"><span class="linenos">1955</span></a><span class="sd">    ```python</span>
</span><span id="L-1956"><a href="#L-1956"><span class="linenos">1956</span></a><span class="sd">    app = QApplication([])</span>
</span><span id="L-1957"><a href="#L-1957"><span class="linenos">1957</span></a><span class="sd">    dice_window = DiceWindow()</span>
</span><span id="L-1958"><a href="#L-1958"><span class="linenos">1958</span></a><span class="sd">    dice_window.show()</span>
</span><span id="L-1959"><a href="#L-1959"><span class="linenos">1959</span></a><span class="sd">    app.exec()</span>
</span><span id="L-1960"><a href="#L-1960"><span class="linenos">1960</span></a><span class="sd">    ```</span>
</span><span id="L-1961"><a href="#L-1961"><span class="linenos">1961</span></a>
</span><span id="L-1962"><a href="#L-1962"><span class="linenos">1962</span></a><span class="sd">    **Notas**:</span>
</span><span id="L-1963"><a href="#L-1963"><span class="linenos">1963</span></a><span class="sd">    - Asegúrate de tener las imágenes `dice_icon.png` y las imágenes de los dados en la carpeta correcta.</span>
</span><span id="L-1964"><a href="#L-1964"><span class="linenos">1964</span></a><span class="sd">    - La imagen de fondo debe estar en `fondos/31254.jpg`. Asegúrate de que el archivo exista en esa ruta.</span>
</span><span id="L-1965"><a href="#L-1965"><span class="linenos">1965</span></a>
</span><span id="L-1966"><a href="#L-1966"><span class="linenos">1966</span></a><span class="sd">    **Métodos**:</span>
</span><span id="L-1967"><a href="#L-1967"><span class="linenos">1967</span></a>
</span><span id="L-1968"><a href="#L-1968"><span class="linenos">1968</span></a><span class="sd">    - `__init__(self)`: Constructor de la clase. Configura la ventana, el diseño, los botones, y conecta las señales de los botones al método `roll_dice`.</span>
</span><span id="L-1969"><a href="#L-1969"><span class="linenos">1969</span></a>
</span><span id="L-1970"><a href="#L-1970"><span class="linenos">1970</span></a><span class="sd">        **Descripción**:</span>
</span><span id="L-1971"><a href="#L-1971"><span class="linenos">1971</span></a><span class="sd">        Inicializa la ventana principal de la aplicación de dados. Configura el título de la ventana, la geometría, el ícono y el fondo. Añade una etiqueta de título, una etiqueta para mostrar los resultados de los dados, y botones para lanzar los dados.</span>
</span><span id="L-1972"><a href="#L-1972"><span class="linenos">1972</span></a>
</span><span id="L-1973"><a href="#L-1973"><span class="linenos">1973</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="L-1974"><a href="#L-1974"><span class="linenos">1974</span></a><span class="sd">        No es necesario llamar a este método directamente. Se invoca automáticamente cuando se crea una instancia de `DiceWindow`.</span>
</span><span id="L-1975"><a href="#L-1975"><span class="linenos">1975</span></a>
</span><span id="L-1976"><a href="#L-1976"><span class="linenos">1976</span></a><span class="sd">    - `set_background(self, image_path)`: Configura una imagen de fondo para el widget.</span>
</span><span id="L-1977"><a href="#L-1977"><span class="linenos">1977</span></a>
</span><span id="L-1978"><a href="#L-1978"><span class="linenos">1978</span></a><span class="sd">        **Descripción**:</span>
</span><span id="L-1979"><a href="#L-1979"><span class="linenos">1979</span></a><span class="sd">        Configura una imagen de fondo en la ventana utilizando la ruta proporcionada. Ajusta la imagen para que cubra toda la ventana.</span>
</span><span id="L-1980"><a href="#L-1980"><span class="linenos">1980</span></a>
</span><span id="L-1981"><a href="#L-1981"><span class="linenos">1981</span></a><span class="sd">        **Parámetros**:</span>
</span><span id="L-1982"><a href="#L-1982"><span class="linenos">1982</span></a><span class="sd">        - `image_path` (`str`): Ruta de la imagen de fondo.</span>
</span><span id="L-1983"><a href="#L-1983"><span class="linenos">1983</span></a>
</span><span id="L-1984"><a href="#L-1984"><span class="linenos">1984</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="L-1985"><a href="#L-1985"><span class="linenos">1985</span></a><span class="sd">        ```python</span>
</span><span id="L-1986"><a href="#L-1986"><span class="linenos">1986</span></a><span class="sd">        self.set_background(&#39;fondos/31254.jpg&#39;)</span>
</span><span id="L-1987"><a href="#L-1987"><span class="linenos">1987</span></a><span class="sd">        ```</span>
</span><span id="L-1988"><a href="#L-1988"><span class="linenos">1988</span></a>
</span><span id="L-1989"><a href="#L-1989"><span class="linenos">1989</span></a><span class="sd">    - `resizeEvent(self, event)`: Ajusta el tamaño del fondo cuando la ventana cambia de tamaño.</span>
</span><span id="L-1990"><a href="#L-1990"><span class="linenos">1990</span></a>
</span><span id="L-1991"><a href="#L-1991"><span class="linenos">1991</span></a><span class="sd">        **Descripción**:</span>
</span><span id="L-1992"><a href="#L-1992"><span class="linenos">1992</span></a><span class="sd">        Maneja el evento de cambio de tamaño de la ventana para asegurarse de que la imagen de fondo se redimensiona correctamente.</span>
</span><span id="L-1993"><a href="#L-1993"><span class="linenos">1993</span></a>
</span><span id="L-1994"><a href="#L-1994"><span class="linenos">1994</span></a><span class="sd">        **Parámetros**:</span>
</span><span id="L-1995"><a href="#L-1995"><span class="linenos">1995</span></a><span class="sd">        - `event` (`QResizeEvent`): El evento de cambio de tamaño.</span>
</span><span id="L-1996"><a href="#L-1996"><span class="linenos">1996</span></a>
</span><span id="L-1997"><a href="#L-1997"><span class="linenos">1997</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="L-1998"><a href="#L-1998"><span class="linenos">1998</span></a><span class="sd">        Este método se llama automáticamente cuando la ventana cambia de tamaño, no es necesario invocar este método directamente.</span>
</span><span id="L-1999"><a href="#L-1999"><span class="linenos">1999</span></a>
</span><span id="L-2000"><a href="#L-2000"><span class="linenos">2000</span></a><span class="sd">    - `roll_dice(self, sides)`: Lanza un dado con el número de caras especificado y muestra el resultado.</span>
</span><span id="L-2001"><a href="#L-2001"><span class="linenos">2001</span></a>
</span><span id="L-2002"><a href="#L-2002"><span class="linenos">2002</span></a><span class="sd">        **Descripción**:</span>
</span><span id="L-2003"><a href="#L-2003"><span class="linenos">2003</span></a><span class="sd">        Lanza un dado con un número de caras dado (4, 6, 10, 12, o 20) y actualiza `label_result` con el número obtenido. Cambia el color del texto del resultado a azul (#007BFF).</span>
</span><span id="L-2004"><a href="#L-2004"><span class="linenos">2004</span></a>
</span><span id="L-2005"><a href="#L-2005"><span class="linenos">2005</span></a><span class="sd">        **Parámetros**:</span>
</span><span id="L-2006"><a href="#L-2006"><span class="linenos">2006</span></a><span class="sd">        - `sides` (`int`): Número de caras del dado (4, 6, 10, 12, 20).</span>
</span><span id="L-2007"><a href="#L-2007"><span class="linenos">2007</span></a>
</span><span id="L-2008"><a href="#L-2008"><span class="linenos">2008</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="L-2009"><a href="#L-2009"><span class="linenos">2009</span></a><span class="sd">        Este método se llama cuando se hace clic en uno de los botones de dados. No es necesario invocar este método directamente.</span>
</span><span id="L-2010"><a href="#L-2010"><span class="linenos">2010</span></a>
</span><span id="L-2011"><a href="#L-2011"><span class="linenos">2011</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="L-2012"><a href="#L-2012"><span class="linenos">2012</span></a><span class="sd">        ```python</span>
</span><span id="L-2013"><a href="#L-2013"><span class="linenos">2013</span></a><span class="sd">        self.roll_dice(6)  # Lanza un dado de 6 caras</span>
</span><span id="L-2014"><a href="#L-2014"><span class="linenos">2014</span></a><span class="sd">        ```</span>
</span><span id="L-2015"><a href="#L-2015"><span class="linenos">2015</span></a>
</span><span id="L-2016"><a href="#L-2016"><span class="linenos">2016</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-2017"><a href="#L-2017"><span class="linenos">2017</span></a>
</span><span id="L-2018"><a href="#L-2018"><span class="linenos">2018</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-2019"><a href="#L-2019"><span class="linenos">2019</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">DiceWindow</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="L-2020"><a href="#L-2020"><span class="linenos">2020</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s1">&#39;¿SUERTE?&#39;</span><span class="p">)</span>
</span><span id="L-2021"><a href="#L-2021"><span class="linenos">2021</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
</span><span id="L-2022"><a href="#L-2022"><span class="linenos">2022</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowIcon</span><span class="p">(</span><span class="n">QIcon</span><span class="p">(</span><span class="s1">&#39;dice_icon.png&#39;</span><span class="p">))</span>  <span class="c1"># Agregar un icono para la ventana</span>
</span><span id="L-2023"><a href="#L-2023"><span class="linenos">2023</span></a>        
</span><span id="L-2024"><a href="#L-2024"><span class="linenos">2024</span></a>        <span class="c1"># Configurar el fondo</span>
</span><span id="L-2025"><a href="#L-2025"><span class="linenos">2025</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_background</span><span class="p">(</span><span class="s1">&#39;fondos/31254.jpg&#39;</span><span class="p">)</span>  <span class="c1"># Asegúrate de tener una imagen de fondo llamada &#39;fondos/31254.jpg&#39;</span>
</span><span id="L-2026"><a href="#L-2026"><span class="linenos">2026</span></a>        
</span><span id="L-2027"><a href="#L-2027"><span class="linenos">2027</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
</span><span id="L-2028"><a href="#L-2028"><span class="linenos">2028</span></a>        
</span><span id="L-2029"><a href="#L-2029"><span class="linenos">2029</span></a>        <span class="c1"># Título de la ventana</span>
</span><span id="L-2030"><a href="#L-2030"><span class="linenos">2030</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">title_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s1">&#39;¿MIEDO?&#39;</span><span class="p">)</span>
</span><span id="L-2031"><a href="#L-2031"><span class="linenos">2031</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">title_label</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignmentFlag</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>
</span><span id="L-2032"><a href="#L-2032"><span class="linenos">2032</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">title_label</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s1">&#39;font-size: 20px; font-weight: bold; color: #007BFF;&#39;</span><span class="p">)</span>
</span><span id="L-2033"><a href="#L-2033"><span class="linenos">2033</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">title_label</span><span class="p">)</span>
</span><span id="L-2034"><a href="#L-2034"><span class="linenos">2034</span></a>        
</span><span id="L-2035"><a href="#L-2035"><span class="linenos">2035</span></a>        <span class="c1"># Etiqueta de Resultado</span>
</span><span id="L-2036"><a href="#L-2036"><span class="linenos">2036</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">label_result</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s1">&#39;DEBERIAS TENERLO: &#39;</span><span class="p">)</span>
</span><span id="L-2037"><a href="#L-2037"><span class="linenos">2037</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">label_result</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignmentFlag</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>
</span><span id="L-2038"><a href="#L-2038"><span class="linenos">2038</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">label_result</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s1">&#39;font-size: 18px; color: #333333;&#39;</span><span class="p">)</span>
</span><span id="L-2039"><a href="#L-2039"><span class="linenos">2039</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">label_result</span><span class="p">)</span>
</span><span id="L-2040"><a href="#L-2040"><span class="linenos">2040</span></a>        
</span><span id="L-2041"><a href="#L-2041"><span class="linenos">2041</span></a>        <span class="c1"># Diseño de Botones</span>
</span><span id="L-2042"><a href="#L-2042"><span class="linenos">2042</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">button_layout</span> <span class="o">=</span> <span class="n">QHBoxLayout</span><span class="p">()</span>
</span><span id="L-2043"><a href="#L-2043"><span class="linenos">2043</span></a>        
</span><span id="L-2044"><a href="#L-2044"><span class="linenos">2044</span></a>        <span class="c1"># Botones de Dados</span>
</span><span id="L-2045"><a href="#L-2045"><span class="linenos">2045</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d4</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s1">&#39;Roll D4&#39;</span><span class="p">)</span>
</span><span id="L-2046"><a href="#L-2046"><span class="linenos">2046</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d6</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s1">&#39;Roll D6&#39;</span><span class="p">)</span>
</span><span id="L-2047"><a href="#L-2047"><span class="linenos">2047</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d10</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s1">&#39;Roll D10&#39;</span><span class="p">)</span>
</span><span id="L-2048"><a href="#L-2048"><span class="linenos">2048</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d12</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s1">&#39;Roll D12&#39;</span><span class="p">)</span>
</span><span id="L-2049"><a href="#L-2049"><span class="linenos">2049</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d20</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s1">&#39;Roll D20&#39;</span><span class="p">)</span>
</span><span id="L-2050"><a href="#L-2050"><span class="linenos">2050</span></a>        
</span><span id="L-2051"><a href="#L-2051"><span class="linenos">2051</span></a>        <span class="c1"># Agregar iconos a los botones</span>
</span><span id="L-2052"><a href="#L-2052"><span class="linenos">2052</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d4</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QIcon</span><span class="p">(</span><span class="s1">&#39;iconos/dados (1).png&#39;</span><span class="p">))</span>
</span><span id="L-2053"><a href="#L-2053"><span class="linenos">2053</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d6</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QIcon</span><span class="p">(</span><span class="s1">&#39;iconos/dados.png&#39;</span><span class="p">))</span>
</span><span id="L-2054"><a href="#L-2054"><span class="linenos">2054</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d10</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QIcon</span><span class="p">(</span><span class="s1">&#39;iconos/dado (3).png&#39;</span><span class="p">))</span>
</span><span id="L-2055"><a href="#L-2055"><span class="linenos">2055</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d12</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QIcon</span><span class="p">(</span><span class="s1">&#39;iconos/juego-de-rol (1).png&#39;</span><span class="p">))</span>
</span><span id="L-2056"><a href="#L-2056"><span class="linenos">2056</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d20</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QIcon</span><span class="p">(</span><span class="s1">&#39;iconos/dados-d20.png&#39;</span><span class="p">))</span>
</span><span id="L-2057"><a href="#L-2057"><span class="linenos">2057</span></a>        
</span><span id="L-2058"><a href="#L-2058"><span class="linenos">2058</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d4</span><span class="o">.</span><span class="n">setIconSize</span><span class="p">(</span><span class="n">QSize</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">))</span>
</span><span id="L-2059"><a href="#L-2059"><span class="linenos">2059</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d6</span><span class="o">.</span><span class="n">setIconSize</span><span class="p">(</span><span class="n">QSize</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">))</span>
</span><span id="L-2060"><a href="#L-2060"><span class="linenos">2060</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d10</span><span class="o">.</span><span class="n">setIconSize</span><span class="p">(</span><span class="n">QSize</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">))</span>
</span><span id="L-2061"><a href="#L-2061"><span class="linenos">2061</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d12</span><span class="o">.</span><span class="n">setIconSize</span><span class="p">(</span><span class="n">QSize</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">))</span>
</span><span id="L-2062"><a href="#L-2062"><span class="linenos">2062</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d20</span><span class="o">.</span><span class="n">setIconSize</span><span class="p">(</span><span class="n">QSize</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">))</span>
</span><span id="L-2063"><a href="#L-2063"><span class="linenos">2063</span></a>        
</span><span id="L-2064"><a href="#L-2064"><span class="linenos">2064</span></a>        <span class="c1"># Estilos para los botones</span>
</span><span id="L-2065"><a href="#L-2065"><span class="linenos">2065</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d4</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s1">&#39;background-color: #5BC0EB; color: white; font-size: 14px; border-radius: 8px; padding: 10px;&#39;</span><span class="p">)</span>
</span><span id="L-2066"><a href="#L-2066"><span class="linenos">2066</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d6</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s1">&#39;background-color: #51CF66; color: white; font-size: 14px; border-radius: 8px; padding: 10px;&#39;</span><span class="p">)</span>
</span><span id="L-2067"><a href="#L-2067"><span class="linenos">2067</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d10</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s1">&#39;background-color: #FFC107; color: white; font-size: 14px; border-radius: 8px; padding: 10px;&#39;</span><span class="p">)</span>
</span><span id="L-2068"><a href="#L-2068"><span class="linenos">2068</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d12</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s1">&#39;background-color: #6F42C1; color: white; font-size: 14px; border-radius: 8px; padding: 10px;&#39;</span><span class="p">)</span>
</span><span id="L-2069"><a href="#L-2069"><span class="linenos">2069</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d20</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s1">&#39;background-color: #FF6B6B; color: white; font-size: 14px; border-radius: 8px; padding: 10px;&#39;</span><span class="p">)</span>
</span><span id="L-2070"><a href="#L-2070"><span class="linenos">2070</span></a>        
</span><span id="L-2071"><a href="#L-2071"><span class="linenos">2071</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">button_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d4</span><span class="p">)</span>
</span><span id="L-2072"><a href="#L-2072"><span class="linenos">2072</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">button_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d6</span><span class="p">)</span>
</span><span id="L-2073"><a href="#L-2073"><span class="linenos">2073</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">button_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d10</span><span class="p">)</span>
</span><span id="L-2074"><a href="#L-2074"><span class="linenos">2074</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">button_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d12</span><span class="p">)</span>
</span><span id="L-2075"><a href="#L-2075"><span class="linenos">2075</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">button_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d20</span><span class="p">)</span>
</span><span id="L-2076"><a href="#L-2076"><span class="linenos">2076</span></a>        
</span><span id="L-2077"><a href="#L-2077"><span class="linenos">2077</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">button_layout</span><span class="p">)</span>
</span><span id="L-2078"><a href="#L-2078"><span class="linenos">2078</span></a>        
</span><span id="L-2079"><a href="#L-2079"><span class="linenos">2079</span></a>        <span class="c1"># Conectar botones con el método roll_dice</span>
</span><span id="L-2080"><a href="#L-2080"><span class="linenos">2080</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d4</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">roll_dice</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
</span><span id="L-2081"><a href="#L-2081"><span class="linenos">2081</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d6</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">roll_dice</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
</span><span id="L-2082"><a href="#L-2082"><span class="linenos">2082</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d10</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">roll_dice</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</span><span id="L-2083"><a href="#L-2083"><span class="linenos">2083</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d12</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">roll_dice</span><span class="p">(</span><span class="mi">12</span><span class="p">))</span>
</span><span id="L-2084"><a href="#L-2084"><span class="linenos">2084</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d20</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">roll_dice</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>
</span><span id="L-2085"><a href="#L-2085"><span class="linenos">2085</span></a>        
</span><span id="L-2086"><a href="#L-2086"><span class="linenos">2086</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">layout</span><span class="p">)</span>
</span><span id="L-2087"><a href="#L-2087"><span class="linenos">2087</span></a>    
</span><span id="L-2088"><a href="#L-2088"><span class="linenos">2088</span></a>    <span class="k">def</span> <span class="nf">set_background</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">image_path</span><span class="p">):</span>
</span><span id="L-2089"><a href="#L-2089"><span class="linenos">2089</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2090"><a href="#L-2090"><span class="linenos">2090</span></a><span class="sd">        Configura una imagen de fondo para el widget.</span>
</span><span id="L-2091"><a href="#L-2091"><span class="linenos">2091</span></a>
</span><span id="L-2092"><a href="#L-2092"><span class="linenos">2092</span></a><span class="sd">        **Parámetros**:</span>
</span><span id="L-2093"><a href="#L-2093"><span class="linenos">2093</span></a><span class="sd">        - `image_path` (`str`): Ruta de la imagen de fondo que se mostrará en la ventana.</span>
</span><span id="L-2094"><a href="#L-2094"><span class="linenos">2094</span></a>
</span><span id="L-2095"><a href="#L-2095"><span class="linenos">2095</span></a><span class="sd">        **Descripción**:</span>
</span><span id="L-2096"><a href="#L-2096"><span class="linenos">2096</span></a><span class="sd">        Crea un `QLabel` para mostrar una imagen de fondo en el widget. La imagen se ajusta al tamaño de la ventana y se coloca detrás de todos los demás widgets.</span>
</span><span id="L-2097"><a href="#L-2097"><span class="linenos">2097</span></a>
</span><span id="L-2098"><a href="#L-2098"><span class="linenos">2098</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="L-2099"><a href="#L-2099"><span class="linenos">2099</span></a><span class="sd">        ```python</span>
</span><span id="L-2100"><a href="#L-2100"><span class="linenos">2100</span></a><span class="sd">        self.set_background(&#39;fondos/31254.jpg&#39;)</span>
</span><span id="L-2101"><a href="#L-2101"><span class="linenos">2101</span></a><span class="sd">        ```</span>
</span><span id="L-2102"><a href="#L-2102"><span class="linenos">2102</span></a>
</span><span id="L-2103"><a href="#L-2103"><span class="linenos">2103</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="L-2104"><a href="#L-2104"><span class="linenos">2104</span></a><span class="sd">        - Verifica que el archivo de imagen exista en la ruta proporcionada.</span>
</span><span id="L-2105"><a href="#L-2105"><span class="linenos">2105</span></a><span class="sd">        - Asegúrate de que `image_path` sea una cadena de texto válida.</span>
</span><span id="L-2106"><a href="#L-2106"><span class="linenos">2106</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2107"><a href="#L-2107"><span class="linenos">2107</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-2108"><a href="#L-2108"><span class="linenos">2108</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background_label</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">QPixmap</span><span class="p">(</span><span class="n">image_path</span><span class="p">))</span>
</span><span id="L-2109"><a href="#L-2109"><span class="linenos">2109</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background_label</span><span class="o">.</span><span class="n">setScaledContents</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-2110"><a href="#L-2110"><span class="linenos">2110</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background_label</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">())</span>
</span><span id="L-2111"><a href="#L-2111"><span class="linenos">2111</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background_label</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span><span id="L-2112"><a href="#L-2112"><span class="linenos">2112</span></a>
</span><span id="L-2113"><a href="#L-2113"><span class="linenos">2113</span></a>    <span class="k">def</span> <span class="nf">resizeEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span><span id="L-2114"><a href="#L-2114"><span class="linenos">2114</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2115"><a href="#L-2115"><span class="linenos">2115</span></a><span class="sd">        Ajusta el tamaño del fondo cuando la ventana cambia de tamaño.</span>
</span><span id="L-2116"><a href="#L-2116"><span class="linenos">2116</span></a>
</span><span id="L-2117"><a href="#L-2117"><span class="linenos">2117</span></a><span class="sd">        **Parámetros**:</span>
</span><span id="L-2118"><a href="#L-2118"><span class="linenos">2118</span></a><span class="sd">        - `event` (`QResizeEvent`): El evento de cambio de tamaño que indica cómo ha cambiado el tamaño de la ventana.</span>
</span><span id="L-2119"><a href="#L-2119"><span class="linenos">2119</span></a>
</span><span id="L-2120"><a href="#L-2120"><span class="linenos">2120</span></a><span class="sd">        **Descripción**:</span>
</span><span id="L-2121"><a href="#L-2121"><span class="linenos">2121</span></a><span class="sd">        Este método maneja el evento de cambio de tamaño para asegurarse de que la imagen de fondo se redimensione de acuerdo con el tamaño de la ventana.</span>
</span><span id="L-2122"><a href="#L-2122"><span class="linenos">2122</span></a>
</span><span id="L-2123"><a href="#L-2123"><span class="linenos">2123</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="L-2124"><a href="#L-2124"><span class="linenos">2124</span></a><span class="sd">        Este método es llamado automáticamente por el sistema cuando la ventana cambia de tamaño.</span>
</span><span id="L-2125"><a href="#L-2125"><span class="linenos">2125</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2126"><a href="#L-2126"><span class="linenos">2126</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background_label</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">())</span>
</span><span id="L-2127"><a href="#L-2127"><span class="linenos">2127</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">DiceWindow</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">resizeEvent</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span><span id="L-2128"><a href="#L-2128"><span class="linenos">2128</span></a>
</span><span id="L-2129"><a href="#L-2129"><span class="linenos">2129</span></a>    <span class="k">def</span> <span class="nf">roll_dice</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sides</span><span class="p">):</span>
</span><span id="L-2130"><a href="#L-2130"><span class="linenos">2130</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2131"><a href="#L-2131"><span class="linenos">2131</span></a><span class="sd">        Lanza un dado con el número de caras especificado y muestra el resultado.</span>
</span><span id="L-2132"><a href="#L-2132"><span class="linenos">2132</span></a>
</span><span id="L-2133"><a href="#L-2133"><span class="linenos">2133</span></a><span class="sd">        **Parámetros**:</span>
</span><span id="L-2134"><a href="#L-2134"><span class="linenos">2134</span></a><span class="sd">        - `sides` (`int`): Número de caras del dado (4, 6, 10, 12, 20).</span>
</span><span id="L-2135"><a href="#L-2135"><span class="linenos">2135</span></a>
</span><span id="L-2136"><a href="#L-2136"><span class="linenos">2136</span></a><span class="sd">        **Descripción**:</span>
</span><span id="L-2137"><a href="#L-2137"><span class="linenos">2137</span></a><span class="sd">        Genera un número aleatorio entre 1 y el número de caras del dado. Actualiza el texto de `label_result` para mostrar el resultado del lanzamiento.</span>
</span><span id="L-2138"><a href="#L-2138"><span class="linenos">2138</span></a>
</span><span id="L-2139"><a href="#L-2139"><span class="linenos">2139</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="L-2140"><a href="#L-2140"><span class="linenos">2140</span></a><span class="sd">        Este método es llamado cuando se hace clic en uno de los botones de dados.</span>
</span><span id="L-2141"><a href="#L-2141"><span class="linenos">2141</span></a>
</span><span id="L-2142"><a href="#L-2142"><span class="linenos">2142</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="L-2143"><a href="#L-2143"><span class="linenos">2143</span></a><span class="sd">        - Asegúrate de que `sides` sea uno de los valores válidos (4, 6, 10, 12, 20).</span>
</span><span id="L-2144"><a href="#L-2144"><span class="linenos">2144</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-2145"><a href="#L-2145"><span class="linenos">2145</span></a>        <span class="n">result</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">sides</span><span class="p">)</span>
</span><span id="L-2146"><a href="#L-2146"><span class="linenos">2146</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">label_result</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Numero: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-2147"><a href="#L-2147"><span class="linenos">2147</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">label_result</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s1">&#39;font-size: 18px; color: #007BFF;&#39;</span><span class="p">)</span>  <span class="c1"># Cambio de color para el texto</span>
</span><span id="L-2148"><a href="#L-2148"><span class="linenos">2148</span></a>
</span><span id="L-2149"><a href="#L-2149"><span class="linenos">2149</span></a><span class="k">class</span> <span class="nc">PersonajesWindow</span><span class="p">(</span><span class="n">QWidget</span><span class="p">,</span> <span class="n">Ui_Formperso</span><span class="p">):</span>
</span><span id="L-2150"><a href="#L-2150"><span class="linenos">2150</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2151"><a href="#L-2151"><span class="linenos">2151</span></a><span class="sd">    Ventana para la gestión de personajes en el juego de rol.</span>
</span><span id="L-2152"><a href="#L-2152"><span class="linenos">2152</span></a>
</span><span id="L-2153"><a href="#L-2153"><span class="linenos">2153</span></a><span class="sd">    Esta clase define una ventana con un formulario para crear personajes. Permite ingresar información como el nombre del personaje, raza, habilidades, poderes, y equipamiento, y guarda estos datos en la colección &#39;personajes&#39; en Firestore.</span>
</span><span id="L-2154"><a href="#L-2154"><span class="linenos">2154</span></a>
</span><span id="L-2155"><a href="#L-2155"><span class="linenos">2155</span></a><span class="sd">    **Atributos**:</span>
</span><span id="L-2156"><a href="#L-2156"><span class="linenos">2156</span></a><span class="sd">    - `name_id`: `QLineEdit` para ingresar el nombre del personaje.</span>
</span><span id="L-2157"><a href="#L-2157"><span class="linenos">2157</span></a><span class="sd">    - `raza_box`: `QComboBox` para seleccionar la raza del personaje.</span>
</span><span id="L-2158"><a href="#L-2158"><span class="linenos">2158</span></a><span class="sd">    - `text_hb`: `QTextEdit` para ingresar las habilidades del personaje en formato &#39;Habilidad: valor&#39;.</span>
</span><span id="L-2159"><a href="#L-2159"><span class="linenos">2159</span></a><span class="sd">    - `tx_pd`: `QTextEdit` para ingresar los poderes del personaje en formato &#39;Poder: valor&#39;.</span>
</span><span id="L-2160"><a href="#L-2160"><span class="linenos">2160</span></a><span class="sd">    - `cc_eq`: `QComboBox` para seleccionar el equipamiento del personaje.</span>
</span><span id="L-2161"><a href="#L-2161"><span class="linenos">2161</span></a><span class="sd">    - `raza_line`: `QLineEdit` para ingresar una raza personalizada si la opción es seleccionada en `raza_box`.</span>
</span><span id="L-2162"><a href="#L-2162"><span class="linenos">2162</span></a><span class="sd">    - `li_equi`: `QLineEdit` para ingresar un equipamiento personalizado si la opción es seleccionada en `cc_eq`.</span>
</span><span id="L-2163"><a href="#L-2163"><span class="linenos">2163</span></a><span class="sd">    - `btn_guarp`: `QPushButton` para guardar el personaje.</span>
</span><span id="L-2164"><a href="#L-2164"><span class="linenos">2164</span></a><span class="sd">    - `btn_otro`: `QPushButton` para limpiar los campos del formulario.</span>
</span><span id="L-2165"><a href="#L-2165"><span class="linenos">2165</span></a>
</span><span id="L-2166"><a href="#L-2166"><span class="linenos">2166</span></a><span class="sd">    **Ejemplo de Uso**:</span>
</span><span id="L-2167"><a href="#L-2167"><span class="linenos">2167</span></a><span class="sd">    ```python</span>
</span><span id="L-2168"><a href="#L-2168"><span class="linenos">2168</span></a><span class="sd">    app = QApplication([])</span>
</span><span id="L-2169"><a href="#L-2169"><span class="linenos">2169</span></a><span class="sd">    personajes_window = PersonajesWindow()</span>
</span><span id="L-2170"><a href="#L-2170"><span class="linenos">2170</span></a><span class="sd">    personajes_window.show()</span>
</span><span id="L-2171"><a href="#L-2171"><span class="linenos">2171</span></a><span class="sd">    app.exec()</span>
</span><span id="L-2172"><a href="#L-2172"><span class="linenos">2172</span></a><span class="sd">    ```</span>
</span><span id="L-2173"><a href="#L-2173"><span class="linenos">2173</span></a>
</span><span id="L-2174"><a href="#L-2174"><span class="linenos">2174</span></a><span class="sd">    **Métodos**:</span>
</span><span id="L-2175"><a href="#L-2175"><span class="linenos">2175</span></a>
</span><span id="L-2176"><a href="#L-2176"><span class="linenos">2176</span></a><span class="sd">    - `__init__(self)`: Constructor de la clase. Configura el formulario y conecta los botones a los métodos correspondientes.</span>
</span><span id="L-2177"><a href="#L-2177"><span class="linenos">2177</span></a>
</span><span id="L-2178"><a href="#L-2178"><span class="linenos">2178</span></a><span class="sd">        **Descripción**:</span>
</span><span id="L-2179"><a href="#L-2179"><span class="linenos">2179</span></a><span class="sd">        Inicializa la ventana del formulario de personajes. Configura los botones para guardar el personaje y limpiar los campos del formulario.</span>
</span><span id="L-2180"><a href="#L-2180"><span class="linenos">2180</span></a>
</span><span id="L-2181"><a href="#L-2181"><span class="linenos">2181</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="L-2182"><a href="#L-2182"><span class="linenos">2182</span></a><span class="sd">        No es necesario llamar a este método directamente. Se invoca automáticamente cuando se crea una instancia de `PersonajesWindow`.</span>
</span><span id="L-2183"><a href="#L-2183"><span class="linenos">2183</span></a>
</span><span id="L-2184"><a href="#L-2184"><span class="linenos">2184</span></a><span class="sd">    - `validacion_campos(self, text, label)`: Valida que se ingrese un valor para un campo específico.</span>
</span><span id="L-2185"><a href="#L-2185"><span class="linenos">2185</span></a>
</span><span id="L-2186"><a href="#L-2186"><span class="linenos">2186</span></a><span class="sd">        **Descripción**:</span>
</span><span id="L-2187"><a href="#L-2187"><span class="linenos">2187</span></a><span class="sd">        Verifica que el campo de texto no esté vacío. Si está vacío, muestra un mensaje de advertencia.</span>
</span><span id="L-2188"><a href="#L-2188"><span class="linenos">2188</span></a>
</span><span id="L-2189"><a href="#L-2189"><span class="linenos">2189</span></a><span class="sd">        **Parámetros**:</span>
</span><span id="L-2190"><a href="#L-2190"><span class="linenos">2190</span></a><span class="sd">        - `text` (`str`): El texto ingresado en el campo.</span>
</span><span id="L-2191"><a href="#L-2191"><span class="linenos">2191</span></a><span class="sd">        - `label` (`str`): El nombre del campo para mostrar en el mensaje de advertencia.</span>
</span><span id="L-2192"><a href="#L-2192"><span class="linenos">2192</span></a>
</span><span id="L-2193"><a href="#L-2193"><span class="linenos">2193</span></a><span class="sd">        **Retorno**:</span>
</span><span id="L-2194"><a href="#L-2194"><span class="linenos">2194</span></a><span class="sd">        - `bool`: `True` si el campo no está vacío, `False` si está vacío.</span>
</span><span id="L-2195"><a href="#L-2195"><span class="linenos">2195</span></a>
</span><span id="L-2196"><a href="#L-2196"><span class="linenos">2196</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="L-2197"><a href="#L-2197"><span class="linenos">2197</span></a><span class="sd">        ```python</span>
</span><span id="L-2198"><a href="#L-2198"><span class="linenos">2198</span></a><span class="sd">        if not self.validacion_campos(self.name_id.text(), &#39;Nombre&#39;):</span>
</span><span id="L-2199"><a href="#L-2199"><span class="linenos">2199</span></a><span class="sd">            return</span>
</span><span id="L-2200"><a href="#L-2200"><span class="linenos">2200</span></a><span class="sd">        ```</span>
</span><span id="L-2201"><a href="#L-2201"><span class="linenos">2201</span></a>
</span><span id="L-2202"><a href="#L-2202"><span class="linenos">2202</span></a><span class="sd">    - `validar_habilidades(self, habilidades_text)`: Valida que se introduzcan dos habilidades válidas en formato &#39;Habilidad: valor&#39;.</span>
</span><span id="L-2203"><a href="#L-2203"><span class="linenos">2203</span></a>
</span><span id="L-2204"><a href="#L-2204"><span class="linenos">2204</span></a><span class="sd">        **Descripción**:</span>
</span><span id="L-2205"><a href="#L-2205"><span class="linenos">2205</span></a><span class="sd">        Valida que el texto de habilidades contenga exactamente dos habilidades en el formato correcto.</span>
</span><span id="L-2206"><a href="#L-2206"><span class="linenos">2206</span></a>
</span><span id="L-2207"><a href="#L-2207"><span class="linenos">2207</span></a><span class="sd">        **Parámetros**:</span>
</span><span id="L-2208"><a href="#L-2208"><span class="linenos">2208</span></a><span class="sd">        - `habilidades_text` (`str`): Texto con las habilidades en formato &#39;Habilidad: valor&#39;.</span>
</span><span id="L-2209"><a href="#L-2209"><span class="linenos">2209</span></a>
</span><span id="L-2210"><a href="#L-2210"><span class="linenos">2210</span></a><span class="sd">        **Retorno**:</span>
</span><span id="L-2211"><a href="#L-2211"><span class="linenos">2211</span></a><span class="sd">        - `dict` o `bool`: Un diccionario con habilidades si son válidas, `False` si no lo son.</span>
</span><span id="L-2212"><a href="#L-2212"><span class="linenos">2212</span></a>
</span><span id="L-2213"><a href="#L-2213"><span class="linenos">2213</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="L-2214"><a href="#L-2214"><span class="linenos">2214</span></a><span class="sd">        ```python</span>
</span><span id="L-2215"><a href="#L-2215"><span class="linenos">2215</span></a><span class="sd">        habilidades = self.validar_habilidades(self.text_hb.toPlainText())</span>
</span><span id="L-2216"><a href="#L-2216"><span class="linenos">2216</span></a><span class="sd">        if not habilidades:</span>
</span><span id="L-2217"><a href="#L-2217"><span class="linenos">2217</span></a><span class="sd">            QMessageBox.warning(self, &#39;Error&#39;, &#39;Introduce dos habilidades válidas.&#39;)</span>
</span><span id="L-2218"><a href="#L-2218"><span class="linenos">2218</span></a><span class="sd">            return</span>
</span><span id="L-2219"><a href="#L-2219"><span class="linenos">2219</span></a><span class="sd">        ```</span>
</span><span id="L-2220"><a href="#L-2220"><span class="linenos">2220</span></a>
</span><span id="L-2221"><a href="#L-2221"><span class="linenos">2221</span></a><span class="sd">    - `validar_poderes(self, poderes_text)`: Valida que se introduzcan dos poderes válidos en formato &#39;Poder: valor&#39;.</span>
</span><span id="L-2222"><a href="#L-2222"><span class="linenos">2222</span></a>
</span><span id="L-2223"><a href="#L-2223"><span class="linenos">2223</span></a><span class="sd">        **Descripción**:</span>
</span><span id="L-2224"><a href="#L-2224"><span class="linenos">2224</span></a><span class="sd">        Valida que el texto de poderes contenga exactamente dos poderes en el formato correcto.</span>
</span><span id="L-2225"><a href="#L-2225"><span class="linenos">2225</span></a>
</span><span id="L-2226"><a href="#L-2226"><span class="linenos">2226</span></a><span class="sd">        **Parámetros**:</span>
</span><span id="L-2227"><a href="#L-2227"><span class="linenos">2227</span></a><span class="sd">        - `poderes_text` (`str`): Texto con los poderes en formato &#39;Poder: valor&#39;.</span>
</span><span id="L-2228"><a href="#L-2228"><span class="linenos">2228</span></a>
</span><span id="L-2229"><a href="#L-2229"><span class="linenos">2229</span></a><span class="sd">        **Retorno**:</span>
</span><span id="L-2230"><a href="#L-2230"><span class="linenos">2230</span></a><span class="sd">        - `dict` o `bool`: Un diccionario con poderes si son válidos, `False` si no lo son.</span>
</span><span id="L-2231"><a href="#L-2231"><span class="linenos">2231</span></a>
</span><span id="L-2232"><a href="#L-2232"><span class="linenos">2232</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="L-2233"><a href="#L-2233"><span class="linenos">2233</span></a><span class="sd">        ```python</span>
</span><span id="L-2234"><a href="#L-2234"><span class="linenos">2234</span></a><span class="sd">        poderes = self.validar_poderes(self.tx_pd.toPlainText())</span>
</span><span id="L-2235"><a href="#L-2235"><span class="linenos">2235</span></a><span class="sd">        if not poderes:</span>
</span><span id="L-2236"><a href="#L-2236"><span class="linenos">2236</span></a><span class="sd">            QMessageBox.warning(self, &#39;Error&#39;, &#39;Introduce dos poderes válidos.&#39;)</span>
</span><span id="L-2237"><a href="#L-2237"><span class="linenos">2237</span></a><span class="sd">            return</span>
</span><span id="L-2238"><a href="#L-2238"><span class="linenos">2238</span></a><span class="sd">        ```</span>
</span><span id="L-2239"><a href="#L-2239"><span class="linenos">2239</span></a>
</span><span id="L-2240"><a href="#L-2240"><span class="linenos">2240</span></a><span class="sd">    - `guardar_p(self)`: Guarda los datos del personaje en Firestore y limpia los campos.</span>
</span><span id="L-2241"><a href="#L-2241"><span class="linenos">2241</span></a>
</span><span id="L-2242"><a href="#L-2242"><span class="linenos">2242</span></a><span class="sd">        **Descripción**:</span>
</span><span id="L-2243"><a href="#L-2243"><span class="linenos">2243</span></a><span class="sd">        Recolecta los datos del formulario, valida la información, y guarda el personaje en la colección &#39;personajes&#39; en Firestore. Luego, limpia los campos del formulario.</span>
</span><span id="L-2244"><a href="#L-2244"><span class="linenos">2244</span></a>
</span><span id="L-2245"><a href="#L-2245"><span class="linenos">2245</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="L-2246"><a href="#L-2246"><span class="linenos">2246</span></a><span class="sd">        Este método se llama cuando se hace clic en el botón de guardar.</span>
</span><span id="L-2247"><a href="#L-2247"><span class="linenos">2247</span></a>
</span><span id="L-2248"><a href="#L-2248"><span class="linenos">2248</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="L-2249"><a href="#L-2249"><span class="linenos">2249</span></a><span class="sd">        ```python</span>
</span><span id="L-2250"><a href="#L-2250"><span class="linenos">2250</span></a><span class="sd">        self.guardar_p()</span>
</span><span id="L-2251"><a href="#L-2251"><span class="linenos">2251</span></a><span class="sd">        ```</span>
</span><span id="L-2252"><a href="#L-2252"><span class="linenos">2252</span></a>
</span><span id="L-2253"><a href="#L-2253"><span class="linenos">2253</span></a><span class="sd">    - `limpiar_p(self)`: Limpia todos los campos del formulario para ingresar un nuevo personaje.</span>
</span><span id="L-2254"><a href="#L-2254"><span class="linenos">2254</span></a>
</span><span id="L-2255"><a href="#L-2255"><span class="linenos">2255</span></a><span class="sd">        **Descripción**:</span>
</span><span id="L-2256"><a href="#L-2256"><span class="linenos">2256</span></a><span class="sd">        Borra el contenido de todos los campos del formulario para preparar la ventana para ingresar un nuevo personaje.</span>
</span><span id="L-2257"><a href="#L-2257"><span class="linenos">2257</span></a>
</span><span id="L-2258"><a href="#L-2258"><span class="linenos">2258</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="L-2259"><a href="#L-2259"><span class="linenos">2259</span></a><span class="sd">        Este método se llama cuando se hace clic en el botón de limpiar.</span>
</span><span id="L-2260"><a href="#L-2260"><span class="linenos">2260</span></a>
</span><span id="L-2261"><a href="#L-2261"><span class="linenos">2261</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="L-2262"><a href="#L-2262"><span class="linenos">2262</span></a><span class="sd">        ```python</span>
</span><span id="L-2263"><a href="#L-2263"><span class="linenos">2263</span></a><span class="sd">        self.limpiar_p()</span>
</span><span id="L-2264"><a href="#L-2264"><span class="linenos">2264</span></a><span class="sd">        ```</span>
</span><span id="L-2265"><a href="#L-2265"><span class="linenos">2265</span></a>
</span><span id="L-2266"><a href="#L-2266"><span class="linenos">2266</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-2267"><a href="#L-2267"><span class="linenos">2267</span></a>
</span><span id="L-2268"><a href="#L-2268"><span class="linenos">2268</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-2269"><a href="#L-2269"><span class="linenos">2269</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">PersonajesWindow</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="L-2270"><a href="#L-2270"><span class="linenos">2270</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-2271"><a href="#L-2271"><span class="linenos">2271</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_guarp</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">guardar_p</span><span class="p">)</span>
</span><span id="L-2272"><a href="#L-2272"><span class="linenos">2272</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_otro</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">limpiar_p</span><span class="p">)</span>
</span><span id="L-2273"><a href="#L-2273"><span class="linenos">2273</span></a>    
</span><span id="L-2274"><a href="#L-2274"><span class="linenos">2274</span></a>    <span class="k">def</span> <span class="nf">validacion_campos</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
</span><span id="L-2275"><a href="#L-2275"><span class="linenos">2275</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Validar que se ingrese un valor para un campo específico.&quot;&quot;&quot;</span>
</span><span id="L-2276"><a href="#L-2276"><span class="linenos">2276</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">text</span><span class="p">:</span>
</span><span id="L-2277"><a href="#L-2277"><span class="linenos">2277</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Introduce un valor para </span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>
</span><span id="L-2278"><a href="#L-2278"><span class="linenos">2278</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-2279"><a href="#L-2279"><span class="linenos">2279</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-2280"><a href="#L-2280"><span class="linenos">2280</span></a>    
</span><span id="L-2281"><a href="#L-2281"><span class="linenos">2281</span></a>    <span class="k">def</span> <span class="nf">validar_habilidades</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">habilidades_text</span><span class="p">):</span>
</span><span id="L-2282"><a href="#L-2282"><span class="linenos">2282</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Validar que se introduzcan dos habilidades válidas en formato &#39;Habilidad: valor&#39;.&quot;&quot;&quot;</span>
</span><span id="L-2283"><a href="#L-2283"><span class="linenos">2283</span></a>        <span class="n">habilidades</span> <span class="o">=</span> <span class="n">habilidades_text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-2284"><a href="#L-2284"><span class="linenos">2284</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">habilidades</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="L-2285"><a href="#L-2285"><span class="linenos">2285</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-2286"><a href="#L-2286"><span class="linenos">2286</span></a>        <span class="n">habilidades_dict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-2287"><a href="#L-2287"><span class="linenos">2287</span></a>        <span class="k">for</span> <span class="n">habilidad</span> <span class="ow">in</span> <span class="n">habilidades</span><span class="p">:</span>
</span><span id="L-2288"><a href="#L-2288"><span class="linenos">2288</span></a>            <span class="k">if</span> <span class="s1">&#39;:&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">habilidad</span><span class="p">:</span>
</span><span id="L-2289"><a href="#L-2289"><span class="linenos">2289</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-2290"><a href="#L-2290"><span class="linenos">2290</span></a>            <span class="n">name</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">habilidad</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
</span><span id="L-2291"><a href="#L-2291"><span class="linenos">2291</span></a>            <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">habilidades_dict</span><span class="p">:</span>
</span><span id="L-2292"><a href="#L-2292"><span class="linenos">2292</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-2293"><a href="#L-2293"><span class="linenos">2293</span></a>            <span class="n">habilidades_dict</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="L-2294"><a href="#L-2294"><span class="linenos">2294</span></a>        <span class="k">return</span> <span class="n">habilidades_dict</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">habilidades_dict</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span> <span class="k">else</span> <span class="kc">False</span>
</span><span id="L-2295"><a href="#L-2295"><span class="linenos">2295</span></a>    
</span><span id="L-2296"><a href="#L-2296"><span class="linenos">2296</span></a>    <span class="k">def</span> <span class="nf">validar_poderes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">poderes_text</span><span class="p">):</span>
</span><span id="L-2297"><a href="#L-2297"><span class="linenos">2297</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Validar que se introduzcan dos poderes válidos en formato &#39;Poder: valor&#39;.&quot;&quot;&quot;</span>
</span><span id="L-2298"><a href="#L-2298"><span class="linenos">2298</span></a>        <span class="n">poderes</span> <span class="o">=</span> <span class="n">poderes_text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-2299"><a href="#L-2299"><span class="linenos">2299</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">poderes</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="L-2300"><a href="#L-2300"><span class="linenos">2300</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-2301"><a href="#L-2301"><span class="linenos">2301</span></a>        <span class="n">poderes_dict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-2302"><a href="#L-2302"><span class="linenos">2302</span></a>        <span class="k">for</span> <span class="n">poder</span> <span class="ow">in</span> <span class="n">poderes</span><span class="p">:</span>
</span><span id="L-2303"><a href="#L-2303"><span class="linenos">2303</span></a>            <span class="k">if</span> <span class="s1">&#39;:&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">poder</span><span class="p">:</span>
</span><span id="L-2304"><a href="#L-2304"><span class="linenos">2304</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-2305"><a href="#L-2305"><span class="linenos">2305</span></a>            <span class="n">name</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">poder</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
</span><span id="L-2306"><a href="#L-2306"><span class="linenos">2306</span></a>            <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">poderes_dict</span><span class="p">:</span>
</span><span id="L-2307"><a href="#L-2307"><span class="linenos">2307</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-2308"><a href="#L-2308"><span class="linenos">2308</span></a>            <span class="n">poderes_dict</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="L-2309"><a href="#L-2309"><span class="linenos">2309</span></a>        <span class="k">return</span> <span class="n">poderes_dict</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">poderes_dict</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span> <span class="k">else</span> <span class="kc">False</span>
</span><span id="L-2310"><a href="#L-2310"><span class="linenos">2310</span></a>    
</span><span id="L-2311"><a href="#L-2311"><span class="linenos">2311</span></a>    <span class="k">def</span> <span class="nf">guardar_p</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-2312"><a href="#L-2312"><span class="linenos">2312</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Guardar los datos del personaje en Firestore y limpiar los campos.&quot;&quot;&quot;</span>
</span><span id="L-2313"><a href="#L-2313"><span class="linenos">2313</span></a>        <span class="n">nombre</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">name_id</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="L-2314"><a href="#L-2314"><span class="linenos">2314</span></a>        <span class="n">raza</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">raza_box</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="L-2315"><a href="#L-2315"><span class="linenos">2315</span></a>        <span class="n">habilidades_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_hb</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="L-2316"><a href="#L-2316"><span class="linenos">2316</span></a>        <span class="n">poderes_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tx_pd</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="L-2317"><a href="#L-2317"><span class="linenos">2317</span></a>        <span class="n">equipamiento</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cc_eq</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="L-2318"><a href="#L-2318"><span class="linenos">2318</span></a>        <span class="n">raza_custom</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">raza_line</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="L-2319"><a href="#L-2319"><span class="linenos">2319</span></a>        <span class="n">equipo_custom</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">li_equi</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="L-2320"><a href="#L-2320"><span class="linenos">2320</span></a>        
</span><span id="L-2321"><a href="#L-2321"><span class="linenos">2321</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">validacion_campos</span><span class="p">(</span><span class="n">nombre</span><span class="p">,</span> <span class="s1">&#39;Nombre&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">validacion_campos</span><span class="p">(</span><span class="n">raza</span><span class="p">,</span> <span class="s1">&#39;Raza&#39;</span><span class="p">):</span>
</span><span id="L-2322"><a href="#L-2322"><span class="linenos">2322</span></a>            <span class="k">return</span>
</span><span id="L-2323"><a href="#L-2323"><span class="linenos">2323</span></a>
</span><span id="L-2324"><a href="#L-2324"><span class="linenos">2324</span></a>        <span class="n">habilidades</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validar_habilidades</span><span class="p">(</span><span class="n">habilidades_text</span><span class="p">)</span>
</span><span id="L-2325"><a href="#L-2325"><span class="linenos">2325</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">habilidades</span><span class="p">:</span>
</span><span id="L-2326"><a href="#L-2326"><span class="linenos">2326</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Introduce dos habilidades válidas.&#39;</span><span class="p">)</span>
</span><span id="L-2327"><a href="#L-2327"><span class="linenos">2327</span></a>            <span class="k">return</span>
</span><span id="L-2328"><a href="#L-2328"><span class="linenos">2328</span></a>
</span><span id="L-2329"><a href="#L-2329"><span class="linenos">2329</span></a>        <span class="n">poderes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validar_poderes</span><span class="p">(</span><span class="n">poderes_text</span><span class="p">)</span>
</span><span id="L-2330"><a href="#L-2330"><span class="linenos">2330</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">poderes</span><span class="p">:</span>
</span><span id="L-2331"><a href="#L-2331"><span class="linenos">2331</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Introduce dos poderes válidos.&#39;</span><span class="p">)</span>
</span><span id="L-2332"><a href="#L-2332"><span class="linenos">2332</span></a>            <span class="k">return</span>
</span><span id="L-2333"><a href="#L-2333"><span class="linenos">2333</span></a>        
</span><span id="L-2334"><a href="#L-2334"><span class="linenos">2334</span></a>        <span class="k">if</span> <span class="n">raza_custom</span><span class="p">:</span>
</span><span id="L-2335"><a href="#L-2335"><span class="linenos">2335</span></a>            <span class="n">raza</span> <span class="o">=</span> <span class="n">raza_custom</span>
</span><span id="L-2336"><a href="#L-2336"><span class="linenos">2336</span></a>        
</span><span id="L-2337"><a href="#L-2337"><span class="linenos">2337</span></a>        <span class="k">if</span> <span class="n">equipo_custom</span><span class="p">:</span>
</span><span id="L-2338"><a href="#L-2338"><span class="linenos">2338</span></a>            <span class="n">equipamiento</span> <span class="o">=</span> <span class="n">equipo_custom</span>
</span><span id="L-2339"><a href="#L-2339"><span class="linenos">2339</span></a>
</span><span id="L-2340"><a href="#L-2340"><span class="linenos">2340</span></a>        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="L-2341"><a href="#L-2341"><span class="linenos">2341</span></a>            <span class="s1">&#39;nombre&#39;</span><span class="p">:</span> <span class="n">nombre</span><span class="p">,</span>
</span><span id="L-2342"><a href="#L-2342"><span class="linenos">2342</span></a>            <span class="s1">&#39;nivel&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span><span id="L-2343"><a href="#L-2343"><span class="linenos">2343</span></a>            <span class="s1">&#39;raza&#39;</span><span class="p">:</span> <span class="n">raza</span><span class="p">,</span>
</span><span id="L-2344"><a href="#L-2344"><span class="linenos">2344</span></a>            <span class="s1">&#39;habilidades&#39;</span><span class="p">:</span> <span class="n">habilidades</span><span class="p">,</span>
</span><span id="L-2345"><a href="#L-2345"><span class="linenos">2345</span></a>            <span class="s1">&#39;poderes&#39;</span><span class="p">:</span> <span class="n">poderes</span><span class="p">,</span>
</span><span id="L-2346"><a href="#L-2346"><span class="linenos">2346</span></a>            <span class="s1">&#39;equipamiento&#39;</span><span class="p">:</span> <span class="n">equipamiento</span><span class="p">,</span>
</span><span id="L-2347"><a href="#L-2347"><span class="linenos">2347</span></a>            <span class="s1">&#39;estado&#39;</span><span class="p">:</span> <span class="s1">&#39;vivo&#39;</span>
</span><span id="L-2348"><a href="#L-2348"><span class="linenos">2348</span></a>        <span class="p">}</span>
</span><span id="L-2349"><a href="#L-2349"><span class="linenos">2349</span></a>
</span><span id="L-2350"><a href="#L-2350"><span class="linenos">2350</span></a>        <span class="c1"># Guardar los datos en la colección &#39;personajes&#39;</span>
</span><span id="L-2351"><a href="#L-2351"><span class="linenos">2351</span></a>        <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;personajes&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="L-2352"><a href="#L-2352"><span class="linenos">2352</span></a>        <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Éxito&#39;</span><span class="p">,</span> <span class="s1">&#39;Personaje guardado exitosamente.&#39;</span><span class="p">)</span>
</span><span id="L-2353"><a href="#L-2353"><span class="linenos">2353</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">limpiar_p</span><span class="p">()</span>  <span class="c1"># Llamar al método de limpiar campos</span>
</span><span id="L-2354"><a href="#L-2354"><span class="linenos">2354</span></a>
</span><span id="L-2355"><a href="#L-2355"><span class="linenos">2355</span></a>    <span class="k">def</span> <span class="nf">limpiar_p</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-2356"><a href="#L-2356"><span class="linenos">2356</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Limpiar todos los campos del formulario para ingresar un nuevo personaje.&quot;&quot;&quot;</span>
</span><span id="L-2357"><a href="#L-2357"><span class="linenos">2357</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name_id</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="L-2358"><a href="#L-2358"><span class="linenos">2358</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">raza_box</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="L-2359"><a href="#L-2359"><span class="linenos">2359</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">text_hb</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="L-2360"><a href="#L-2360"><span class="linenos">2360</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tx_pd</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="L-2361"><a href="#L-2361"><span class="linenos">2361</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cc_eq</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="L-2362"><a href="#L-2362"><span class="linenos">2362</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">raza_line</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="L-2363"><a href="#L-2363"><span class="linenos">2363</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">li_equi</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="L-2364"><a href="#L-2364"><span class="linenos">2364</span></a>
</span><span id="L-2365"><a href="#L-2365"><span class="linenos">2365</span></a><span class="k">class</span> <span class="nc">CargandoWindow</span><span class="p">(</span><span class="n">QWidget</span><span class="p">,</span> <span class="n">Ui_Formcarga</span><span class="p">):</span>
</span><span id="L-2366"><a href="#L-2366"><span class="linenos">2366</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2367"><a href="#L-2367"><span class="linenos">2367</span></a><span class="sd">    Ventana para mostrar una barra de progreso durante el proceso de carga.</span>
</span><span id="L-2368"><a href="#L-2368"><span class="linenos">2368</span></a>
</span><span id="L-2369"><a href="#L-2369"><span class="linenos">2369</span></a><span class="sd">    Esta clase define una ventana con una barra de progreso para mostrar el estado de carga.</span>
</span><span id="L-2370"><a href="#L-2370"><span class="linenos">2370</span></a>
</span><span id="L-2371"><a href="#L-2371"><span class="linenos">2371</span></a><span class="sd">    **Atributos**:</span>
</span><span id="L-2372"><a href="#L-2372"><span class="linenos">2372</span></a><span class="sd">    - `barra_cargado`: `QProgressBar` que muestra el progreso de la carga.</span>
</span><span id="L-2373"><a href="#L-2373"><span class="linenos">2373</span></a>
</span><span id="L-2374"><a href="#L-2374"><span class="linenos">2374</span></a><span class="sd">    **Ejemplo de Uso**:</span>
</span><span id="L-2375"><a href="#L-2375"><span class="linenos">2375</span></a><span class="sd">    ```python</span>
</span><span id="L-2376"><a href="#L-2376"><span class="linenos">2376</span></a><span class="sd">    app = QApplication([])</span>
</span><span id="L-2377"><a href="#L-2377"><span class="linenos">2377</span></a><span class="sd">    cargando_window = CargandoWindow()</span>
</span><span id="L-2378"><a href="#L-2378"><span class="linenos">2378</span></a><span class="sd">    cargando_window.show()</span>
</span><span id="L-2379"><a href="#L-2379"><span class="linenos">2379</span></a><span class="sd">    app.exec()</span>
</span><span id="L-2380"><a href="#L-2380"><span class="linenos">2380</span></a><span class="sd">    ```</span>
</span><span id="L-2381"><a href="#L-2381"><span class="linenos">2381</span></a>
</span><span id="L-2382"><a href="#L-2382"><span class="linenos">2382</span></a><span class="sd">    **Métodos**:</span>
</span><span id="L-2383"><a href="#L-2383"><span class="linenos">2383</span></a>
</span><span id="L-2384"><a href="#L-2384"><span class="linenos">2384</span></a><span class="sd">    - `__init__(self)`: Constructor de la clase. Configura la barra de progreso y verifica que exista en la UI.</span>
</span><span id="L-2385"><a href="#L-2385"><span class="linenos">2385</span></a>
</span><span id="L-2386"><a href="#L-2386"><span class="linenos">2386</span></a><span class="sd">        **Descripción**:</span>
</span><span id="L-2387"><a href="#L-2387"><span class="linenos">2387</span></a><span class="sd">        Inicializa la ventana de carga y asegura que la barra de progreso esté correctamente configurada.</span>
</span><span id="L-2388"><a href="#L-2388"><span class="linenos">2388</span></a>
</span><span id="L-2389"><a href="#L-2389"><span class="linenos">2389</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="L-2390"><a href="#L-2390"><span class="linenos">2390</span></a><span class="sd">        No es necesario llamar a este método directamente. Se invoca automáticamente cuando se crea una instancia de `CargandoWindow`.</span>
</span><span id="L-2391"><a href="#L-2391"><span class="linenos">2391</span></a>
</span><span id="L-2392"><a href="#L-2392"><span class="linenos">2392</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="L-2393"><a href="#L-2393"><span class="linenos">2393</span></a><span class="sd">        - Asegúrate de que `barra_cargado` esté presente en el archivo de UI y se llame correctamente.</span>
</span><span id="L-2394"><a href="#L-2394"><span class="linenos">2394</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-2395"><a href="#L-2395"><span class="linenos">2395</span></a>
</span><span id="L-2396"><a href="#L-2396"><span class="linenos">2396</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-2397"><a href="#L-2397"><span class="linenos">2397</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">CargandoWindow</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="L-2398"><a href="#L-2398"><span class="linenos">2398</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="L-2399"><a href="#L-2399"><span class="linenos">2399</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">barra_cargado</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">findChild</span><span class="p">(</span><span class="n">QProgressBar</span><span class="p">,</span> <span class="s1">&#39;barra_cargado&#39;</span><span class="p">)</span>
</span><span id="L-2400"><a href="#L-2400"><span class="linenos">2400</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">barra_cargado</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-2401"><a href="#L-2401"><span class="linenos">2401</span></a>            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;QProgressBar &#39;barra_cargado&#39; no se encontró en la UI.&quot;</span><span class="p">)</span>
</span><span id="L-2402"><a href="#L-2402"><span class="linenos">2402</span></a>
</span><span id="L-2403"><a href="#L-2403"><span class="linenos">2403</span></a>
</span><span id="L-2404"><a href="#L-2404"><span class="linenos">2404</span></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
</span><span id="L-2405"><a href="#L-2405"><span class="linenos">2405</span></a>    <span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
</span><span id="L-2406"><a href="#L-2406"><span class="linenos">2406</span></a>    <span class="n">main_window</span> <span class="o">=</span> <span class="n">MainWindow</span><span class="p">()</span>
</span><span id="L-2407"><a href="#L-2407"><span class="linenos">2407</span></a>    <span class="n">main_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="L-2408"><a href="#L-2408"><span class="linenos">2408</span></a>    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">exec</span><span class="p">())</span>
</span></pre></div>


            </section>
                <section id="cred">
                    <div class="attr variable">
            <span class="name">cred</span>        =
<span class="default_value">&lt;firebase_admin.credentials.Certificate object&gt;</span>

        
    </div>
    <a class="headerlink" href="#cred"></a>
    
    

                </section>
                <section id="db">
                    <div class="attr variable">
            <span class="name">db</span>        =
<span class="default_value">&lt;google.cloud.firestore_v1.client.Client object&gt;</span>

        
    </div>
    <a class="headerlink" href="#db"></a>
    
    

                </section>
                <section id="MainWindow">
                            <input id="MainWindow-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">MainWindow</span><wbr>(<span class="base">PySide6.QtWidgets.QWidget</span>, <span class="base">ui_inicio.Ui_Forms</span>):

                <label class="view-source-button" for="MainWindow-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MainWindow"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MainWindow-28"><a href="#MainWindow-28"><span class="linenos">28</span></a><span class="k">class</span> <span class="nc">MainWindow</span><span class="p">(</span><span class="n">QWidget</span><span class="p">,</span> <span class="n">Ui_Forms</span><span class="p">):</span>
</span><span id="MainWindow-29"><a href="#MainWindow-29"><span class="linenos">29</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainWindow-30"><a href="#MainWindow-30"><span class="linenos">30</span></a><span class="sd">    Ventana principal de la aplicación. </span>
</span><span id="MainWindow-31"><a href="#MainWindow-31"><span class="linenos">31</span></a>
</span><span id="MainWindow-32"><a href="#MainWindow-32"><span class="linenos">32</span></a><span class="sd">    Esta clase gestiona las acciones de los botones en la ventana principal, abriendo diferentes ventanas según la opción seleccionada por el usuario.</span>
</span><span id="MainWindow-33"><a href="#MainWindow-33"><span class="linenos">33</span></a>
</span><span id="MainWindow-34"><a href="#MainWindow-34"><span class="linenos">34</span></a><span class="sd">    Métodos:</span>
</span><span id="MainWindow-35"><a href="#MainWindow-35"><span class="linenos">35</span></a><span class="sd">        __init__: Inicializa la ventana principal y configura las conexiones de los botones.</span>
</span><span id="MainWindow-36"><a href="#MainWindow-36"><span class="linenos">36</span></a><span class="sd">        abrir_master: Abre la ventana del master para gestionar misiones.</span>
</span><span id="MainWindow-37"><a href="#MainWindow-37"><span class="linenos">37</span></a><span class="sd">        abrir_jugador: Abre la ventana para gestionar personajes.</span>
</span><span id="MainWindow-38"><a href="#MainWindow-38"><span class="linenos">38</span></a><span class="sd">        abrir_registro: Abre la ventana para registrar nuevos personajes.</span>
</span><span id="MainWindow-39"><a href="#MainWindow-39"><span class="linenos">39</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="MainWindow-40"><a href="#MainWindow-40"><span class="linenos">40</span></a>
</span><span id="MainWindow-41"><a href="#MainWindow-41"><span class="linenos">41</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MainWindow-42"><a href="#MainWindow-42"><span class="linenos">42</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainWindow-43"><a href="#MainWindow-43"><span class="linenos">43</span></a><span class="sd">        Inicializa la ventana principal y configura las conexiones de los botones.</span>
</span><span id="MainWindow-44"><a href="#MainWindow-44"><span class="linenos">44</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainWindow-45"><a href="#MainWindow-45"><span class="linenos">45</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="MainWindow-46"><a href="#MainWindow-46"><span class="linenos">46</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="MainWindow-47"><a href="#MainWindow-47"><span class="linenos">47</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_master</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">abrir_master</span><span class="p">)</span>
</span><span id="MainWindow-48"><a href="#MainWindow-48"><span class="linenos">48</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_jugador</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">abrir_jugador</span><span class="p">)</span>
</span><span id="MainWindow-49"><a href="#MainWindow-49"><span class="linenos">49</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_registro</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">abrir_registro</span><span class="p">)</span>
</span><span id="MainWindow-50"><a href="#MainWindow-50"><span class="linenos">50</span></a>
</span><span id="MainWindow-51"><a href="#MainWindow-51"><span class="linenos">51</span></a>    <span class="k">def</span> <span class="nf">abrir_master</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MainWindow-52"><a href="#MainWindow-52"><span class="linenos">52</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainWindow-53"><a href="#MainWindow-53"><span class="linenos">53</span></a><span class="sd">        Abre la ventana del master para gestionar misiones.</span>
</span><span id="MainWindow-54"><a href="#MainWindow-54"><span class="linenos">54</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainWindow-55"><a href="#MainWindow-55"><span class="linenos">55</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">master_window</span> <span class="o">=</span> <span class="n">MasterWindow</span><span class="p">()</span>
</span><span id="MainWindow-56"><a href="#MainWindow-56"><span class="linenos">56</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">master_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="MainWindow-57"><a href="#MainWindow-57"><span class="linenos">57</span></a>
</span><span id="MainWindow-58"><a href="#MainWindow-58"><span class="linenos">58</span></a>    <span class="k">def</span> <span class="nf">abrir_jugador</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MainWindow-59"><a href="#MainWindow-59"><span class="linenos">59</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainWindow-60"><a href="#MainWindow-60"><span class="linenos">60</span></a><span class="sd">        Abre la ventana para gestionar personajes.</span>
</span><span id="MainWindow-61"><a href="#MainWindow-61"><span class="linenos">61</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainWindow-62"><a href="#MainWindow-62"><span class="linenos">62</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">master_window</span> <span class="o">=</span> <span class="n">jugadorWindow</span><span class="p">()</span>
</span><span id="MainWindow-63"><a href="#MainWindow-63"><span class="linenos">63</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">master_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="MainWindow-64"><a href="#MainWindow-64"><span class="linenos">64</span></a>
</span><span id="MainWindow-65"><a href="#MainWindow-65"><span class="linenos">65</span></a>    <span class="k">def</span> <span class="nf">abrir_registro</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MainWindow-66"><a href="#MainWindow-66"><span class="linenos">66</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainWindow-67"><a href="#MainWindow-67"><span class="linenos">67</span></a><span class="sd">        Abre la ventana para registrar nuevos personajes.</span>
</span><span id="MainWindow-68"><a href="#MainWindow-68"><span class="linenos">68</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainWindow-69"><a href="#MainWindow-69"><span class="linenos">69</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">master_window</span> <span class="o">=</span> <span class="n">PersonajesWindow</span><span class="p">()</span>
</span><span id="MainWindow-70"><a href="#MainWindow-70"><span class="linenos">70</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">master_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Ventana principal de la aplicación. </p>

<p>Esta clase gestiona las acciones de los botones en la ventana principal, abriendo diferentes ventanas según la opción seleccionada por el usuario.</p>

<p>Métodos:
    __init__: Inicializa la ventana principal y configura las conexiones de los botones.
    abrir_master: Abre la ventana del master para gestionar misiones.
    abrir_jugador: Abre la ventana para gestionar personajes.
    abrir_registro: Abre la ventana para registrar nuevos personajes.</p>
</div>


                            <div id="MainWindow.__init__" class="classattr">
                                        <input id="MainWindow.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">MainWindow</span><span class="signature pdoc-code condensed">()</span>

                <label class="view-source-button" for="MainWindow.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MainWindow.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MainWindow.__init__-41"><a href="#MainWindow.__init__-41"><span class="linenos">41</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MainWindow.__init__-42"><a href="#MainWindow.__init__-42"><span class="linenos">42</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainWindow.__init__-43"><a href="#MainWindow.__init__-43"><span class="linenos">43</span></a><span class="sd">        Inicializa la ventana principal y configura las conexiones de los botones.</span>
</span><span id="MainWindow.__init__-44"><a href="#MainWindow.__init__-44"><span class="linenos">44</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainWindow.__init__-45"><a href="#MainWindow.__init__-45"><span class="linenos">45</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="MainWindow.__init__-46"><a href="#MainWindow.__init__-46"><span class="linenos">46</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="MainWindow.__init__-47"><a href="#MainWindow.__init__-47"><span class="linenos">47</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_master</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">abrir_master</span><span class="p">)</span>
</span><span id="MainWindow.__init__-48"><a href="#MainWindow.__init__-48"><span class="linenos">48</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_jugador</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">abrir_jugador</span><span class="p">)</span>
</span><span id="MainWindow.__init__-49"><a href="#MainWindow.__init__-49"><span class="linenos">49</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_registro</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">abrir_registro</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Inicializa la ventana principal y configura las conexiones de los botones.</p>
</div>


                            </div>
                            <div id="MainWindow.abrir_master" class="classattr">
                                        <input id="MainWindow.abrir_master-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">abrir_master</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="MainWindow.abrir_master-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MainWindow.abrir_master"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MainWindow.abrir_master-51"><a href="#MainWindow.abrir_master-51"><span class="linenos">51</span></a>    <span class="k">def</span> <span class="nf">abrir_master</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MainWindow.abrir_master-52"><a href="#MainWindow.abrir_master-52"><span class="linenos">52</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainWindow.abrir_master-53"><a href="#MainWindow.abrir_master-53"><span class="linenos">53</span></a><span class="sd">        Abre la ventana del master para gestionar misiones.</span>
</span><span id="MainWindow.abrir_master-54"><a href="#MainWindow.abrir_master-54"><span class="linenos">54</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainWindow.abrir_master-55"><a href="#MainWindow.abrir_master-55"><span class="linenos">55</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">master_window</span> <span class="o">=</span> <span class="n">MasterWindow</span><span class="p">()</span>
</span><span id="MainWindow.abrir_master-56"><a href="#MainWindow.abrir_master-56"><span class="linenos">56</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">master_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Abre la ventana del master para gestionar misiones.</p>
</div>


                            </div>
                            <div id="MainWindow.abrir_jugador" class="classattr">
                                        <input id="MainWindow.abrir_jugador-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">abrir_jugador</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="MainWindow.abrir_jugador-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MainWindow.abrir_jugador"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MainWindow.abrir_jugador-58"><a href="#MainWindow.abrir_jugador-58"><span class="linenos">58</span></a>    <span class="k">def</span> <span class="nf">abrir_jugador</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MainWindow.abrir_jugador-59"><a href="#MainWindow.abrir_jugador-59"><span class="linenos">59</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainWindow.abrir_jugador-60"><a href="#MainWindow.abrir_jugador-60"><span class="linenos">60</span></a><span class="sd">        Abre la ventana para gestionar personajes.</span>
</span><span id="MainWindow.abrir_jugador-61"><a href="#MainWindow.abrir_jugador-61"><span class="linenos">61</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainWindow.abrir_jugador-62"><a href="#MainWindow.abrir_jugador-62"><span class="linenos">62</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">master_window</span> <span class="o">=</span> <span class="n">jugadorWindow</span><span class="p">()</span>
</span><span id="MainWindow.abrir_jugador-63"><a href="#MainWindow.abrir_jugador-63"><span class="linenos">63</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">master_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Abre la ventana para gestionar personajes.</p>
</div>


                            </div>
                            <div id="MainWindow.abrir_registro" class="classattr">
                                        <input id="MainWindow.abrir_registro-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">abrir_registro</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="MainWindow.abrir_registro-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MainWindow.abrir_registro"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MainWindow.abrir_registro-65"><a href="#MainWindow.abrir_registro-65"><span class="linenos">65</span></a>    <span class="k">def</span> <span class="nf">abrir_registro</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MainWindow.abrir_registro-66"><a href="#MainWindow.abrir_registro-66"><span class="linenos">66</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MainWindow.abrir_registro-67"><a href="#MainWindow.abrir_registro-67"><span class="linenos">67</span></a><span class="sd">        Abre la ventana para registrar nuevos personajes.</span>
</span><span id="MainWindow.abrir_registro-68"><a href="#MainWindow.abrir_registro-68"><span class="linenos">68</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MainWindow.abrir_registro-69"><a href="#MainWindow.abrir_registro-69"><span class="linenos">69</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">master_window</span> <span class="o">=</span> <span class="n">PersonajesWindow</span><span class="p">()</span>
</span><span id="MainWindow.abrir_registro-70"><a href="#MainWindow.abrir_registro-70"><span class="linenos">70</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">master_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Abre la ventana para registrar nuevos personajes.</p>
</div>


                            </div>
                            <div id="MainWindow.staticMetaObject" class="classattr">
                                <div class="attr variable">
            <span class="name">staticMetaObject</span>        =
<span class="default_value">PySide6.QtCore.QMetaObject(&#34;MainWindow&#34; inherits &#34;QWidget&#34;:
)</span>

        
    </div>
    <a class="headerlink" href="#MainWindow.staticMetaObject"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>ui_inicio.Ui_Forms</dt>
                                <dd id="MainWindow.setupUi" class="function">setupUi</dd>
                <dd id="MainWindow.retranslateUi" class="function">retranslateUi</dd>

            </div>
            <div><dt>PySide6.QtWidgets.QWidget</dt>
                                <dd id="MainWindow.acceptDrops" class="function">acceptDrops</dd>
                <dd id="MainWindow.accessibleDescription" class="function">accessibleDescription</dd>
                <dd id="MainWindow.accessibleName" class="function">accessibleName</dd>
                <dd id="MainWindow.actionEvent" class="function">actionEvent</dd>
                <dd id="MainWindow.actions" class="function">actions</dd>
                <dd id="MainWindow.activateWindow" class="function">activateWindow</dd>
                <dd id="MainWindow.addAction" class="function">addAction</dd>
                <dd id="MainWindow.addActions" class="function">addActions</dd>
                <dd id="MainWindow.adjustSize" class="function">adjustSize</dd>
                <dd id="MainWindow.autoFillBackground" class="function">autoFillBackground</dd>
                <dd id="MainWindow.backgroundRole" class="function">backgroundRole</dd>
                <dd id="MainWindow.backingStore" class="function">backingStore</dd>
                <dd id="MainWindow.baseSize" class="function">baseSize</dd>
                <dd id="MainWindow.changeEvent" class="function">changeEvent</dd>
                <dd id="MainWindow.childAt" class="function">childAt</dd>
                <dd id="MainWindow.childrenRect" class="function">childrenRect</dd>
                <dd id="MainWindow.childrenRegion" class="function">childrenRegion</dd>
                <dd id="MainWindow.clearFocus" class="function">clearFocus</dd>
                <dd id="MainWindow.clearMask" class="function">clearMask</dd>
                <dd id="MainWindow.close" class="function">close</dd>
                <dd id="MainWindow.closeEvent" class="function">closeEvent</dd>
                <dd id="MainWindow.contentsMargins" class="function">contentsMargins</dd>
                <dd id="MainWindow.contentsRect" class="function">contentsRect</dd>
                <dd id="MainWindow.contextMenuEvent" class="function">contextMenuEvent</dd>
                <dd id="MainWindow.contextMenuPolicy" class="function">contextMenuPolicy</dd>
                <dd id="MainWindow.create" class="function">create</dd>
                <dd id="MainWindow.createWinId" class="function">createWinId</dd>
                <dd id="MainWindow.createWindowContainer" class="function">createWindowContainer</dd>
                <dd id="MainWindow.cursor" class="function">cursor</dd>
                <dd id="MainWindow.destroy" class="function">destroy</dd>
                <dd id="MainWindow.devType" class="function">devType</dd>
                <dd id="MainWindow.dragEnterEvent" class="function">dragEnterEvent</dd>
                <dd id="MainWindow.dragLeaveEvent" class="function">dragLeaveEvent</dd>
                <dd id="MainWindow.dragMoveEvent" class="function">dragMoveEvent</dd>
                <dd id="MainWindow.dropEvent" class="function">dropEvent</dd>
                <dd id="MainWindow.effectiveWinId" class="function">effectiveWinId</dd>
                <dd id="MainWindow.ensurePolished" class="function">ensurePolished</dd>
                <dd id="MainWindow.enterEvent" class="function">enterEvent</dd>
                <dd id="MainWindow.event" class="function">event</dd>
                <dd id="MainWindow.find" class="function">find</dd>
                <dd id="MainWindow.focusInEvent" class="function">focusInEvent</dd>
                <dd id="MainWindow.focusNextChild" class="function">focusNextChild</dd>
                <dd id="MainWindow.focusNextPrevChild" class="function">focusNextPrevChild</dd>
                <dd id="MainWindow.focusOutEvent" class="function">focusOutEvent</dd>
                <dd id="MainWindow.focusPolicy" class="function">focusPolicy</dd>
                <dd id="MainWindow.focusPreviousChild" class="function">focusPreviousChild</dd>
                <dd id="MainWindow.focusProxy" class="function">focusProxy</dd>
                <dd id="MainWindow.focusWidget" class="function">focusWidget</dd>
                <dd id="MainWindow.font" class="function">font</dd>
                <dd id="MainWindow.fontInfo" class="function">fontInfo</dd>
                <dd id="MainWindow.fontMetrics" class="function">fontMetrics</dd>
                <dd id="MainWindow.foregroundRole" class="function">foregroundRole</dd>
                <dd id="MainWindow.frameGeometry" class="function">frameGeometry</dd>
                <dd id="MainWindow.frameSize" class="function">frameSize</dd>
                <dd id="MainWindow.geometry" class="function">geometry</dd>
                <dd id="MainWindow.grab" class="function">grab</dd>
                <dd id="MainWindow.grabGesture" class="function">grabGesture</dd>
                <dd id="MainWindow.grabKeyboard" class="function">grabKeyboard</dd>
                <dd id="MainWindow.grabMouse" class="function">grabMouse</dd>
                <dd id="MainWindow.grabShortcut" class="function">grabShortcut</dd>
                <dd id="MainWindow.graphicsEffect" class="function">graphicsEffect</dd>
                <dd id="MainWindow.graphicsProxyWidget" class="function">graphicsProxyWidget</dd>
                <dd id="MainWindow.hasFocus" class="function">hasFocus</dd>
                <dd id="MainWindow.hasHeightForWidth" class="function">hasHeightForWidth</dd>
                <dd id="MainWindow.hasMouseTracking" class="function">hasMouseTracking</dd>
                <dd id="MainWindow.hasTabletTracking" class="function">hasTabletTracking</dd>
                <dd id="MainWindow.height" class="function">height</dd>
                <dd id="MainWindow.heightForWidth" class="function">heightForWidth</dd>
                <dd id="MainWindow.hide" class="function">hide</dd>
                <dd id="MainWindow.hideEvent" class="function">hideEvent</dd>
                <dd id="MainWindow.initPainter" class="function">initPainter</dd>
                <dd id="MainWindow.inputMethodEvent" class="function">inputMethodEvent</dd>
                <dd id="MainWindow.inputMethodHints" class="function">inputMethodHints</dd>
                <dd id="MainWindow.inputMethodQuery" class="function">inputMethodQuery</dd>
                <dd id="MainWindow.insertAction" class="function">insertAction</dd>
                <dd id="MainWindow.insertActions" class="function">insertActions</dd>
                <dd id="MainWindow.internalWinId" class="function">internalWinId</dd>
                <dd id="MainWindow.isActiveWindow" class="function">isActiveWindow</dd>
                <dd id="MainWindow.isAncestorOf" class="function">isAncestorOf</dd>
                <dd id="MainWindow.isEnabled" class="function">isEnabled</dd>
                <dd id="MainWindow.isEnabledTo" class="function">isEnabledTo</dd>
                <dd id="MainWindow.isFullScreen" class="function">isFullScreen</dd>
                <dd id="MainWindow.isHidden" class="function">isHidden</dd>
                <dd id="MainWindow.isLeftToRight" class="function">isLeftToRight</dd>
                <dd id="MainWindow.isMaximized" class="function">isMaximized</dd>
                <dd id="MainWindow.isMinimized" class="function">isMinimized</dd>
                <dd id="MainWindow.isModal" class="function">isModal</dd>
                <dd id="MainWindow.isRightToLeft" class="function">isRightToLeft</dd>
                <dd id="MainWindow.isTopLevel" class="function">isTopLevel</dd>
                <dd id="MainWindow.isVisible" class="function">isVisible</dd>
                <dd id="MainWindow.isVisibleTo" class="function">isVisibleTo</dd>
                <dd id="MainWindow.isWindow" class="function">isWindow</dd>
                <dd id="MainWindow.isWindowModified" class="function">isWindowModified</dd>
                <dd id="MainWindow.keyPressEvent" class="function">keyPressEvent</dd>
                <dd id="MainWindow.keyReleaseEvent" class="function">keyReleaseEvent</dd>
                <dd id="MainWindow.keyboardGrabber" class="function">keyboardGrabber</dd>
                <dd id="MainWindow.layout" class="function">layout</dd>
                <dd id="MainWindow.layoutDirection" class="function">layoutDirection</dd>
                <dd id="MainWindow.leaveEvent" class="function">leaveEvent</dd>
                <dd id="MainWindow.locale" class="function">locale</dd>
                <dd id="MainWindow.lower" class="function">lower</dd>
                <dd id="MainWindow.mapFrom" class="function">mapFrom</dd>
                <dd id="MainWindow.mapFromGlobal" class="function">mapFromGlobal</dd>
                <dd id="MainWindow.mapFromParent" class="function">mapFromParent</dd>
                <dd id="MainWindow.mapTo" class="function">mapTo</dd>
                <dd id="MainWindow.mapToGlobal" class="function">mapToGlobal</dd>
                <dd id="MainWindow.mapToParent" class="function">mapToParent</dd>
                <dd id="MainWindow.mask" class="function">mask</dd>
                <dd id="MainWindow.maximumHeight" class="function">maximumHeight</dd>
                <dd id="MainWindow.maximumSize" class="function">maximumSize</dd>
                <dd id="MainWindow.maximumWidth" class="function">maximumWidth</dd>
                <dd id="MainWindow.metric" class="function">metric</dd>
                <dd id="MainWindow.minimumHeight" class="function">minimumHeight</dd>
                <dd id="MainWindow.minimumSize" class="function">minimumSize</dd>
                <dd id="MainWindow.minimumSizeHint" class="function">minimumSizeHint</dd>
                <dd id="MainWindow.minimumWidth" class="function">minimumWidth</dd>
                <dd id="MainWindow.mouseDoubleClickEvent" class="function">mouseDoubleClickEvent</dd>
                <dd id="MainWindow.mouseGrabber" class="function">mouseGrabber</dd>
                <dd id="MainWindow.mouseMoveEvent" class="function">mouseMoveEvent</dd>
                <dd id="MainWindow.mousePressEvent" class="function">mousePressEvent</dd>
                <dd id="MainWindow.mouseReleaseEvent" class="function">mouseReleaseEvent</dd>
                <dd id="MainWindow.move" class="function">move</dd>
                <dd id="MainWindow.moveEvent" class="function">moveEvent</dd>
                <dd id="MainWindow.nativeEvent" class="function">nativeEvent</dd>
                <dd id="MainWindow.nativeParentWidget" class="function">nativeParentWidget</dd>
                <dd id="MainWindow.nextInFocusChain" class="function">nextInFocusChain</dd>
                <dd id="MainWindow.normalGeometry" class="function">normalGeometry</dd>
                <dd id="MainWindow.overrideWindowFlags" class="function">overrideWindowFlags</dd>
                <dd id="MainWindow.overrideWindowState" class="function">overrideWindowState</dd>
                <dd id="MainWindow.paintEngine" class="function">paintEngine</dd>
                <dd id="MainWindow.paintEvent" class="function">paintEvent</dd>
                <dd id="MainWindow.palette" class="function">palette</dd>
                <dd id="MainWindow.parentWidget" class="function">parentWidget</dd>
                <dd id="MainWindow.pos" class="function">pos</dd>
                <dd id="MainWindow.previousInFocusChain" class="function">previousInFocusChain</dd>
                <dd id="MainWindow.raise_" class="function">raise_</dd>
                <dd id="MainWindow.rect" class="function">rect</dd>
                <dd id="MainWindow.redirected" class="function">redirected</dd>
                <dd id="MainWindow.releaseKeyboard" class="function">releaseKeyboard</dd>
                <dd id="MainWindow.releaseMouse" class="function">releaseMouse</dd>
                <dd id="MainWindow.releaseShortcut" class="function">releaseShortcut</dd>
                <dd id="MainWindow.removeAction" class="function">removeAction</dd>
                <dd id="MainWindow.render" class="function">render</dd>
                <dd id="MainWindow.repaint" class="function">repaint</dd>
                <dd id="MainWindow.resize" class="function">resize</dd>
                <dd id="MainWindow.resizeEvent" class="function">resizeEvent</dd>
                <dd id="MainWindow.restoreGeometry" class="function">restoreGeometry</dd>
                <dd id="MainWindow.saveGeometry" class="function">saveGeometry</dd>
                <dd id="MainWindow.screen" class="function">screen</dd>
                <dd id="MainWindow.scroll" class="function">scroll</dd>
                <dd id="MainWindow.setAcceptDrops" class="function">setAcceptDrops</dd>
                <dd id="MainWindow.setAccessibleDescription" class="function">setAccessibleDescription</dd>
                <dd id="MainWindow.setAccessibleName" class="function">setAccessibleName</dd>
                <dd id="MainWindow.setAttribute" class="function">setAttribute</dd>
                <dd id="MainWindow.setAutoFillBackground" class="function">setAutoFillBackground</dd>
                <dd id="MainWindow.setBackgroundRole" class="function">setBackgroundRole</dd>
                <dd id="MainWindow.setBaseSize" class="function">setBaseSize</dd>
                <dd id="MainWindow.setContentsMargins" class="function">setContentsMargins</dd>
                <dd id="MainWindow.setContextMenuPolicy" class="function">setContextMenuPolicy</dd>
                <dd id="MainWindow.setCursor" class="function">setCursor</dd>
                <dd id="MainWindow.setDisabled" class="function">setDisabled</dd>
                <dd id="MainWindow.setEnabled" class="function">setEnabled</dd>
                <dd id="MainWindow.setFixedHeight" class="function">setFixedHeight</dd>
                <dd id="MainWindow.setFixedSize" class="function">setFixedSize</dd>
                <dd id="MainWindow.setFixedWidth" class="function">setFixedWidth</dd>
                <dd id="MainWindow.setFocus" class="function">setFocus</dd>
                <dd id="MainWindow.setFocusPolicy" class="function">setFocusPolicy</dd>
                <dd id="MainWindow.setFocusProxy" class="function">setFocusProxy</dd>
                <dd id="MainWindow.setFont" class="function">setFont</dd>
                <dd id="MainWindow.setForegroundRole" class="function">setForegroundRole</dd>
                <dd id="MainWindow.setGeometry" class="function">setGeometry</dd>
                <dd id="MainWindow.setGraphicsEffect" class="function">setGraphicsEffect</dd>
                <dd id="MainWindow.setHidden" class="function">setHidden</dd>
                <dd id="MainWindow.setInputMethodHints" class="function">setInputMethodHints</dd>
                <dd id="MainWindow.setLayout" class="function">setLayout</dd>
                <dd id="MainWindow.setLayoutDirection" class="function">setLayoutDirection</dd>
                <dd id="MainWindow.setLocale" class="function">setLocale</dd>
                <dd id="MainWindow.setMask" class="function">setMask</dd>
                <dd id="MainWindow.setMaximumHeight" class="function">setMaximumHeight</dd>
                <dd id="MainWindow.setMaximumSize" class="function">setMaximumSize</dd>
                <dd id="MainWindow.setMaximumWidth" class="function">setMaximumWidth</dd>
                <dd id="MainWindow.setMinimumHeight" class="function">setMinimumHeight</dd>
                <dd id="MainWindow.setMinimumSize" class="function">setMinimumSize</dd>
                <dd id="MainWindow.setMinimumWidth" class="function">setMinimumWidth</dd>
                <dd id="MainWindow.setMouseTracking" class="function">setMouseTracking</dd>
                <dd id="MainWindow.setPalette" class="function">setPalette</dd>
                <dd id="MainWindow.setParent" class="function">setParent</dd>
                <dd id="MainWindow.setScreen" class="function">setScreen</dd>
                <dd id="MainWindow.setShortcutAutoRepeat" class="function">setShortcutAutoRepeat</dd>
                <dd id="MainWindow.setShortcutEnabled" class="function">setShortcutEnabled</dd>
                <dd id="MainWindow.setSizeIncrement" class="function">setSizeIncrement</dd>
                <dd id="MainWindow.setSizePolicy" class="function">setSizePolicy</dd>
                <dd id="MainWindow.setStatusTip" class="function">setStatusTip</dd>
                <dd id="MainWindow.setStyle" class="function">setStyle</dd>
                <dd id="MainWindow.setStyleSheet" class="function">setStyleSheet</dd>
                <dd id="MainWindow.setTabOrder" class="function">setTabOrder</dd>
                <dd id="MainWindow.setTabletTracking" class="function">setTabletTracking</dd>
                <dd id="MainWindow.setToolTip" class="function">setToolTip</dd>
                <dd id="MainWindow.setToolTipDuration" class="function">setToolTipDuration</dd>
                <dd id="MainWindow.setUpdatesEnabled" class="function">setUpdatesEnabled</dd>
                <dd id="MainWindow.setVisible" class="function">setVisible</dd>
                <dd id="MainWindow.setWhatsThis" class="function">setWhatsThis</dd>
                <dd id="MainWindow.setWindowFilePath" class="function">setWindowFilePath</dd>
                <dd id="MainWindow.setWindowFlag" class="function">setWindowFlag</dd>
                <dd id="MainWindow.setWindowFlags" class="function">setWindowFlags</dd>
                <dd id="MainWindow.setWindowIcon" class="function">setWindowIcon</dd>
                <dd id="MainWindow.setWindowIconText" class="function">setWindowIconText</dd>
                <dd id="MainWindow.setWindowModality" class="function">setWindowModality</dd>
                <dd id="MainWindow.setWindowModified" class="function">setWindowModified</dd>
                <dd id="MainWindow.setWindowOpacity" class="function">setWindowOpacity</dd>
                <dd id="MainWindow.setWindowRole" class="function">setWindowRole</dd>
                <dd id="MainWindow.setWindowState" class="function">setWindowState</dd>
                <dd id="MainWindow.setWindowTitle" class="function">setWindowTitle</dd>
                <dd id="MainWindow.sharedPainter" class="function">sharedPainter</dd>
                <dd id="MainWindow.show" class="function">show</dd>
                <dd id="MainWindow.showEvent" class="function">showEvent</dd>
                <dd id="MainWindow.showFullScreen" class="function">showFullScreen</dd>
                <dd id="MainWindow.showMaximized" class="function">showMaximized</dd>
                <dd id="MainWindow.showMinimized" class="function">showMinimized</dd>
                <dd id="MainWindow.showNormal" class="function">showNormal</dd>
                <dd id="MainWindow.size" class="function">size</dd>
                <dd id="MainWindow.sizeHint" class="function">sizeHint</dd>
                <dd id="MainWindow.sizeIncrement" class="function">sizeIncrement</dd>
                <dd id="MainWindow.sizePolicy" class="function">sizePolicy</dd>
                <dd id="MainWindow.stackUnder" class="function">stackUnder</dd>
                <dd id="MainWindow.statusTip" class="function">statusTip</dd>
                <dd id="MainWindow.style" class="function">style</dd>
                <dd id="MainWindow.styleSheet" class="function">styleSheet</dd>
                <dd id="MainWindow.tabletEvent" class="function">tabletEvent</dd>
                <dd id="MainWindow.testAttribute" class="function">testAttribute</dd>
                <dd id="MainWindow.toolTip" class="function">toolTip</dd>
                <dd id="MainWindow.toolTipDuration" class="function">toolTipDuration</dd>
                <dd id="MainWindow.topLevelWidget" class="function">topLevelWidget</dd>
                <dd id="MainWindow.underMouse" class="function">underMouse</dd>
                <dd id="MainWindow.ungrabGesture" class="function">ungrabGesture</dd>
                <dd id="MainWindow.unsetCursor" class="function">unsetCursor</dd>
                <dd id="MainWindow.unsetLayoutDirection" class="function">unsetLayoutDirection</dd>
                <dd id="MainWindow.unsetLocale" class="function">unsetLocale</dd>
                <dd id="MainWindow.update" class="function">update</dd>
                <dd id="MainWindow.updateGeometry" class="function">updateGeometry</dd>
                <dd id="MainWindow.updateMicroFocus" class="function">updateMicroFocus</dd>
                <dd id="MainWindow.updatesEnabled" class="function">updatesEnabled</dd>
                <dd id="MainWindow.visibleRegion" class="function">visibleRegion</dd>
                <dd id="MainWindow.whatsThis" class="function">whatsThis</dd>
                <dd id="MainWindow.wheelEvent" class="function">wheelEvent</dd>
                <dd id="MainWindow.width" class="function">width</dd>
                <dd id="MainWindow.winId" class="function">winId</dd>
                <dd id="MainWindow.window" class="function">window</dd>
                <dd id="MainWindow.windowFilePath" class="function">windowFilePath</dd>
                <dd id="MainWindow.windowFlags" class="function">windowFlags</dd>
                <dd id="MainWindow.windowHandle" class="function">windowHandle</dd>
                <dd id="MainWindow.windowIcon" class="function">windowIcon</dd>
                <dd id="MainWindow.windowIconText" class="function">windowIconText</dd>
                <dd id="MainWindow.windowModality" class="function">windowModality</dd>
                <dd id="MainWindow.windowOpacity" class="function">windowOpacity</dd>
                <dd id="MainWindow.windowRole" class="function">windowRole</dd>
                <dd id="MainWindow.windowState" class="function">windowState</dd>
                <dd id="MainWindow.windowTitle" class="function">windowTitle</dd>
                <dd id="MainWindow.windowType" class="function">windowType</dd>
                <dd id="MainWindow.x" class="function">x</dd>
                <dd id="MainWindow.y" class="function">y</dd>
                <dd id="MainWindow.RenderFlag" class="class">RenderFlag</dd>
                <dd id="MainWindow.windowTitleChanged" class="function">windowTitleChanged</dd>
                <dd id="MainWindow.windowIconChanged" class="function">windowIconChanged</dd>
                <dd id="MainWindow.windowIconTextChanged" class="function">windowIconTextChanged</dd>
                <dd id="MainWindow.customContextMenuRequested" class="function">customContextMenuRequested</dd>

            </div>
            <div><dt>PySide6.QtCore.QObject</dt>
                                <dd id="MainWindow.blockSignals" class="function">blockSignals</dd>
                <dd id="MainWindow.childEvent" class="function">childEvent</dd>
                <dd id="MainWindow.children" class="function">children</dd>
                <dd id="MainWindow.connect" class="function">connect</dd>
                <dd id="MainWindow.connectNotify" class="function">connectNotify</dd>
                <dd id="MainWindow.customEvent" class="function">customEvent</dd>
                <dd id="MainWindow.deleteLater" class="function">deleteLater</dd>
                <dd id="MainWindow.disconnect" class="function">disconnect</dd>
                <dd id="MainWindow.disconnectNotify" class="function">disconnectNotify</dd>
                <dd id="MainWindow.dumpObjectInfo" class="function">dumpObjectInfo</dd>
                <dd id="MainWindow.dumpObjectTree" class="function">dumpObjectTree</dd>
                <dd id="MainWindow.dynamicPropertyNames" class="function">dynamicPropertyNames</dd>
                <dd id="MainWindow.emit" class="function">emit</dd>
                <dd id="MainWindow.eventFilter" class="function">eventFilter</dd>
                <dd id="MainWindow.findChild" class="function">findChild</dd>
                <dd id="MainWindow.findChildren" class="function">findChildren</dd>
                <dd id="MainWindow.inherits" class="function">inherits</dd>
                <dd id="MainWindow.installEventFilter" class="function">installEventFilter</dd>
                <dd id="MainWindow.isQuickItemType" class="function">isQuickItemType</dd>
                <dd id="MainWindow.isSignalConnected" class="function">isSignalConnected</dd>
                <dd id="MainWindow.isWidgetType" class="function">isWidgetType</dd>
                <dd id="MainWindow.isWindowType" class="function">isWindowType</dd>
                <dd id="MainWindow.killTimer" class="function">killTimer</dd>
                <dd id="MainWindow.metaObject" class="function">metaObject</dd>
                <dd id="MainWindow.moveToThread" class="function">moveToThread</dd>
                <dd id="MainWindow.objectName" class="function">objectName</dd>
                <dd id="MainWindow.parent" class="function">parent</dd>
                <dd id="MainWindow.property" class="function">property</dd>
                <dd id="MainWindow.receivers" class="function">receivers</dd>
                <dd id="MainWindow.removeEventFilter" class="function">removeEventFilter</dd>
                <dd id="MainWindow.sender" class="function">sender</dd>
                <dd id="MainWindow.senderSignalIndex" class="function">senderSignalIndex</dd>
                <dd id="MainWindow.setObjectName" class="function">setObjectName</dd>
                <dd id="MainWindow.setProperty" class="function">setProperty</dd>
                <dd id="MainWindow.signalsBlocked" class="function">signalsBlocked</dd>
                <dd id="MainWindow.startTimer" class="function">startTimer</dd>
                <dd id="MainWindow.thread" class="function">thread</dd>
                <dd id="MainWindow.timerEvent" class="function">timerEvent</dd>
                <dd id="MainWindow.tr" class="function">tr</dd>
                <dd id="MainWindow.destroyed" class="function">destroyed</dd>
                <dd id="MainWindow.objectNameChanged" class="function">objectNameChanged</dd>

            </div>
            <div><dt>PySide6.QtGui.QPaintDevice</dt>
                                <dd id="MainWindow.colorCount" class="function">colorCount</dd>
                <dd id="MainWindow.depth" class="function">depth</dd>
                <dd id="MainWindow.devicePixelRatio" class="function">devicePixelRatio</dd>
                <dd id="MainWindow.devicePixelRatioF" class="function">devicePixelRatioF</dd>
                <dd id="MainWindow.devicePixelRatioFScale" class="function">devicePixelRatioFScale</dd>
                <dd id="MainWindow.heightMM" class="function">heightMM</dd>
                <dd id="MainWindow.logicalDpiX" class="function">logicalDpiX</dd>
                <dd id="MainWindow.logicalDpiY" class="function">logicalDpiY</dd>
                <dd id="MainWindow.paintingActive" class="function">paintingActive</dd>
                <dd id="MainWindow.physicalDpiX" class="function">physicalDpiX</dd>
                <dd id="MainWindow.physicalDpiY" class="function">physicalDpiY</dd>
                <dd id="MainWindow.widthMM" class="function">widthMM</dd>
                <dd id="MainWindow.painters" class="variable">painters</dd>
                <dd id="MainWindow.PaintDeviceMetric" class="class">PaintDeviceMetric</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="jugadorWindow">
                            <input id="jugadorWindow-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">jugadorWindow</span><wbr>(<span class="base">PySide6.QtWidgets.QWidget</span>, <span class="base">ui_jugadores.Ui_Formjugadores</span>):

                <label class="view-source-button" for="jugadorWindow-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#jugadorWindow"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="jugadorWindow-73"><a href="#jugadorWindow-73"><span class="linenos"> 73</span></a><span class="k">class</span> <span class="nc">jugadorWindow</span><span class="p">(</span><span class="n">QWidget</span><span class="p">,</span> <span class="n">Ui_Formjugadores</span><span class="p">):</span>
</span><span id="jugadorWindow-74"><a href="#jugadorWindow-74"><span class="linenos"> 74</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="jugadorWindow-75"><a href="#jugadorWindow-75"><span class="linenos"> 75</span></a><span class="sd">    Ventana para gestionar y mostrar las estadísticas de los personajes.</span>
</span><span id="jugadorWindow-76"><a href="#jugadorWindow-76"><span class="linenos"> 76</span></a>
</span><span id="jugadorWindow-77"><a href="#jugadorWindow-77"><span class="linenos"> 77</span></a><span class="sd">    Esta clase permite al usuario buscar un personaje por nombre y muestra sus estadísticas y el historial de la bitácora.</span>
</span><span id="jugadorWindow-78"><a href="#jugadorWindow-78"><span class="linenos"> 78</span></a>
</span><span id="jugadorWindow-79"><a href="#jugadorWindow-79"><span class="linenos"> 79</span></a><span class="sd">    Métodos:</span>
</span><span id="jugadorWindow-80"><a href="#jugadorWindow-80"><span class="linenos"> 80</span></a><span class="sd">        __init__: Inicializa la ventana de gestión de personajes.</span>
</span><span id="jugadorWindow-81"><a href="#jugadorWindow-81"><span class="linenos"> 81</span></a><span class="sd">        show_character_stats: Muestra las estadísticas del personaje buscado.</span>
</span><span id="jugadorWindow-82"><a href="#jugadorWindow-82"><span class="linenos"> 82</span></a><span class="sd">        handle_sala_unida: Maneja la entrada a una sala y actualiza la bitácora.</span>
</span><span id="jugadorWindow-83"><a href="#jugadorWindow-83"><span class="linenos"> 83</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="jugadorWindow-84"><a href="#jugadorWindow-84"><span class="linenos"> 84</span></a>
</span><span id="jugadorWindow-85"><a href="#jugadorWindow-85"><span class="linenos"> 85</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="jugadorWindow-86"><a href="#jugadorWindow-86"><span class="linenos"> 86</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="jugadorWindow-87"><a href="#jugadorWindow-87"><span class="linenos"> 87</span></a><span class="sd">        Inicializa la ventana de gestión de personajes y configura el manejo del evento de búsqueda del personaje.</span>
</span><span id="jugadorWindow-88"><a href="#jugadorWindow-88"><span class="linenos"> 88</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="jugadorWindow-89"><a href="#jugadorWindow-89"><span class="linenos"> 89</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">jugadorWindow</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="jugadorWindow-90"><a href="#jugadorWindow-90"><span class="linenos"> 90</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="jugadorWindow-91"><a href="#jugadorWindow-91"><span class="linenos"> 91</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">line_pp</span><span class="o">.</span><span class="n">returnPressed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">show_character_stats</span><span class="p">)</span>
</span><span id="jugadorWindow-92"><a href="#jugadorWindow-92"><span class="linenos"> 92</span></a>
</span><span id="jugadorWindow-93"><a href="#jugadorWindow-93"><span class="linenos"> 93</span></a>    <span class="k">def</span> <span class="nf">show_character_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="jugadorWindow-94"><a href="#jugadorWindow-94"><span class="linenos"> 94</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="jugadorWindow-95"><a href="#jugadorWindow-95"><span class="linenos"> 95</span></a><span class="sd">        Muestra las estadísticas del personaje buscado por el usuario.</span>
</span><span id="jugadorWindow-96"><a href="#jugadorWindow-96"><span class="linenos"> 96</span></a>
</span><span id="jugadorWindow-97"><a href="#jugadorWindow-97"><span class="linenos"> 97</span></a><span class="sd">        Busca el personaje en la base de datos usando el nombre proporcionado y muestra el nivel, raza, habilidades, poderes, equipamiento y estado. También muestra el historial de la bitácora asociado al personaje.</span>
</span><span id="jugadorWindow-98"><a href="#jugadorWindow-98"><span class="linenos"> 98</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="jugadorWindow-99"><a href="#jugadorWindow-99"><span class="linenos"> 99</span></a>        <span class="n">nombre_personaje</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_pp</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="jugadorWindow-100"><a href="#jugadorWindow-100"><span class="linenos">100</span></a>
</span><span id="jugadorWindow-101"><a href="#jugadorWindow-101"><span class="linenos">101</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">nombre_personaje</span><span class="p">:</span>
</span><span id="jugadorWindow-102"><a href="#jugadorWindow-102"><span class="linenos">102</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Introduce el nombre del personaje.&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow-103"><a href="#jugadorWindow-103"><span class="linenos">103</span></a>            <span class="k">return</span>
</span><span id="jugadorWindow-104"><a href="#jugadorWindow-104"><span class="linenos">104</span></a>
</span><span id="jugadorWindow-105"><a href="#jugadorWindow-105"><span class="linenos">105</span></a>        <span class="n">personajes_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;personajes&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s1">&#39;nombre&#39;</span><span class="p">,</span> <span class="s1">&#39;==&#39;</span><span class="p">,</span> <span class="n">nombre_personaje</span><span class="p">)</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</span><span id="jugadorWindow-106"><a href="#jugadorWindow-106"><span class="linenos">106</span></a>
</span><span id="jugadorWindow-107"><a href="#jugadorWindow-107"><span class="linenos">107</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">personajes_ref</span><span class="p">:</span>
</span><span id="jugadorWindow-108"><a href="#jugadorWindow-108"><span class="linenos">108</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Personaje no encontrado.&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow-109"><a href="#jugadorWindow-109"><span class="linenos">109</span></a>            <span class="k">return</span>
</span><span id="jugadorWindow-110"><a href="#jugadorWindow-110"><span class="linenos">110</span></a>
</span><span id="jugadorWindow-111"><a href="#jugadorWindow-111"><span class="linenos">111</span></a>        <span class="n">personaje</span> <span class="o">=</span> <span class="n">personajes_ref</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</span><span id="jugadorWindow-112"><a href="#jugadorWindow-112"><span class="linenos">112</span></a>        <span class="n">nivel</span> <span class="o">=</span> <span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;nivel&#39;</span><span class="p">,</span> <span class="s1">&#39;Desconocido&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow-113"><a href="#jugadorWindow-113"><span class="linenos">113</span></a>        <span class="n">raza</span> <span class="o">=</span> <span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;raza&#39;</span><span class="p">,</span> <span class="s1">&#39;Desconocida&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow-114"><a href="#jugadorWindow-114"><span class="linenos">114</span></a>        <span class="n">habilidades</span> <span class="o">=</span> <span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;habilidades&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow-115"><a href="#jugadorWindow-115"><span class="linenos">115</span></a>        <span class="n">poderes</span> <span class="o">=</span> <span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;poderes&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow-116"><a href="#jugadorWindow-116"><span class="linenos">116</span></a>        <span class="n">equipamiento</span> <span class="o">=</span> <span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;equipamiento&#39;</span><span class="p">,</span> <span class="s1">&#39;Ninguno&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow-117"><a href="#jugadorWindow-117"><span class="linenos">117</span></a>        <span class="n">estado</span> <span class="o">=</span> <span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;estado&#39;</span><span class="p">,</span> <span class="s1">&#39;Desconocido&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow-118"><a href="#jugadorWindow-118"><span class="linenos">118</span></a>
</span><span id="jugadorWindow-119"><a href="#jugadorWindow-119"><span class="linenos">119</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">t_nivel</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39; </span><span class="si">{</span><span class="n">nivel</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow-120"><a href="#jugadorWindow-120"><span class="linenos">120</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">t_raza</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39; </span><span class="si">{</span><span class="n">raza</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow-121"><a href="#jugadorWindow-121"><span class="linenos">121</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">t_Ha</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39; </span><span class="si">{</span><span class="n">habilidades</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow-122"><a href="#jugadorWindow-122"><span class="linenos">122</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">t_PO</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39; </span><span class="si">{</span><span class="n">poderes</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow-123"><a href="#jugadorWindow-123"><span class="linenos">123</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">T_EQ</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39; </span><span class="si">{</span><span class="n">equipamiento</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow-124"><a href="#jugadorWindow-124"><span class="linenos">124</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">t_estado</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">estado</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow-125"><a href="#jugadorWindow-125"><span class="linenos">125</span></a>
</span><span id="jugadorWindow-126"><a href="#jugadorWindow-126"><span class="linenos">126</span></a>        <span class="n">bitacora_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;bitacora&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s1">&#39;personajes&#39;</span><span class="p">,</span> <span class="s1">&#39;array_contains&#39;</span><span class="p">,</span> <span class="n">nombre_personaje</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</span><span id="jugadorWindow-127"><a href="#jugadorWindow-127"><span class="linenos">127</span></a>        <span class="n">historial</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">doc</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;texto&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">bitacora_ref</span><span class="p">])</span>
</span><span id="jugadorWindow-128"><a href="#jugadorWindow-128"><span class="linenos">128</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">t_his</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="n">historial</span><span class="p">)</span>
</span><span id="jugadorWindow-129"><a href="#jugadorWindow-129"><span class="linenos">129</span></a>
</span><span id="jugadorWindow-130"><a href="#jugadorWindow-130"><span class="linenos">130</span></a>    <span class="nd">@Slot</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
</span><span id="jugadorWindow-131"><a href="#jugadorWindow-131"><span class="linenos">131</span></a>    <span class="k">def</span> <span class="nf">handle_sala_unida</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre_sala</span><span class="p">):</span>
</span><span id="jugadorWindow-132"><a href="#jugadorWindow-132"><span class="linenos">132</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="jugadorWindow-133"><a href="#jugadorWindow-133"><span class="linenos">133</span></a><span class="sd">        Maneja la entrada a una sala de juego y actualiza la bitácora de la sala con un mensaje de entrada del jugador.</span>
</span><span id="jugadorWindow-134"><a href="#jugadorWindow-134"><span class="linenos">134</span></a>
</span><span id="jugadorWindow-135"><a href="#jugadorWindow-135"><span class="linenos">135</span></a><span class="sd">        Args:</span>
</span><span id="jugadorWindow-136"><a href="#jugadorWindow-136"><span class="linenos">136</span></a><span class="sd">            nombre_sala (str): El nombre de la sala a la que el jugador se une.</span>
</span><span id="jugadorWindow-137"><a href="#jugadorWindow-137"><span class="linenos">137</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="jugadorWindow-138"><a href="#jugadorWindow-138"><span class="linenos">138</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="jugadorWindow-139"><a href="#jugadorWindow-139"><span class="linenos">139</span></a>            <span class="n">sala_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;salas&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">nombre_sala</span><span class="p">)</span>
</span><span id="jugadorWindow-140"><a href="#jugadorWindow-140"><span class="linenos">140</span></a>            <span class="n">sala_doc</span> <span class="o">=</span> <span class="n">sala_ref</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</span><span id="jugadorWindow-141"><a href="#jugadorWindow-141"><span class="linenos">141</span></a>            
</span><span id="jugadorWindow-142"><a href="#jugadorWindow-142"><span class="linenos">142</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">sala_doc</span><span class="o">.</span><span class="n">exists</span><span class="p">:</span>
</span><span id="jugadorWindow-143"><a href="#jugadorWindow-143"><span class="linenos">143</span></a>                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Sala no encontrada.&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow-144"><a href="#jugadorWindow-144"><span class="linenos">144</span></a>                <span class="k">return</span>
</span><span id="jugadorWindow-145"><a href="#jugadorWindow-145"><span class="linenos">145</span></a>            <span class="n">bitacora_text</span> <span class="o">=</span> <span class="n">sala_doc</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;bitacora&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow-146"><a href="#jugadorWindow-146"><span class="linenos">146</span></a>            
</span><span id="jugadorWindow-147"><a href="#jugadorWindow-147"><span class="linenos">147</span></a>            <span class="n">nuevo_mensaje</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;Jugador </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">nombre_jugador</span><span class="si">}</span><span class="s1"> se unió a la sala&#39;</span>
</span><span id="jugadorWindow-148"><a href="#jugadorWindow-148"><span class="linenos">148</span></a>            <span class="k">if</span> <span class="n">bitacora_text</span><span class="p">:</span>
</span><span id="jugadorWindow-149"><a href="#jugadorWindow-149"><span class="linenos">149</span></a>                <span class="n">bitacora_text</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="n">nuevo_mensaje</span>
</span><span id="jugadorWindow-150"><a href="#jugadorWindow-150"><span class="linenos">150</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="jugadorWindow-151"><a href="#jugadorWindow-151"><span class="linenos">151</span></a>                <span class="n">bitacora_text</span> <span class="o">=</span> <span class="n">nuevo_mensaje</span>
</span><span id="jugadorWindow-152"><a href="#jugadorWindow-152"><span class="linenos">152</span></a>            
</span><span id="jugadorWindow-153"><a href="#jugadorWindow-153"><span class="linenos">153</span></a>            <span class="n">sala_ref</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;bitacora&#39;</span><span class="p">:</span> <span class="n">bitacora_text</span><span class="p">})</span>
</span><span id="jugadorWindow-154"><a href="#jugadorWindow-154"><span class="linenos">154</span></a>            
</span><span id="jugadorWindow-155"><a href="#jugadorWindow-155"><span class="linenos">155</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">bitacora_window</span> <span class="o">=</span> <span class="n">BitacoraWindow</span><span class="p">(</span><span class="n">nombre_sala</span><span class="p">)</span>
</span><span id="jugadorWindow-156"><a href="#jugadorWindow-156"><span class="linenos">156</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">bitacora_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="jugadorWindow-157"><a href="#jugadorWindow-157"><span class="linenos">157</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="jugadorWindow-158"><a href="#jugadorWindow-158"><span class="linenos">158</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error al manejar la sala unida: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Ventana para gestionar y mostrar las estadísticas de los personajes.</p>

<p>Esta clase permite al usuario buscar un personaje por nombre y muestra sus estadísticas y el historial de la bitácora.</p>

<p>Métodos:
    __init__: Inicializa la ventana de gestión de personajes.
    show_character_stats: Muestra las estadísticas del personaje buscado.
    handle_sala_unida: Maneja la entrada a una sala y actualiza la bitácora.</p>
</div>


                            <div id="jugadorWindow.__init__" class="classattr">
                                        <input id="jugadorWindow.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">jugadorWindow</span><span class="signature pdoc-code condensed">()</span>

                <label class="view-source-button" for="jugadorWindow.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#jugadorWindow.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="jugadorWindow.__init__-85"><a href="#jugadorWindow.__init__-85"><span class="linenos">85</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="jugadorWindow.__init__-86"><a href="#jugadorWindow.__init__-86"><span class="linenos">86</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="jugadorWindow.__init__-87"><a href="#jugadorWindow.__init__-87"><span class="linenos">87</span></a><span class="sd">        Inicializa la ventana de gestión de personajes y configura el manejo del evento de búsqueda del personaje.</span>
</span><span id="jugadorWindow.__init__-88"><a href="#jugadorWindow.__init__-88"><span class="linenos">88</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="jugadorWindow.__init__-89"><a href="#jugadorWindow.__init__-89"><span class="linenos">89</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">jugadorWindow</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="jugadorWindow.__init__-90"><a href="#jugadorWindow.__init__-90"><span class="linenos">90</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="jugadorWindow.__init__-91"><a href="#jugadorWindow.__init__-91"><span class="linenos">91</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">line_pp</span><span class="o">.</span><span class="n">returnPressed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">show_character_stats</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Inicializa la ventana de gestión de personajes y configura el manejo del evento de búsqueda del personaje.</p>
</div>


                            </div>
                            <div id="jugadorWindow.show_character_stats" class="classattr">
                                        <input id="jugadorWindow.show_character_stats-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">show_character_stats</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="jugadorWindow.show_character_stats-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#jugadorWindow.show_character_stats"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="jugadorWindow.show_character_stats-93"><a href="#jugadorWindow.show_character_stats-93"><span class="linenos"> 93</span></a>    <span class="k">def</span> <span class="nf">show_character_stats</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="jugadorWindow.show_character_stats-94"><a href="#jugadorWindow.show_character_stats-94"><span class="linenos"> 94</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="jugadorWindow.show_character_stats-95"><a href="#jugadorWindow.show_character_stats-95"><span class="linenos"> 95</span></a><span class="sd">        Muestra las estadísticas del personaje buscado por el usuario.</span>
</span><span id="jugadorWindow.show_character_stats-96"><a href="#jugadorWindow.show_character_stats-96"><span class="linenos"> 96</span></a>
</span><span id="jugadorWindow.show_character_stats-97"><a href="#jugadorWindow.show_character_stats-97"><span class="linenos"> 97</span></a><span class="sd">        Busca el personaje en la base de datos usando el nombre proporcionado y muestra el nivel, raza, habilidades, poderes, equipamiento y estado. También muestra el historial de la bitácora asociado al personaje.</span>
</span><span id="jugadorWindow.show_character_stats-98"><a href="#jugadorWindow.show_character_stats-98"><span class="linenos"> 98</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="jugadorWindow.show_character_stats-99"><a href="#jugadorWindow.show_character_stats-99"><span class="linenos"> 99</span></a>        <span class="n">nombre_personaje</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">line_pp</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="jugadorWindow.show_character_stats-100"><a href="#jugadorWindow.show_character_stats-100"><span class="linenos">100</span></a>
</span><span id="jugadorWindow.show_character_stats-101"><a href="#jugadorWindow.show_character_stats-101"><span class="linenos">101</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">nombre_personaje</span><span class="p">:</span>
</span><span id="jugadorWindow.show_character_stats-102"><a href="#jugadorWindow.show_character_stats-102"><span class="linenos">102</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Introduce el nombre del personaje.&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow.show_character_stats-103"><a href="#jugadorWindow.show_character_stats-103"><span class="linenos">103</span></a>            <span class="k">return</span>
</span><span id="jugadorWindow.show_character_stats-104"><a href="#jugadorWindow.show_character_stats-104"><span class="linenos">104</span></a>
</span><span id="jugadorWindow.show_character_stats-105"><a href="#jugadorWindow.show_character_stats-105"><span class="linenos">105</span></a>        <span class="n">personajes_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;personajes&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s1">&#39;nombre&#39;</span><span class="p">,</span> <span class="s1">&#39;==&#39;</span><span class="p">,</span> <span class="n">nombre_personaje</span><span class="p">)</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</span><span id="jugadorWindow.show_character_stats-106"><a href="#jugadorWindow.show_character_stats-106"><span class="linenos">106</span></a>
</span><span id="jugadorWindow.show_character_stats-107"><a href="#jugadorWindow.show_character_stats-107"><span class="linenos">107</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">personajes_ref</span><span class="p">:</span>
</span><span id="jugadorWindow.show_character_stats-108"><a href="#jugadorWindow.show_character_stats-108"><span class="linenos">108</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Personaje no encontrado.&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow.show_character_stats-109"><a href="#jugadorWindow.show_character_stats-109"><span class="linenos">109</span></a>            <span class="k">return</span>
</span><span id="jugadorWindow.show_character_stats-110"><a href="#jugadorWindow.show_character_stats-110"><span class="linenos">110</span></a>
</span><span id="jugadorWindow.show_character_stats-111"><a href="#jugadorWindow.show_character_stats-111"><span class="linenos">111</span></a>        <span class="n">personaje</span> <span class="o">=</span> <span class="n">personajes_ref</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</span><span id="jugadorWindow.show_character_stats-112"><a href="#jugadorWindow.show_character_stats-112"><span class="linenos">112</span></a>        <span class="n">nivel</span> <span class="o">=</span> <span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;nivel&#39;</span><span class="p">,</span> <span class="s1">&#39;Desconocido&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow.show_character_stats-113"><a href="#jugadorWindow.show_character_stats-113"><span class="linenos">113</span></a>        <span class="n">raza</span> <span class="o">=</span> <span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;raza&#39;</span><span class="p">,</span> <span class="s1">&#39;Desconocida&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow.show_character_stats-114"><a href="#jugadorWindow.show_character_stats-114"><span class="linenos">114</span></a>        <span class="n">habilidades</span> <span class="o">=</span> <span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;habilidades&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow.show_character_stats-115"><a href="#jugadorWindow.show_character_stats-115"><span class="linenos">115</span></a>        <span class="n">poderes</span> <span class="o">=</span> <span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;poderes&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow.show_character_stats-116"><a href="#jugadorWindow.show_character_stats-116"><span class="linenos">116</span></a>        <span class="n">equipamiento</span> <span class="o">=</span> <span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;equipamiento&#39;</span><span class="p">,</span> <span class="s1">&#39;Ninguno&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow.show_character_stats-117"><a href="#jugadorWindow.show_character_stats-117"><span class="linenos">117</span></a>        <span class="n">estado</span> <span class="o">=</span> <span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;estado&#39;</span><span class="p">,</span> <span class="s1">&#39;Desconocido&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow.show_character_stats-118"><a href="#jugadorWindow.show_character_stats-118"><span class="linenos">118</span></a>
</span><span id="jugadorWindow.show_character_stats-119"><a href="#jugadorWindow.show_character_stats-119"><span class="linenos">119</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">t_nivel</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39; </span><span class="si">{</span><span class="n">nivel</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow.show_character_stats-120"><a href="#jugadorWindow.show_character_stats-120"><span class="linenos">120</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">t_raza</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39; </span><span class="si">{</span><span class="n">raza</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow.show_character_stats-121"><a href="#jugadorWindow.show_character_stats-121"><span class="linenos">121</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">t_Ha</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39; </span><span class="si">{</span><span class="n">habilidades</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow.show_character_stats-122"><a href="#jugadorWindow.show_character_stats-122"><span class="linenos">122</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">t_PO</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39; </span><span class="si">{</span><span class="n">poderes</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow.show_character_stats-123"><a href="#jugadorWindow.show_character_stats-123"><span class="linenos">123</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">T_EQ</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39; </span><span class="si">{</span><span class="n">equipamiento</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow.show_character_stats-124"><a href="#jugadorWindow.show_character_stats-124"><span class="linenos">124</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">t_estado</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">estado</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow.show_character_stats-125"><a href="#jugadorWindow.show_character_stats-125"><span class="linenos">125</span></a>
</span><span id="jugadorWindow.show_character_stats-126"><a href="#jugadorWindow.show_character_stats-126"><span class="linenos">126</span></a>        <span class="n">bitacora_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;bitacora&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s1">&#39;personajes&#39;</span><span class="p">,</span> <span class="s1">&#39;array_contains&#39;</span><span class="p">,</span> <span class="n">nombre_personaje</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</span><span id="jugadorWindow.show_character_stats-127"><a href="#jugadorWindow.show_character_stats-127"><span class="linenos">127</span></a>        <span class="n">historial</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">doc</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;texto&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">bitacora_ref</span><span class="p">])</span>
</span><span id="jugadorWindow.show_character_stats-128"><a href="#jugadorWindow.show_character_stats-128"><span class="linenos">128</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">t_his</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="n">historial</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Muestra las estadísticas del personaje buscado por el usuario.</p>

<p>Busca el personaje en la base de datos usando el nombre proporcionado y muestra el nivel, raza, habilidades, poderes, equipamiento y estado. También muestra el historial de la bitácora asociado al personaje.</p>
</div>


                            </div>
                            <div id="jugadorWindow.handle_sala_unida" class="classattr">
                                        <input id="jugadorWindow.handle_sala_unida-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@Slot(str)</div>

        <span class="def">def</span>
        <span class="name">handle_sala_unida</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">nombre_sala</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="jugadorWindow.handle_sala_unida-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#jugadorWindow.handle_sala_unida"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="jugadorWindow.handle_sala_unida-130"><a href="#jugadorWindow.handle_sala_unida-130"><span class="linenos">130</span></a>    <span class="nd">@Slot</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
</span><span id="jugadorWindow.handle_sala_unida-131"><a href="#jugadorWindow.handle_sala_unida-131"><span class="linenos">131</span></a>    <span class="k">def</span> <span class="nf">handle_sala_unida</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre_sala</span><span class="p">):</span>
</span><span id="jugadorWindow.handle_sala_unida-132"><a href="#jugadorWindow.handle_sala_unida-132"><span class="linenos">132</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="jugadorWindow.handle_sala_unida-133"><a href="#jugadorWindow.handle_sala_unida-133"><span class="linenos">133</span></a><span class="sd">        Maneja la entrada a una sala de juego y actualiza la bitácora de la sala con un mensaje de entrada del jugador.</span>
</span><span id="jugadorWindow.handle_sala_unida-134"><a href="#jugadorWindow.handle_sala_unida-134"><span class="linenos">134</span></a>
</span><span id="jugadorWindow.handle_sala_unida-135"><a href="#jugadorWindow.handle_sala_unida-135"><span class="linenos">135</span></a><span class="sd">        Args:</span>
</span><span id="jugadorWindow.handle_sala_unida-136"><a href="#jugadorWindow.handle_sala_unida-136"><span class="linenos">136</span></a><span class="sd">            nombre_sala (str): El nombre de la sala a la que el jugador se une.</span>
</span><span id="jugadorWindow.handle_sala_unida-137"><a href="#jugadorWindow.handle_sala_unida-137"><span class="linenos">137</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="jugadorWindow.handle_sala_unida-138"><a href="#jugadorWindow.handle_sala_unida-138"><span class="linenos">138</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="jugadorWindow.handle_sala_unida-139"><a href="#jugadorWindow.handle_sala_unida-139"><span class="linenos">139</span></a>            <span class="n">sala_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;salas&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">nombre_sala</span><span class="p">)</span>
</span><span id="jugadorWindow.handle_sala_unida-140"><a href="#jugadorWindow.handle_sala_unida-140"><span class="linenos">140</span></a>            <span class="n">sala_doc</span> <span class="o">=</span> <span class="n">sala_ref</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</span><span id="jugadorWindow.handle_sala_unida-141"><a href="#jugadorWindow.handle_sala_unida-141"><span class="linenos">141</span></a>            
</span><span id="jugadorWindow.handle_sala_unida-142"><a href="#jugadorWindow.handle_sala_unida-142"><span class="linenos">142</span></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">sala_doc</span><span class="o">.</span><span class="n">exists</span><span class="p">:</span>
</span><span id="jugadorWindow.handle_sala_unida-143"><a href="#jugadorWindow.handle_sala_unida-143"><span class="linenos">143</span></a>                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Sala no encontrada.&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow.handle_sala_unida-144"><a href="#jugadorWindow.handle_sala_unida-144"><span class="linenos">144</span></a>                <span class="k">return</span>
</span><span id="jugadorWindow.handle_sala_unida-145"><a href="#jugadorWindow.handle_sala_unida-145"><span class="linenos">145</span></a>            <span class="n">bitacora_text</span> <span class="o">=</span> <span class="n">sala_doc</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;bitacora&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="jugadorWindow.handle_sala_unida-146"><a href="#jugadorWindow.handle_sala_unida-146"><span class="linenos">146</span></a>            
</span><span id="jugadorWindow.handle_sala_unida-147"><a href="#jugadorWindow.handle_sala_unida-147"><span class="linenos">147</span></a>            <span class="n">nuevo_mensaje</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;Jugador </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">nombre_jugador</span><span class="si">}</span><span class="s1"> se unió a la sala&#39;</span>
</span><span id="jugadorWindow.handle_sala_unida-148"><a href="#jugadorWindow.handle_sala_unida-148"><span class="linenos">148</span></a>            <span class="k">if</span> <span class="n">bitacora_text</span><span class="p">:</span>
</span><span id="jugadorWindow.handle_sala_unida-149"><a href="#jugadorWindow.handle_sala_unida-149"><span class="linenos">149</span></a>                <span class="n">bitacora_text</span> <span class="o">+=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="n">nuevo_mensaje</span>
</span><span id="jugadorWindow.handle_sala_unida-150"><a href="#jugadorWindow.handle_sala_unida-150"><span class="linenos">150</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="jugadorWindow.handle_sala_unida-151"><a href="#jugadorWindow.handle_sala_unida-151"><span class="linenos">151</span></a>                <span class="n">bitacora_text</span> <span class="o">=</span> <span class="n">nuevo_mensaje</span>
</span><span id="jugadorWindow.handle_sala_unida-152"><a href="#jugadorWindow.handle_sala_unida-152"><span class="linenos">152</span></a>            
</span><span id="jugadorWindow.handle_sala_unida-153"><a href="#jugadorWindow.handle_sala_unida-153"><span class="linenos">153</span></a>            <span class="n">sala_ref</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;bitacora&#39;</span><span class="p">:</span> <span class="n">bitacora_text</span><span class="p">})</span>
</span><span id="jugadorWindow.handle_sala_unida-154"><a href="#jugadorWindow.handle_sala_unida-154"><span class="linenos">154</span></a>            
</span><span id="jugadorWindow.handle_sala_unida-155"><a href="#jugadorWindow.handle_sala_unida-155"><span class="linenos">155</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">bitacora_window</span> <span class="o">=</span> <span class="n">BitacoraWindow</span><span class="p">(</span><span class="n">nombre_sala</span><span class="p">)</span>
</span><span id="jugadorWindow.handle_sala_unida-156"><a href="#jugadorWindow.handle_sala_unida-156"><span class="linenos">156</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">bitacora_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="jugadorWindow.handle_sala_unida-157"><a href="#jugadorWindow.handle_sala_unida-157"><span class="linenos">157</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="jugadorWindow.handle_sala_unida-158"><a href="#jugadorWindow.handle_sala_unida-158"><span class="linenos">158</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error al manejar la sala unida: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Maneja la entrada a una sala de juego y actualiza la bitácora de la sala con un mensaje de entrada del jugador.</p>

<p>Args:
    nombre_sala (str): El nombre de la sala a la que el jugador se une.</p>
</div>


                            </div>
                            <div id="jugadorWindow.staticMetaObject" class="classattr">
                                <div class="attr variable">
            <span class="name">staticMetaObject</span>        =
<input id="jugadorWindow.staticMetaObject-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="jugadorWindow.staticMetaObject-view-value"></label><span class="default_value">PySide6.QtCore.QMetaObject(&#34;jugadorWindow&#34; inherits &#34;QWidget&#34;:
Methods:
  #33 type=Slot, signature=handle_sala_unida(QString), parameters=QString
)</span>

        
    </div>
    <a class="headerlink" href="#jugadorWindow.staticMetaObject"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>ui_jugadores.Ui_Formjugadores</dt>
                                <dd id="jugadorWindow.setupUi" class="function">setupUi</dd>
                <dd id="jugadorWindow.retranslateUi" class="function">retranslateUi</dd>

            </div>
            <div><dt>PySide6.QtWidgets.QWidget</dt>
                                <dd id="jugadorWindow.acceptDrops" class="function">acceptDrops</dd>
                <dd id="jugadorWindow.accessibleDescription" class="function">accessibleDescription</dd>
                <dd id="jugadorWindow.accessibleName" class="function">accessibleName</dd>
                <dd id="jugadorWindow.actionEvent" class="function">actionEvent</dd>
                <dd id="jugadorWindow.actions" class="function">actions</dd>
                <dd id="jugadorWindow.activateWindow" class="function">activateWindow</dd>
                <dd id="jugadorWindow.addAction" class="function">addAction</dd>
                <dd id="jugadorWindow.addActions" class="function">addActions</dd>
                <dd id="jugadorWindow.adjustSize" class="function">adjustSize</dd>
                <dd id="jugadorWindow.autoFillBackground" class="function">autoFillBackground</dd>
                <dd id="jugadorWindow.backgroundRole" class="function">backgroundRole</dd>
                <dd id="jugadorWindow.backingStore" class="function">backingStore</dd>
                <dd id="jugadorWindow.baseSize" class="function">baseSize</dd>
                <dd id="jugadorWindow.changeEvent" class="function">changeEvent</dd>
                <dd id="jugadorWindow.childAt" class="function">childAt</dd>
                <dd id="jugadorWindow.childrenRect" class="function">childrenRect</dd>
                <dd id="jugadorWindow.childrenRegion" class="function">childrenRegion</dd>
                <dd id="jugadorWindow.clearFocus" class="function">clearFocus</dd>
                <dd id="jugadorWindow.clearMask" class="function">clearMask</dd>
                <dd id="jugadorWindow.close" class="function">close</dd>
                <dd id="jugadorWindow.closeEvent" class="function">closeEvent</dd>
                <dd id="jugadorWindow.contentsMargins" class="function">contentsMargins</dd>
                <dd id="jugadorWindow.contentsRect" class="function">contentsRect</dd>
                <dd id="jugadorWindow.contextMenuEvent" class="function">contextMenuEvent</dd>
                <dd id="jugadorWindow.contextMenuPolicy" class="function">contextMenuPolicy</dd>
                <dd id="jugadorWindow.create" class="function">create</dd>
                <dd id="jugadorWindow.createWinId" class="function">createWinId</dd>
                <dd id="jugadorWindow.createWindowContainer" class="function">createWindowContainer</dd>
                <dd id="jugadorWindow.cursor" class="function">cursor</dd>
                <dd id="jugadorWindow.destroy" class="function">destroy</dd>
                <dd id="jugadorWindow.devType" class="function">devType</dd>
                <dd id="jugadorWindow.dragEnterEvent" class="function">dragEnterEvent</dd>
                <dd id="jugadorWindow.dragLeaveEvent" class="function">dragLeaveEvent</dd>
                <dd id="jugadorWindow.dragMoveEvent" class="function">dragMoveEvent</dd>
                <dd id="jugadorWindow.dropEvent" class="function">dropEvent</dd>
                <dd id="jugadorWindow.effectiveWinId" class="function">effectiveWinId</dd>
                <dd id="jugadorWindow.ensurePolished" class="function">ensurePolished</dd>
                <dd id="jugadorWindow.enterEvent" class="function">enterEvent</dd>
                <dd id="jugadorWindow.event" class="function">event</dd>
                <dd id="jugadorWindow.find" class="function">find</dd>
                <dd id="jugadorWindow.focusInEvent" class="function">focusInEvent</dd>
                <dd id="jugadorWindow.focusNextChild" class="function">focusNextChild</dd>
                <dd id="jugadorWindow.focusNextPrevChild" class="function">focusNextPrevChild</dd>
                <dd id="jugadorWindow.focusOutEvent" class="function">focusOutEvent</dd>
                <dd id="jugadorWindow.focusPolicy" class="function">focusPolicy</dd>
                <dd id="jugadorWindow.focusPreviousChild" class="function">focusPreviousChild</dd>
                <dd id="jugadorWindow.focusProxy" class="function">focusProxy</dd>
                <dd id="jugadorWindow.focusWidget" class="function">focusWidget</dd>
                <dd id="jugadorWindow.font" class="function">font</dd>
                <dd id="jugadorWindow.fontInfo" class="function">fontInfo</dd>
                <dd id="jugadorWindow.fontMetrics" class="function">fontMetrics</dd>
                <dd id="jugadorWindow.foregroundRole" class="function">foregroundRole</dd>
                <dd id="jugadorWindow.frameGeometry" class="function">frameGeometry</dd>
                <dd id="jugadorWindow.frameSize" class="function">frameSize</dd>
                <dd id="jugadorWindow.geometry" class="function">geometry</dd>
                <dd id="jugadorWindow.grab" class="function">grab</dd>
                <dd id="jugadorWindow.grabGesture" class="function">grabGesture</dd>
                <dd id="jugadorWindow.grabKeyboard" class="function">grabKeyboard</dd>
                <dd id="jugadorWindow.grabMouse" class="function">grabMouse</dd>
                <dd id="jugadorWindow.grabShortcut" class="function">grabShortcut</dd>
                <dd id="jugadorWindow.graphicsEffect" class="function">graphicsEffect</dd>
                <dd id="jugadorWindow.graphicsProxyWidget" class="function">graphicsProxyWidget</dd>
                <dd id="jugadorWindow.hasFocus" class="function">hasFocus</dd>
                <dd id="jugadorWindow.hasHeightForWidth" class="function">hasHeightForWidth</dd>
                <dd id="jugadorWindow.hasMouseTracking" class="function">hasMouseTracking</dd>
                <dd id="jugadorWindow.hasTabletTracking" class="function">hasTabletTracking</dd>
                <dd id="jugadorWindow.height" class="function">height</dd>
                <dd id="jugadorWindow.heightForWidth" class="function">heightForWidth</dd>
                <dd id="jugadorWindow.hide" class="function">hide</dd>
                <dd id="jugadorWindow.hideEvent" class="function">hideEvent</dd>
                <dd id="jugadorWindow.initPainter" class="function">initPainter</dd>
                <dd id="jugadorWindow.inputMethodEvent" class="function">inputMethodEvent</dd>
                <dd id="jugadorWindow.inputMethodHints" class="function">inputMethodHints</dd>
                <dd id="jugadorWindow.inputMethodQuery" class="function">inputMethodQuery</dd>
                <dd id="jugadorWindow.insertAction" class="function">insertAction</dd>
                <dd id="jugadorWindow.insertActions" class="function">insertActions</dd>
                <dd id="jugadorWindow.internalWinId" class="function">internalWinId</dd>
                <dd id="jugadorWindow.isActiveWindow" class="function">isActiveWindow</dd>
                <dd id="jugadorWindow.isAncestorOf" class="function">isAncestorOf</dd>
                <dd id="jugadorWindow.isEnabled" class="function">isEnabled</dd>
                <dd id="jugadorWindow.isEnabledTo" class="function">isEnabledTo</dd>
                <dd id="jugadorWindow.isFullScreen" class="function">isFullScreen</dd>
                <dd id="jugadorWindow.isHidden" class="function">isHidden</dd>
                <dd id="jugadorWindow.isLeftToRight" class="function">isLeftToRight</dd>
                <dd id="jugadorWindow.isMaximized" class="function">isMaximized</dd>
                <dd id="jugadorWindow.isMinimized" class="function">isMinimized</dd>
                <dd id="jugadorWindow.isModal" class="function">isModal</dd>
                <dd id="jugadorWindow.isRightToLeft" class="function">isRightToLeft</dd>
                <dd id="jugadorWindow.isTopLevel" class="function">isTopLevel</dd>
                <dd id="jugadorWindow.isVisible" class="function">isVisible</dd>
                <dd id="jugadorWindow.isVisibleTo" class="function">isVisibleTo</dd>
                <dd id="jugadorWindow.isWindow" class="function">isWindow</dd>
                <dd id="jugadorWindow.isWindowModified" class="function">isWindowModified</dd>
                <dd id="jugadorWindow.keyPressEvent" class="function">keyPressEvent</dd>
                <dd id="jugadorWindow.keyReleaseEvent" class="function">keyReleaseEvent</dd>
                <dd id="jugadorWindow.keyboardGrabber" class="function">keyboardGrabber</dd>
                <dd id="jugadorWindow.layout" class="function">layout</dd>
                <dd id="jugadorWindow.layoutDirection" class="function">layoutDirection</dd>
                <dd id="jugadorWindow.leaveEvent" class="function">leaveEvent</dd>
                <dd id="jugadorWindow.locale" class="function">locale</dd>
                <dd id="jugadorWindow.lower" class="function">lower</dd>
                <dd id="jugadorWindow.mapFrom" class="function">mapFrom</dd>
                <dd id="jugadorWindow.mapFromGlobal" class="function">mapFromGlobal</dd>
                <dd id="jugadorWindow.mapFromParent" class="function">mapFromParent</dd>
                <dd id="jugadorWindow.mapTo" class="function">mapTo</dd>
                <dd id="jugadorWindow.mapToGlobal" class="function">mapToGlobal</dd>
                <dd id="jugadorWindow.mapToParent" class="function">mapToParent</dd>
                <dd id="jugadorWindow.mask" class="function">mask</dd>
                <dd id="jugadorWindow.maximumHeight" class="function">maximumHeight</dd>
                <dd id="jugadorWindow.maximumSize" class="function">maximumSize</dd>
                <dd id="jugadorWindow.maximumWidth" class="function">maximumWidth</dd>
                <dd id="jugadorWindow.metric" class="function">metric</dd>
                <dd id="jugadorWindow.minimumHeight" class="function">minimumHeight</dd>
                <dd id="jugadorWindow.minimumSize" class="function">minimumSize</dd>
                <dd id="jugadorWindow.minimumSizeHint" class="function">minimumSizeHint</dd>
                <dd id="jugadorWindow.minimumWidth" class="function">minimumWidth</dd>
                <dd id="jugadorWindow.mouseDoubleClickEvent" class="function">mouseDoubleClickEvent</dd>
                <dd id="jugadorWindow.mouseGrabber" class="function">mouseGrabber</dd>
                <dd id="jugadorWindow.mouseMoveEvent" class="function">mouseMoveEvent</dd>
                <dd id="jugadorWindow.mousePressEvent" class="function">mousePressEvent</dd>
                <dd id="jugadorWindow.mouseReleaseEvent" class="function">mouseReleaseEvent</dd>
                <dd id="jugadorWindow.move" class="function">move</dd>
                <dd id="jugadorWindow.moveEvent" class="function">moveEvent</dd>
                <dd id="jugadorWindow.nativeEvent" class="function">nativeEvent</dd>
                <dd id="jugadorWindow.nativeParentWidget" class="function">nativeParentWidget</dd>
                <dd id="jugadorWindow.nextInFocusChain" class="function">nextInFocusChain</dd>
                <dd id="jugadorWindow.normalGeometry" class="function">normalGeometry</dd>
                <dd id="jugadorWindow.overrideWindowFlags" class="function">overrideWindowFlags</dd>
                <dd id="jugadorWindow.overrideWindowState" class="function">overrideWindowState</dd>
                <dd id="jugadorWindow.paintEngine" class="function">paintEngine</dd>
                <dd id="jugadorWindow.paintEvent" class="function">paintEvent</dd>
                <dd id="jugadorWindow.palette" class="function">palette</dd>
                <dd id="jugadorWindow.parentWidget" class="function">parentWidget</dd>
                <dd id="jugadorWindow.pos" class="function">pos</dd>
                <dd id="jugadorWindow.previousInFocusChain" class="function">previousInFocusChain</dd>
                <dd id="jugadorWindow.raise_" class="function">raise_</dd>
                <dd id="jugadorWindow.rect" class="function">rect</dd>
                <dd id="jugadorWindow.redirected" class="function">redirected</dd>
                <dd id="jugadorWindow.releaseKeyboard" class="function">releaseKeyboard</dd>
                <dd id="jugadorWindow.releaseMouse" class="function">releaseMouse</dd>
                <dd id="jugadorWindow.releaseShortcut" class="function">releaseShortcut</dd>
                <dd id="jugadorWindow.removeAction" class="function">removeAction</dd>
                <dd id="jugadorWindow.render" class="function">render</dd>
                <dd id="jugadorWindow.repaint" class="function">repaint</dd>
                <dd id="jugadorWindow.resize" class="function">resize</dd>
                <dd id="jugadorWindow.resizeEvent" class="function">resizeEvent</dd>
                <dd id="jugadorWindow.restoreGeometry" class="function">restoreGeometry</dd>
                <dd id="jugadorWindow.saveGeometry" class="function">saveGeometry</dd>
                <dd id="jugadorWindow.screen" class="function">screen</dd>
                <dd id="jugadorWindow.scroll" class="function">scroll</dd>
                <dd id="jugadorWindow.setAcceptDrops" class="function">setAcceptDrops</dd>
                <dd id="jugadorWindow.setAccessibleDescription" class="function">setAccessibleDescription</dd>
                <dd id="jugadorWindow.setAccessibleName" class="function">setAccessibleName</dd>
                <dd id="jugadorWindow.setAttribute" class="function">setAttribute</dd>
                <dd id="jugadorWindow.setAutoFillBackground" class="function">setAutoFillBackground</dd>
                <dd id="jugadorWindow.setBackgroundRole" class="function">setBackgroundRole</dd>
                <dd id="jugadorWindow.setBaseSize" class="function">setBaseSize</dd>
                <dd id="jugadorWindow.setContentsMargins" class="function">setContentsMargins</dd>
                <dd id="jugadorWindow.setContextMenuPolicy" class="function">setContextMenuPolicy</dd>
                <dd id="jugadorWindow.setCursor" class="function">setCursor</dd>
                <dd id="jugadorWindow.setDisabled" class="function">setDisabled</dd>
                <dd id="jugadorWindow.setEnabled" class="function">setEnabled</dd>
                <dd id="jugadorWindow.setFixedHeight" class="function">setFixedHeight</dd>
                <dd id="jugadorWindow.setFixedSize" class="function">setFixedSize</dd>
                <dd id="jugadorWindow.setFixedWidth" class="function">setFixedWidth</dd>
                <dd id="jugadorWindow.setFocus" class="function">setFocus</dd>
                <dd id="jugadorWindow.setFocusPolicy" class="function">setFocusPolicy</dd>
                <dd id="jugadorWindow.setFocusProxy" class="function">setFocusProxy</dd>
                <dd id="jugadorWindow.setFont" class="function">setFont</dd>
                <dd id="jugadorWindow.setForegroundRole" class="function">setForegroundRole</dd>
                <dd id="jugadorWindow.setGeometry" class="function">setGeometry</dd>
                <dd id="jugadorWindow.setGraphicsEffect" class="function">setGraphicsEffect</dd>
                <dd id="jugadorWindow.setHidden" class="function">setHidden</dd>
                <dd id="jugadorWindow.setInputMethodHints" class="function">setInputMethodHints</dd>
                <dd id="jugadorWindow.setLayout" class="function">setLayout</dd>
                <dd id="jugadorWindow.setLayoutDirection" class="function">setLayoutDirection</dd>
                <dd id="jugadorWindow.setLocale" class="function">setLocale</dd>
                <dd id="jugadorWindow.setMask" class="function">setMask</dd>
                <dd id="jugadorWindow.setMaximumHeight" class="function">setMaximumHeight</dd>
                <dd id="jugadorWindow.setMaximumSize" class="function">setMaximumSize</dd>
                <dd id="jugadorWindow.setMaximumWidth" class="function">setMaximumWidth</dd>
                <dd id="jugadorWindow.setMinimumHeight" class="function">setMinimumHeight</dd>
                <dd id="jugadorWindow.setMinimumSize" class="function">setMinimumSize</dd>
                <dd id="jugadorWindow.setMinimumWidth" class="function">setMinimumWidth</dd>
                <dd id="jugadorWindow.setMouseTracking" class="function">setMouseTracking</dd>
                <dd id="jugadorWindow.setPalette" class="function">setPalette</dd>
                <dd id="jugadorWindow.setParent" class="function">setParent</dd>
                <dd id="jugadorWindow.setScreen" class="function">setScreen</dd>
                <dd id="jugadorWindow.setShortcutAutoRepeat" class="function">setShortcutAutoRepeat</dd>
                <dd id="jugadorWindow.setShortcutEnabled" class="function">setShortcutEnabled</dd>
                <dd id="jugadorWindow.setSizeIncrement" class="function">setSizeIncrement</dd>
                <dd id="jugadorWindow.setSizePolicy" class="function">setSizePolicy</dd>
                <dd id="jugadorWindow.setStatusTip" class="function">setStatusTip</dd>
                <dd id="jugadorWindow.setStyle" class="function">setStyle</dd>
                <dd id="jugadorWindow.setStyleSheet" class="function">setStyleSheet</dd>
                <dd id="jugadorWindow.setTabOrder" class="function">setTabOrder</dd>
                <dd id="jugadorWindow.setTabletTracking" class="function">setTabletTracking</dd>
                <dd id="jugadorWindow.setToolTip" class="function">setToolTip</dd>
                <dd id="jugadorWindow.setToolTipDuration" class="function">setToolTipDuration</dd>
                <dd id="jugadorWindow.setUpdatesEnabled" class="function">setUpdatesEnabled</dd>
                <dd id="jugadorWindow.setVisible" class="function">setVisible</dd>
                <dd id="jugadorWindow.setWhatsThis" class="function">setWhatsThis</dd>
                <dd id="jugadorWindow.setWindowFilePath" class="function">setWindowFilePath</dd>
                <dd id="jugadorWindow.setWindowFlag" class="function">setWindowFlag</dd>
                <dd id="jugadorWindow.setWindowFlags" class="function">setWindowFlags</dd>
                <dd id="jugadorWindow.setWindowIcon" class="function">setWindowIcon</dd>
                <dd id="jugadorWindow.setWindowIconText" class="function">setWindowIconText</dd>
                <dd id="jugadorWindow.setWindowModality" class="function">setWindowModality</dd>
                <dd id="jugadorWindow.setWindowModified" class="function">setWindowModified</dd>
                <dd id="jugadorWindow.setWindowOpacity" class="function">setWindowOpacity</dd>
                <dd id="jugadorWindow.setWindowRole" class="function">setWindowRole</dd>
                <dd id="jugadorWindow.setWindowState" class="function">setWindowState</dd>
                <dd id="jugadorWindow.setWindowTitle" class="function">setWindowTitle</dd>
                <dd id="jugadorWindow.sharedPainter" class="function">sharedPainter</dd>
                <dd id="jugadorWindow.show" class="function">show</dd>
                <dd id="jugadorWindow.showEvent" class="function">showEvent</dd>
                <dd id="jugadorWindow.showFullScreen" class="function">showFullScreen</dd>
                <dd id="jugadorWindow.showMaximized" class="function">showMaximized</dd>
                <dd id="jugadorWindow.showMinimized" class="function">showMinimized</dd>
                <dd id="jugadorWindow.showNormal" class="function">showNormal</dd>
                <dd id="jugadorWindow.size" class="function">size</dd>
                <dd id="jugadorWindow.sizeHint" class="function">sizeHint</dd>
                <dd id="jugadorWindow.sizeIncrement" class="function">sizeIncrement</dd>
                <dd id="jugadorWindow.sizePolicy" class="function">sizePolicy</dd>
                <dd id="jugadorWindow.stackUnder" class="function">stackUnder</dd>
                <dd id="jugadorWindow.statusTip" class="function">statusTip</dd>
                <dd id="jugadorWindow.style" class="function">style</dd>
                <dd id="jugadorWindow.styleSheet" class="function">styleSheet</dd>
                <dd id="jugadorWindow.tabletEvent" class="function">tabletEvent</dd>
                <dd id="jugadorWindow.testAttribute" class="function">testAttribute</dd>
                <dd id="jugadorWindow.toolTip" class="function">toolTip</dd>
                <dd id="jugadorWindow.toolTipDuration" class="function">toolTipDuration</dd>
                <dd id="jugadorWindow.topLevelWidget" class="function">topLevelWidget</dd>
                <dd id="jugadorWindow.underMouse" class="function">underMouse</dd>
                <dd id="jugadorWindow.ungrabGesture" class="function">ungrabGesture</dd>
                <dd id="jugadorWindow.unsetCursor" class="function">unsetCursor</dd>
                <dd id="jugadorWindow.unsetLayoutDirection" class="function">unsetLayoutDirection</dd>
                <dd id="jugadorWindow.unsetLocale" class="function">unsetLocale</dd>
                <dd id="jugadorWindow.update" class="function">update</dd>
                <dd id="jugadorWindow.updateGeometry" class="function">updateGeometry</dd>
                <dd id="jugadorWindow.updateMicroFocus" class="function">updateMicroFocus</dd>
                <dd id="jugadorWindow.updatesEnabled" class="function">updatesEnabled</dd>
                <dd id="jugadorWindow.visibleRegion" class="function">visibleRegion</dd>
                <dd id="jugadorWindow.whatsThis" class="function">whatsThis</dd>
                <dd id="jugadorWindow.wheelEvent" class="function">wheelEvent</dd>
                <dd id="jugadorWindow.width" class="function">width</dd>
                <dd id="jugadorWindow.winId" class="function">winId</dd>
                <dd id="jugadorWindow.window" class="function">window</dd>
                <dd id="jugadorWindow.windowFilePath" class="function">windowFilePath</dd>
                <dd id="jugadorWindow.windowFlags" class="function">windowFlags</dd>
                <dd id="jugadorWindow.windowHandle" class="function">windowHandle</dd>
                <dd id="jugadorWindow.windowIcon" class="function">windowIcon</dd>
                <dd id="jugadorWindow.windowIconText" class="function">windowIconText</dd>
                <dd id="jugadorWindow.windowModality" class="function">windowModality</dd>
                <dd id="jugadorWindow.windowOpacity" class="function">windowOpacity</dd>
                <dd id="jugadorWindow.windowRole" class="function">windowRole</dd>
                <dd id="jugadorWindow.windowState" class="function">windowState</dd>
                <dd id="jugadorWindow.windowTitle" class="function">windowTitle</dd>
                <dd id="jugadorWindow.windowType" class="function">windowType</dd>
                <dd id="jugadorWindow.x" class="function">x</dd>
                <dd id="jugadorWindow.y" class="function">y</dd>
                <dd id="jugadorWindow.RenderFlag" class="class">RenderFlag</dd>
                <dd id="jugadorWindow.windowTitleChanged" class="function">windowTitleChanged</dd>
                <dd id="jugadorWindow.windowIconChanged" class="function">windowIconChanged</dd>
                <dd id="jugadorWindow.windowIconTextChanged" class="function">windowIconTextChanged</dd>
                <dd id="jugadorWindow.customContextMenuRequested" class="function">customContextMenuRequested</dd>

            </div>
            <div><dt>PySide6.QtCore.QObject</dt>
                                <dd id="jugadorWindow.blockSignals" class="function">blockSignals</dd>
                <dd id="jugadorWindow.childEvent" class="function">childEvent</dd>
                <dd id="jugadorWindow.children" class="function">children</dd>
                <dd id="jugadorWindow.connect" class="function">connect</dd>
                <dd id="jugadorWindow.connectNotify" class="function">connectNotify</dd>
                <dd id="jugadorWindow.customEvent" class="function">customEvent</dd>
                <dd id="jugadorWindow.deleteLater" class="function">deleteLater</dd>
                <dd id="jugadorWindow.disconnect" class="function">disconnect</dd>
                <dd id="jugadorWindow.disconnectNotify" class="function">disconnectNotify</dd>
                <dd id="jugadorWindow.dumpObjectInfo" class="function">dumpObjectInfo</dd>
                <dd id="jugadorWindow.dumpObjectTree" class="function">dumpObjectTree</dd>
                <dd id="jugadorWindow.dynamicPropertyNames" class="function">dynamicPropertyNames</dd>
                <dd id="jugadorWindow.emit" class="function">emit</dd>
                <dd id="jugadorWindow.eventFilter" class="function">eventFilter</dd>
                <dd id="jugadorWindow.findChild" class="function">findChild</dd>
                <dd id="jugadorWindow.findChildren" class="function">findChildren</dd>
                <dd id="jugadorWindow.inherits" class="function">inherits</dd>
                <dd id="jugadorWindow.installEventFilter" class="function">installEventFilter</dd>
                <dd id="jugadorWindow.isQuickItemType" class="function">isQuickItemType</dd>
                <dd id="jugadorWindow.isSignalConnected" class="function">isSignalConnected</dd>
                <dd id="jugadorWindow.isWidgetType" class="function">isWidgetType</dd>
                <dd id="jugadorWindow.isWindowType" class="function">isWindowType</dd>
                <dd id="jugadorWindow.killTimer" class="function">killTimer</dd>
                <dd id="jugadorWindow.metaObject" class="function">metaObject</dd>
                <dd id="jugadorWindow.moveToThread" class="function">moveToThread</dd>
                <dd id="jugadorWindow.objectName" class="function">objectName</dd>
                <dd id="jugadorWindow.parent" class="function">parent</dd>
                <dd id="jugadorWindow.property" class="function">property</dd>
                <dd id="jugadorWindow.receivers" class="function">receivers</dd>
                <dd id="jugadorWindow.removeEventFilter" class="function">removeEventFilter</dd>
                <dd id="jugadorWindow.sender" class="function">sender</dd>
                <dd id="jugadorWindow.senderSignalIndex" class="function">senderSignalIndex</dd>
                <dd id="jugadorWindow.setObjectName" class="function">setObjectName</dd>
                <dd id="jugadorWindow.setProperty" class="function">setProperty</dd>
                <dd id="jugadorWindow.signalsBlocked" class="function">signalsBlocked</dd>
                <dd id="jugadorWindow.startTimer" class="function">startTimer</dd>
                <dd id="jugadorWindow.thread" class="function">thread</dd>
                <dd id="jugadorWindow.timerEvent" class="function">timerEvent</dd>
                <dd id="jugadorWindow.tr" class="function">tr</dd>
                <dd id="jugadorWindow.destroyed" class="function">destroyed</dd>
                <dd id="jugadorWindow.objectNameChanged" class="function">objectNameChanged</dd>

            </div>
            <div><dt>PySide6.QtGui.QPaintDevice</dt>
                                <dd id="jugadorWindow.colorCount" class="function">colorCount</dd>
                <dd id="jugadorWindow.depth" class="function">depth</dd>
                <dd id="jugadorWindow.devicePixelRatio" class="function">devicePixelRatio</dd>
                <dd id="jugadorWindow.devicePixelRatioF" class="function">devicePixelRatioF</dd>
                <dd id="jugadorWindow.devicePixelRatioFScale" class="function">devicePixelRatioFScale</dd>
                <dd id="jugadorWindow.heightMM" class="function">heightMM</dd>
                <dd id="jugadorWindow.logicalDpiX" class="function">logicalDpiX</dd>
                <dd id="jugadorWindow.logicalDpiY" class="function">logicalDpiY</dd>
                <dd id="jugadorWindow.paintingActive" class="function">paintingActive</dd>
                <dd id="jugadorWindow.physicalDpiX" class="function">physicalDpiX</dd>
                <dd id="jugadorWindow.physicalDpiY" class="function">physicalDpiY</dd>
                <dd id="jugadorWindow.widthMM" class="function">widthMM</dd>
                <dd id="jugadorWindow.painters" class="variable">painters</dd>
                <dd id="jugadorWindow.PaintDeviceMetric" class="class">PaintDeviceMetric</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="BitacoraWindow">
                            <input id="BitacoraWindow-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">BitacoraWindow</span><wbr>(<span class="base">PySide6.QtWidgets.QDialog</span>):

                <label class="view-source-button" for="BitacoraWindow-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#BitacoraWindow"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BitacoraWindow-160"><a href="#BitacoraWindow-160"><span class="linenos">160</span></a><span class="k">class</span> <span class="nc">BitacoraWindow</span><span class="p">(</span><span class="n">QDialog</span><span class="p">):</span>
</span><span id="BitacoraWindow-161"><a href="#BitacoraWindow-161"><span class="linenos">161</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="BitacoraWindow-162"><a href="#BitacoraWindow-162"><span class="linenos">162</span></a><span class="sd">    Ventana de diálogo para mostrar la bitácora de una sala de juego.</span>
</span><span id="BitacoraWindow-163"><a href="#BitacoraWindow-163"><span class="linenos">163</span></a>
</span><span id="BitacoraWindow-164"><a href="#BitacoraWindow-164"><span class="linenos">164</span></a><span class="sd">    Esta clase crea una ventana de diálogo que muestra el historial de eventos en una sala específica. La ventana muestra los mensajes registrados en la bitácora de la sala.</span>
</span><span id="BitacoraWindow-165"><a href="#BitacoraWindow-165"><span class="linenos">165</span></a>
</span><span id="BitacoraWindow-166"><a href="#BitacoraWindow-166"><span class="linenos">166</span></a><span class="sd">    Métodos:</span>
</span><span id="BitacoraWindow-167"><a href="#BitacoraWindow-167"><span class="linenos">167</span></a><span class="sd">        __init__(nombre_sala): Inicializa la ventana de la bitácora con el historial de la sala especificada.</span>
</span><span id="BitacoraWindow-168"><a href="#BitacoraWindow-168"><span class="linenos">168</span></a>
</span><span id="BitacoraWindow-169"><a href="#BitacoraWindow-169"><span class="linenos">169</span></a><span class="sd">    Atributos:</span>
</span><span id="BitacoraWindow-170"><a href="#BitacoraWindow-170"><span class="linenos">170</span></a><span class="sd">        bitacora_text (QTextBrowser): Widget que muestra el texto de la bitácora de la sala.</span>
</span><span id="BitacoraWindow-171"><a href="#BitacoraWindow-171"><span class="linenos">171</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="BitacoraWindow-172"><a href="#BitacoraWindow-172"><span class="linenos">172</span></a>
</span><span id="BitacoraWindow-173"><a href="#BitacoraWindow-173"><span class="linenos">173</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre_sala</span><span class="p">):</span>
</span><span id="BitacoraWindow-174"><a href="#BitacoraWindow-174"><span class="linenos">174</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="BitacoraWindow-175"><a href="#BitacoraWindow-175"><span class="linenos">175</span></a><span class="sd">        Inicializa la ventana de la bitácora con el historial de la sala especificada.</span>
</span><span id="BitacoraWindow-176"><a href="#BitacoraWindow-176"><span class="linenos">176</span></a>
</span><span id="BitacoraWindow-177"><a href="#BitacoraWindow-177"><span class="linenos">177</span></a><span class="sd">        Esta función establece el título de la ventana, define su tamaño, y carga el historial de eventos de la bitácora de la sala desde la base de datos de Firebase.</span>
</span><span id="BitacoraWindow-178"><a href="#BitacoraWindow-178"><span class="linenos">178</span></a>
</span><span id="BitacoraWindow-179"><a href="#BitacoraWindow-179"><span class="linenos">179</span></a><span class="sd">        Args:</span>
</span><span id="BitacoraWindow-180"><a href="#BitacoraWindow-180"><span class="linenos">180</span></a><span class="sd">            nombre_sala (str): El nombre de la sala cuya bitácora se mostrará en la ventana.</span>
</span><span id="BitacoraWindow-181"><a href="#BitacoraWindow-181"><span class="linenos">181</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="BitacoraWindow-182"><a href="#BitacoraWindow-182"><span class="linenos">182</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="BitacoraWindow-183"><a href="#BitacoraWindow-183"><span class="linenos">183</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s1">&#39;Bitácora de Sala&#39;</span><span class="p">)</span>
</span><span id="BitacoraWindow-184"><a href="#BitacoraWindow-184"><span class="linenos">184</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
</span><span id="BitacoraWindow-185"><a href="#BitacoraWindow-185"><span class="linenos">185</span></a>        
</span><span id="BitacoraWindow-186"><a href="#BitacoraWindow-186"><span class="linenos">186</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="BitacoraWindow-187"><a href="#BitacoraWindow-187"><span class="linenos">187</span></a>        
</span><span id="BitacoraWindow-188"><a href="#BitacoraWindow-188"><span class="linenos">188</span></a>        <span class="c1"># Crea un QTextBrowser para mostrar el texto de la bitácora</span>
</span><span id="BitacoraWindow-189"><a href="#BitacoraWindow-189"><span class="linenos">189</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">bitacora_text</span> <span class="o">=</span> <span class="n">QTextBrowser</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="BitacoraWindow-190"><a href="#BitacoraWindow-190"><span class="linenos">190</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">bitacora_text</span><span class="o">.</span><span class="n">setOpenExternalLinks</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># Permite abrir enlaces externos en el QTextBrowser</span>
</span><span id="BitacoraWindow-191"><a href="#BitacoraWindow-191"><span class="linenos">191</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bitacora_text</span><span class="p">)</span>
</span><span id="BitacoraWindow-192"><a href="#BitacoraWindow-192"><span class="linenos">192</span></a>        
</span><span id="BitacoraWindow-193"><a href="#BitacoraWindow-193"><span class="linenos">193</span></a>        <span class="c1"># Obtiene la referencia a la colección &#39;salas&#39; y el documento correspondiente a la sala especificada</span>
</span><span id="BitacoraWindow-194"><a href="#BitacoraWindow-194"><span class="linenos">194</span></a>        <span class="n">sala_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;salas&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">nombre_sala</span><span class="p">)</span>
</span><span id="BitacoraWindow-195"><a href="#BitacoraWindow-195"><span class="linenos">195</span></a>        <span class="n">sala_doc</span> <span class="o">=</span> <span class="n">sala_ref</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</span><span id="BitacoraWindow-196"><a href="#BitacoraWindow-196"><span class="linenos">196</span></a>        
</span><span id="BitacoraWindow-197"><a href="#BitacoraWindow-197"><span class="linenos">197</span></a>        <span class="c1"># Obtiene el texto de la bitácora de la sala desde la base de datos</span>
</span><span id="BitacoraWindow-198"><a href="#BitacoraWindow-198"><span class="linenos">198</span></a>        <span class="n">bitacora_text</span> <span class="o">=</span> <span class="n">sala_doc</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;bitacora&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="BitacoraWindow-199"><a href="#BitacoraWindow-199"><span class="linenos">199</span></a>        
</span><span id="BitacoraWindow-200"><a href="#BitacoraWindow-200"><span class="linenos">200</span></a>        <span class="c1"># Establece el texto de la bitácora en el QTextBrowser</span>
</span><span id="BitacoraWindow-201"><a href="#BitacoraWindow-201"><span class="linenos">201</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">bitacora_text</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="n">bitacora_text</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Ventana de diálogo para mostrar la bitácora de una sala de juego.</p>

<p>Esta clase crea una ventana de diálogo que muestra el historial de eventos en una sala específica. La ventana muestra los mensajes registrados en la bitácora de la sala.</p>

<p>Métodos:
    __init__(nombre_sala): Inicializa la ventana de la bitácora con el historial de la sala especificada.</p>

<p>Atributos:
    bitacora_text (QTextBrowser): Widget que muestra el texto de la bitácora de la sala.</p>
</div>


                            <div id="BitacoraWindow.__init__" class="classattr">
                                        <input id="BitacoraWindow.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">BitacoraWindow</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">nombre_sala</span></span>)</span>

                <label class="view-source-button" for="BitacoraWindow.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#BitacoraWindow.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="BitacoraWindow.__init__-173"><a href="#BitacoraWindow.__init__-173"><span class="linenos">173</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre_sala</span><span class="p">):</span>
</span><span id="BitacoraWindow.__init__-174"><a href="#BitacoraWindow.__init__-174"><span class="linenos">174</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="BitacoraWindow.__init__-175"><a href="#BitacoraWindow.__init__-175"><span class="linenos">175</span></a><span class="sd">        Inicializa la ventana de la bitácora con el historial de la sala especificada.</span>
</span><span id="BitacoraWindow.__init__-176"><a href="#BitacoraWindow.__init__-176"><span class="linenos">176</span></a>
</span><span id="BitacoraWindow.__init__-177"><a href="#BitacoraWindow.__init__-177"><span class="linenos">177</span></a><span class="sd">        Esta función establece el título de la ventana, define su tamaño, y carga el historial de eventos de la bitácora de la sala desde la base de datos de Firebase.</span>
</span><span id="BitacoraWindow.__init__-178"><a href="#BitacoraWindow.__init__-178"><span class="linenos">178</span></a>
</span><span id="BitacoraWindow.__init__-179"><a href="#BitacoraWindow.__init__-179"><span class="linenos">179</span></a><span class="sd">        Args:</span>
</span><span id="BitacoraWindow.__init__-180"><a href="#BitacoraWindow.__init__-180"><span class="linenos">180</span></a><span class="sd">            nombre_sala (str): El nombre de la sala cuya bitácora se mostrará en la ventana.</span>
</span><span id="BitacoraWindow.__init__-181"><a href="#BitacoraWindow.__init__-181"><span class="linenos">181</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="BitacoraWindow.__init__-182"><a href="#BitacoraWindow.__init__-182"><span class="linenos">182</span></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="BitacoraWindow.__init__-183"><a href="#BitacoraWindow.__init__-183"><span class="linenos">183</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s1">&#39;Bitácora de Sala&#39;</span><span class="p">)</span>
</span><span id="BitacoraWindow.__init__-184"><a href="#BitacoraWindow.__init__-184"><span class="linenos">184</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
</span><span id="BitacoraWindow.__init__-185"><a href="#BitacoraWindow.__init__-185"><span class="linenos">185</span></a>        
</span><span id="BitacoraWindow.__init__-186"><a href="#BitacoraWindow.__init__-186"><span class="linenos">186</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="BitacoraWindow.__init__-187"><a href="#BitacoraWindow.__init__-187"><span class="linenos">187</span></a>        
</span><span id="BitacoraWindow.__init__-188"><a href="#BitacoraWindow.__init__-188"><span class="linenos">188</span></a>        <span class="c1"># Crea un QTextBrowser para mostrar el texto de la bitácora</span>
</span><span id="BitacoraWindow.__init__-189"><a href="#BitacoraWindow.__init__-189"><span class="linenos">189</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">bitacora_text</span> <span class="o">=</span> <span class="n">QTextBrowser</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="BitacoraWindow.__init__-190"><a href="#BitacoraWindow.__init__-190"><span class="linenos">190</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">bitacora_text</span><span class="o">.</span><span class="n">setOpenExternalLinks</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># Permite abrir enlaces externos en el QTextBrowser</span>
</span><span id="BitacoraWindow.__init__-191"><a href="#BitacoraWindow.__init__-191"><span class="linenos">191</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bitacora_text</span><span class="p">)</span>
</span><span id="BitacoraWindow.__init__-192"><a href="#BitacoraWindow.__init__-192"><span class="linenos">192</span></a>        
</span><span id="BitacoraWindow.__init__-193"><a href="#BitacoraWindow.__init__-193"><span class="linenos">193</span></a>        <span class="c1"># Obtiene la referencia a la colección &#39;salas&#39; y el documento correspondiente a la sala especificada</span>
</span><span id="BitacoraWindow.__init__-194"><a href="#BitacoraWindow.__init__-194"><span class="linenos">194</span></a>        <span class="n">sala_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;salas&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">nombre_sala</span><span class="p">)</span>
</span><span id="BitacoraWindow.__init__-195"><a href="#BitacoraWindow.__init__-195"><span class="linenos">195</span></a>        <span class="n">sala_doc</span> <span class="o">=</span> <span class="n">sala_ref</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</span><span id="BitacoraWindow.__init__-196"><a href="#BitacoraWindow.__init__-196"><span class="linenos">196</span></a>        
</span><span id="BitacoraWindow.__init__-197"><a href="#BitacoraWindow.__init__-197"><span class="linenos">197</span></a>        <span class="c1"># Obtiene el texto de la bitácora de la sala desde la base de datos</span>
</span><span id="BitacoraWindow.__init__-198"><a href="#BitacoraWindow.__init__-198"><span class="linenos">198</span></a>        <span class="n">bitacora_text</span> <span class="o">=</span> <span class="n">sala_doc</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;bitacora&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="BitacoraWindow.__init__-199"><a href="#BitacoraWindow.__init__-199"><span class="linenos">199</span></a>        
</span><span id="BitacoraWindow.__init__-200"><a href="#BitacoraWindow.__init__-200"><span class="linenos">200</span></a>        <span class="c1"># Establece el texto de la bitácora en el QTextBrowser</span>
</span><span id="BitacoraWindow.__init__-201"><a href="#BitacoraWindow.__init__-201"><span class="linenos">201</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">bitacora_text</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="n">bitacora_text</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Inicializa la ventana de la bitácora con el historial de la sala especificada.</p>

<p>Esta función establece el título de la ventana, define su tamaño, y carga el historial de eventos de la bitácora de la sala desde la base de datos de Firebase.</p>

<p>Args:
    nombre_sala (str): El nombre de la sala cuya bitácora se mostrará en la ventana.</p>
</div>


                            </div>
                            <div id="BitacoraWindow.layout" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">layout</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">unknown</span></span><span class="return-annotation">):</span></span>

        
    </div>
    <a class="headerlink" href="#BitacoraWindow.layout"></a>
    
    

                            </div>
                            <div id="BitacoraWindow.bitacora_text" class="classattr">
                                <div class="attr variable">
            <span class="name">bitacora_text</span>

        
    </div>
    <a class="headerlink" href="#BitacoraWindow.bitacora_text"></a>
    
    

                            </div>
                            <div id="BitacoraWindow.staticMetaObject" class="classattr">
                                <div class="attr variable">
            <span class="name">staticMetaObject</span>        =
<span class="default_value">PySide6.QtCore.QMetaObject(&#34;BitacoraWindow&#34; inherits &#34;QDialog&#34;:
)</span>

        
    </div>
    <a class="headerlink" href="#BitacoraWindow.staticMetaObject"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>PySide6.QtWidgets.QDialog</dt>
                                <dd id="BitacoraWindow.accept" class="function">accept</dd>
                <dd id="BitacoraWindow.adjustPosition" class="function">adjustPosition</dd>
                <dd id="BitacoraWindow.closeEvent" class="function">closeEvent</dd>
                <dd id="BitacoraWindow.contextMenuEvent" class="function">contextMenuEvent</dd>
                <dd id="BitacoraWindow.done" class="function">done</dd>
                <dd id="BitacoraWindow.eventFilter" class="function">eventFilter</dd>
                <dd id="BitacoraWindow.exec" class="function">exec</dd>
                <dd id="BitacoraWindow.exec_" class="function">exec_</dd>
                <dd id="BitacoraWindow.isSizeGripEnabled" class="function">isSizeGripEnabled</dd>
                <dd id="BitacoraWindow.keyPressEvent" class="function">keyPressEvent</dd>
                <dd id="BitacoraWindow.minimumSizeHint" class="function">minimumSizeHint</dd>
                <dd id="BitacoraWindow.open" class="function">open</dd>
                <dd id="BitacoraWindow.reject" class="function">reject</dd>
                <dd id="BitacoraWindow.resizeEvent" class="function">resizeEvent</dd>
                <dd id="BitacoraWindow.result" class="function">result</dd>
                <dd id="BitacoraWindow.setModal" class="function">setModal</dd>
                <dd id="BitacoraWindow.setResult" class="function">setResult</dd>
                <dd id="BitacoraWindow.setSizeGripEnabled" class="function">setSizeGripEnabled</dd>
                <dd id="BitacoraWindow.setVisible" class="function">setVisible</dd>
                <dd id="BitacoraWindow.showEvent" class="function">showEvent</dd>
                <dd id="BitacoraWindow.sizeHint" class="function">sizeHint</dd>
                <dd id="BitacoraWindow.DialogCode" class="class">DialogCode</dd>
                <dd id="BitacoraWindow.finished" class="function">finished</dd>
                <dd id="BitacoraWindow.accepted" class="function">accepted</dd>
                <dd id="BitacoraWindow.rejected" class="function">rejected</dd>

            </div>
            <div><dt>PySide6.QtWidgets.QWidget</dt>
                                <dd id="BitacoraWindow.acceptDrops" class="function">acceptDrops</dd>
                <dd id="BitacoraWindow.accessibleDescription" class="function">accessibleDescription</dd>
                <dd id="BitacoraWindow.accessibleName" class="function">accessibleName</dd>
                <dd id="BitacoraWindow.actionEvent" class="function">actionEvent</dd>
                <dd id="BitacoraWindow.actions" class="function">actions</dd>
                <dd id="BitacoraWindow.activateWindow" class="function">activateWindow</dd>
                <dd id="BitacoraWindow.addAction" class="function">addAction</dd>
                <dd id="BitacoraWindow.addActions" class="function">addActions</dd>
                <dd id="BitacoraWindow.adjustSize" class="function">adjustSize</dd>
                <dd id="BitacoraWindow.autoFillBackground" class="function">autoFillBackground</dd>
                <dd id="BitacoraWindow.backgroundRole" class="function">backgroundRole</dd>
                <dd id="BitacoraWindow.backingStore" class="function">backingStore</dd>
                <dd id="BitacoraWindow.baseSize" class="function">baseSize</dd>
                <dd id="BitacoraWindow.changeEvent" class="function">changeEvent</dd>
                <dd id="BitacoraWindow.childAt" class="function">childAt</dd>
                <dd id="BitacoraWindow.childrenRect" class="function">childrenRect</dd>
                <dd id="BitacoraWindow.childrenRegion" class="function">childrenRegion</dd>
                <dd id="BitacoraWindow.clearFocus" class="function">clearFocus</dd>
                <dd id="BitacoraWindow.clearMask" class="function">clearMask</dd>
                <dd id="BitacoraWindow.close" class="function">close</dd>
                <dd id="BitacoraWindow.contentsMargins" class="function">contentsMargins</dd>
                <dd id="BitacoraWindow.contentsRect" class="function">contentsRect</dd>
                <dd id="BitacoraWindow.contextMenuPolicy" class="function">contextMenuPolicy</dd>
                <dd id="BitacoraWindow.create" class="function">create</dd>
                <dd id="BitacoraWindow.createWinId" class="function">createWinId</dd>
                <dd id="BitacoraWindow.createWindowContainer" class="function">createWindowContainer</dd>
                <dd id="BitacoraWindow.cursor" class="function">cursor</dd>
                <dd id="BitacoraWindow.destroy" class="function">destroy</dd>
                <dd id="BitacoraWindow.devType" class="function">devType</dd>
                <dd id="BitacoraWindow.dragEnterEvent" class="function">dragEnterEvent</dd>
                <dd id="BitacoraWindow.dragLeaveEvent" class="function">dragLeaveEvent</dd>
                <dd id="BitacoraWindow.dragMoveEvent" class="function">dragMoveEvent</dd>
                <dd id="BitacoraWindow.dropEvent" class="function">dropEvent</dd>
                <dd id="BitacoraWindow.effectiveWinId" class="function">effectiveWinId</dd>
                <dd id="BitacoraWindow.ensurePolished" class="function">ensurePolished</dd>
                <dd id="BitacoraWindow.enterEvent" class="function">enterEvent</dd>
                <dd id="BitacoraWindow.event" class="function">event</dd>
                <dd id="BitacoraWindow.find" class="function">find</dd>
                <dd id="BitacoraWindow.focusInEvent" class="function">focusInEvent</dd>
                <dd id="BitacoraWindow.focusNextChild" class="function">focusNextChild</dd>
                <dd id="BitacoraWindow.focusNextPrevChild" class="function">focusNextPrevChild</dd>
                <dd id="BitacoraWindow.focusOutEvent" class="function">focusOutEvent</dd>
                <dd id="BitacoraWindow.focusPolicy" class="function">focusPolicy</dd>
                <dd id="BitacoraWindow.focusPreviousChild" class="function">focusPreviousChild</dd>
                <dd id="BitacoraWindow.focusProxy" class="function">focusProxy</dd>
                <dd id="BitacoraWindow.focusWidget" class="function">focusWidget</dd>
                <dd id="BitacoraWindow.font" class="function">font</dd>
                <dd id="BitacoraWindow.fontInfo" class="function">fontInfo</dd>
                <dd id="BitacoraWindow.fontMetrics" class="function">fontMetrics</dd>
                <dd id="BitacoraWindow.foregroundRole" class="function">foregroundRole</dd>
                <dd id="BitacoraWindow.frameGeometry" class="function">frameGeometry</dd>
                <dd id="BitacoraWindow.frameSize" class="function">frameSize</dd>
                <dd id="BitacoraWindow.geometry" class="function">geometry</dd>
                <dd id="BitacoraWindow.grab" class="function">grab</dd>
                <dd id="BitacoraWindow.grabGesture" class="function">grabGesture</dd>
                <dd id="BitacoraWindow.grabKeyboard" class="function">grabKeyboard</dd>
                <dd id="BitacoraWindow.grabMouse" class="function">grabMouse</dd>
                <dd id="BitacoraWindow.grabShortcut" class="function">grabShortcut</dd>
                <dd id="BitacoraWindow.graphicsEffect" class="function">graphicsEffect</dd>
                <dd id="BitacoraWindow.graphicsProxyWidget" class="function">graphicsProxyWidget</dd>
                <dd id="BitacoraWindow.hasFocus" class="function">hasFocus</dd>
                <dd id="BitacoraWindow.hasHeightForWidth" class="function">hasHeightForWidth</dd>
                <dd id="BitacoraWindow.hasMouseTracking" class="function">hasMouseTracking</dd>
                <dd id="BitacoraWindow.hasTabletTracking" class="function">hasTabletTracking</dd>
                <dd id="BitacoraWindow.height" class="function">height</dd>
                <dd id="BitacoraWindow.heightForWidth" class="function">heightForWidth</dd>
                <dd id="BitacoraWindow.hide" class="function">hide</dd>
                <dd id="BitacoraWindow.hideEvent" class="function">hideEvent</dd>
                <dd id="BitacoraWindow.initPainter" class="function">initPainter</dd>
                <dd id="BitacoraWindow.inputMethodEvent" class="function">inputMethodEvent</dd>
                <dd id="BitacoraWindow.inputMethodHints" class="function">inputMethodHints</dd>
                <dd id="BitacoraWindow.inputMethodQuery" class="function">inputMethodQuery</dd>
                <dd id="BitacoraWindow.insertAction" class="function">insertAction</dd>
                <dd id="BitacoraWindow.insertActions" class="function">insertActions</dd>
                <dd id="BitacoraWindow.internalWinId" class="function">internalWinId</dd>
                <dd id="BitacoraWindow.isActiveWindow" class="function">isActiveWindow</dd>
                <dd id="BitacoraWindow.isAncestorOf" class="function">isAncestorOf</dd>
                <dd id="BitacoraWindow.isEnabled" class="function">isEnabled</dd>
                <dd id="BitacoraWindow.isEnabledTo" class="function">isEnabledTo</dd>
                <dd id="BitacoraWindow.isFullScreen" class="function">isFullScreen</dd>
                <dd id="BitacoraWindow.isHidden" class="function">isHidden</dd>
                <dd id="BitacoraWindow.isLeftToRight" class="function">isLeftToRight</dd>
                <dd id="BitacoraWindow.isMaximized" class="function">isMaximized</dd>
                <dd id="BitacoraWindow.isMinimized" class="function">isMinimized</dd>
                <dd id="BitacoraWindow.isModal" class="function">isModal</dd>
                <dd id="BitacoraWindow.isRightToLeft" class="function">isRightToLeft</dd>
                <dd id="BitacoraWindow.isTopLevel" class="function">isTopLevel</dd>
                <dd id="BitacoraWindow.isVisible" class="function">isVisible</dd>
                <dd id="BitacoraWindow.isVisibleTo" class="function">isVisibleTo</dd>
                <dd id="BitacoraWindow.isWindow" class="function">isWindow</dd>
                <dd id="BitacoraWindow.isWindowModified" class="function">isWindowModified</dd>
                <dd id="BitacoraWindow.keyReleaseEvent" class="function">keyReleaseEvent</dd>
                <dd id="BitacoraWindow.keyboardGrabber" class="function">keyboardGrabber</dd>
                <dd id="BitacoraWindow.layoutDirection" class="function">layoutDirection</dd>
                <dd id="BitacoraWindow.leaveEvent" class="function">leaveEvent</dd>
                <dd id="BitacoraWindow.locale" class="function">locale</dd>
                <dd id="BitacoraWindow.lower" class="function">lower</dd>
                <dd id="BitacoraWindow.mapFrom" class="function">mapFrom</dd>
                <dd id="BitacoraWindow.mapFromGlobal" class="function">mapFromGlobal</dd>
                <dd id="BitacoraWindow.mapFromParent" class="function">mapFromParent</dd>
                <dd id="BitacoraWindow.mapTo" class="function">mapTo</dd>
                <dd id="BitacoraWindow.mapToGlobal" class="function">mapToGlobal</dd>
                <dd id="BitacoraWindow.mapToParent" class="function">mapToParent</dd>
                <dd id="BitacoraWindow.mask" class="function">mask</dd>
                <dd id="BitacoraWindow.maximumHeight" class="function">maximumHeight</dd>
                <dd id="BitacoraWindow.maximumSize" class="function">maximumSize</dd>
                <dd id="BitacoraWindow.maximumWidth" class="function">maximumWidth</dd>
                <dd id="BitacoraWindow.metric" class="function">metric</dd>
                <dd id="BitacoraWindow.minimumHeight" class="function">minimumHeight</dd>
                <dd id="BitacoraWindow.minimumSize" class="function">minimumSize</dd>
                <dd id="BitacoraWindow.minimumWidth" class="function">minimumWidth</dd>
                <dd id="BitacoraWindow.mouseDoubleClickEvent" class="function">mouseDoubleClickEvent</dd>
                <dd id="BitacoraWindow.mouseGrabber" class="function">mouseGrabber</dd>
                <dd id="BitacoraWindow.mouseMoveEvent" class="function">mouseMoveEvent</dd>
                <dd id="BitacoraWindow.mousePressEvent" class="function">mousePressEvent</dd>
                <dd id="BitacoraWindow.mouseReleaseEvent" class="function">mouseReleaseEvent</dd>
                <dd id="BitacoraWindow.move" class="function">move</dd>
                <dd id="BitacoraWindow.moveEvent" class="function">moveEvent</dd>
                <dd id="BitacoraWindow.nativeEvent" class="function">nativeEvent</dd>
                <dd id="BitacoraWindow.nativeParentWidget" class="function">nativeParentWidget</dd>
                <dd id="BitacoraWindow.nextInFocusChain" class="function">nextInFocusChain</dd>
                <dd id="BitacoraWindow.normalGeometry" class="function">normalGeometry</dd>
                <dd id="BitacoraWindow.overrideWindowFlags" class="function">overrideWindowFlags</dd>
                <dd id="BitacoraWindow.overrideWindowState" class="function">overrideWindowState</dd>
                <dd id="BitacoraWindow.paintEngine" class="function">paintEngine</dd>
                <dd id="BitacoraWindow.paintEvent" class="function">paintEvent</dd>
                <dd id="BitacoraWindow.palette" class="function">palette</dd>
                <dd id="BitacoraWindow.parentWidget" class="function">parentWidget</dd>
                <dd id="BitacoraWindow.pos" class="function">pos</dd>
                <dd id="BitacoraWindow.previousInFocusChain" class="function">previousInFocusChain</dd>
                <dd id="BitacoraWindow.raise_" class="function">raise_</dd>
                <dd id="BitacoraWindow.rect" class="function">rect</dd>
                <dd id="BitacoraWindow.redirected" class="function">redirected</dd>
                <dd id="BitacoraWindow.releaseKeyboard" class="function">releaseKeyboard</dd>
                <dd id="BitacoraWindow.releaseMouse" class="function">releaseMouse</dd>
                <dd id="BitacoraWindow.releaseShortcut" class="function">releaseShortcut</dd>
                <dd id="BitacoraWindow.removeAction" class="function">removeAction</dd>
                <dd id="BitacoraWindow.render" class="function">render</dd>
                <dd id="BitacoraWindow.repaint" class="function">repaint</dd>
                <dd id="BitacoraWindow.resize" class="function">resize</dd>
                <dd id="BitacoraWindow.restoreGeometry" class="function">restoreGeometry</dd>
                <dd id="BitacoraWindow.saveGeometry" class="function">saveGeometry</dd>
                <dd id="BitacoraWindow.screen" class="function">screen</dd>
                <dd id="BitacoraWindow.scroll" class="function">scroll</dd>
                <dd id="BitacoraWindow.setAcceptDrops" class="function">setAcceptDrops</dd>
                <dd id="BitacoraWindow.setAccessibleDescription" class="function">setAccessibleDescription</dd>
                <dd id="BitacoraWindow.setAccessibleName" class="function">setAccessibleName</dd>
                <dd id="BitacoraWindow.setAttribute" class="function">setAttribute</dd>
                <dd id="BitacoraWindow.setAutoFillBackground" class="function">setAutoFillBackground</dd>
                <dd id="BitacoraWindow.setBackgroundRole" class="function">setBackgroundRole</dd>
                <dd id="BitacoraWindow.setBaseSize" class="function">setBaseSize</dd>
                <dd id="BitacoraWindow.setContentsMargins" class="function">setContentsMargins</dd>
                <dd id="BitacoraWindow.setContextMenuPolicy" class="function">setContextMenuPolicy</dd>
                <dd id="BitacoraWindow.setCursor" class="function">setCursor</dd>
                <dd id="BitacoraWindow.setDisabled" class="function">setDisabled</dd>
                <dd id="BitacoraWindow.setEnabled" class="function">setEnabled</dd>
                <dd id="BitacoraWindow.setFixedHeight" class="function">setFixedHeight</dd>
                <dd id="BitacoraWindow.setFixedSize" class="function">setFixedSize</dd>
                <dd id="BitacoraWindow.setFixedWidth" class="function">setFixedWidth</dd>
                <dd id="BitacoraWindow.setFocus" class="function">setFocus</dd>
                <dd id="BitacoraWindow.setFocusPolicy" class="function">setFocusPolicy</dd>
                <dd id="BitacoraWindow.setFocusProxy" class="function">setFocusProxy</dd>
                <dd id="BitacoraWindow.setFont" class="function">setFont</dd>
                <dd id="BitacoraWindow.setForegroundRole" class="function">setForegroundRole</dd>
                <dd id="BitacoraWindow.setGeometry" class="function">setGeometry</dd>
                <dd id="BitacoraWindow.setGraphicsEffect" class="function">setGraphicsEffect</dd>
                <dd id="BitacoraWindow.setHidden" class="function">setHidden</dd>
                <dd id="BitacoraWindow.setInputMethodHints" class="function">setInputMethodHints</dd>
                <dd id="BitacoraWindow.setLayout" class="function">setLayout</dd>
                <dd id="BitacoraWindow.setLayoutDirection" class="function">setLayoutDirection</dd>
                <dd id="BitacoraWindow.setLocale" class="function">setLocale</dd>
                <dd id="BitacoraWindow.setMask" class="function">setMask</dd>
                <dd id="BitacoraWindow.setMaximumHeight" class="function">setMaximumHeight</dd>
                <dd id="BitacoraWindow.setMaximumSize" class="function">setMaximumSize</dd>
                <dd id="BitacoraWindow.setMaximumWidth" class="function">setMaximumWidth</dd>
                <dd id="BitacoraWindow.setMinimumHeight" class="function">setMinimumHeight</dd>
                <dd id="BitacoraWindow.setMinimumSize" class="function">setMinimumSize</dd>
                <dd id="BitacoraWindow.setMinimumWidth" class="function">setMinimumWidth</dd>
                <dd id="BitacoraWindow.setMouseTracking" class="function">setMouseTracking</dd>
                <dd id="BitacoraWindow.setPalette" class="function">setPalette</dd>
                <dd id="BitacoraWindow.setParent" class="function">setParent</dd>
                <dd id="BitacoraWindow.setScreen" class="function">setScreen</dd>
                <dd id="BitacoraWindow.setShortcutAutoRepeat" class="function">setShortcutAutoRepeat</dd>
                <dd id="BitacoraWindow.setShortcutEnabled" class="function">setShortcutEnabled</dd>
                <dd id="BitacoraWindow.setSizeIncrement" class="function">setSizeIncrement</dd>
                <dd id="BitacoraWindow.setSizePolicy" class="function">setSizePolicy</dd>
                <dd id="BitacoraWindow.setStatusTip" class="function">setStatusTip</dd>
                <dd id="BitacoraWindow.setStyle" class="function">setStyle</dd>
                <dd id="BitacoraWindow.setStyleSheet" class="function">setStyleSheet</dd>
                <dd id="BitacoraWindow.setTabOrder" class="function">setTabOrder</dd>
                <dd id="BitacoraWindow.setTabletTracking" class="function">setTabletTracking</dd>
                <dd id="BitacoraWindow.setToolTip" class="function">setToolTip</dd>
                <dd id="BitacoraWindow.setToolTipDuration" class="function">setToolTipDuration</dd>
                <dd id="BitacoraWindow.setUpdatesEnabled" class="function">setUpdatesEnabled</dd>
                <dd id="BitacoraWindow.setWhatsThis" class="function">setWhatsThis</dd>
                <dd id="BitacoraWindow.setWindowFilePath" class="function">setWindowFilePath</dd>
                <dd id="BitacoraWindow.setWindowFlag" class="function">setWindowFlag</dd>
                <dd id="BitacoraWindow.setWindowFlags" class="function">setWindowFlags</dd>
                <dd id="BitacoraWindow.setWindowIcon" class="function">setWindowIcon</dd>
                <dd id="BitacoraWindow.setWindowIconText" class="function">setWindowIconText</dd>
                <dd id="BitacoraWindow.setWindowModality" class="function">setWindowModality</dd>
                <dd id="BitacoraWindow.setWindowModified" class="function">setWindowModified</dd>
                <dd id="BitacoraWindow.setWindowOpacity" class="function">setWindowOpacity</dd>
                <dd id="BitacoraWindow.setWindowRole" class="function">setWindowRole</dd>
                <dd id="BitacoraWindow.setWindowState" class="function">setWindowState</dd>
                <dd id="BitacoraWindow.setWindowTitle" class="function">setWindowTitle</dd>
                <dd id="BitacoraWindow.sharedPainter" class="function">sharedPainter</dd>
                <dd id="BitacoraWindow.show" class="function">show</dd>
                <dd id="BitacoraWindow.showFullScreen" class="function">showFullScreen</dd>
                <dd id="BitacoraWindow.showMaximized" class="function">showMaximized</dd>
                <dd id="BitacoraWindow.showMinimized" class="function">showMinimized</dd>
                <dd id="BitacoraWindow.showNormal" class="function">showNormal</dd>
                <dd id="BitacoraWindow.size" class="function">size</dd>
                <dd id="BitacoraWindow.sizeIncrement" class="function">sizeIncrement</dd>
                <dd id="BitacoraWindow.sizePolicy" class="function">sizePolicy</dd>
                <dd id="BitacoraWindow.stackUnder" class="function">stackUnder</dd>
                <dd id="BitacoraWindow.statusTip" class="function">statusTip</dd>
                <dd id="BitacoraWindow.style" class="function">style</dd>
                <dd id="BitacoraWindow.styleSheet" class="function">styleSheet</dd>
                <dd id="BitacoraWindow.tabletEvent" class="function">tabletEvent</dd>
                <dd id="BitacoraWindow.testAttribute" class="function">testAttribute</dd>
                <dd id="BitacoraWindow.toolTip" class="function">toolTip</dd>
                <dd id="BitacoraWindow.toolTipDuration" class="function">toolTipDuration</dd>
                <dd id="BitacoraWindow.topLevelWidget" class="function">topLevelWidget</dd>
                <dd id="BitacoraWindow.underMouse" class="function">underMouse</dd>
                <dd id="BitacoraWindow.ungrabGesture" class="function">ungrabGesture</dd>
                <dd id="BitacoraWindow.unsetCursor" class="function">unsetCursor</dd>
                <dd id="BitacoraWindow.unsetLayoutDirection" class="function">unsetLayoutDirection</dd>
                <dd id="BitacoraWindow.unsetLocale" class="function">unsetLocale</dd>
                <dd id="BitacoraWindow.update" class="function">update</dd>
                <dd id="BitacoraWindow.updateGeometry" class="function">updateGeometry</dd>
                <dd id="BitacoraWindow.updateMicroFocus" class="function">updateMicroFocus</dd>
                <dd id="BitacoraWindow.updatesEnabled" class="function">updatesEnabled</dd>
                <dd id="BitacoraWindow.visibleRegion" class="function">visibleRegion</dd>
                <dd id="BitacoraWindow.whatsThis" class="function">whatsThis</dd>
                <dd id="BitacoraWindow.wheelEvent" class="function">wheelEvent</dd>
                <dd id="BitacoraWindow.width" class="function">width</dd>
                <dd id="BitacoraWindow.winId" class="function">winId</dd>
                <dd id="BitacoraWindow.window" class="function">window</dd>
                <dd id="BitacoraWindow.windowFilePath" class="function">windowFilePath</dd>
                <dd id="BitacoraWindow.windowFlags" class="function">windowFlags</dd>
                <dd id="BitacoraWindow.windowHandle" class="function">windowHandle</dd>
                <dd id="BitacoraWindow.windowIcon" class="function">windowIcon</dd>
                <dd id="BitacoraWindow.windowIconText" class="function">windowIconText</dd>
                <dd id="BitacoraWindow.windowModality" class="function">windowModality</dd>
                <dd id="BitacoraWindow.windowOpacity" class="function">windowOpacity</dd>
                <dd id="BitacoraWindow.windowRole" class="function">windowRole</dd>
                <dd id="BitacoraWindow.windowState" class="function">windowState</dd>
                <dd id="BitacoraWindow.windowTitle" class="function">windowTitle</dd>
                <dd id="BitacoraWindow.windowType" class="function">windowType</dd>
                <dd id="BitacoraWindow.x" class="function">x</dd>
                <dd id="BitacoraWindow.y" class="function">y</dd>
                <dd id="BitacoraWindow.RenderFlag" class="class">RenderFlag</dd>
                <dd id="BitacoraWindow.windowTitleChanged" class="function">windowTitleChanged</dd>
                <dd id="BitacoraWindow.windowIconChanged" class="function">windowIconChanged</dd>
                <dd id="BitacoraWindow.windowIconTextChanged" class="function">windowIconTextChanged</dd>
                <dd id="BitacoraWindow.customContextMenuRequested" class="function">customContextMenuRequested</dd>

            </div>
            <div><dt>PySide6.QtCore.QObject</dt>
                                <dd id="BitacoraWindow.blockSignals" class="function">blockSignals</dd>
                <dd id="BitacoraWindow.childEvent" class="function">childEvent</dd>
                <dd id="BitacoraWindow.children" class="function">children</dd>
                <dd id="BitacoraWindow.connect" class="function">connect</dd>
                <dd id="BitacoraWindow.connectNotify" class="function">connectNotify</dd>
                <dd id="BitacoraWindow.customEvent" class="function">customEvent</dd>
                <dd id="BitacoraWindow.deleteLater" class="function">deleteLater</dd>
                <dd id="BitacoraWindow.disconnect" class="function">disconnect</dd>
                <dd id="BitacoraWindow.disconnectNotify" class="function">disconnectNotify</dd>
                <dd id="BitacoraWindow.dumpObjectInfo" class="function">dumpObjectInfo</dd>
                <dd id="BitacoraWindow.dumpObjectTree" class="function">dumpObjectTree</dd>
                <dd id="BitacoraWindow.dynamicPropertyNames" class="function">dynamicPropertyNames</dd>
                <dd id="BitacoraWindow.emit" class="function">emit</dd>
                <dd id="BitacoraWindow.findChild" class="function">findChild</dd>
                <dd id="BitacoraWindow.findChildren" class="function">findChildren</dd>
                <dd id="BitacoraWindow.inherits" class="function">inherits</dd>
                <dd id="BitacoraWindow.installEventFilter" class="function">installEventFilter</dd>
                <dd id="BitacoraWindow.isQuickItemType" class="function">isQuickItemType</dd>
                <dd id="BitacoraWindow.isSignalConnected" class="function">isSignalConnected</dd>
                <dd id="BitacoraWindow.isWidgetType" class="function">isWidgetType</dd>
                <dd id="BitacoraWindow.isWindowType" class="function">isWindowType</dd>
                <dd id="BitacoraWindow.killTimer" class="function">killTimer</dd>
                <dd id="BitacoraWindow.metaObject" class="function">metaObject</dd>
                <dd id="BitacoraWindow.moveToThread" class="function">moveToThread</dd>
                <dd id="BitacoraWindow.objectName" class="function">objectName</dd>
                <dd id="BitacoraWindow.parent" class="function">parent</dd>
                <dd id="BitacoraWindow.property" class="function">property</dd>
                <dd id="BitacoraWindow.receivers" class="function">receivers</dd>
                <dd id="BitacoraWindow.removeEventFilter" class="function">removeEventFilter</dd>
                <dd id="BitacoraWindow.sender" class="function">sender</dd>
                <dd id="BitacoraWindow.senderSignalIndex" class="function">senderSignalIndex</dd>
                <dd id="BitacoraWindow.setObjectName" class="function">setObjectName</dd>
                <dd id="BitacoraWindow.setProperty" class="function">setProperty</dd>
                <dd id="BitacoraWindow.signalsBlocked" class="function">signalsBlocked</dd>
                <dd id="BitacoraWindow.startTimer" class="function">startTimer</dd>
                <dd id="BitacoraWindow.thread" class="function">thread</dd>
                <dd id="BitacoraWindow.timerEvent" class="function">timerEvent</dd>
                <dd id="BitacoraWindow.tr" class="function">tr</dd>
                <dd id="BitacoraWindow.destroyed" class="function">destroyed</dd>
                <dd id="BitacoraWindow.objectNameChanged" class="function">objectNameChanged</dd>

            </div>
            <div><dt>PySide6.QtGui.QPaintDevice</dt>
                                <dd id="BitacoraWindow.colorCount" class="function">colorCount</dd>
                <dd id="BitacoraWindow.depth" class="function">depth</dd>
                <dd id="BitacoraWindow.devicePixelRatio" class="function">devicePixelRatio</dd>
                <dd id="BitacoraWindow.devicePixelRatioF" class="function">devicePixelRatioF</dd>
                <dd id="BitacoraWindow.devicePixelRatioFScale" class="function">devicePixelRatioFScale</dd>
                <dd id="BitacoraWindow.heightMM" class="function">heightMM</dd>
                <dd id="BitacoraWindow.logicalDpiX" class="function">logicalDpiX</dd>
                <dd id="BitacoraWindow.logicalDpiY" class="function">logicalDpiY</dd>
                <dd id="BitacoraWindow.paintingActive" class="function">paintingActive</dd>
                <dd id="BitacoraWindow.physicalDpiX" class="function">physicalDpiX</dd>
                <dd id="BitacoraWindow.physicalDpiY" class="function">physicalDpiY</dd>
                <dd id="BitacoraWindow.widthMM" class="function">widthMM</dd>
                <dd id="BitacoraWindow.painters" class="variable">painters</dd>
                <dd id="BitacoraWindow.PaintDeviceMetric" class="class">PaintDeviceMetric</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="MasterWindow">
                            <input id="MasterWindow-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">MasterWindow</span><wbr>(<span class="base">PySide6.QtWidgets.QWidget</span>, <span class="base">ui_master.Ui_Formmaster</span>):

                <label class="view-source-button" for="MasterWindow-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MasterWindow"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MasterWindow-203"><a href="#MasterWindow-203"><span class="linenos">203</span></a><span class="k">class</span> <span class="nc">MasterWindow</span><span class="p">(</span><span class="n">QWidget</span><span class="p">,</span> <span class="n">Ui_Formmaster</span><span class="p">):</span>
</span><span id="MasterWindow-204"><a href="#MasterWindow-204"><span class="linenos">204</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MasterWindow-205"><a href="#MasterWindow-205"><span class="linenos">205</span></a><span class="sd">    Ventana principal para gestionar misiones y aventuras en el juego.</span>
</span><span id="MasterWindow-206"><a href="#MasterWindow-206"><span class="linenos">206</span></a>
</span><span id="MasterWindow-207"><a href="#MasterWindow-207"><span class="linenos">207</span></a><span class="sd">    Esta clase representa la ventana principal para los administradores de misiones en el juego. Permite al usuario continuar aventuras existentes, crear nuevas misiones y acceder a la pantalla de carga para avanzar en las aventuras.</span>
</span><span id="MasterWindow-208"><a href="#MasterWindow-208"><span class="linenos">208</span></a>
</span><span id="MasterWindow-209"><a href="#MasterWindow-209"><span class="linenos">209</span></a><span class="sd">    Métodos:</span>
</span><span id="MasterWindow-210"><a href="#MasterWindow-210"><span class="linenos">210</span></a><span class="sd">        __init__(self): Inicializa la ventana principal del master y configura los eventos de los botones.</span>
</span><span id="MasterWindow-211"><a href="#MasterWindow-211"><span class="linenos">211</span></a><span class="sd">        continuar_aventura(self): Cambia a la página para continuar una aventura existente.</span>
</span><span id="MasterWindow-212"><a href="#MasterWindow-212"><span class="linenos">212</span></a><span class="sd">        actualizar_referencia(self): Actualiza el contenido de la referencia de la sala basada en el nombre ingresado por el usuario.</span>
</span><span id="MasterWindow-213"><a href="#MasterWindow-213"><span class="linenos">213</span></a><span class="sd">        sigue_la_aventura(self): Muestra una ventana de carga y cambia a la pantalla del juego para una aventura existente.</span>
</span><span id="MasterWindow-214"><a href="#MasterWindow-214"><span class="linenos">214</span></a><span class="sd">        up_progress(self, nombre_sala): Actualiza el progreso de la barra de carga y abre la ventana del juego cuando el progreso alcanza el 100%.</span>
</span><span id="MasterWindow-215"><a href="#MasterWindow-215"><span class="linenos">215</span></a><span class="sd">        crear_nueva(self): Cambia a la página para crear una nueva misión.</span>
</span><span id="MasterWindow-216"><a href="#MasterWindow-216"><span class="linenos">216</span></a><span class="sd">        nueva_mission(self): Crea una nueva misión en la base de datos y muestra una ventana de carga mientras se actualiza el progreso.</span>
</span><span id="MasterWindow-217"><a href="#MasterWindow-217"><span class="linenos">217</span></a><span class="sd">        update_progress(self, nombre_sala): Actualiza el progreso de la barra de carga y abre la ventana del juego cuando el progreso alcanza el 100%.</span>
</span><span id="MasterWindow-218"><a href="#MasterWindow-218"><span class="linenos">218</span></a><span class="sd">        go_juego(self, nombre_sala): Cambia a la pantalla del juego para una nueva misión y actualiza el nombre de la sala actual.</span>
</span><span id="MasterWindow-219"><a href="#MasterWindow-219"><span class="linenos">219</span></a>
</span><span id="MasterWindow-220"><a href="#MasterWindow-220"><span class="linenos">220</span></a><span class="sd">    Atributos:</span>
</span><span id="MasterWindow-221"><a href="#MasterWindow-221"><span class="linenos">221</span></a><span class="sd">        btn_continuar (QPushButton): Botón para continuar una aventura existente.</span>
</span><span id="MasterWindow-222"><a href="#MasterWindow-222"><span class="linenos">222</span></a><span class="sd">        btn_nueva (QPushButton): Botón para crear una nueva misión.</span>
</span><span id="MasterWindow-223"><a href="#MasterWindow-223"><span class="linenos">223</span></a><span class="sd">        btn_crear (QPushButton): Botón para agregar una nueva misión en la base de datos.</span>
</span><span id="MasterWindow-224"><a href="#MasterWindow-224"><span class="linenos">224</span></a><span class="sd">        btn_inicio (QPushButton): Botón para iniciar una nueva aventura.</span>
</span><span id="MasterWindow-225"><a href="#MasterWindow-225"><span class="linenos">225</span></a><span class="sd">        nombre_sala (QLineEdit): Campo de texto para ingresar el nombre de la sala de juego.</span>
</span><span id="MasterWindow-226"><a href="#MasterWindow-226"><span class="linenos">226</span></a><span class="sd">        text_refe (QTextEdit): Área de texto para mostrar el contenido de la sala o los detalles de la referencia.</span>
</span><span id="MasterWindow-227"><a href="#MasterWindow-227"><span class="linenos">227</span></a><span class="sd">        tex_nuevo (QLineEdit): Campo de texto para ingresar el texto de la nueva misión.</span>
</span><span id="MasterWindow-228"><a href="#MasterWindow-228"><span class="linenos">228</span></a><span class="sd">        text_sala (QLineEdit): Campo de texto para ingresar el nombre de la sala para una nueva misión.</span>
</span><span id="MasterWindow-229"><a href="#MasterWindow-229"><span class="linenos">229</span></a><span class="sd">        stackedWidget (QStackedWidget): Widget de apilamiento para cambiar entre diferentes páginas de la ventana.</span>
</span><span id="MasterWindow-230"><a href="#MasterWindow-230"><span class="linenos">230</span></a><span class="sd">        page (QWidget): Página para la creación de nuevas misiones.</span>
</span><span id="MasterWindow-231"><a href="#MasterWindow-231"><span class="linenos">231</span></a><span class="sd">        page_2 (QWidget): Página para continuar una aventura existente.</span>
</span><span id="MasterWindow-232"><a href="#MasterWindow-232"><span class="linenos">232</span></a><span class="sd">        cargando_window (CargandoWindow): Ventana de carga mostrada mientras se actualiza el progreso.</span>
</span><span id="MasterWindow-233"><a href="#MasterWindow-233"><span class="linenos">233</span></a><span class="sd">        progress (int): Variable para almacenar el progreso de la barra de carga.</span>
</span><span id="MasterWindow-234"><a href="#MasterWindow-234"><span class="linenos">234</span></a><span class="sd">        timer (QTimer): Temporizador para actualizar la barra de carga.</span>
</span><span id="MasterWindow-235"><a href="#MasterWindow-235"><span class="linenos">235</span></a><span class="sd">        juego_window (JuegoWindow): Ventana de juego que se muestra cuando se continúa una aventura o se inicia una nueva misión.</span>
</span><span id="MasterWindow-236"><a href="#MasterWindow-236"><span class="linenos">236</span></a>
</span><span id="MasterWindow-237"><a href="#MasterWindow-237"><span class="linenos">237</span></a><span class="sd">    Excepciones:</span>
</span><span id="MasterWindow-238"><a href="#MasterWindow-238"><span class="linenos">238</span></a><span class="sd">        Captura errores de conexión o recuperación de datos de Firebase y muestra un mensaje de error adecuado al usuario.</span>
</span><span id="MasterWindow-239"><a href="#MasterWindow-239"><span class="linenos">239</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="MasterWindow-240"><a href="#MasterWindow-240"><span class="linenos">240</span></a>
</span><span id="MasterWindow-241"><a href="#MasterWindow-241"><span class="linenos">241</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MasterWindow-242"><a href="#MasterWindow-242"><span class="linenos">242</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MasterWindow-243"><a href="#MasterWindow-243"><span class="linenos">243</span></a><span class="sd">        Inicializa la ventana principal del master y configura los eventos de los botones.</span>
</span><span id="MasterWindow-244"><a href="#MasterWindow-244"><span class="linenos">244</span></a>
</span><span id="MasterWindow-245"><a href="#MasterWindow-245"><span class="linenos">245</span></a><span class="sd">        Configura los eventos de los botones para manejar las acciones de continuar aventuras, crear nuevas misiones y gestionar la carga de las misiones.</span>
</span><span id="MasterWindow-246"><a href="#MasterWindow-246"><span class="linenos">246</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MasterWindow-247"><a href="#MasterWindow-247"><span class="linenos">247</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">MasterWindow</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="MasterWindow-248"><a href="#MasterWindow-248"><span class="linenos">248</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="MasterWindow-249"><a href="#MasterWindow-249"><span class="linenos">249</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_continuar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">continuar_aventura</span><span class="p">)</span>
</span><span id="MasterWindow-250"><a href="#MasterWindow-250"><span class="linenos">250</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_nueva</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">crear_nueva</span><span class="p">)</span>
</span><span id="MasterWindow-251"><a href="#MasterWindow-251"><span class="linenos">251</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_crear</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nueva_mission</span><span class="p">)</span>
</span><span id="MasterWindow-252"><a href="#MasterWindow-252"><span class="linenos">252</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_inicio</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sigue_la_aventura</span><span class="p">)</span>  
</span><span id="MasterWindow-253"><a href="#MasterWindow-253"><span class="linenos">253</span></a>
</span><span id="MasterWindow-254"><a href="#MasterWindow-254"><span class="linenos">254</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nombre_sala</span><span class="o">.</span><span class="n">returnPressed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actualizar_referencia</span><span class="p">)</span>
</span><span id="MasterWindow-255"><a href="#MasterWindow-255"><span class="linenos">255</span></a>
</span><span id="MasterWindow-256"><a href="#MasterWindow-256"><span class="linenos">256</span></a>    <span class="k">def</span> <span class="nf">continuar_aventura</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MasterWindow-257"><a href="#MasterWindow-257"><span class="linenos">257</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MasterWindow-258"><a href="#MasterWindow-258"><span class="linenos">258</span></a><span class="sd">        Cambia a la página para continuar una aventura existente.</span>
</span><span id="MasterWindow-259"><a href="#MasterWindow-259"><span class="linenos">259</span></a>
</span><span id="MasterWindow-260"><a href="#MasterWindow-260"><span class="linenos">260</span></a><span class="sd">        Este método cambia el widget actual a la página para continuar una aventura existente, mostrando la interfaz para la gestión de aventuras.</span>
</span><span id="MasterWindow-261"><a href="#MasterWindow-261"><span class="linenos">261</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MasterWindow-262"><a href="#MasterWindow-262"><span class="linenos">262</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stackedWidget</span><span class="o">.</span><span class="n">setCurrentWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">page_2</span><span class="p">)</span>
</span><span id="MasterWindow-263"><a href="#MasterWindow-263"><span class="linenos">263</span></a>
</span><span id="MasterWindow-264"><a href="#MasterWindow-264"><span class="linenos">264</span></a>    <span class="k">def</span> <span class="nf">actualizar_referencia</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MasterWindow-265"><a href="#MasterWindow-265"><span class="linenos">265</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MasterWindow-266"><a href="#MasterWindow-266"><span class="linenos">266</span></a><span class="sd">        Actualiza el contenido de la referencia de la sala basada en el nombre ingresado por el usuario.</span>
</span><span id="MasterWindow-267"><a href="#MasterWindow-267"><span class="linenos">267</span></a>
</span><span id="MasterWindow-268"><a href="#MasterWindow-268"><span class="linenos">268</span></a><span class="sd">        Recupera los datos de la sala desde Firebase usando el nombre ingresado y muestra el último texto añadido, penalización y recompensa en el área de texto correspondiente.</span>
</span><span id="MasterWindow-269"><a href="#MasterWindow-269"><span class="linenos">269</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MasterWindow-270"><a href="#MasterWindow-270"><span class="linenos">270</span></a>        <span class="n">nombre_sala</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nombre_sala</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>  
</span><span id="MasterWindow-271"><a href="#MasterWindow-271"><span class="linenos">271</span></a>        <span class="k">if</span> <span class="n">nombre_sala</span><span class="p">:</span>
</span><span id="MasterWindow-272"><a href="#MasterWindow-272"><span class="linenos">272</span></a>            <span class="n">sala_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;unico_</span><span class="si">{</span><span class="n">nombre_sala</span><span class="si">}</span><span class="s1">&#39;</span>  
</span><span id="MasterWindow-273"><a href="#MasterWindow-273"><span class="linenos">273</span></a>            <span class="n">doc_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;PUNTOGUARDADO&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">sala_id</span><span class="p">)</span>  
</span><span id="MasterWindow-274"><a href="#MasterWindow-274"><span class="linenos">274</span></a>
</span><span id="MasterWindow-275"><a href="#MasterWindow-275"><span class="linenos">275</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="MasterWindow-276"><a href="#MasterWindow-276"><span class="linenos">276</span></a>                <span class="n">doc</span> <span class="o">=</span> <span class="n">doc_ref</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>  <span class="c1">#</span>
</span><span id="MasterWindow-277"><a href="#MasterWindow-277"><span class="linenos">277</span></a>                <span class="k">if</span> <span class="n">doc</span><span class="o">.</span><span class="n">exists</span><span class="p">:</span>
</span><span id="MasterWindow-278"><a href="#MasterWindow-278"><span class="linenos">278</span></a>                    <span class="n">data</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>  
</span><span id="MasterWindow-279"><a href="#MasterWindow-279"><span class="linenos">279</span></a>
</span><span id="MasterWindow-280"><a href="#MasterWindow-280"><span class="linenos">280</span></a>                    <span class="n">textos</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="MasterWindow-281"><a href="#MasterWindow-281"><span class="linenos">281</span></a>                    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
</span><span id="MasterWindow-282"><a href="#MasterWindow-282"><span class="linenos">282</span></a>                        <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;texto&#39;</span><span class="p">):</span>
</span><span id="MasterWindow-283"><a href="#MasterWindow-283"><span class="linenos">283</span></a>                            <span class="n">textos</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>
</span><span id="MasterWindow-284"><a href="#MasterWindow-284"><span class="linenos">284</span></a>                 
</span><span id="MasterWindow-285"><a href="#MasterWindow-285"><span class="linenos">285</span></a>                    <span class="k">if</span> <span class="n">textos</span><span class="p">:</span>
</span><span id="MasterWindow-286"><a href="#MasterWindow-286"><span class="linenos">286</span></a>                        <span class="n">ultimo_texto</span> <span class="o">=</span> <span class="n">textos</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  
</span><span id="MasterWindow-287"><a href="#MasterWindow-287"><span class="linenos">287</span></a>                        <span class="n">texto_mostrar</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Último texto añadido:</span><span class="se">\n</span><span class="si">{</span><span class="n">ultimo_texto</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">&quot;</span>
</span><span id="MasterWindow-288"><a href="#MasterWindow-288"><span class="linenos">288</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="MasterWindow-289"><a href="#MasterWindow-289"><span class="linenos">289</span></a>                        <span class="n">ultimo_texto</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="MasterWindow-290"><a href="#MasterWindow-290"><span class="linenos">290</span></a>                        <span class="n">texto_mostrar</span> <span class="o">=</span> <span class="s2">&quot;No hay textos añadidos.</span><span class="se">\n\n</span><span class="s2">&quot;</span>
</span><span id="MasterWindow-291"><a href="#MasterWindow-291"><span class="linenos">291</span></a>                  
</span><span id="MasterWindow-292"><a href="#MasterWindow-292"><span class="linenos">292</span></a>                    <span class="n">penalizacion</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;penalizacion&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="MasterWindow-293"><a href="#MasterWindow-293"><span class="linenos">293</span></a>                    <span class="n">recompensa</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;recompensa&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="MasterWindow-294"><a href="#MasterWindow-294"><span class="linenos">294</span></a>
</span><span id="MasterWindow-295"><a href="#MasterWindow-295"><span class="linenos">295</span></a>                    <span class="k">if</span> <span class="n">penalizacion</span> <span class="ow">or</span> <span class="n">recompensa</span><span class="p">:</span>
</span><span id="MasterWindow-296"><a href="#MasterWindow-296"><span class="linenos">296</span></a>                        <span class="n">texto_mostrar</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;Penalización: </span><span class="si">{</span><span class="n">penalizacion</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">penalizacion</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
</span><span id="MasterWindow-297"><a href="#MasterWindow-297"><span class="linenos">297</span></a>                        <span class="n">texto_mostrar</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;Recompensa: </span><span class="si">{</span><span class="n">recompensa</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">recompensa</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
</span><span id="MasterWindow-298"><a href="#MasterWindow-298"><span class="linenos">298</span></a>
</span><span id="MasterWindow-299"><a href="#MasterWindow-299"><span class="linenos">299</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">text_refe</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="n">texto_mostrar</span><span class="p">)</span>  
</span><span id="MasterWindow-300"><a href="#MasterWindow-300"><span class="linenos">300</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Último texto añadido: </span><span class="si">{</span><span class="n">ultimo_texto</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> 
</span><span id="MasterWindow-301"><a href="#MasterWindow-301"><span class="linenos">301</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Penalización: </span><span class="si">{</span><span class="n">penalizacion</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  
</span><span id="MasterWindow-302"><a href="#MasterWindow-302"><span class="linenos">302</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Recompensa: </span><span class="si">{</span><span class="n">recompensa</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  
</span><span id="MasterWindow-303"><a href="#MasterWindow-303"><span class="linenos">303</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="MasterWindow-304"><a href="#MasterWindow-304"><span class="linenos">304</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">text_refe</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="s1">&#39;La sala no existe.&#39;</span><span class="p">)</span> 
</span><span id="MasterWindow-305"><a href="#MasterWindow-305"><span class="linenos">305</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;La sala &#39;</span><span class="si">{</span><span class="n">nombre_sala</span><span class="si">}</span><span class="s2">&#39; no existe.&quot;</span><span class="p">)</span> 
</span><span id="MasterWindow-306"><a href="#MasterWindow-306"><span class="linenos">306</span></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="MasterWindow-307"><a href="#MasterWindow-307"><span class="linenos">307</span></a>                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Error al recuperar los datos de la sala: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="MasterWindow-308"><a href="#MasterWindow-308"><span class="linenos">308</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Excepción al recuperar los datos de la sala: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> 
</span><span id="MasterWindow-309"><a href="#MasterWindow-309"><span class="linenos">309</span></a>    
</span><span id="MasterWindow-310"><a href="#MasterWindow-310"><span class="linenos">310</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Nombre de sala vacío.&quot;</span><span class="p">)</span>  
</span><span id="MasterWindow-311"><a href="#MasterWindow-311"><span class="linenos">311</span></a>
</span><span id="MasterWindow-312"><a href="#MasterWindow-312"><span class="linenos">312</span></a>    <span class="k">def</span> <span class="nf">sigue_la_aventura</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MasterWindow-313"><a href="#MasterWindow-313"><span class="linenos">313</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MasterWindow-314"><a href="#MasterWindow-314"><span class="linenos">314</span></a><span class="sd">        Muestra una ventana de carga y cambia a la pantalla del juego para una aventura existente.</span>
</span><span id="MasterWindow-315"><a href="#MasterWindow-315"><span class="linenos">315</span></a>
</span><span id="MasterWindow-316"><a href="#MasterWindow-316"><span class="linenos">316</span></a><span class="sd">        Muestra una ventana de carga mientras se actualiza el progreso, y luego cambia a la pantalla del juego para la sala especificada por el usuario.</span>
</span><span id="MasterWindow-317"><a href="#MasterWindow-317"><span class="linenos">317</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MasterWindow-318"><a href="#MasterWindow-318"><span class="linenos">318</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cargando_window</span> <span class="o">=</span> <span class="n">CargandoWindow</span><span class="p">()</span>
</span><span id="MasterWindow-319"><a href="#MasterWindow-319"><span class="linenos">319</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cargando_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="MasterWindow-320"><a href="#MasterWindow-320"><span class="linenos">320</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">progress</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="MasterWindow-321"><a href="#MasterWindow-321"><span class="linenos">321</span></a>        
</span><span id="MasterWindow-322"><a href="#MasterWindow-322"><span class="linenos">322</span></a>        <span class="n">nombre_sala</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nombre_sala</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>  
</span><span id="MasterWindow-323"><a href="#MasterWindow-323"><span class="linenos">323</span></a>        <span class="k">if</span> <span class="n">nombre_sala</span><span class="p">:</span>
</span><span id="MasterWindow-324"><a href="#MasterWindow-324"><span class="linenos">324</span></a>            <span class="n">sala_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;unico_</span><span class="si">{</span><span class="n">nombre_sala</span><span class="si">}</span><span class="s1">&#39;</span>  
</span><span id="MasterWindow-325"><a href="#MasterWindow-325"><span class="linenos">325</span></a>            <span class="n">doc_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;PUNTOGUARDADO&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">sala_id</span><span class="p">)</span>  
</span><span id="MasterWindow-326"><a href="#MasterWindow-326"><span class="linenos">326</span></a>            
</span><span id="MasterWindow-327"><a href="#MasterWindow-327"><span class="linenos">327</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="MasterWindow-328"><a href="#MasterWindow-328"><span class="linenos">328</span></a>                <span class="n">doc</span> <span class="o">=</span> <span class="n">doc_ref</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>  
</span><span id="MasterWindow-329"><a href="#MasterWindow-329"><span class="linenos">329</span></a>                <span class="k">if</span> <span class="n">doc</span><span class="o">.</span><span class="n">exists</span><span class="p">:</span>
</span><span id="MasterWindow-330"><a href="#MasterWindow-330"><span class="linenos">330</span></a>                    <span class="n">data</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>  
</span><span id="MasterWindow-331"><a href="#MasterWindow-331"><span class="linenos">331</span></a>                    <span class="n">texto_sala</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;contenido&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>  
</span><span id="MasterWindow-332"><a href="#MasterWindow-332"><span class="linenos">332</span></a>
</span><span id="MasterWindow-333"><a href="#MasterWindow-333"><span class="linenos">333</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">text_refe</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="n">texto_sala</span><span class="p">)</span>
</span><span id="MasterWindow-334"><a href="#MasterWindow-334"><span class="linenos">334</span></a>
</span><span id="MasterWindow-335"><a href="#MasterWindow-335"><span class="linenos">335</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">timer</span> <span class="o">=</span> <span class="n">QTimer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="MasterWindow-336"><a href="#MasterWindow-336"><span class="linenos">336</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">timeout</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">up_progress</span><span class="p">(</span><span class="n">nombre_sala</span><span class="p">))</span> 
</span><span id="MasterWindow-337"><a href="#MasterWindow-337"><span class="linenos">337</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>  
</span><span id="MasterWindow-338"><a href="#MasterWindow-338"><span class="linenos">338</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="MasterWindow-339"><a href="#MasterWindow-339"><span class="linenos">339</span></a>                    <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;La sala no existe.&#39;</span><span class="p">)</span>
</span><span id="MasterWindow-340"><a href="#MasterWindow-340"><span class="linenos">340</span></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="MasterWindow-341"><a href="#MasterWindow-341"><span class="linenos">341</span></a>                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Error al recuperar los datos de la sala: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="MasterWindow-342"><a href="#MasterWindow-342"><span class="linenos">342</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="MasterWindow-343"><a href="#MasterWindow-343"><span class="linenos">343</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Por favor, ingresa el nombre de la sala.&#39;</span><span class="p">)</span>
</span><span id="MasterWindow-344"><a href="#MasterWindow-344"><span class="linenos">344</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="MasterWindow-345"><a href="#MasterWindow-345"><span class="linenos">345</span></a>
</span><span id="MasterWindow-346"><a href="#MasterWindow-346"><span class="linenos">346</span></a>    <span class="k">def</span> <span class="nf">up_progress</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre_sala</span><span class="p">):</span>
</span><span id="MasterWindow-347"><a href="#MasterWindow-347"><span class="linenos">347</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MasterWindow-348"><a href="#MasterWindow-348"><span class="linenos">348</span></a><span class="sd">        Actualiza el progreso de la barra de carga y abre la ventana del juego cuando el progreso alcanza el 100%.</span>
</span><span id="MasterWindow-349"><a href="#MasterWindow-349"><span class="linenos">349</span></a>
</span><span id="MasterWindow-350"><a href="#MasterWindow-350"><span class="linenos">350</span></a><span class="sd">        Este método aumenta el progreso de la barra de carga y, cuando llega al 100%, detiene el temporizador y abre la ventana del juego.</span>
</span><span id="MasterWindow-351"><a href="#MasterWindow-351"><span class="linenos">351</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MasterWindow-352"><a href="#MasterWindow-352"><span class="linenos">352</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">progress</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="MasterWindow-353"><a href="#MasterWindow-353"><span class="linenos">353</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">progress</span> <span class="o">&gt;=</span> <span class="mi">100</span><span class="p">:</span>
</span><span id="MasterWindow-354"><a href="#MasterWindow-354"><span class="linenos">354</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</span><span id="MasterWindow-355"><a href="#MasterWindow-355"><span class="linenos">355</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">cargando_window</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="MasterWindow-356"><a href="#MasterWindow-356"><span class="linenos">356</span></a>            
</span><span id="MasterWindow-357"><a href="#MasterWindow-357"><span class="linenos">357</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">juego_window</span> <span class="o">=</span> <span class="n">JuegoWindow</span><span class="p">(</span><span class="n">nombre_sala</span><span class="p">)</span> 
</span><span id="MasterWindow-358"><a href="#MasterWindow-358"><span class="linenos">358</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">juego_window</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sala Actual: </span><span class="si">{</span><span class="n">nombre_sala</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  
</span><span id="MasterWindow-359"><a href="#MasterWindow-359"><span class="linenos">359</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">juego_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>  
</span><span id="MasterWindow-360"><a href="#MasterWindow-360"><span class="linenos">360</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="MasterWindow-361"><a href="#MasterWindow-361"><span class="linenos">361</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">cargando_window</span><span class="o">.</span><span class="n">barra_cargado</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">progress</span><span class="p">)</span>
</span><span id="MasterWindow-362"><a href="#MasterWindow-362"><span class="linenos">362</span></a>
</span><span id="MasterWindow-363"><a href="#MasterWindow-363"><span class="linenos">363</span></a>    <span class="k">def</span> <span class="nf">crear_nueva</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MasterWindow-364"><a href="#MasterWindow-364"><span class="linenos">364</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MasterWindow-365"><a href="#MasterWindow-365"><span class="linenos">365</span></a><span class="sd">        Cambia a la página para crear una nueva misión.</span>
</span><span id="MasterWindow-366"><a href="#MasterWindow-366"><span class="linenos">366</span></a>
</span><span id="MasterWindow-367"><a href="#MasterWindow-367"><span class="linenos">367</span></a><span class="sd">        Este método cambia el widget actual a la página donde el usuario puede ingresar los detalles de una nueva misión.</span>
</span><span id="MasterWindow-368"><a href="#MasterWindow-368"><span class="linenos">368</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MasterWindow-369"><a href="#MasterWindow-369"><span class="linenos">369</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stackedWidget</span><span class="o">.</span><span class="n">setCurrentWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">page</span><span class="p">)</span>
</span><span id="MasterWindow-370"><a href="#MasterWindow-370"><span class="linenos">370</span></a>
</span><span id="MasterWindow-371"><a href="#MasterWindow-371"><span class="linenos">371</span></a>    <span class="k">def</span> <span class="nf">nueva_mission</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MasterWindow-372"><a href="#MasterWindow-372"><span class="linenos">372</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MasterWindow-373"><a href="#MasterWindow-373"><span class="linenos">373</span></a><span class="sd">        Crea una nueva misión en la base de datos y muestra una ventana de carga mientras se actualiza el progreso.</span>
</span><span id="MasterWindow-374"><a href="#MasterWindow-374"><span class="linenos">374</span></a>
</span><span id="MasterWindow-375"><a href="#MasterWindow-375"><span class="linenos">375</span></a><span class="sd">        Este método toma el texto de la nueva misión y el nombre de la sala, crea una nueva entrada en la base de datos y muestra una ventana de carga mientras se actualiza el progreso.</span>
</span><span id="MasterWindow-376"><a href="#MasterWindow-376"><span class="linenos">376</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MasterWindow-377"><a href="#MasterWindow-377"><span class="linenos">377</span></a>        <span class="n">tex_nuevo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tex_nuevo</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="MasterWindow-378"><a href="#MasterWindow-378"><span class="linenos">378</span></a>        <span class="n">nombre_sala</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_sala</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="MasterWindow-379"><a href="#MasterWindow-379"><span class="linenos">379</span></a>
</span><span id="MasterWindow-380"><a href="#MasterWindow-380"><span class="linenos">380</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">tex_nuevo</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">nombre_sala</span><span class="p">:</span>
</span><span id="MasterWindow-381"><a href="#MasterWindow-381"><span class="linenos">381</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Introduce el nombre de la sala y el texto de la nueva misión.&#39;</span><span class="p">)</span>
</span><span id="MasterWindow-382"><a href="#MasterWindow-382"><span class="linenos">382</span></a>            <span class="k">return</span>
</span><span id="MasterWindow-383"><a href="#MasterWindow-383"><span class="linenos">383</span></a>
</span><span id="MasterWindow-384"><a href="#MasterWindow-384"><span class="linenos">384</span></a>        <span class="n">salas_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;PUNTOGUARDADO&#39;</span><span class="p">)</span>
</span><span id="MasterWindow-385"><a href="#MasterWindow-385"><span class="linenos">385</span></a>        <span class="n">salas_ref</span><span class="o">.</span><span class="n">add</span><span class="p">({</span>
</span><span id="MasterWindow-386"><a href="#MasterWindow-386"><span class="linenos">386</span></a>            <span class="s1">&#39;nombre&#39;</span><span class="p">:</span> <span class="n">nombre_sala</span><span class="p">,</span>
</span><span id="MasterWindow-387"><a href="#MasterWindow-387"><span class="linenos">387</span></a>            <span class="s1">&#39;contenido&#39;</span><span class="p">:</span> <span class="n">tex_nuevo</span><span class="p">,</span>
</span><span id="MasterWindow-388"><a href="#MasterWindow-388"><span class="linenos">388</span></a>            <span class="s1">&#39;misiones&#39;</span><span class="p">:</span> <span class="p">[],</span> 
</span><span id="MasterWindow-389"><a href="#MasterWindow-389"><span class="linenos">389</span></a>        <span class="p">})</span>
</span><span id="MasterWindow-390"><a href="#MasterWindow-390"><span class="linenos">390</span></a>
</span><span id="MasterWindow-391"><a href="#MasterWindow-391"><span class="linenos">391</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cargando_window</span> <span class="o">=</span> <span class="n">CargandoWindow</span><span class="p">()</span>
</span><span id="MasterWindow-392"><a href="#MasterWindow-392"><span class="linenos">392</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cargando_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="MasterWindow-393"><a href="#MasterWindow-393"><span class="linenos">393</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span> <span class="o">=</span> <span class="n">QTimer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="MasterWindow-394"><a href="#MasterWindow-394"><span class="linenos">394</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">timeout</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">update_progress</span><span class="p">(</span><span class="n">nombre_sala</span><span class="p">))</span> 
</span><span id="MasterWindow-395"><a href="#MasterWindow-395"><span class="linenos">395</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">progress</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="MasterWindow-396"><a href="#MasterWindow-396"><span class="linenos">396</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>  
</span><span id="MasterWindow-397"><a href="#MasterWindow-397"><span class="linenos">397</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="MasterWindow-398"><a href="#MasterWindow-398"><span class="linenos">398</span></a>
</span><span id="MasterWindow-399"><a href="#MasterWindow-399"><span class="linenos">399</span></a>    <span class="k">def</span> <span class="nf">update_progress</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre_sala</span><span class="p">):</span>
</span><span id="MasterWindow-400"><a href="#MasterWindow-400"><span class="linenos">400</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MasterWindow-401"><a href="#MasterWindow-401"><span class="linenos">401</span></a><span class="sd">        Actualiza el progreso de la barra de carga y abre la ventana del juego cuando el progreso alcanza el 100%.</span>
</span><span id="MasterWindow-402"><a href="#MasterWindow-402"><span class="linenos">402</span></a>
</span><span id="MasterWindow-403"><a href="#MasterWindow-403"><span class="linenos">403</span></a><span class="sd">        Este método aumenta el progreso de la barra de carga y, cuando llega al 100%, detiene el temporizador y abre la ventana del juego.</span>
</span><span id="MasterWindow-404"><a href="#MasterWindow-404"><span class="linenos">404</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MasterWindow-405"><a href="#MasterWindow-405"><span class="linenos">405</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">progress</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="MasterWindow-406"><a href="#MasterWindow-406"><span class="linenos">406</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">progress</span> <span class="o">&gt;=</span> <span class="mi">100</span><span class="p">:</span>
</span><span id="MasterWindow-407"><a href="#MasterWindow-407"><span class="linenos">407</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</span><span id="MasterWindow-408"><a href="#MasterWindow-408"><span class="linenos">408</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">go_juego</span><span class="p">(</span><span class="n">nombre_sala</span><span class="p">)</span>
</span><span id="MasterWindow-409"><a href="#MasterWindow-409"><span class="linenos">409</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="MasterWindow-410"><a href="#MasterWindow-410"><span class="linenos">410</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">cargando_window</span><span class="o">.</span><span class="n">barra_cargado</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">progress</span><span class="p">)</span>
</span><span id="MasterWindow-411"><a href="#MasterWindow-411"><span class="linenos">411</span></a>
</span><span id="MasterWindow-412"><a href="#MasterWindow-412"><span class="linenos">412</span></a>    <span class="k">def</span> <span class="nf">go_juego</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre_sala</span><span class="p">):</span>
</span><span id="MasterWindow-413"><a href="#MasterWindow-413"><span class="linenos">413</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MasterWindow-414"><a href="#MasterWindow-414"><span class="linenos">414</span></a><span class="sd">        Cambia a la pantalla del juego para una nueva misión y actualiza el nombre de la sala actual.</span>
</span><span id="MasterWindow-415"><a href="#MasterWindow-415"><span class="linenos">415</span></a>
</span><span id="MasterWindow-416"><a href="#MasterWindow-416"><span class="linenos">416</span></a><span class="sd">        Este método cambia a la ventana de juego para la nueva misión creada y actualiza el nombre de la sala actual.</span>
</span><span id="MasterWindow-417"><a href="#MasterWindow-417"><span class="linenos">417</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MasterWindow-418"><a href="#MasterWindow-418"><span class="linenos">418</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">juego_window</span> <span class="o">=</span> <span class="n">JuegoWindow</span><span class="p">(</span><span class="n">nombre_sala</span><span class="p">)</span>
</span><span id="MasterWindow-419"><a href="#MasterWindow-419"><span class="linenos">419</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">juego_window</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Sala Actual: &quot;</span> <span class="o">+</span> <span class="n">nombre_sala</span><span class="p">)</span>
</span><span id="MasterWindow-420"><a href="#MasterWindow-420"><span class="linenos">420</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">juego_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="MasterWindow-421"><a href="#MasterWindow-421"><span class="linenos">421</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cargando_window</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Ventana principal para gestionar misiones y aventuras en el juego.</p>

<p>Esta clase representa la ventana principal para los administradores de misiones en el juego. Permite al usuario continuar aventuras existentes, crear nuevas misiones y acceder a la pantalla de carga para avanzar en las aventuras.</p>

<p>Métodos:
    __init__(self): Inicializa la ventana principal del master y configura los eventos de los botones.
    continuar_aventura(self): Cambia a la página para continuar una aventura existente.
    actualizar_referencia(self): Actualiza el contenido de la referencia de la sala basada en el nombre ingresado por el usuario.
    sigue_la_aventura(self): Muestra una ventana de carga y cambia a la pantalla del juego para una aventura existente.
    up_progress(self, nombre_sala): Actualiza el progreso de la barra de carga y abre la ventana del juego cuando el progreso alcanza el 100%.
    crear_nueva(self): Cambia a la página para crear una nueva misión.
    nueva_mission(self): Crea una nueva misión en la base de datos y muestra una ventana de carga mientras se actualiza el progreso.
    update_progress(self, nombre_sala): Actualiza el progreso de la barra de carga y abre la ventana del juego cuando el progreso alcanza el 100%.
    go_juego(self, nombre_sala): Cambia a la pantalla del juego para una nueva misión y actualiza el nombre de la sala actual.</p>

<p>Atributos:
    btn_continuar (QPushButton): Botón para continuar una aventura existente.
    btn_nueva (QPushButton): Botón para crear una nueva misión.
    btn_crear (QPushButton): Botón para agregar una nueva misión en la base de datos.
    btn_inicio (QPushButton): Botón para iniciar una nueva aventura.
    nombre_sala (QLineEdit): Campo de texto para ingresar el nombre de la sala de juego.
    text_refe (QTextEdit): Área de texto para mostrar el contenido de la sala o los detalles de la referencia.
    tex_nuevo (QLineEdit): Campo de texto para ingresar el texto de la nueva misión.
    text_sala (QLineEdit): Campo de texto para ingresar el nombre de la sala para una nueva misión.
    stackedWidget (QStackedWidget): Widget de apilamiento para cambiar entre diferentes páginas de la ventana.
    page (QWidget): Página para la creación de nuevas misiones.
    page_2 (QWidget): Página para continuar una aventura existente.
    cargando_window (CargandoWindow): Ventana de carga mostrada mientras se actualiza el progreso.
    progress (int): Variable para almacenar el progreso de la barra de carga.
    timer (QTimer): Temporizador para actualizar la barra de carga.
    juego_window (JuegoWindow): Ventana de juego que se muestra cuando se continúa una aventura o se inicia una nueva misión.</p>

<p>Excepciones:
    Captura errores de conexión o recuperación de datos de Firebase y muestra un mensaje de error adecuado al usuario.</p>
</div>


                            <div id="MasterWindow.__init__" class="classattr">
                                        <input id="MasterWindow.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">MasterWindow</span><span class="signature pdoc-code condensed">()</span>

                <label class="view-source-button" for="MasterWindow.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MasterWindow.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MasterWindow.__init__-241"><a href="#MasterWindow.__init__-241"><span class="linenos">241</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MasterWindow.__init__-242"><a href="#MasterWindow.__init__-242"><span class="linenos">242</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MasterWindow.__init__-243"><a href="#MasterWindow.__init__-243"><span class="linenos">243</span></a><span class="sd">        Inicializa la ventana principal del master y configura los eventos de los botones.</span>
</span><span id="MasterWindow.__init__-244"><a href="#MasterWindow.__init__-244"><span class="linenos">244</span></a>
</span><span id="MasterWindow.__init__-245"><a href="#MasterWindow.__init__-245"><span class="linenos">245</span></a><span class="sd">        Configura los eventos de los botones para manejar las acciones de continuar aventuras, crear nuevas misiones y gestionar la carga de las misiones.</span>
</span><span id="MasterWindow.__init__-246"><a href="#MasterWindow.__init__-246"><span class="linenos">246</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MasterWindow.__init__-247"><a href="#MasterWindow.__init__-247"><span class="linenos">247</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">MasterWindow</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="MasterWindow.__init__-248"><a href="#MasterWindow.__init__-248"><span class="linenos">248</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="MasterWindow.__init__-249"><a href="#MasterWindow.__init__-249"><span class="linenos">249</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_continuar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">continuar_aventura</span><span class="p">)</span>
</span><span id="MasterWindow.__init__-250"><a href="#MasterWindow.__init__-250"><span class="linenos">250</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_nueva</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">crear_nueva</span><span class="p">)</span>
</span><span id="MasterWindow.__init__-251"><a href="#MasterWindow.__init__-251"><span class="linenos">251</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_crear</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nueva_mission</span><span class="p">)</span>
</span><span id="MasterWindow.__init__-252"><a href="#MasterWindow.__init__-252"><span class="linenos">252</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_inicio</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sigue_la_aventura</span><span class="p">)</span>  
</span><span id="MasterWindow.__init__-253"><a href="#MasterWindow.__init__-253"><span class="linenos">253</span></a>
</span><span id="MasterWindow.__init__-254"><a href="#MasterWindow.__init__-254"><span class="linenos">254</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nombre_sala</span><span class="o">.</span><span class="n">returnPressed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">actualizar_referencia</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Inicializa la ventana principal del master y configura los eventos de los botones.</p>

<p>Configura los eventos de los botones para manejar las acciones de continuar aventuras, crear nuevas misiones y gestionar la carga de las misiones.</p>
</div>


                            </div>
                            <div id="MasterWindow.continuar_aventura" class="classattr">
                                        <input id="MasterWindow.continuar_aventura-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">continuar_aventura</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="MasterWindow.continuar_aventura-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MasterWindow.continuar_aventura"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MasterWindow.continuar_aventura-256"><a href="#MasterWindow.continuar_aventura-256"><span class="linenos">256</span></a>    <span class="k">def</span> <span class="nf">continuar_aventura</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MasterWindow.continuar_aventura-257"><a href="#MasterWindow.continuar_aventura-257"><span class="linenos">257</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MasterWindow.continuar_aventura-258"><a href="#MasterWindow.continuar_aventura-258"><span class="linenos">258</span></a><span class="sd">        Cambia a la página para continuar una aventura existente.</span>
</span><span id="MasterWindow.continuar_aventura-259"><a href="#MasterWindow.continuar_aventura-259"><span class="linenos">259</span></a>
</span><span id="MasterWindow.continuar_aventura-260"><a href="#MasterWindow.continuar_aventura-260"><span class="linenos">260</span></a><span class="sd">        Este método cambia el widget actual a la página para continuar una aventura existente, mostrando la interfaz para la gestión de aventuras.</span>
</span><span id="MasterWindow.continuar_aventura-261"><a href="#MasterWindow.continuar_aventura-261"><span class="linenos">261</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MasterWindow.continuar_aventura-262"><a href="#MasterWindow.continuar_aventura-262"><span class="linenos">262</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stackedWidget</span><span class="o">.</span><span class="n">setCurrentWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">page_2</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Cambia a la página para continuar una aventura existente.</p>

<p>Este método cambia el widget actual a la página para continuar una aventura existente, mostrando la interfaz para la gestión de aventuras.</p>
</div>


                            </div>
                            <div id="MasterWindow.actualizar_referencia" class="classattr">
                                        <input id="MasterWindow.actualizar_referencia-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">actualizar_referencia</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="MasterWindow.actualizar_referencia-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MasterWindow.actualizar_referencia"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MasterWindow.actualizar_referencia-264"><a href="#MasterWindow.actualizar_referencia-264"><span class="linenos">264</span></a>    <span class="k">def</span> <span class="nf">actualizar_referencia</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MasterWindow.actualizar_referencia-265"><a href="#MasterWindow.actualizar_referencia-265"><span class="linenos">265</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MasterWindow.actualizar_referencia-266"><a href="#MasterWindow.actualizar_referencia-266"><span class="linenos">266</span></a><span class="sd">        Actualiza el contenido de la referencia de la sala basada en el nombre ingresado por el usuario.</span>
</span><span id="MasterWindow.actualizar_referencia-267"><a href="#MasterWindow.actualizar_referencia-267"><span class="linenos">267</span></a>
</span><span id="MasterWindow.actualizar_referencia-268"><a href="#MasterWindow.actualizar_referencia-268"><span class="linenos">268</span></a><span class="sd">        Recupera los datos de la sala desde Firebase usando el nombre ingresado y muestra el último texto añadido, penalización y recompensa en el área de texto correspondiente.</span>
</span><span id="MasterWindow.actualizar_referencia-269"><a href="#MasterWindow.actualizar_referencia-269"><span class="linenos">269</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MasterWindow.actualizar_referencia-270"><a href="#MasterWindow.actualizar_referencia-270"><span class="linenos">270</span></a>        <span class="n">nombre_sala</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nombre_sala</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>  
</span><span id="MasterWindow.actualizar_referencia-271"><a href="#MasterWindow.actualizar_referencia-271"><span class="linenos">271</span></a>        <span class="k">if</span> <span class="n">nombre_sala</span><span class="p">:</span>
</span><span id="MasterWindow.actualizar_referencia-272"><a href="#MasterWindow.actualizar_referencia-272"><span class="linenos">272</span></a>            <span class="n">sala_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;unico_</span><span class="si">{</span><span class="n">nombre_sala</span><span class="si">}</span><span class="s1">&#39;</span>  
</span><span id="MasterWindow.actualizar_referencia-273"><a href="#MasterWindow.actualizar_referencia-273"><span class="linenos">273</span></a>            <span class="n">doc_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;PUNTOGUARDADO&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">sala_id</span><span class="p">)</span>  
</span><span id="MasterWindow.actualizar_referencia-274"><a href="#MasterWindow.actualizar_referencia-274"><span class="linenos">274</span></a>
</span><span id="MasterWindow.actualizar_referencia-275"><a href="#MasterWindow.actualizar_referencia-275"><span class="linenos">275</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="MasterWindow.actualizar_referencia-276"><a href="#MasterWindow.actualizar_referencia-276"><span class="linenos">276</span></a>                <span class="n">doc</span> <span class="o">=</span> <span class="n">doc_ref</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>  <span class="c1">#</span>
</span><span id="MasterWindow.actualizar_referencia-277"><a href="#MasterWindow.actualizar_referencia-277"><span class="linenos">277</span></a>                <span class="k">if</span> <span class="n">doc</span><span class="o">.</span><span class="n">exists</span><span class="p">:</span>
</span><span id="MasterWindow.actualizar_referencia-278"><a href="#MasterWindow.actualizar_referencia-278"><span class="linenos">278</span></a>                    <span class="n">data</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>  
</span><span id="MasterWindow.actualizar_referencia-279"><a href="#MasterWindow.actualizar_referencia-279"><span class="linenos">279</span></a>
</span><span id="MasterWindow.actualizar_referencia-280"><a href="#MasterWindow.actualizar_referencia-280"><span class="linenos">280</span></a>                    <span class="n">textos</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="MasterWindow.actualizar_referencia-281"><a href="#MasterWindow.actualizar_referencia-281"><span class="linenos">281</span></a>                    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
</span><span id="MasterWindow.actualizar_referencia-282"><a href="#MasterWindow.actualizar_referencia-282"><span class="linenos">282</span></a>                        <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;texto&#39;</span><span class="p">):</span>
</span><span id="MasterWindow.actualizar_referencia-283"><a href="#MasterWindow.actualizar_referencia-283"><span class="linenos">283</span></a>                            <span class="n">textos</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>
</span><span id="MasterWindow.actualizar_referencia-284"><a href="#MasterWindow.actualizar_referencia-284"><span class="linenos">284</span></a>                 
</span><span id="MasterWindow.actualizar_referencia-285"><a href="#MasterWindow.actualizar_referencia-285"><span class="linenos">285</span></a>                    <span class="k">if</span> <span class="n">textos</span><span class="p">:</span>
</span><span id="MasterWindow.actualizar_referencia-286"><a href="#MasterWindow.actualizar_referencia-286"><span class="linenos">286</span></a>                        <span class="n">ultimo_texto</span> <span class="o">=</span> <span class="n">textos</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  
</span><span id="MasterWindow.actualizar_referencia-287"><a href="#MasterWindow.actualizar_referencia-287"><span class="linenos">287</span></a>                        <span class="n">texto_mostrar</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Último texto añadido:</span><span class="se">\n</span><span class="si">{</span><span class="n">ultimo_texto</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">&quot;</span>
</span><span id="MasterWindow.actualizar_referencia-288"><a href="#MasterWindow.actualizar_referencia-288"><span class="linenos">288</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="MasterWindow.actualizar_referencia-289"><a href="#MasterWindow.actualizar_referencia-289"><span class="linenos">289</span></a>                        <span class="n">ultimo_texto</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
</span><span id="MasterWindow.actualizar_referencia-290"><a href="#MasterWindow.actualizar_referencia-290"><span class="linenos">290</span></a>                        <span class="n">texto_mostrar</span> <span class="o">=</span> <span class="s2">&quot;No hay textos añadidos.</span><span class="se">\n\n</span><span class="s2">&quot;</span>
</span><span id="MasterWindow.actualizar_referencia-291"><a href="#MasterWindow.actualizar_referencia-291"><span class="linenos">291</span></a>                  
</span><span id="MasterWindow.actualizar_referencia-292"><a href="#MasterWindow.actualizar_referencia-292"><span class="linenos">292</span></a>                    <span class="n">penalizacion</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;penalizacion&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="MasterWindow.actualizar_referencia-293"><a href="#MasterWindow.actualizar_referencia-293"><span class="linenos">293</span></a>                    <span class="n">recompensa</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;recompensa&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="MasterWindow.actualizar_referencia-294"><a href="#MasterWindow.actualizar_referencia-294"><span class="linenos">294</span></a>
</span><span id="MasterWindow.actualizar_referencia-295"><a href="#MasterWindow.actualizar_referencia-295"><span class="linenos">295</span></a>                    <span class="k">if</span> <span class="n">penalizacion</span> <span class="ow">or</span> <span class="n">recompensa</span><span class="p">:</span>
</span><span id="MasterWindow.actualizar_referencia-296"><a href="#MasterWindow.actualizar_referencia-296"><span class="linenos">296</span></a>                        <span class="n">texto_mostrar</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;Penalización: </span><span class="si">{</span><span class="n">penalizacion</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">penalizacion</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
</span><span id="MasterWindow.actualizar_referencia-297"><a href="#MasterWindow.actualizar_referencia-297"><span class="linenos">297</span></a>                        <span class="n">texto_mostrar</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;Recompensa: </span><span class="si">{</span><span class="n">recompensa</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">recompensa</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
</span><span id="MasterWindow.actualizar_referencia-298"><a href="#MasterWindow.actualizar_referencia-298"><span class="linenos">298</span></a>
</span><span id="MasterWindow.actualizar_referencia-299"><a href="#MasterWindow.actualizar_referencia-299"><span class="linenos">299</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">text_refe</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="n">texto_mostrar</span><span class="p">)</span>  
</span><span id="MasterWindow.actualizar_referencia-300"><a href="#MasterWindow.actualizar_referencia-300"><span class="linenos">300</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Último texto añadido: </span><span class="si">{</span><span class="n">ultimo_texto</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> 
</span><span id="MasterWindow.actualizar_referencia-301"><a href="#MasterWindow.actualizar_referencia-301"><span class="linenos">301</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Penalización: </span><span class="si">{</span><span class="n">penalizacion</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  
</span><span id="MasterWindow.actualizar_referencia-302"><a href="#MasterWindow.actualizar_referencia-302"><span class="linenos">302</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Recompensa: </span><span class="si">{</span><span class="n">recompensa</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  
</span><span id="MasterWindow.actualizar_referencia-303"><a href="#MasterWindow.actualizar_referencia-303"><span class="linenos">303</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="MasterWindow.actualizar_referencia-304"><a href="#MasterWindow.actualizar_referencia-304"><span class="linenos">304</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">text_refe</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="s1">&#39;La sala no existe.&#39;</span><span class="p">)</span> 
</span><span id="MasterWindow.actualizar_referencia-305"><a href="#MasterWindow.actualizar_referencia-305"><span class="linenos">305</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;La sala &#39;</span><span class="si">{</span><span class="n">nombre_sala</span><span class="si">}</span><span class="s2">&#39; no existe.&quot;</span><span class="p">)</span> 
</span><span id="MasterWindow.actualizar_referencia-306"><a href="#MasterWindow.actualizar_referencia-306"><span class="linenos">306</span></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="MasterWindow.actualizar_referencia-307"><a href="#MasterWindow.actualizar_referencia-307"><span class="linenos">307</span></a>                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Error al recuperar los datos de la sala: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="MasterWindow.actualizar_referencia-308"><a href="#MasterWindow.actualizar_referencia-308"><span class="linenos">308</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Excepción al recuperar los datos de la sala: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> 
</span><span id="MasterWindow.actualizar_referencia-309"><a href="#MasterWindow.actualizar_referencia-309"><span class="linenos">309</span></a>    
</span><span id="MasterWindow.actualizar_referencia-310"><a href="#MasterWindow.actualizar_referencia-310"><span class="linenos">310</span></a>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Nombre de sala vacío.&quot;</span><span class="p">)</span>  
</span></pre></div>


            <div class="docstring"><p>Actualiza el contenido de la referencia de la sala basada en el nombre ingresado por el usuario.</p>

<p>Recupera los datos de la sala desde Firebase usando el nombre ingresado y muestra el último texto añadido, penalización y recompensa en el área de texto correspondiente.</p>
</div>


                            </div>
                            <div id="MasterWindow.sigue_la_aventura" class="classattr">
                                        <input id="MasterWindow.sigue_la_aventura-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">sigue_la_aventura</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="MasterWindow.sigue_la_aventura-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MasterWindow.sigue_la_aventura"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MasterWindow.sigue_la_aventura-312"><a href="#MasterWindow.sigue_la_aventura-312"><span class="linenos">312</span></a>    <span class="k">def</span> <span class="nf">sigue_la_aventura</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MasterWindow.sigue_la_aventura-313"><a href="#MasterWindow.sigue_la_aventura-313"><span class="linenos">313</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MasterWindow.sigue_la_aventura-314"><a href="#MasterWindow.sigue_la_aventura-314"><span class="linenos">314</span></a><span class="sd">        Muestra una ventana de carga y cambia a la pantalla del juego para una aventura existente.</span>
</span><span id="MasterWindow.sigue_la_aventura-315"><a href="#MasterWindow.sigue_la_aventura-315"><span class="linenos">315</span></a>
</span><span id="MasterWindow.sigue_la_aventura-316"><a href="#MasterWindow.sigue_la_aventura-316"><span class="linenos">316</span></a><span class="sd">        Muestra una ventana de carga mientras se actualiza el progreso, y luego cambia a la pantalla del juego para la sala especificada por el usuario.</span>
</span><span id="MasterWindow.sigue_la_aventura-317"><a href="#MasterWindow.sigue_la_aventura-317"><span class="linenos">317</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MasterWindow.sigue_la_aventura-318"><a href="#MasterWindow.sigue_la_aventura-318"><span class="linenos">318</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cargando_window</span> <span class="o">=</span> <span class="n">CargandoWindow</span><span class="p">()</span>
</span><span id="MasterWindow.sigue_la_aventura-319"><a href="#MasterWindow.sigue_la_aventura-319"><span class="linenos">319</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cargando_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="MasterWindow.sigue_la_aventura-320"><a href="#MasterWindow.sigue_la_aventura-320"><span class="linenos">320</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">progress</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="MasterWindow.sigue_la_aventura-321"><a href="#MasterWindow.sigue_la_aventura-321"><span class="linenos">321</span></a>        
</span><span id="MasterWindow.sigue_la_aventura-322"><a href="#MasterWindow.sigue_la_aventura-322"><span class="linenos">322</span></a>        <span class="n">nombre_sala</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nombre_sala</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>  
</span><span id="MasterWindow.sigue_la_aventura-323"><a href="#MasterWindow.sigue_la_aventura-323"><span class="linenos">323</span></a>        <span class="k">if</span> <span class="n">nombre_sala</span><span class="p">:</span>
</span><span id="MasterWindow.sigue_la_aventura-324"><a href="#MasterWindow.sigue_la_aventura-324"><span class="linenos">324</span></a>            <span class="n">sala_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;unico_</span><span class="si">{</span><span class="n">nombre_sala</span><span class="si">}</span><span class="s1">&#39;</span>  
</span><span id="MasterWindow.sigue_la_aventura-325"><a href="#MasterWindow.sigue_la_aventura-325"><span class="linenos">325</span></a>            <span class="n">doc_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;PUNTOGUARDADO&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">sala_id</span><span class="p">)</span>  
</span><span id="MasterWindow.sigue_la_aventura-326"><a href="#MasterWindow.sigue_la_aventura-326"><span class="linenos">326</span></a>            
</span><span id="MasterWindow.sigue_la_aventura-327"><a href="#MasterWindow.sigue_la_aventura-327"><span class="linenos">327</span></a>            <span class="k">try</span><span class="p">:</span>
</span><span id="MasterWindow.sigue_la_aventura-328"><a href="#MasterWindow.sigue_la_aventura-328"><span class="linenos">328</span></a>                <span class="n">doc</span> <span class="o">=</span> <span class="n">doc_ref</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>  
</span><span id="MasterWindow.sigue_la_aventura-329"><a href="#MasterWindow.sigue_la_aventura-329"><span class="linenos">329</span></a>                <span class="k">if</span> <span class="n">doc</span><span class="o">.</span><span class="n">exists</span><span class="p">:</span>
</span><span id="MasterWindow.sigue_la_aventura-330"><a href="#MasterWindow.sigue_la_aventura-330"><span class="linenos">330</span></a>                    <span class="n">data</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>  
</span><span id="MasterWindow.sigue_la_aventura-331"><a href="#MasterWindow.sigue_la_aventura-331"><span class="linenos">331</span></a>                    <span class="n">texto_sala</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;contenido&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>  
</span><span id="MasterWindow.sigue_la_aventura-332"><a href="#MasterWindow.sigue_la_aventura-332"><span class="linenos">332</span></a>
</span><span id="MasterWindow.sigue_la_aventura-333"><a href="#MasterWindow.sigue_la_aventura-333"><span class="linenos">333</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">text_refe</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="n">texto_sala</span><span class="p">)</span>
</span><span id="MasterWindow.sigue_la_aventura-334"><a href="#MasterWindow.sigue_la_aventura-334"><span class="linenos">334</span></a>
</span><span id="MasterWindow.sigue_la_aventura-335"><a href="#MasterWindow.sigue_la_aventura-335"><span class="linenos">335</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">timer</span> <span class="o">=</span> <span class="n">QTimer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="MasterWindow.sigue_la_aventura-336"><a href="#MasterWindow.sigue_la_aventura-336"><span class="linenos">336</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">timeout</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">up_progress</span><span class="p">(</span><span class="n">nombre_sala</span><span class="p">))</span> 
</span><span id="MasterWindow.sigue_la_aventura-337"><a href="#MasterWindow.sigue_la_aventura-337"><span class="linenos">337</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>  
</span><span id="MasterWindow.sigue_la_aventura-338"><a href="#MasterWindow.sigue_la_aventura-338"><span class="linenos">338</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="MasterWindow.sigue_la_aventura-339"><a href="#MasterWindow.sigue_la_aventura-339"><span class="linenos">339</span></a>                    <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;La sala no existe.&#39;</span><span class="p">)</span>
</span><span id="MasterWindow.sigue_la_aventura-340"><a href="#MasterWindow.sigue_la_aventura-340"><span class="linenos">340</span></a>            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="MasterWindow.sigue_la_aventura-341"><a href="#MasterWindow.sigue_la_aventura-341"><span class="linenos">341</span></a>                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Error al recuperar los datos de la sala: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="MasterWindow.sigue_la_aventura-342"><a href="#MasterWindow.sigue_la_aventura-342"><span class="linenos">342</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="MasterWindow.sigue_la_aventura-343"><a href="#MasterWindow.sigue_la_aventura-343"><span class="linenos">343</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Por favor, ingresa el nombre de la sala.&#39;</span><span class="p">)</span>
</span><span id="MasterWindow.sigue_la_aventura-344"><a href="#MasterWindow.sigue_la_aventura-344"><span class="linenos">344</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Muestra una ventana de carga y cambia a la pantalla del juego para una aventura existente.</p>

<p>Muestra una ventana de carga mientras se actualiza el progreso, y luego cambia a la pantalla del juego para la sala especificada por el usuario.</p>
</div>


                            </div>
                            <div id="MasterWindow.up_progress" class="classattr">
                                        <input id="MasterWindow.up_progress-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">up_progress</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">nombre_sala</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="MasterWindow.up_progress-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MasterWindow.up_progress"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MasterWindow.up_progress-346"><a href="#MasterWindow.up_progress-346"><span class="linenos">346</span></a>    <span class="k">def</span> <span class="nf">up_progress</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre_sala</span><span class="p">):</span>
</span><span id="MasterWindow.up_progress-347"><a href="#MasterWindow.up_progress-347"><span class="linenos">347</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MasterWindow.up_progress-348"><a href="#MasterWindow.up_progress-348"><span class="linenos">348</span></a><span class="sd">        Actualiza el progreso de la barra de carga y abre la ventana del juego cuando el progreso alcanza el 100%.</span>
</span><span id="MasterWindow.up_progress-349"><a href="#MasterWindow.up_progress-349"><span class="linenos">349</span></a>
</span><span id="MasterWindow.up_progress-350"><a href="#MasterWindow.up_progress-350"><span class="linenos">350</span></a><span class="sd">        Este método aumenta el progreso de la barra de carga y, cuando llega al 100%, detiene el temporizador y abre la ventana del juego.</span>
</span><span id="MasterWindow.up_progress-351"><a href="#MasterWindow.up_progress-351"><span class="linenos">351</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MasterWindow.up_progress-352"><a href="#MasterWindow.up_progress-352"><span class="linenos">352</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">progress</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="MasterWindow.up_progress-353"><a href="#MasterWindow.up_progress-353"><span class="linenos">353</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">progress</span> <span class="o">&gt;=</span> <span class="mi">100</span><span class="p">:</span>
</span><span id="MasterWindow.up_progress-354"><a href="#MasterWindow.up_progress-354"><span class="linenos">354</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</span><span id="MasterWindow.up_progress-355"><a href="#MasterWindow.up_progress-355"><span class="linenos">355</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">cargando_window</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="MasterWindow.up_progress-356"><a href="#MasterWindow.up_progress-356"><span class="linenos">356</span></a>            
</span><span id="MasterWindow.up_progress-357"><a href="#MasterWindow.up_progress-357"><span class="linenos">357</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">juego_window</span> <span class="o">=</span> <span class="n">JuegoWindow</span><span class="p">(</span><span class="n">nombre_sala</span><span class="p">)</span> 
</span><span id="MasterWindow.up_progress-358"><a href="#MasterWindow.up_progress-358"><span class="linenos">358</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">juego_window</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sala Actual: </span><span class="si">{</span><span class="n">nombre_sala</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  
</span><span id="MasterWindow.up_progress-359"><a href="#MasterWindow.up_progress-359"><span class="linenos">359</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">juego_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>  
</span><span id="MasterWindow.up_progress-360"><a href="#MasterWindow.up_progress-360"><span class="linenos">360</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="MasterWindow.up_progress-361"><a href="#MasterWindow.up_progress-361"><span class="linenos">361</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">cargando_window</span><span class="o">.</span><span class="n">barra_cargado</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">progress</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Actualiza el progreso de la barra de carga y abre la ventana del juego cuando el progreso alcanza el 100%.</p>

<p>Este método aumenta el progreso de la barra de carga y, cuando llega al 100%, detiene el temporizador y abre la ventana del juego.</p>
</div>


                            </div>
                            <div id="MasterWindow.crear_nueva" class="classattr">
                                        <input id="MasterWindow.crear_nueva-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">crear_nueva</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="MasterWindow.crear_nueva-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MasterWindow.crear_nueva"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MasterWindow.crear_nueva-363"><a href="#MasterWindow.crear_nueva-363"><span class="linenos">363</span></a>    <span class="k">def</span> <span class="nf">crear_nueva</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MasterWindow.crear_nueva-364"><a href="#MasterWindow.crear_nueva-364"><span class="linenos">364</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MasterWindow.crear_nueva-365"><a href="#MasterWindow.crear_nueva-365"><span class="linenos">365</span></a><span class="sd">        Cambia a la página para crear una nueva misión.</span>
</span><span id="MasterWindow.crear_nueva-366"><a href="#MasterWindow.crear_nueva-366"><span class="linenos">366</span></a>
</span><span id="MasterWindow.crear_nueva-367"><a href="#MasterWindow.crear_nueva-367"><span class="linenos">367</span></a><span class="sd">        Este método cambia el widget actual a la página donde el usuario puede ingresar los detalles de una nueva misión.</span>
</span><span id="MasterWindow.crear_nueva-368"><a href="#MasterWindow.crear_nueva-368"><span class="linenos">368</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MasterWindow.crear_nueva-369"><a href="#MasterWindow.crear_nueva-369"><span class="linenos">369</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stackedWidget</span><span class="o">.</span><span class="n">setCurrentWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">page</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Cambia a la página para crear una nueva misión.</p>

<p>Este método cambia el widget actual a la página donde el usuario puede ingresar los detalles de una nueva misión.</p>
</div>


                            </div>
                            <div id="MasterWindow.nueva_mission" class="classattr">
                                        <input id="MasterWindow.nueva_mission-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">nueva_mission</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="MasterWindow.nueva_mission-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MasterWindow.nueva_mission"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MasterWindow.nueva_mission-371"><a href="#MasterWindow.nueva_mission-371"><span class="linenos">371</span></a>    <span class="k">def</span> <span class="nf">nueva_mission</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MasterWindow.nueva_mission-372"><a href="#MasterWindow.nueva_mission-372"><span class="linenos">372</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MasterWindow.nueva_mission-373"><a href="#MasterWindow.nueva_mission-373"><span class="linenos">373</span></a><span class="sd">        Crea una nueva misión en la base de datos y muestra una ventana de carga mientras se actualiza el progreso.</span>
</span><span id="MasterWindow.nueva_mission-374"><a href="#MasterWindow.nueva_mission-374"><span class="linenos">374</span></a>
</span><span id="MasterWindow.nueva_mission-375"><a href="#MasterWindow.nueva_mission-375"><span class="linenos">375</span></a><span class="sd">        Este método toma el texto de la nueva misión y el nombre de la sala, crea una nueva entrada en la base de datos y muestra una ventana de carga mientras se actualiza el progreso.</span>
</span><span id="MasterWindow.nueva_mission-376"><a href="#MasterWindow.nueva_mission-376"><span class="linenos">376</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MasterWindow.nueva_mission-377"><a href="#MasterWindow.nueva_mission-377"><span class="linenos">377</span></a>        <span class="n">tex_nuevo</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tex_nuevo</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="MasterWindow.nueva_mission-378"><a href="#MasterWindow.nueva_mission-378"><span class="linenos">378</span></a>        <span class="n">nombre_sala</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_sala</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="MasterWindow.nueva_mission-379"><a href="#MasterWindow.nueva_mission-379"><span class="linenos">379</span></a>
</span><span id="MasterWindow.nueva_mission-380"><a href="#MasterWindow.nueva_mission-380"><span class="linenos">380</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">tex_nuevo</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">nombre_sala</span><span class="p">:</span>
</span><span id="MasterWindow.nueva_mission-381"><a href="#MasterWindow.nueva_mission-381"><span class="linenos">381</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Introduce el nombre de la sala y el texto de la nueva misión.&#39;</span><span class="p">)</span>
</span><span id="MasterWindow.nueva_mission-382"><a href="#MasterWindow.nueva_mission-382"><span class="linenos">382</span></a>            <span class="k">return</span>
</span><span id="MasterWindow.nueva_mission-383"><a href="#MasterWindow.nueva_mission-383"><span class="linenos">383</span></a>
</span><span id="MasterWindow.nueva_mission-384"><a href="#MasterWindow.nueva_mission-384"><span class="linenos">384</span></a>        <span class="n">salas_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;PUNTOGUARDADO&#39;</span><span class="p">)</span>
</span><span id="MasterWindow.nueva_mission-385"><a href="#MasterWindow.nueva_mission-385"><span class="linenos">385</span></a>        <span class="n">salas_ref</span><span class="o">.</span><span class="n">add</span><span class="p">({</span>
</span><span id="MasterWindow.nueva_mission-386"><a href="#MasterWindow.nueva_mission-386"><span class="linenos">386</span></a>            <span class="s1">&#39;nombre&#39;</span><span class="p">:</span> <span class="n">nombre_sala</span><span class="p">,</span>
</span><span id="MasterWindow.nueva_mission-387"><a href="#MasterWindow.nueva_mission-387"><span class="linenos">387</span></a>            <span class="s1">&#39;contenido&#39;</span><span class="p">:</span> <span class="n">tex_nuevo</span><span class="p">,</span>
</span><span id="MasterWindow.nueva_mission-388"><a href="#MasterWindow.nueva_mission-388"><span class="linenos">388</span></a>            <span class="s1">&#39;misiones&#39;</span><span class="p">:</span> <span class="p">[],</span> 
</span><span id="MasterWindow.nueva_mission-389"><a href="#MasterWindow.nueva_mission-389"><span class="linenos">389</span></a>        <span class="p">})</span>
</span><span id="MasterWindow.nueva_mission-390"><a href="#MasterWindow.nueva_mission-390"><span class="linenos">390</span></a>
</span><span id="MasterWindow.nueva_mission-391"><a href="#MasterWindow.nueva_mission-391"><span class="linenos">391</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cargando_window</span> <span class="o">=</span> <span class="n">CargandoWindow</span><span class="p">()</span>
</span><span id="MasterWindow.nueva_mission-392"><a href="#MasterWindow.nueva_mission-392"><span class="linenos">392</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cargando_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="MasterWindow.nueva_mission-393"><a href="#MasterWindow.nueva_mission-393"><span class="linenos">393</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span> <span class="o">=</span> <span class="n">QTimer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="MasterWindow.nueva_mission-394"><a href="#MasterWindow.nueva_mission-394"><span class="linenos">394</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">timeout</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">update_progress</span><span class="p">(</span><span class="n">nombre_sala</span><span class="p">))</span> 
</span><span id="MasterWindow.nueva_mission-395"><a href="#MasterWindow.nueva_mission-395"><span class="linenos">395</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">progress</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="MasterWindow.nueva_mission-396"><a href="#MasterWindow.nueva_mission-396"><span class="linenos">396</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>  
</span><span id="MasterWindow.nueva_mission-397"><a href="#MasterWindow.nueva_mission-397"><span class="linenos">397</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Crea una nueva misión en la base de datos y muestra una ventana de carga mientras se actualiza el progreso.</p>

<p>Este método toma el texto de la nueva misión y el nombre de la sala, crea una nueva entrada en la base de datos y muestra una ventana de carga mientras se actualiza el progreso.</p>
</div>


                            </div>
                            <div id="MasterWindow.update_progress" class="classattr">
                                        <input id="MasterWindow.update_progress-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">update_progress</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">nombre_sala</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="MasterWindow.update_progress-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MasterWindow.update_progress"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MasterWindow.update_progress-399"><a href="#MasterWindow.update_progress-399"><span class="linenos">399</span></a>    <span class="k">def</span> <span class="nf">update_progress</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre_sala</span><span class="p">):</span>
</span><span id="MasterWindow.update_progress-400"><a href="#MasterWindow.update_progress-400"><span class="linenos">400</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MasterWindow.update_progress-401"><a href="#MasterWindow.update_progress-401"><span class="linenos">401</span></a><span class="sd">        Actualiza el progreso de la barra de carga y abre la ventana del juego cuando el progreso alcanza el 100%.</span>
</span><span id="MasterWindow.update_progress-402"><a href="#MasterWindow.update_progress-402"><span class="linenos">402</span></a>
</span><span id="MasterWindow.update_progress-403"><a href="#MasterWindow.update_progress-403"><span class="linenos">403</span></a><span class="sd">        Este método aumenta el progreso de la barra de carga y, cuando llega al 100%, detiene el temporizador y abre la ventana del juego.</span>
</span><span id="MasterWindow.update_progress-404"><a href="#MasterWindow.update_progress-404"><span class="linenos">404</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MasterWindow.update_progress-405"><a href="#MasterWindow.update_progress-405"><span class="linenos">405</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">progress</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="MasterWindow.update_progress-406"><a href="#MasterWindow.update_progress-406"><span class="linenos">406</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">progress</span> <span class="o">&gt;=</span> <span class="mi">100</span><span class="p">:</span>
</span><span id="MasterWindow.update_progress-407"><a href="#MasterWindow.update_progress-407"><span class="linenos">407</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</span><span id="MasterWindow.update_progress-408"><a href="#MasterWindow.update_progress-408"><span class="linenos">408</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">go_juego</span><span class="p">(</span><span class="n">nombre_sala</span><span class="p">)</span>
</span><span id="MasterWindow.update_progress-409"><a href="#MasterWindow.update_progress-409"><span class="linenos">409</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="MasterWindow.update_progress-410"><a href="#MasterWindow.update_progress-410"><span class="linenos">410</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">cargando_window</span><span class="o">.</span><span class="n">barra_cargado</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">progress</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Actualiza el progreso de la barra de carga y abre la ventana del juego cuando el progreso alcanza el 100%.</p>

<p>Este método aumenta el progreso de la barra de carga y, cuando llega al 100%, detiene el temporizador y abre la ventana del juego.</p>
</div>


                            </div>
                            <div id="MasterWindow.go_juego" class="classattr">
                                        <input id="MasterWindow.go_juego-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">go_juego</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">nombre_sala</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="MasterWindow.go_juego-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MasterWindow.go_juego"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MasterWindow.go_juego-412"><a href="#MasterWindow.go_juego-412"><span class="linenos">412</span></a>    <span class="k">def</span> <span class="nf">go_juego</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre_sala</span><span class="p">):</span>
</span><span id="MasterWindow.go_juego-413"><a href="#MasterWindow.go_juego-413"><span class="linenos">413</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="MasterWindow.go_juego-414"><a href="#MasterWindow.go_juego-414"><span class="linenos">414</span></a><span class="sd">        Cambia a la pantalla del juego para una nueva misión y actualiza el nombre de la sala actual.</span>
</span><span id="MasterWindow.go_juego-415"><a href="#MasterWindow.go_juego-415"><span class="linenos">415</span></a>
</span><span id="MasterWindow.go_juego-416"><a href="#MasterWindow.go_juego-416"><span class="linenos">416</span></a><span class="sd">        Este método cambia a la ventana de juego para la nueva misión creada y actualiza el nombre de la sala actual.</span>
</span><span id="MasterWindow.go_juego-417"><a href="#MasterWindow.go_juego-417"><span class="linenos">417</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="MasterWindow.go_juego-418"><a href="#MasterWindow.go_juego-418"><span class="linenos">418</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">juego_window</span> <span class="o">=</span> <span class="n">JuegoWindow</span><span class="p">(</span><span class="n">nombre_sala</span><span class="p">)</span>
</span><span id="MasterWindow.go_juego-419"><a href="#MasterWindow.go_juego-419"><span class="linenos">419</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">juego_window</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Sala Actual: &quot;</span> <span class="o">+</span> <span class="n">nombre_sala</span><span class="p">)</span>
</span><span id="MasterWindow.go_juego-420"><a href="#MasterWindow.go_juego-420"><span class="linenos">420</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">juego_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="MasterWindow.go_juego-421"><a href="#MasterWindow.go_juego-421"><span class="linenos">421</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cargando_window</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Cambia a la pantalla del juego para una nueva misión y actualiza el nombre de la sala actual.</p>

<p>Este método cambia a la ventana de juego para la nueva misión creada y actualiza el nombre de la sala actual.</p>
</div>


                            </div>
                            <div id="MasterWindow.staticMetaObject" class="classattr">
                                <div class="attr variable">
            <span class="name">staticMetaObject</span>        =
<span class="default_value">PySide6.QtCore.QMetaObject(&#34;MasterWindow&#34; inherits &#34;QWidget&#34;:
)</span>

        
    </div>
    <a class="headerlink" href="#MasterWindow.staticMetaObject"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>ui_master.Ui_Formmaster</dt>
                                <dd id="MasterWindow.setupUi" class="function">setupUi</dd>
                <dd id="MasterWindow.retranslateUi" class="function">retranslateUi</dd>

            </div>
            <div><dt>PySide6.QtWidgets.QWidget</dt>
                                <dd id="MasterWindow.acceptDrops" class="function">acceptDrops</dd>
                <dd id="MasterWindow.accessibleDescription" class="function">accessibleDescription</dd>
                <dd id="MasterWindow.accessibleName" class="function">accessibleName</dd>
                <dd id="MasterWindow.actionEvent" class="function">actionEvent</dd>
                <dd id="MasterWindow.actions" class="function">actions</dd>
                <dd id="MasterWindow.activateWindow" class="function">activateWindow</dd>
                <dd id="MasterWindow.addAction" class="function">addAction</dd>
                <dd id="MasterWindow.addActions" class="function">addActions</dd>
                <dd id="MasterWindow.adjustSize" class="function">adjustSize</dd>
                <dd id="MasterWindow.autoFillBackground" class="function">autoFillBackground</dd>
                <dd id="MasterWindow.backgroundRole" class="function">backgroundRole</dd>
                <dd id="MasterWindow.backingStore" class="function">backingStore</dd>
                <dd id="MasterWindow.baseSize" class="function">baseSize</dd>
                <dd id="MasterWindow.changeEvent" class="function">changeEvent</dd>
                <dd id="MasterWindow.childAt" class="function">childAt</dd>
                <dd id="MasterWindow.childrenRect" class="function">childrenRect</dd>
                <dd id="MasterWindow.childrenRegion" class="function">childrenRegion</dd>
                <dd id="MasterWindow.clearFocus" class="function">clearFocus</dd>
                <dd id="MasterWindow.clearMask" class="function">clearMask</dd>
                <dd id="MasterWindow.close" class="function">close</dd>
                <dd id="MasterWindow.closeEvent" class="function">closeEvent</dd>
                <dd id="MasterWindow.contentsMargins" class="function">contentsMargins</dd>
                <dd id="MasterWindow.contentsRect" class="function">contentsRect</dd>
                <dd id="MasterWindow.contextMenuEvent" class="function">contextMenuEvent</dd>
                <dd id="MasterWindow.contextMenuPolicy" class="function">contextMenuPolicy</dd>
                <dd id="MasterWindow.create" class="function">create</dd>
                <dd id="MasterWindow.createWinId" class="function">createWinId</dd>
                <dd id="MasterWindow.createWindowContainer" class="function">createWindowContainer</dd>
                <dd id="MasterWindow.cursor" class="function">cursor</dd>
                <dd id="MasterWindow.destroy" class="function">destroy</dd>
                <dd id="MasterWindow.devType" class="function">devType</dd>
                <dd id="MasterWindow.dragEnterEvent" class="function">dragEnterEvent</dd>
                <dd id="MasterWindow.dragLeaveEvent" class="function">dragLeaveEvent</dd>
                <dd id="MasterWindow.dragMoveEvent" class="function">dragMoveEvent</dd>
                <dd id="MasterWindow.dropEvent" class="function">dropEvent</dd>
                <dd id="MasterWindow.effectiveWinId" class="function">effectiveWinId</dd>
                <dd id="MasterWindow.ensurePolished" class="function">ensurePolished</dd>
                <dd id="MasterWindow.enterEvent" class="function">enterEvent</dd>
                <dd id="MasterWindow.event" class="function">event</dd>
                <dd id="MasterWindow.find" class="function">find</dd>
                <dd id="MasterWindow.focusInEvent" class="function">focusInEvent</dd>
                <dd id="MasterWindow.focusNextChild" class="function">focusNextChild</dd>
                <dd id="MasterWindow.focusNextPrevChild" class="function">focusNextPrevChild</dd>
                <dd id="MasterWindow.focusOutEvent" class="function">focusOutEvent</dd>
                <dd id="MasterWindow.focusPolicy" class="function">focusPolicy</dd>
                <dd id="MasterWindow.focusPreviousChild" class="function">focusPreviousChild</dd>
                <dd id="MasterWindow.focusProxy" class="function">focusProxy</dd>
                <dd id="MasterWindow.focusWidget" class="function">focusWidget</dd>
                <dd id="MasterWindow.font" class="function">font</dd>
                <dd id="MasterWindow.fontInfo" class="function">fontInfo</dd>
                <dd id="MasterWindow.fontMetrics" class="function">fontMetrics</dd>
                <dd id="MasterWindow.foregroundRole" class="function">foregroundRole</dd>
                <dd id="MasterWindow.frameGeometry" class="function">frameGeometry</dd>
                <dd id="MasterWindow.frameSize" class="function">frameSize</dd>
                <dd id="MasterWindow.geometry" class="function">geometry</dd>
                <dd id="MasterWindow.grab" class="function">grab</dd>
                <dd id="MasterWindow.grabGesture" class="function">grabGesture</dd>
                <dd id="MasterWindow.grabKeyboard" class="function">grabKeyboard</dd>
                <dd id="MasterWindow.grabMouse" class="function">grabMouse</dd>
                <dd id="MasterWindow.grabShortcut" class="function">grabShortcut</dd>
                <dd id="MasterWindow.graphicsEffect" class="function">graphicsEffect</dd>
                <dd id="MasterWindow.graphicsProxyWidget" class="function">graphicsProxyWidget</dd>
                <dd id="MasterWindow.hasFocus" class="function">hasFocus</dd>
                <dd id="MasterWindow.hasHeightForWidth" class="function">hasHeightForWidth</dd>
                <dd id="MasterWindow.hasMouseTracking" class="function">hasMouseTracking</dd>
                <dd id="MasterWindow.hasTabletTracking" class="function">hasTabletTracking</dd>
                <dd id="MasterWindow.height" class="function">height</dd>
                <dd id="MasterWindow.heightForWidth" class="function">heightForWidth</dd>
                <dd id="MasterWindow.hide" class="function">hide</dd>
                <dd id="MasterWindow.hideEvent" class="function">hideEvent</dd>
                <dd id="MasterWindow.initPainter" class="function">initPainter</dd>
                <dd id="MasterWindow.inputMethodEvent" class="function">inputMethodEvent</dd>
                <dd id="MasterWindow.inputMethodHints" class="function">inputMethodHints</dd>
                <dd id="MasterWindow.inputMethodQuery" class="function">inputMethodQuery</dd>
                <dd id="MasterWindow.insertAction" class="function">insertAction</dd>
                <dd id="MasterWindow.insertActions" class="function">insertActions</dd>
                <dd id="MasterWindow.internalWinId" class="function">internalWinId</dd>
                <dd id="MasterWindow.isActiveWindow" class="function">isActiveWindow</dd>
                <dd id="MasterWindow.isAncestorOf" class="function">isAncestorOf</dd>
                <dd id="MasterWindow.isEnabled" class="function">isEnabled</dd>
                <dd id="MasterWindow.isEnabledTo" class="function">isEnabledTo</dd>
                <dd id="MasterWindow.isFullScreen" class="function">isFullScreen</dd>
                <dd id="MasterWindow.isHidden" class="function">isHidden</dd>
                <dd id="MasterWindow.isLeftToRight" class="function">isLeftToRight</dd>
                <dd id="MasterWindow.isMaximized" class="function">isMaximized</dd>
                <dd id="MasterWindow.isMinimized" class="function">isMinimized</dd>
                <dd id="MasterWindow.isModal" class="function">isModal</dd>
                <dd id="MasterWindow.isRightToLeft" class="function">isRightToLeft</dd>
                <dd id="MasterWindow.isTopLevel" class="function">isTopLevel</dd>
                <dd id="MasterWindow.isVisible" class="function">isVisible</dd>
                <dd id="MasterWindow.isVisibleTo" class="function">isVisibleTo</dd>
                <dd id="MasterWindow.isWindow" class="function">isWindow</dd>
                <dd id="MasterWindow.isWindowModified" class="function">isWindowModified</dd>
                <dd id="MasterWindow.keyPressEvent" class="function">keyPressEvent</dd>
                <dd id="MasterWindow.keyReleaseEvent" class="function">keyReleaseEvent</dd>
                <dd id="MasterWindow.keyboardGrabber" class="function">keyboardGrabber</dd>
                <dd id="MasterWindow.layout" class="function">layout</dd>
                <dd id="MasterWindow.layoutDirection" class="function">layoutDirection</dd>
                <dd id="MasterWindow.leaveEvent" class="function">leaveEvent</dd>
                <dd id="MasterWindow.locale" class="function">locale</dd>
                <dd id="MasterWindow.lower" class="function">lower</dd>
                <dd id="MasterWindow.mapFrom" class="function">mapFrom</dd>
                <dd id="MasterWindow.mapFromGlobal" class="function">mapFromGlobal</dd>
                <dd id="MasterWindow.mapFromParent" class="function">mapFromParent</dd>
                <dd id="MasterWindow.mapTo" class="function">mapTo</dd>
                <dd id="MasterWindow.mapToGlobal" class="function">mapToGlobal</dd>
                <dd id="MasterWindow.mapToParent" class="function">mapToParent</dd>
                <dd id="MasterWindow.mask" class="function">mask</dd>
                <dd id="MasterWindow.maximumHeight" class="function">maximumHeight</dd>
                <dd id="MasterWindow.maximumSize" class="function">maximumSize</dd>
                <dd id="MasterWindow.maximumWidth" class="function">maximumWidth</dd>
                <dd id="MasterWindow.metric" class="function">metric</dd>
                <dd id="MasterWindow.minimumHeight" class="function">minimumHeight</dd>
                <dd id="MasterWindow.minimumSize" class="function">minimumSize</dd>
                <dd id="MasterWindow.minimumSizeHint" class="function">minimumSizeHint</dd>
                <dd id="MasterWindow.minimumWidth" class="function">minimumWidth</dd>
                <dd id="MasterWindow.mouseDoubleClickEvent" class="function">mouseDoubleClickEvent</dd>
                <dd id="MasterWindow.mouseGrabber" class="function">mouseGrabber</dd>
                <dd id="MasterWindow.mouseMoveEvent" class="function">mouseMoveEvent</dd>
                <dd id="MasterWindow.mousePressEvent" class="function">mousePressEvent</dd>
                <dd id="MasterWindow.mouseReleaseEvent" class="function">mouseReleaseEvent</dd>
                <dd id="MasterWindow.move" class="function">move</dd>
                <dd id="MasterWindow.moveEvent" class="function">moveEvent</dd>
                <dd id="MasterWindow.nativeEvent" class="function">nativeEvent</dd>
                <dd id="MasterWindow.nativeParentWidget" class="function">nativeParentWidget</dd>
                <dd id="MasterWindow.nextInFocusChain" class="function">nextInFocusChain</dd>
                <dd id="MasterWindow.normalGeometry" class="function">normalGeometry</dd>
                <dd id="MasterWindow.overrideWindowFlags" class="function">overrideWindowFlags</dd>
                <dd id="MasterWindow.overrideWindowState" class="function">overrideWindowState</dd>
                <dd id="MasterWindow.paintEngine" class="function">paintEngine</dd>
                <dd id="MasterWindow.paintEvent" class="function">paintEvent</dd>
                <dd id="MasterWindow.palette" class="function">palette</dd>
                <dd id="MasterWindow.parentWidget" class="function">parentWidget</dd>
                <dd id="MasterWindow.pos" class="function">pos</dd>
                <dd id="MasterWindow.previousInFocusChain" class="function">previousInFocusChain</dd>
                <dd id="MasterWindow.raise_" class="function">raise_</dd>
                <dd id="MasterWindow.rect" class="function">rect</dd>
                <dd id="MasterWindow.redirected" class="function">redirected</dd>
                <dd id="MasterWindow.releaseKeyboard" class="function">releaseKeyboard</dd>
                <dd id="MasterWindow.releaseMouse" class="function">releaseMouse</dd>
                <dd id="MasterWindow.releaseShortcut" class="function">releaseShortcut</dd>
                <dd id="MasterWindow.removeAction" class="function">removeAction</dd>
                <dd id="MasterWindow.render" class="function">render</dd>
                <dd id="MasterWindow.repaint" class="function">repaint</dd>
                <dd id="MasterWindow.resize" class="function">resize</dd>
                <dd id="MasterWindow.resizeEvent" class="function">resizeEvent</dd>
                <dd id="MasterWindow.restoreGeometry" class="function">restoreGeometry</dd>
                <dd id="MasterWindow.saveGeometry" class="function">saveGeometry</dd>
                <dd id="MasterWindow.screen" class="function">screen</dd>
                <dd id="MasterWindow.scroll" class="function">scroll</dd>
                <dd id="MasterWindow.setAcceptDrops" class="function">setAcceptDrops</dd>
                <dd id="MasterWindow.setAccessibleDescription" class="function">setAccessibleDescription</dd>
                <dd id="MasterWindow.setAccessibleName" class="function">setAccessibleName</dd>
                <dd id="MasterWindow.setAttribute" class="function">setAttribute</dd>
                <dd id="MasterWindow.setAutoFillBackground" class="function">setAutoFillBackground</dd>
                <dd id="MasterWindow.setBackgroundRole" class="function">setBackgroundRole</dd>
                <dd id="MasterWindow.setBaseSize" class="function">setBaseSize</dd>
                <dd id="MasterWindow.setContentsMargins" class="function">setContentsMargins</dd>
                <dd id="MasterWindow.setContextMenuPolicy" class="function">setContextMenuPolicy</dd>
                <dd id="MasterWindow.setCursor" class="function">setCursor</dd>
                <dd id="MasterWindow.setDisabled" class="function">setDisabled</dd>
                <dd id="MasterWindow.setEnabled" class="function">setEnabled</dd>
                <dd id="MasterWindow.setFixedHeight" class="function">setFixedHeight</dd>
                <dd id="MasterWindow.setFixedSize" class="function">setFixedSize</dd>
                <dd id="MasterWindow.setFixedWidth" class="function">setFixedWidth</dd>
                <dd id="MasterWindow.setFocus" class="function">setFocus</dd>
                <dd id="MasterWindow.setFocusPolicy" class="function">setFocusPolicy</dd>
                <dd id="MasterWindow.setFocusProxy" class="function">setFocusProxy</dd>
                <dd id="MasterWindow.setFont" class="function">setFont</dd>
                <dd id="MasterWindow.setForegroundRole" class="function">setForegroundRole</dd>
                <dd id="MasterWindow.setGeometry" class="function">setGeometry</dd>
                <dd id="MasterWindow.setGraphicsEffect" class="function">setGraphicsEffect</dd>
                <dd id="MasterWindow.setHidden" class="function">setHidden</dd>
                <dd id="MasterWindow.setInputMethodHints" class="function">setInputMethodHints</dd>
                <dd id="MasterWindow.setLayout" class="function">setLayout</dd>
                <dd id="MasterWindow.setLayoutDirection" class="function">setLayoutDirection</dd>
                <dd id="MasterWindow.setLocale" class="function">setLocale</dd>
                <dd id="MasterWindow.setMask" class="function">setMask</dd>
                <dd id="MasterWindow.setMaximumHeight" class="function">setMaximumHeight</dd>
                <dd id="MasterWindow.setMaximumSize" class="function">setMaximumSize</dd>
                <dd id="MasterWindow.setMaximumWidth" class="function">setMaximumWidth</dd>
                <dd id="MasterWindow.setMinimumHeight" class="function">setMinimumHeight</dd>
                <dd id="MasterWindow.setMinimumSize" class="function">setMinimumSize</dd>
                <dd id="MasterWindow.setMinimumWidth" class="function">setMinimumWidth</dd>
                <dd id="MasterWindow.setMouseTracking" class="function">setMouseTracking</dd>
                <dd id="MasterWindow.setPalette" class="function">setPalette</dd>
                <dd id="MasterWindow.setParent" class="function">setParent</dd>
                <dd id="MasterWindow.setScreen" class="function">setScreen</dd>
                <dd id="MasterWindow.setShortcutAutoRepeat" class="function">setShortcutAutoRepeat</dd>
                <dd id="MasterWindow.setShortcutEnabled" class="function">setShortcutEnabled</dd>
                <dd id="MasterWindow.setSizeIncrement" class="function">setSizeIncrement</dd>
                <dd id="MasterWindow.setSizePolicy" class="function">setSizePolicy</dd>
                <dd id="MasterWindow.setStatusTip" class="function">setStatusTip</dd>
                <dd id="MasterWindow.setStyle" class="function">setStyle</dd>
                <dd id="MasterWindow.setStyleSheet" class="function">setStyleSheet</dd>
                <dd id="MasterWindow.setTabOrder" class="function">setTabOrder</dd>
                <dd id="MasterWindow.setTabletTracking" class="function">setTabletTracking</dd>
                <dd id="MasterWindow.setToolTip" class="function">setToolTip</dd>
                <dd id="MasterWindow.setToolTipDuration" class="function">setToolTipDuration</dd>
                <dd id="MasterWindow.setUpdatesEnabled" class="function">setUpdatesEnabled</dd>
                <dd id="MasterWindow.setVisible" class="function">setVisible</dd>
                <dd id="MasterWindow.setWhatsThis" class="function">setWhatsThis</dd>
                <dd id="MasterWindow.setWindowFilePath" class="function">setWindowFilePath</dd>
                <dd id="MasterWindow.setWindowFlag" class="function">setWindowFlag</dd>
                <dd id="MasterWindow.setWindowFlags" class="function">setWindowFlags</dd>
                <dd id="MasterWindow.setWindowIcon" class="function">setWindowIcon</dd>
                <dd id="MasterWindow.setWindowIconText" class="function">setWindowIconText</dd>
                <dd id="MasterWindow.setWindowModality" class="function">setWindowModality</dd>
                <dd id="MasterWindow.setWindowModified" class="function">setWindowModified</dd>
                <dd id="MasterWindow.setWindowOpacity" class="function">setWindowOpacity</dd>
                <dd id="MasterWindow.setWindowRole" class="function">setWindowRole</dd>
                <dd id="MasterWindow.setWindowState" class="function">setWindowState</dd>
                <dd id="MasterWindow.setWindowTitle" class="function">setWindowTitle</dd>
                <dd id="MasterWindow.sharedPainter" class="function">sharedPainter</dd>
                <dd id="MasterWindow.show" class="function">show</dd>
                <dd id="MasterWindow.showEvent" class="function">showEvent</dd>
                <dd id="MasterWindow.showFullScreen" class="function">showFullScreen</dd>
                <dd id="MasterWindow.showMaximized" class="function">showMaximized</dd>
                <dd id="MasterWindow.showMinimized" class="function">showMinimized</dd>
                <dd id="MasterWindow.showNormal" class="function">showNormal</dd>
                <dd id="MasterWindow.size" class="function">size</dd>
                <dd id="MasterWindow.sizeHint" class="function">sizeHint</dd>
                <dd id="MasterWindow.sizeIncrement" class="function">sizeIncrement</dd>
                <dd id="MasterWindow.sizePolicy" class="function">sizePolicy</dd>
                <dd id="MasterWindow.stackUnder" class="function">stackUnder</dd>
                <dd id="MasterWindow.statusTip" class="function">statusTip</dd>
                <dd id="MasterWindow.style" class="function">style</dd>
                <dd id="MasterWindow.styleSheet" class="function">styleSheet</dd>
                <dd id="MasterWindow.tabletEvent" class="function">tabletEvent</dd>
                <dd id="MasterWindow.testAttribute" class="function">testAttribute</dd>
                <dd id="MasterWindow.toolTip" class="function">toolTip</dd>
                <dd id="MasterWindow.toolTipDuration" class="function">toolTipDuration</dd>
                <dd id="MasterWindow.topLevelWidget" class="function">topLevelWidget</dd>
                <dd id="MasterWindow.underMouse" class="function">underMouse</dd>
                <dd id="MasterWindow.ungrabGesture" class="function">ungrabGesture</dd>
                <dd id="MasterWindow.unsetCursor" class="function">unsetCursor</dd>
                <dd id="MasterWindow.unsetLayoutDirection" class="function">unsetLayoutDirection</dd>
                <dd id="MasterWindow.unsetLocale" class="function">unsetLocale</dd>
                <dd id="MasterWindow.update" class="function">update</dd>
                <dd id="MasterWindow.updateGeometry" class="function">updateGeometry</dd>
                <dd id="MasterWindow.updateMicroFocus" class="function">updateMicroFocus</dd>
                <dd id="MasterWindow.updatesEnabled" class="function">updatesEnabled</dd>
                <dd id="MasterWindow.visibleRegion" class="function">visibleRegion</dd>
                <dd id="MasterWindow.whatsThis" class="function">whatsThis</dd>
                <dd id="MasterWindow.wheelEvent" class="function">wheelEvent</dd>
                <dd id="MasterWindow.width" class="function">width</dd>
                <dd id="MasterWindow.winId" class="function">winId</dd>
                <dd id="MasterWindow.window" class="function">window</dd>
                <dd id="MasterWindow.windowFilePath" class="function">windowFilePath</dd>
                <dd id="MasterWindow.windowFlags" class="function">windowFlags</dd>
                <dd id="MasterWindow.windowHandle" class="function">windowHandle</dd>
                <dd id="MasterWindow.windowIcon" class="function">windowIcon</dd>
                <dd id="MasterWindow.windowIconText" class="function">windowIconText</dd>
                <dd id="MasterWindow.windowModality" class="function">windowModality</dd>
                <dd id="MasterWindow.windowOpacity" class="function">windowOpacity</dd>
                <dd id="MasterWindow.windowRole" class="function">windowRole</dd>
                <dd id="MasterWindow.windowState" class="function">windowState</dd>
                <dd id="MasterWindow.windowTitle" class="function">windowTitle</dd>
                <dd id="MasterWindow.windowType" class="function">windowType</dd>
                <dd id="MasterWindow.x" class="function">x</dd>
                <dd id="MasterWindow.y" class="function">y</dd>
                <dd id="MasterWindow.RenderFlag" class="class">RenderFlag</dd>
                <dd id="MasterWindow.windowTitleChanged" class="function">windowTitleChanged</dd>
                <dd id="MasterWindow.windowIconChanged" class="function">windowIconChanged</dd>
                <dd id="MasterWindow.windowIconTextChanged" class="function">windowIconTextChanged</dd>
                <dd id="MasterWindow.customContextMenuRequested" class="function">customContextMenuRequested</dd>

            </div>
            <div><dt>PySide6.QtCore.QObject</dt>
                                <dd id="MasterWindow.blockSignals" class="function">blockSignals</dd>
                <dd id="MasterWindow.childEvent" class="function">childEvent</dd>
                <dd id="MasterWindow.children" class="function">children</dd>
                <dd id="MasterWindow.connect" class="function">connect</dd>
                <dd id="MasterWindow.connectNotify" class="function">connectNotify</dd>
                <dd id="MasterWindow.customEvent" class="function">customEvent</dd>
                <dd id="MasterWindow.deleteLater" class="function">deleteLater</dd>
                <dd id="MasterWindow.disconnect" class="function">disconnect</dd>
                <dd id="MasterWindow.disconnectNotify" class="function">disconnectNotify</dd>
                <dd id="MasterWindow.dumpObjectInfo" class="function">dumpObjectInfo</dd>
                <dd id="MasterWindow.dumpObjectTree" class="function">dumpObjectTree</dd>
                <dd id="MasterWindow.dynamicPropertyNames" class="function">dynamicPropertyNames</dd>
                <dd id="MasterWindow.emit" class="function">emit</dd>
                <dd id="MasterWindow.eventFilter" class="function">eventFilter</dd>
                <dd id="MasterWindow.findChild" class="function">findChild</dd>
                <dd id="MasterWindow.findChildren" class="function">findChildren</dd>
                <dd id="MasterWindow.inherits" class="function">inherits</dd>
                <dd id="MasterWindow.installEventFilter" class="function">installEventFilter</dd>
                <dd id="MasterWindow.isQuickItemType" class="function">isQuickItemType</dd>
                <dd id="MasterWindow.isSignalConnected" class="function">isSignalConnected</dd>
                <dd id="MasterWindow.isWidgetType" class="function">isWidgetType</dd>
                <dd id="MasterWindow.isWindowType" class="function">isWindowType</dd>
                <dd id="MasterWindow.killTimer" class="function">killTimer</dd>
                <dd id="MasterWindow.metaObject" class="function">metaObject</dd>
                <dd id="MasterWindow.moveToThread" class="function">moveToThread</dd>
                <dd id="MasterWindow.objectName" class="function">objectName</dd>
                <dd id="MasterWindow.parent" class="function">parent</dd>
                <dd id="MasterWindow.property" class="function">property</dd>
                <dd id="MasterWindow.receivers" class="function">receivers</dd>
                <dd id="MasterWindow.removeEventFilter" class="function">removeEventFilter</dd>
                <dd id="MasterWindow.sender" class="function">sender</dd>
                <dd id="MasterWindow.senderSignalIndex" class="function">senderSignalIndex</dd>
                <dd id="MasterWindow.setObjectName" class="function">setObjectName</dd>
                <dd id="MasterWindow.setProperty" class="function">setProperty</dd>
                <dd id="MasterWindow.signalsBlocked" class="function">signalsBlocked</dd>
                <dd id="MasterWindow.startTimer" class="function">startTimer</dd>
                <dd id="MasterWindow.thread" class="function">thread</dd>
                <dd id="MasterWindow.timerEvent" class="function">timerEvent</dd>
                <dd id="MasterWindow.tr" class="function">tr</dd>
                <dd id="MasterWindow.destroyed" class="function">destroyed</dd>
                <dd id="MasterWindow.objectNameChanged" class="function">objectNameChanged</dd>

            </div>
            <div><dt>PySide6.QtGui.QPaintDevice</dt>
                                <dd id="MasterWindow.colorCount" class="function">colorCount</dd>
                <dd id="MasterWindow.depth" class="function">depth</dd>
                <dd id="MasterWindow.devicePixelRatio" class="function">devicePixelRatio</dd>
                <dd id="MasterWindow.devicePixelRatioF" class="function">devicePixelRatioF</dd>
                <dd id="MasterWindow.devicePixelRatioFScale" class="function">devicePixelRatioFScale</dd>
                <dd id="MasterWindow.heightMM" class="function">heightMM</dd>
                <dd id="MasterWindow.logicalDpiX" class="function">logicalDpiX</dd>
                <dd id="MasterWindow.logicalDpiY" class="function">logicalDpiY</dd>
                <dd id="MasterWindow.paintingActive" class="function">paintingActive</dd>
                <dd id="MasterWindow.physicalDpiX" class="function">physicalDpiX</dd>
                <dd id="MasterWindow.physicalDpiY" class="function">physicalDpiY</dd>
                <dd id="MasterWindow.widthMM" class="function">widthMM</dd>
                <dd id="MasterWindow.painters" class="variable">painters</dd>
                <dd id="MasterWindow.PaintDeviceMetric" class="class">PaintDeviceMetric</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="JuegoWindow">
                            <input id="JuegoWindow-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">JuegoWindow</span><wbr>(<span class="base">PySide6.QtWidgets.QMainWindow</span>, <span class="base">ui_juego.Ui_MainWindow</span>):

                <label class="view-source-button" for="JuegoWindow-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow-423"><a href="#JuegoWindow-423"><span class="linenos"> 423</span></a><span class="k">class</span> <span class="nc">JuegoWindow</span><span class="p">(</span><span class="n">QMainWindow</span><span class="p">,</span> <span class="n">Ui_MainWindow</span><span class="p">):</span>
</span><span id="JuegoWindow-424"><a href="#JuegoWindow-424"><span class="linenos"> 424</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-425"><a href="#JuegoWindow-425"><span class="linenos"> 425</span></a><span class="sd">    Ventana principal del juego que gestiona la interfaz del usuario y las interacciones del juego.</span>
</span><span id="JuegoWindow-426"><a href="#JuegoWindow-426"><span class="linenos"> 426</span></a>
</span><span id="JuegoWindow-427"><a href="#JuegoWindow-427"><span class="linenos"> 427</span></a><span class="sd">    Hereda de QMainWindow y Ui_MainWindow para proporcionar la funcionalidad de una ventana principal</span>
</span><span id="JuegoWindow-428"><a href="#JuegoWindow-428"><span class="linenos"> 428</span></a><span class="sd">    y usar el diseño definido en Ui_MainWindow.</span>
</span><span id="JuegoWindow-429"><a href="#JuegoWindow-429"><span class="linenos"> 429</span></a>
</span><span id="JuegoWindow-430"><a href="#JuegoWindow-430"><span class="linenos"> 430</span></a><span class="sd">    Atributos:</span>
</span><span id="JuegoWindow-431"><a href="#JuegoWindow-431"><span class="linenos"> 431</span></a><span class="sd">    ----------</span>
</span><span id="JuegoWindow-432"><a href="#JuegoWindow-432"><span class="linenos"> 432</span></a><span class="sd">    nombre_sala : QLabel</span>
</span><span id="JuegoWindow-433"><a href="#JuegoWindow-433"><span class="linenos"> 433</span></a><span class="sd">        Etiqueta que muestra el nombre de la sala actual del juego.</span>
</span><span id="JuegoWindow-434"><a href="#JuegoWindow-434"><span class="linenos"> 434</span></a><span class="sd">    contador_giros : int</span>
</span><span id="JuegoWindow-435"><a href="#JuegoWindow-435"><span class="linenos"> 435</span></a><span class="sd">        Contador para llevar la cuenta de las acciones realizadas en el juego.</span>
</span><span id="JuegoWindow-436"><a href="#JuegoWindow-436"><span class="linenos"> 436</span></a><span class="sd">    animations : dict</span>
</span><span id="JuegoWindow-437"><a href="#JuegoWindow-437"><span class="linenos"> 437</span></a><span class="sd">        Diccionario que mapea índices a rutas de imágenes para diferentes fondos de pantalla.</span>
</span><span id="JuegoWindow-438"><a href="#JuegoWindow-438"><span class="linenos"> 438</span></a><span class="sd">    tabla_personajes_agregada : bool</span>
</span><span id="JuegoWindow-439"><a href="#JuegoWindow-439"><span class="linenos"> 439</span></a><span class="sd">        Bandera para verificar si la tabla de personajes ha sido agregada a la interfaz.</span>
</span><span id="JuegoWindow-440"><a href="#JuegoWindow-440"><span class="linenos"> 440</span></a>
</span><span id="JuegoWindow-441"><a href="#JuegoWindow-441"><span class="linenos"> 441</span></a><span class="sd">    Métodos:</span>
</span><span id="JuegoWindow-442"><a href="#JuegoWindow-442"><span class="linenos"> 442</span></a><span class="sd">    --------</span>
</span><span id="JuegoWindow-443"><a href="#JuegoWindow-443"><span class="linenos"> 443</span></a><span class="sd">    __init__(self, nombre_sala, parent=None):</span>
</span><span id="JuegoWindow-444"><a href="#JuegoWindow-444"><span class="linenos"> 444</span></a><span class="sd">        Inicializa la ventana principal del juego y configura la interfaz de usuario.</span>
</span><span id="JuegoWindow-445"><a href="#JuegoWindow-445"><span class="linenos"> 445</span></a>
</span><span id="JuegoWindow-446"><a href="#JuegoWindow-446"><span class="linenos"> 446</span></a><span class="sd">    ventana_dados(self):</span>
</span><span id="JuegoWindow-447"><a href="#JuegoWindow-447"><span class="linenos"> 447</span></a><span class="sd">        Abre una nueva ventana para lanzar dados.</span>
</span><span id="JuegoWindow-448"><a href="#JuegoWindow-448"><span class="linenos"> 448</span></a>
</span><span id="JuegoWindow-449"><a href="#JuegoWindow-449"><span class="linenos"> 449</span></a><span class="sd">    mision_seleccionada(self):</span>
</span><span id="JuegoWindow-450"><a href="#JuegoWindow-450"><span class="linenos"> 450</span></a><span class="sd">        Busca una misión por su nombre en la base de datos y muestra el resultado.</span>
</span><span id="JuegoWindow-451"><a href="#JuegoWindow-451"><span class="linenos"> 451</span></a>
</span><span id="JuegoWindow-452"><a href="#JuegoWindow-452"><span class="linenos"> 452</span></a><span class="sd">    mostrar_mision_resultado(self, snapshot):</span>
</span><span id="JuegoWindow-453"><a href="#JuegoWindow-453"><span class="linenos"> 453</span></a><span class="sd">        Muestra los detalles de la misión encontrada en la búsqueda.</span>
</span><span id="JuegoWindow-454"><a href="#JuegoWindow-454"><span class="linenos"> 454</span></a>
</span><span id="JuegoWindow-455"><a href="#JuegoWindow-455"><span class="linenos"> 455</span></a><span class="sd">    manejar_error_mision(self, error):</span>
</span><span id="JuegoWindow-456"><a href="#JuegoWindow-456"><span class="linenos"> 456</span></a><span class="sd">        Muestra un mensaje de error si ocurre un problema durante la búsqueda de una misión.</span>
</span><span id="JuegoWindow-457"><a href="#JuegoWindow-457"><span class="linenos"> 457</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-458"><a href="#JuegoWindow-458"><span class="linenos"> 458</span></a>
</span><span id="JuegoWindow-459"><a href="#JuegoWindow-459"><span class="linenos"> 459</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre_sala</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="JuegoWindow-460"><a href="#JuegoWindow-460"><span class="linenos"> 460</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-461"><a href="#JuegoWindow-461"><span class="linenos"> 461</span></a><span class="sd">        Inicializa la ventana principal del juego y configura la interfaz de usuario.</span>
</span><span id="JuegoWindow-462"><a href="#JuegoWindow-462"><span class="linenos"> 462</span></a>
</span><span id="JuegoWindow-463"><a href="#JuegoWindow-463"><span class="linenos"> 463</span></a><span class="sd">        Parámetros:</span>
</span><span id="JuegoWindow-464"><a href="#JuegoWindow-464"><span class="linenos"> 464</span></a><span class="sd">        -----------</span>
</span><span id="JuegoWindow-465"><a href="#JuegoWindow-465"><span class="linenos"> 465</span></a><span class="sd">        nombre_sala : str</span>
</span><span id="JuegoWindow-466"><a href="#JuegoWindow-466"><span class="linenos"> 466</span></a><span class="sd">            El nombre de la sala actual del juego que se mostrará en la interfaz.</span>
</span><span id="JuegoWindow-467"><a href="#JuegoWindow-467"><span class="linenos"> 467</span></a><span class="sd">        parent : QWidget, opcional</span>
</span><span id="JuegoWindow-468"><a href="#JuegoWindow-468"><span class="linenos"> 468</span></a><span class="sd">            El widget padre para esta ventana. Por defecto es None.</span>
</span><span id="JuegoWindow-469"><a href="#JuegoWindow-469"><span class="linenos"> 469</span></a>
</span><span id="JuegoWindow-470"><a href="#JuegoWindow-470"><span class="linenos"> 470</span></a><span class="sd">        Configura los botones, conexiones de señales y otros elementos de la interfaz de usuario.</span>
</span><span id="JuegoWindow-471"><a href="#JuegoWindow-471"><span class="linenos"> 471</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-472"><a href="#JuegoWindow-472"><span class="linenos"> 472</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">JuegoWindow</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
</span><span id="JuegoWindow-473"><a href="#JuegoWindow-473"><span class="linenos"> 473</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow-474"><a href="#JuegoWindow-474"><span class="linenos"> 474</span></a>
</span><span id="JuegoWindow-475"><a href="#JuegoWindow-475"><span class="linenos"> 475</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nombre_sala</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="n">nombre_sala</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>  
</span><span id="JuegoWindow-476"><a href="#JuegoWindow-476"><span class="linenos"> 476</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Juego - Sala: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">nombre_sala</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>  
</span><span id="JuegoWindow-477"><a href="#JuegoWindow-477"><span class="linenos"> 477</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sala Actual: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">nombre_sala</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  
</span><span id="JuegoWindow-478"><a href="#JuegoWindow-478"><span class="linenos"> 478</span></a>
</span><span id="JuegoWindow-479"><a href="#JuegoWindow-479"><span class="linenos"> 479</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_envio_2</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">send_text_to_vita</span><span class="p">)</span>
</span><span id="JuegoWindow-480"><a href="#JuegoWindow-480"><span class="linenos"> 480</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_guardado</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">save_bitacora</span><span class="p">)</span>
</span><span id="JuegoWindow-481"><a href="#JuegoWindow-481"><span class="linenos"> 481</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_his</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">open_bitacora_history</span><span class="p">)</span>
</span><span id="JuegoWindow-482"><a href="#JuegoWindow-482"><span class="linenos"> 482</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_dados</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ventana_dados</span><span class="p">)</span>
</span><span id="JuegoWindow-483"><a href="#JuegoWindow-483"><span class="linenos"> 483</span></a>
</span><span id="JuegoWindow-484"><a href="#JuegoWindow-484"><span class="linenos"> 484</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_aleatorio</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mision_aleatoria</span><span class="p">)</span>
</span><span id="JuegoWindow-485"><a href="#JuegoWindow-485"><span class="linenos"> 485</span></a>
</span><span id="JuegoWindow-486"><a href="#JuegoWindow-486"><span class="linenos"> 486</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_m</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">show_pagina_1</span><span class="p">)</span>
</span><span id="JuegoWindow-487"><a href="#JuegoWindow-487"><span class="linenos"> 487</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_crear</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">show_pagina_2</span><span class="p">)</span>
</span><span id="JuegoWindow-488"><a href="#JuegoWindow-488"><span class="linenos"> 488</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_tpa</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">show_pagina_3</span><span class="p">)</span>
</span><span id="JuegoWindow-489"><a href="#JuegoWindow-489"><span class="linenos"> 489</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_md</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">show_pagina_4</span><span class="p">)</span>
</span><span id="JuegoWindow-490"><a href="#JuegoWindow-490"><span class="linenos"> 490</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_pp</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">show_pagina_5</span><span class="p">)</span>
</span><span id="JuegoWindow-491"><a href="#JuegoWindow-491"><span class="linenos"> 491</span></a>
</span><span id="JuegoWindow-492"><a href="#JuegoWindow-492"><span class="linenos"> 492</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">b_ms</span><span class="o">.</span><span class="n">returnPressed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mision_seleccionada</span><span class="p">)</span>
</span><span id="JuegoWindow-493"><a href="#JuegoWindow-493"><span class="linenos"> 493</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_mison</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mision_seleccionada</span><span class="p">)</span>
</span><span id="JuegoWindow-494"><a href="#JuegoWindow-494"><span class="linenos"> 494</span></a>
</span><span id="JuegoWindow-495"><a href="#JuegoWindow-495"><span class="linenos"> 495</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">contador_giros</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="JuegoWindow-496"><a href="#JuegoWindow-496"><span class="linenos"> 496</span></a>
</span><span id="JuegoWindow-497"><a href="#JuegoWindow-497"><span class="linenos"> 497</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">animations</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="JuegoWindow-498"><a href="#JuegoWindow-498"><span class="linenos"> 498</span></a>            <span class="mi">0</span><span class="p">:</span> <span class="s2">&quot;fondos/fantasia.jpg&quot;</span><span class="p">,</span>
</span><span id="JuegoWindow-499"><a href="#JuegoWindow-499"><span class="linenos"> 499</span></a>            <span class="mi">1</span><span class="p">:</span> <span class="s2">&quot;fondos/mundo flotante.jpg&quot;</span><span class="p">,</span>
</span><span id="JuegoWindow-500"><a href="#JuegoWindow-500"><span class="linenos"> 500</span></a>            <span class="mi">2</span><span class="p">:</span> <span class="s2">&quot;fondos/mundo funki.jpg&quot;</span><span class="p">,</span>
</span><span id="JuegoWindow-501"><a href="#JuegoWindow-501"><span class="linenos"> 501</span></a>            <span class="mi">3</span><span class="p">:</span> <span class="s2">&quot;fondos/reino desconocido.jpg&quot;</span><span class="p">,</span>
</span><span id="JuegoWindow-502"><a href="#JuegoWindow-502"><span class="linenos"> 502</span></a>            <span class="mi">4</span><span class="p">:</span> <span class="s2">&quot;fondos/jefe.webp&quot;</span><span class="p">,</span>
</span><span id="JuegoWindow-503"><a href="#JuegoWindow-503"><span class="linenos"> 503</span></a>            <span class="mi">5</span><span class="p">:</span> <span class="s2">&quot;fondos/jefe dragon.jpg&quot;</span><span class="p">,</span>
</span><span id="JuegoWindow-504"><a href="#JuegoWindow-504"><span class="linenos"> 504</span></a>            <span class="mi">6</span><span class="p">:</span> <span class="s2">&quot;fondos/cosmo.jpg&quot;</span><span class="p">,</span>
</span><span id="JuegoWindow-505"><a href="#JuegoWindow-505"><span class="linenos"> 505</span></a>        <span class="p">}</span>
</span><span id="JuegoWindow-506"><a href="#JuegoWindow-506"><span class="linenos"> 506</span></a>    
</span><span id="JuegoWindow-507"><a href="#JuegoWindow-507"><span class="linenos"> 507</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">comboBox_2</span><span class="o">.</span><span class="n">currentIndexChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cambio_etapa</span><span class="p">)</span>
</span><span id="JuegoWindow-508"><a href="#JuegoWindow-508"><span class="linenos"> 508</span></a>
</span><span id="JuegoWindow-509"><a href="#JuegoWindow-509"><span class="linenos"> 509</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Sala Actual: &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
</span><span id="JuegoWindow-510"><a href="#JuegoWindow-510"><span class="linenos"> 510</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes_agregada</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="JuegoWindow-511"><a href="#JuegoWindow-511"><span class="linenos"> 511</span></a>
</span><span id="JuegoWindow-512"><a href="#JuegoWindow-512"><span class="linenos"> 512</span></a>    <span class="k">def</span> <span class="nf">ventana_dados</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow-513"><a href="#JuegoWindow-513"><span class="linenos"> 513</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-514"><a href="#JuegoWindow-514"><span class="linenos"> 514</span></a><span class="sd">        Abre una nueva ventana para lanzar dados.</span>
</span><span id="JuegoWindow-515"><a href="#JuegoWindow-515"><span class="linenos"> 515</span></a>
</span><span id="JuegoWindow-516"><a href="#JuegoWindow-516"><span class="linenos"> 516</span></a><span class="sd">        Crea una instancia de DiceWindow y la muestra al usuario.</span>
</span><span id="JuegoWindow-517"><a href="#JuegoWindow-517"><span class="linenos"> 517</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-518"><a href="#JuegoWindow-518"><span class="linenos"> 518</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dice_window</span> <span class="o">=</span> <span class="n">DiceWindow</span><span class="p">()</span>
</span><span id="JuegoWindow-519"><a href="#JuegoWindow-519"><span class="linenos"> 519</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dice_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="JuegoWindow-520"><a href="#JuegoWindow-520"><span class="linenos"> 520</span></a>
</span><span id="JuegoWindow-521"><a href="#JuegoWindow-521"><span class="linenos"> 521</span></a>    <span class="k">def</span> <span class="nf">mision_seleccionada</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow-522"><a href="#JuegoWindow-522"><span class="linenos"> 522</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-523"><a href="#JuegoWindow-523"><span class="linenos"> 523</span></a><span class="sd">        Busca una misión por su nombre en la base de datos y muestra el resultado.</span>
</span><span id="JuegoWindow-524"><a href="#JuegoWindow-524"><span class="linenos"> 524</span></a>
</span><span id="JuegoWindow-525"><a href="#JuegoWindow-525"><span class="linenos"> 525</span></a><span class="sd">        Recupera el nombre de la misión desde un campo de texto, realiza una búsqueda en la colección de eventos</span>
</span><span id="JuegoWindow-526"><a href="#JuegoWindow-526"><span class="linenos"> 526</span></a><span class="sd">        en la base de datos y llama a `mostrar_mision_resultado` para mostrar los detalles de la misión encontrada.</span>
</span><span id="JuegoWindow-527"><a href="#JuegoWindow-527"><span class="linenos"> 527</span></a>
</span><span id="JuegoWindow-528"><a href="#JuegoWindow-528"><span class="linenos"> 528</span></a><span class="sd">        Si no se ingresa un nombre de misión o hay un error en la consulta, muestra un mensaje de advertencia o error.</span>
</span><span id="JuegoWindow-529"><a href="#JuegoWindow-529"><span class="linenos"> 529</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-530"><a href="#JuegoWindow-530"><span class="linenos"> 530</span></a>        <span class="n">nombre_mision</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_ms</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="JuegoWindow-531"><a href="#JuegoWindow-531"><span class="linenos"> 531</span></a>
</span><span id="JuegoWindow-532"><a href="#JuegoWindow-532"><span class="linenos"> 532</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">nombre_mision</span><span class="p">:</span>
</span><span id="JuegoWindow-533"><a href="#JuegoWindow-533"><span class="linenos"> 533</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Campo Vacío&#39;</span><span class="p">,</span> <span class="s1">&#39;Por favor, ingresa el nombre de la misión que deseas buscar.&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-534"><a href="#JuegoWindow-534"><span class="linenos"> 534</span></a>            <span class="k">return</span>
</span><span id="JuegoWindow-535"><a href="#JuegoWindow-535"><span class="linenos"> 535</span></a>
</span><span id="JuegoWindow-536"><a href="#JuegoWindow-536"><span class="linenos"> 536</span></a>        <span class="n">eventos_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;evento&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-537"><a href="#JuegoWindow-537"><span class="linenos"> 537</span></a>        <span class="n">query</span> <span class="o">=</span> <span class="n">eventos_ref</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s1">&#39;nombre&#39;</span><span class="p">,</span> <span class="s1">&#39;==&#39;</span><span class="p">,</span> <span class="n">nombre_mision</span><span class="p">)</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="JuegoWindow-538"><a href="#JuegoWindow-538"><span class="linenos"> 538</span></a>        
</span><span id="JuegoWindow-539"><a href="#JuegoWindow-539"><span class="linenos"> 539</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="JuegoWindow-540"><a href="#JuegoWindow-540"><span class="linenos"> 540</span></a>            <span class="n">snapshot</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</span><span id="JuegoWindow-541"><a href="#JuegoWindow-541"><span class="linenos"> 541</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_mision_resultado</span><span class="p">(</span><span class="n">snapshot</span><span class="p">)</span>
</span><span id="JuegoWindow-542"><a href="#JuegoWindow-542"><span class="linenos"> 542</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="JuegoWindow-543"><a href="#JuegoWindow-543"><span class="linenos"> 543</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">manejar_error_mision</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="JuegoWindow-544"><a href="#JuegoWindow-544"><span class="linenos"> 544</span></a>
</span><span id="JuegoWindow-545"><a href="#JuegoWindow-545"><span class="linenos"> 545</span></a>    <span class="k">def</span> <span class="nf">mostrar_mision_resultado</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">snapshot</span><span class="p">):</span>
</span><span id="JuegoWindow-546"><a href="#JuegoWindow-546"><span class="linenos"> 546</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-547"><a href="#JuegoWindow-547"><span class="linenos"> 547</span></a><span class="sd">        Muestra los detalles de la misión encontrada en la búsqueda.</span>
</span><span id="JuegoWindow-548"><a href="#JuegoWindow-548"><span class="linenos"> 548</span></a>
</span><span id="JuegoWindow-549"><a href="#JuegoWindow-549"><span class="linenos"> 549</span></a><span class="sd">        Parámetros:</span>
</span><span id="JuegoWindow-550"><a href="#JuegoWindow-550"><span class="linenos"> 550</span></a><span class="sd">        -----------</span>
</span><span id="JuegoWindow-551"><a href="#JuegoWindow-551"><span class="linenos"> 551</span></a><span class="sd">        snapshot : list</span>
</span><span id="JuegoWindow-552"><a href="#JuegoWindow-552"><span class="linenos"> 552</span></a><span class="sd">            Lista de documentos de misión obtenidos de la búsqueda en la base de datos.</span>
</span><span id="JuegoWindow-553"><a href="#JuegoWindow-553"><span class="linenos"> 553</span></a>
</span><span id="JuegoWindow-554"><a href="#JuegoWindow-554"><span class="linenos"> 554</span></a><span class="sd">        Si se encuentra una misión, extrae los detalles como nombre, descripción, condiciones y recompensa, </span>
</span><span id="JuegoWindow-555"><a href="#JuegoWindow-555"><span class="linenos"> 555</span></a><span class="sd">        y llama a `mostrar_ventana_mision_selec` para mostrar esos detalles al usuario.</span>
</span><span id="JuegoWindow-556"><a href="#JuegoWindow-556"><span class="linenos"> 556</span></a>
</span><span id="JuegoWindow-557"><a href="#JuegoWindow-557"><span class="linenos"> 557</span></a><span class="sd">        Si no se encuentra ninguna misión, muestra un mensaje de advertencia.</span>
</span><span id="JuegoWindow-558"><a href="#JuegoWindow-558"><span class="linenos"> 558</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-559"><a href="#JuegoWindow-559"><span class="linenos"> 559</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">snapshot</span><span class="p">:</span>
</span><span id="JuegoWindow-560"><a href="#JuegoWindow-560"><span class="linenos"> 560</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Misión No Encontrada&#39;</span><span class="p">,</span> <span class="s1">&#39;No se encontró ninguna misión con el nombre proporcionado.&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-561"><a href="#JuegoWindow-561"><span class="linenos"> 561</span></a>            <span class="k">return</span>
</span><span id="JuegoWindow-562"><a href="#JuegoWindow-562"><span class="linenos"> 562</span></a>
</span><span id="JuegoWindow-563"><a href="#JuegoWindow-563"><span class="linenos"> 563</span></a>        <span class="n">mision</span> <span class="o">=</span> <span class="n">snapshot</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</span><span id="JuegoWindow-564"><a href="#JuegoWindow-564"><span class="linenos"> 564</span></a>        <span class="n">nombre</span> <span class="o">=</span> <span class="n">mision</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;nombre&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-565"><a href="#JuegoWindow-565"><span class="linenos"> 565</span></a>        <span class="n">descripcion</span> <span class="o">=</span> <span class="n">mision</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;descripcion&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-566"><a href="#JuegoWindow-566"><span class="linenos"> 566</span></a>        <span class="n">condiciones</span> <span class="o">=</span> <span class="n">mision</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;condiciones&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-567"><a href="#JuegoWindow-567"><span class="linenos"> 567</span></a>        <span class="n">recompensa</span> <span class="o">=</span> <span class="n">mision</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;recompensa&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-568"><a href="#JuegoWindow-568"><span class="linenos"> 568</span></a>
</span><span id="JuegoWindow-569"><a href="#JuegoWindow-569"><span class="linenos"> 569</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_ventana_mision_selec</span><span class="p">(</span><span class="n">nombre</span><span class="p">,</span> <span class="n">descripcion</span><span class="p">,</span> <span class="n">condiciones</span><span class="p">,</span> <span class="n">recompensa</span><span class="p">)</span>
</span><span id="JuegoWindow-570"><a href="#JuegoWindow-570"><span class="linenos"> 570</span></a>
</span><span id="JuegoWindow-571"><a href="#JuegoWindow-571"><span class="linenos"> 571</span></a>    <span class="k">def</span> <span class="nf">manejar_error_mision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">error</span><span class="p">):</span>
</span><span id="JuegoWindow-572"><a href="#JuegoWindow-572"><span class="linenos"> 572</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-573"><a href="#JuegoWindow-573"><span class="linenos"> 573</span></a><span class="sd">        Muestra un mensaje de error si ocurre un problema durante la búsqueda de una misión.</span>
</span><span id="JuegoWindow-574"><a href="#JuegoWindow-574"><span class="linenos"> 574</span></a>
</span><span id="JuegoWindow-575"><a href="#JuegoWindow-575"><span class="linenos"> 575</span></a><span class="sd">        Parámetros:</span>
</span><span id="JuegoWindow-576"><a href="#JuegoWindow-576"><span class="linenos"> 576</span></a><span class="sd">        -----------</span>
</span><span id="JuegoWindow-577"><a href="#JuegoWindow-577"><span class="linenos"> 577</span></a><span class="sd">        error : Exception</span>
</span><span id="JuegoWindow-578"><a href="#JuegoWindow-578"><span class="linenos"> 578</span></a><span class="sd">            La excepción capturada durante la búsqueda de la misión.</span>
</span><span id="JuegoWindow-579"><a href="#JuegoWindow-579"><span class="linenos"> 579</span></a>
</span><span id="JuegoWindow-580"><a href="#JuegoWindow-580"><span class="linenos"> 580</span></a><span class="sd">        Muestra un mensaje crítico con detalles sobre el error.</span>
</span><span id="JuegoWindow-581"><a href="#JuegoWindow-581"><span class="linenos"> 581</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-582"><a href="#JuegoWindow-582"><span class="linenos"> 582</span></a>        <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error de Consulta&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Ocurrió un error al buscar la misión: </span><span class="si">{</span><span class="n">error</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-583"><a href="#JuegoWindow-583"><span class="linenos"> 583</span></a>
</span><span id="JuegoWindow-584"><a href="#JuegoWindow-584"><span class="linenos"> 584</span></a>
</span><span id="JuegoWindow-585"><a href="#JuegoWindow-585"><span class="linenos"> 585</span></a>    <span class="k">def</span> <span class="nf">mostrar_ventana_mision_selec</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre</span><span class="p">,</span> <span class="n">descripcion</span><span class="p">,</span> <span class="n">condiciones</span><span class="p">,</span> <span class="n">recompensa</span><span class="p">):</span>
</span><span id="JuegoWindow-586"><a href="#JuegoWindow-586"><span class="linenos"> 586</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-587"><a href="#JuegoWindow-587"><span class="linenos"> 587</span></a><span class="sd">        Muestra una ventana de misión con opciones de victoria o derrota.</span>
</span><span id="JuegoWindow-588"><a href="#JuegoWindow-588"><span class="linenos"> 588</span></a>
</span><span id="JuegoWindow-589"><a href="#JuegoWindow-589"><span class="linenos"> 589</span></a><span class="sd">        Parámetros:</span>
</span><span id="JuegoWindow-590"><a href="#JuegoWindow-590"><span class="linenos"> 590</span></a><span class="sd">        -----------</span>
</span><span id="JuegoWindow-591"><a href="#JuegoWindow-591"><span class="linenos"> 591</span></a><span class="sd">        nombre : str</span>
</span><span id="JuegoWindow-592"><a href="#JuegoWindow-592"><span class="linenos"> 592</span></a><span class="sd">            El nombre de la misión a mostrar.</span>
</span><span id="JuegoWindow-593"><a href="#JuegoWindow-593"><span class="linenos"> 593</span></a><span class="sd">        descripcion : str</span>
</span><span id="JuegoWindow-594"><a href="#JuegoWindow-594"><span class="linenos"> 594</span></a><span class="sd">            La descripción detallada de la misión.</span>
</span><span id="JuegoWindow-595"><a href="#JuegoWindow-595"><span class="linenos"> 595</span></a><span class="sd">        condiciones : str</span>
</span><span id="JuegoWindow-596"><a href="#JuegoWindow-596"><span class="linenos"> 596</span></a><span class="sd">            Las condiciones necesarias para completar la misión.</span>
</span><span id="JuegoWindow-597"><a href="#JuegoWindow-597"><span class="linenos"> 597</span></a><span class="sd">        recompensa : str</span>
</span><span id="JuegoWindow-598"><a href="#JuegoWindow-598"><span class="linenos"> 598</span></a><span class="sd">            La recompensa ofrecida por completar la misión.</span>
</span><span id="JuegoWindow-599"><a href="#JuegoWindow-599"><span class="linenos"> 599</span></a>
</span><span id="JuegoWindow-600"><a href="#JuegoWindow-600"><span class="linenos"> 600</span></a><span class="sd">        Esta función crea una ventana emergente (`QWidget`) que muestra la información de la misión actual, </span>
</span><span id="JuegoWindow-601"><a href="#JuegoWindow-601"><span class="linenos"> 601</span></a><span class="sd">        incluyendo su nombre, descripción, condiciones y recompensa. También proporciona dos botones para </span>
</span><span id="JuegoWindow-602"><a href="#JuegoWindow-602"><span class="linenos"> 602</span></a><span class="sd">        manejar el resultado de la misión: &quot;Victoria&quot; y &quot;Derrota&quot;.</span>
</span><span id="JuegoWindow-603"><a href="#JuegoWindow-603"><span class="linenos"> 603</span></a>
</span><span id="JuegoWindow-604"><a href="#JuegoWindow-604"><span class="linenos"> 604</span></a><span class="sd">        El botón &quot;Victoria&quot; llama a `victoria_mision_selec` con el nombre de la misión y la recompensa, </span>
</span><span id="JuegoWindow-605"><a href="#JuegoWindow-605"><span class="linenos"> 605</span></a><span class="sd">        mientras que el botón &quot;Derrota&quot; llama a `derrota_mision_selec`.</span>
</span><span id="JuegoWindow-606"><a href="#JuegoWindow-606"><span class="linenos"> 606</span></a>
</span><span id="JuegoWindow-607"><a href="#JuegoWindow-607"><span class="linenos"> 607</span></a><span class="sd">        La ventana se diseña con un fondo de pergamino y un estilo que recuerda al papel antiguo.</span>
</span><span id="JuegoWindow-608"><a href="#JuegoWindow-608"><span class="linenos"> 608</span></a>
</span><span id="JuegoWindow-609"><a href="#JuegoWindow-609"><span class="linenos"> 609</span></a><span class="sd">        Ejemplos:</span>
</span><span id="JuegoWindow-610"><a href="#JuegoWindow-610"><span class="linenos"> 610</span></a><span class="sd">        ---------</span>
</span><span id="JuegoWindow-611"><a href="#JuegoWindow-611"><span class="linenos"> 611</span></a><span class="sd">        &gt;&gt;&gt; self.mostrar_ventana_mision_selec(&quot;Misión de Prueba&quot;, &quot;Descripción de la misión&quot;, &quot;Condiciones necesarias&quot;, &quot;Recompensa obtenida&quot;)</span>
</span><span id="JuegoWindow-612"><a href="#JuegoWindow-612"><span class="linenos"> 612</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-613"><a href="#JuegoWindow-613"><span class="linenos"> 613</span></a>        <span class="n">mision_dialog</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
</span><span id="JuegoWindow-614"><a href="#JuegoWindow-614"><span class="linenos"> 614</span></a>        <span class="n">mision_dialog</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Misión&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow-615"><a href="#JuegoWindow-615"><span class="linenos"> 615</span></a>        <span class="n">mision_dialog</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-616"><a href="#JuegoWindow-616"><span class="linenos"> 616</span></a><span class="s2">        background-color: #f5f5dc; /* Color de fondo en caso de que la imagen no se cargue */</span>
</span><span id="JuegoWindow-617"><a href="#JuegoWindow-617"><span class="linenos"> 617</span></a><span class="s2">        color: #3e3e3e; /* Color del texto oscuro para buen contraste */</span>
</span><span id="JuegoWindow-618"><a href="#JuegoWindow-618"><span class="linenos"> 618</span></a><span class="s2">        border: 2px solid #8b4513; /* Borde marrón oscuro, como el pergamino envejecido */</span>
</span><span id="JuegoWindow-619"><a href="#JuegoWindow-619"><span class="linenos"> 619</span></a><span class="s2">        border-radius: 10px; /* Bordes redondeados */</span>
</span><span id="JuegoWindow-620"><a href="#JuegoWindow-620"><span class="linenos"> 620</span></a><span class="s2">        font-family: &#39;Times New Roman&#39;, serif; /* Fuente clásica que recuerda al papel antiguo */</span>
</span><span id="JuegoWindow-621"><a href="#JuegoWindow-621"><span class="linenos"> 621</span></a><span class="s2">        padding: 10px;</span>
</span><span id="JuegoWindow-622"><a href="#JuegoWindow-622"><span class="linenos"> 622</span></a><span class="s2">        background-image: url(&#39;fondos/31254.jpg&#39;);  /* Imagen de fondo de pergamino */</span>
</span><span id="JuegoWindow-623"><a href="#JuegoWindow-623"><span class="linenos"> 623</span></a><span class="s2">        background-repeat: repeat;  /* Repetir la imagen de fondo */</span>
</span><span id="JuegoWindow-624"><a href="#JuegoWindow-624"><span class="linenos"> 624</span></a><span class="s2">        background-size: cover;  /* Asegura que la imagen cubra toda la pantalla */</span>
</span><span id="JuegoWindow-625"><a href="#JuegoWindow-625"><span class="linenos"> 625</span></a><span class="s2">        background-position: center;  /* Centra la imagen */</span>
</span><span id="JuegoWindow-626"><a href="#JuegoWindow-626"><span class="linenos"> 626</span></a><span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow-627"><a href="#JuegoWindow-627"><span class="linenos"> 627</span></a>        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
</span><span id="JuegoWindow-628"><a href="#JuegoWindow-628"><span class="linenos"> 628</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>  
</span><span id="JuegoWindow-629"><a href="#JuegoWindow-629"><span class="linenos"> 629</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>  
</span><span id="JuegoWindow-630"><a href="#JuegoWindow-630"><span class="linenos"> 630</span></a>
</span><span id="JuegoWindow-631"><a href="#JuegoWindow-631"><span class="linenos"> 631</span></a>        <span class="n">sala_text</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow-632"><a href="#JuegoWindow-632"><span class="linenos"> 632</span></a>        <span class="n">evento_info</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nombre: </span><span class="si">{</span><span class="n">nombre</span><span class="si">}</span><span class="se">\n</span><span class="s2">Descripción:</span><span class="se">\n</span><span class="s2"> </span><span class="si">{</span><span class="n">descripcion</span><span class="si">}</span><span class="se">\n</span><span class="s2">Condiciones:</span><span class="se">\n</span><span class="si">{</span><span class="n">condiciones</span><span class="si">}</span><span class="se">\n</span><span class="s2">Recompensa:</span><span class="se">\n</span><span class="s2"> </span><span class="si">{</span><span class="n">recompensa</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow-633"><a href="#JuegoWindow-633"><span class="linenos"> 633</span></a>        <span class="n">evento_info</span><span class="o">.</span><span class="n">setWordWrap</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>  
</span><span id="JuegoWindow-634"><a href="#JuegoWindow-634"><span class="linenos"> 634</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">evento_info</span><span class="p">)</span>
</span><span id="JuegoWindow-635"><a href="#JuegoWindow-635"><span class="linenos"> 635</span></a>
</span><span id="JuegoWindow-636"><a href="#JuegoWindow-636"><span class="linenos"> 636</span></a>        <span class="n">btn_victoria</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Victoria&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow-637"><a href="#JuegoWindow-637"><span class="linenos"> 637</span></a>        <span class="n">btn_victoria</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;background-color: green; color: white;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow-638"><a href="#JuegoWindow-638"><span class="linenos"> 638</span></a>        <span class="n">btn_derrota</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Derrota&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow-639"><a href="#JuegoWindow-639"><span class="linenos"> 639</span></a>        <span class="n">btn_derrota</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;background-color: red; color: white;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow-640"><a href="#JuegoWindow-640"><span class="linenos"> 640</span></a>
</span><span id="JuegoWindow-641"><a href="#JuegoWindow-641"><span class="linenos"> 641</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn_victoria</span><span class="p">)</span>
</span><span id="JuegoWindow-642"><a href="#JuegoWindow-642"><span class="linenos"> 642</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn_derrota</span><span class="p">)</span>
</span><span id="JuegoWindow-643"><a href="#JuegoWindow-643"><span class="linenos"> 643</span></a>
</span><span id="JuegoWindow-644"><a href="#JuegoWindow-644"><span class="linenos"> 644</span></a>        <span class="n">mision_dialog</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
</span><span id="JuegoWindow-645"><a href="#JuegoWindow-645"><span class="linenos"> 645</span></a>        <span class="n">mision_dialog</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="JuegoWindow-646"><a href="#JuegoWindow-646"><span class="linenos"> 646</span></a>
</span><span id="JuegoWindow-647"><a href="#JuegoWindow-647"><span class="linenos"> 647</span></a>        <span class="n">btn_victoria</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">victoria_mision_selec</span><span class="p">(</span><span class="n">nombre</span><span class="p">,</span> <span class="n">recompensa</span><span class="p">,</span> <span class="n">mision_dialog</span><span class="p">))</span>
</span><span id="JuegoWindow-648"><a href="#JuegoWindow-648"><span class="linenos"> 648</span></a>        <span class="n">btn_derrota</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">derrota_mision_selec</span><span class="p">(</span><span class="n">mision_dialog</span><span class="p">))</span>
</span><span id="JuegoWindow-649"><a href="#JuegoWindow-649"><span class="linenos"> 649</span></a>
</span><span id="JuegoWindow-650"><a href="#JuegoWindow-650"><span class="linenos"> 650</span></a>    <span class="k">def</span> <span class="nf">victoria_mision_selec</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre</span><span class="p">,</span> <span class="n">recompensa</span><span class="p">,</span> <span class="n">dialog</span><span class="p">):</span>
</span><span id="JuegoWindow-651"><a href="#JuegoWindow-651"><span class="linenos"> 651</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-652"><a href="#JuegoWindow-652"><span class="linenos"> 652</span></a><span class="sd">        Maneja la victoria en la misión y guarda la recompensa.</span>
</span><span id="JuegoWindow-653"><a href="#JuegoWindow-653"><span class="linenos"> 653</span></a>
</span><span id="JuegoWindow-654"><a href="#JuegoWindow-654"><span class="linenos"> 654</span></a><span class="sd">        Parámetros:</span>
</span><span id="JuegoWindow-655"><a href="#JuegoWindow-655"><span class="linenos"> 655</span></a><span class="sd">        -----------</span>
</span><span id="JuegoWindow-656"><a href="#JuegoWindow-656"><span class="linenos"> 656</span></a><span class="sd">        nombre : str</span>
</span><span id="JuegoWindow-657"><a href="#JuegoWindow-657"><span class="linenos"> 657</span></a><span class="sd">            El nombre de la misión ganada.</span>
</span><span id="JuegoWindow-658"><a href="#JuegoWindow-658"><span class="linenos"> 658</span></a><span class="sd">        recompensa : str</span>
</span><span id="JuegoWindow-659"><a href="#JuegoWindow-659"><span class="linenos"> 659</span></a><span class="sd">            La recompensa obtenida por completar la misión.</span>
</span><span id="JuegoWindow-660"><a href="#JuegoWindow-660"><span class="linenos"> 660</span></a><span class="sd">        dialog : QWidget</span>
</span><span id="JuegoWindow-661"><a href="#JuegoWindow-661"><span class="linenos"> 661</span></a><span class="sd">            La ventana de misión que se debe cerrar después de manejar la victoria.</span>
</span><span id="JuegoWindow-662"><a href="#JuegoWindow-662"><span class="linenos"> 662</span></a>
</span><span id="JuegoWindow-663"><a href="#JuegoWindow-663"><span class="linenos"> 663</span></a><span class="sd">        Esta función cierra la ventana de misión (`dialog`) y llama a `guardar_recompensa` para registrar </span>
</span><span id="JuegoWindow-664"><a href="#JuegoWindow-664"><span class="linenos"> 664</span></a><span class="sd">        la recompensa de la misión ganada.</span>
</span><span id="JuegoWindow-665"><a href="#JuegoWindow-665"><span class="linenos"> 665</span></a>
</span><span id="JuegoWindow-666"><a href="#JuegoWindow-666"><span class="linenos"> 666</span></a><span class="sd">        Ejemplos:</span>
</span><span id="JuegoWindow-667"><a href="#JuegoWindow-667"><span class="linenos"> 667</span></a><span class="sd">        ---------</span>
</span><span id="JuegoWindow-668"><a href="#JuegoWindow-668"><span class="linenos"> 668</span></a><span class="sd">        &gt;&gt;&gt; self.victoria_mision_selec(&quot;Misión de Prueba&quot;, &quot;1000 Oro&quot;, mision_dialog)</span>
</span><span id="JuegoWindow-669"><a href="#JuegoWindow-669"><span class="linenos"> 669</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-670"><a href="#JuegoWindow-670"><span class="linenos"> 670</span></a>        <span class="n">dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="JuegoWindow-671"><a href="#JuegoWindow-671"><span class="linenos"> 671</span></a>        
</span><span id="JuegoWindow-672"><a href="#JuegoWindow-672"><span class="linenos"> 672</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">guardar_recompensa</span><span class="p">(</span><span class="n">nombre</span><span class="p">,</span> <span class="n">recompensa</span><span class="p">)</span>
</span><span id="JuegoWindow-673"><a href="#JuegoWindow-673"><span class="linenos"> 673</span></a>
</span><span id="JuegoWindow-674"><a href="#JuegoWindow-674"><span class="linenos"> 674</span></a>    <span class="k">def</span> <span class="nf">derrota_mision_selec</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dialog</span><span class="p">):</span>
</span><span id="JuegoWindow-675"><a href="#JuegoWindow-675"><span class="linenos"> 675</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-676"><a href="#JuegoWindow-676"><span class="linenos"> 676</span></a><span class="sd">        Maneja la derrota en la misión y muestra la ventana de penalización.</span>
</span><span id="JuegoWindow-677"><a href="#JuegoWindow-677"><span class="linenos"> 677</span></a>
</span><span id="JuegoWindow-678"><a href="#JuegoWindow-678"><span class="linenos"> 678</span></a><span class="sd">        Parámetros:</span>
</span><span id="JuegoWindow-679"><a href="#JuegoWindow-679"><span class="linenos"> 679</span></a><span class="sd">        -----------</span>
</span><span id="JuegoWindow-680"><a href="#JuegoWindow-680"><span class="linenos"> 680</span></a><span class="sd">        dialog : QWidget</span>
</span><span id="JuegoWindow-681"><a href="#JuegoWindow-681"><span class="linenos"> 681</span></a><span class="sd">            La ventana de misión que se debe cerrar después de manejar la derrota.</span>
</span><span id="JuegoWindow-682"><a href="#JuegoWindow-682"><span class="linenos"> 682</span></a>
</span><span id="JuegoWindow-683"><a href="#JuegoWindow-683"><span class="linenos"> 683</span></a><span class="sd">        Esta función cierra la ventana de misión (`dialog`) y llama a `mostrar_penalizacion_selec` </span>
</span><span id="JuegoWindow-684"><a href="#JuegoWindow-684"><span class="linenos"> 684</span></a><span class="sd">        para mostrar la ventana de penalización al jugador.</span>
</span><span id="JuegoWindow-685"><a href="#JuegoWindow-685"><span class="linenos"> 685</span></a>
</span><span id="JuegoWindow-686"><a href="#JuegoWindow-686"><span class="linenos"> 686</span></a><span class="sd">        Ejemplos:</span>
</span><span id="JuegoWindow-687"><a href="#JuegoWindow-687"><span class="linenos"> 687</span></a><span class="sd">        ---------</span>
</span><span id="JuegoWindow-688"><a href="#JuegoWindow-688"><span class="linenos"> 688</span></a><span class="sd">        &gt;&gt;&gt; self.derrota_mision_selec(mision_dialog)</span>
</span><span id="JuegoWindow-689"><a href="#JuegoWindow-689"><span class="linenos"> 689</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-690"><a href="#JuegoWindow-690"><span class="linenos"> 690</span></a>        <span class="n">dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="JuegoWindow-691"><a href="#JuegoWindow-691"><span class="linenos"> 691</span></a>        
</span><span id="JuegoWindow-692"><a href="#JuegoWindow-692"><span class="linenos"> 692</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_penalizacion_selec</span><span class="p">()</span>
</span><span id="JuegoWindow-693"><a href="#JuegoWindow-693"><span class="linenos"> 693</span></a>
</span><span id="JuegoWindow-694"><a href="#JuegoWindow-694"><span class="linenos"> 694</span></a>    <span class="k">def</span> <span class="nf">mostrar_penalizacion_selec</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow-695"><a href="#JuegoWindow-695"><span class="linenos"> 695</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-696"><a href="#JuegoWindow-696"><span class="linenos"> 696</span></a><span class="sd">        Muestra una ventana de ruleta para elegir una penalización.</span>
</span><span id="JuegoWindow-697"><a href="#JuegoWindow-697"><span class="linenos"> 697</span></a>
</span><span id="JuegoWindow-698"><a href="#JuegoWindow-698"><span class="linenos"> 698</span></a><span class="sd">        Esta función crea una ventana emergente (`QWidget`) que muestra una penalización aleatoria </span>
</span><span id="JuegoWindow-699"><a href="#JuegoWindow-699"><span class="linenos"> 699</span></a><span class="sd">        obtenida de la base de datos. La ventana muestra el nombre, descripción, efecto y el lanzamiento </span>
</span><span id="JuegoWindow-700"><a href="#JuegoWindow-700"><span class="linenos"> 700</span></a><span class="sd">        de dado asociado a la penalización.</span>
</span><span id="JuegoWindow-701"><a href="#JuegoWindow-701"><span class="linenos"> 701</span></a>
</span><span id="JuegoWindow-702"><a href="#JuegoWindow-702"><span class="linenos"> 702</span></a><span class="sd">        La ventana se diseña con un fondo de pergamino y un estilo que recuerda al papel antiguo. </span>
</span><span id="JuegoWindow-703"><a href="#JuegoWindow-703"><span class="linenos"> 703</span></a><span class="sd">        También proporciona un botón para cerrar la ventana.</span>
</span><span id="JuegoWindow-704"><a href="#JuegoWindow-704"><span class="linenos"> 704</span></a>
</span><span id="JuegoWindow-705"><a href="#JuegoWindow-705"><span class="linenos"> 705</span></a><span class="sd">        Ejemplos:</span>
</span><span id="JuegoWindow-706"><a href="#JuegoWindow-706"><span class="linenos"> 706</span></a><span class="sd">        ---------</span>
</span><span id="JuegoWindow-707"><a href="#JuegoWindow-707"><span class="linenos"> 707</span></a><span class="sd">        &gt;&gt;&gt; self.mostrar_penalizacion_selec()</span>
</span><span id="JuegoWindow-708"><a href="#JuegoWindow-708"><span class="linenos"> 708</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-709"><a href="#JuegoWindow-709"><span class="linenos"> 709</span></a>        <span class="n">penalizacion_dialog</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
</span><span id="JuegoWindow-710"><a href="#JuegoWindow-710"><span class="linenos"> 710</span></a>        <span class="n">penalizacion_dialog</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Penalización&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow-711"><a href="#JuegoWindow-711"><span class="linenos"> 711</span></a>        <span class="n">penalizacion_dialog</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-712"><a href="#JuegoWindow-712"><span class="linenos"> 712</span></a><span class="s2">        background-color: #f5f5dc; /* Color de fondo en caso de que la imagen no se cargue */</span>
</span><span id="JuegoWindow-713"><a href="#JuegoWindow-713"><span class="linenos"> 713</span></a><span class="s2">        color: #3e3e3e; /* Color del texto oscuro para buen contraste */</span>
</span><span id="JuegoWindow-714"><a href="#JuegoWindow-714"><span class="linenos"> 714</span></a><span class="s2">        border: 2px solid #8b4513; /* Borde marrón oscuro, como el pergamino envejecido */</span>
</span><span id="JuegoWindow-715"><a href="#JuegoWindow-715"><span class="linenos"> 715</span></a><span class="s2">        border-radius: 10px; /* Bordes redondeados */</span>
</span><span id="JuegoWindow-716"><a href="#JuegoWindow-716"><span class="linenos"> 716</span></a><span class="s2">        font-family: &#39;Times New Roman&#39;, serif; /* Fuente clásica que recuerda al papel antiguo */</span>
</span><span id="JuegoWindow-717"><a href="#JuegoWindow-717"><span class="linenos"> 717</span></a><span class="s2">        padding: 10px;</span>
</span><span id="JuegoWindow-718"><a href="#JuegoWindow-718"><span class="linenos"> 718</span></a><span class="s2">        background-image: url(&#39;fondos/31254.jpg&#39;);  /* Imagen de fondo de pergamino */</span>
</span><span id="JuegoWindow-719"><a href="#JuegoWindow-719"><span class="linenos"> 719</span></a><span class="s2">        background-repeat: repeat;  /* Repetir la imagen de fondo */</span>
</span><span id="JuegoWindow-720"><a href="#JuegoWindow-720"><span class="linenos"> 720</span></a><span class="s2">        background-size: cover;  /* Asegura que la imagen cubra toda la pantalla */</span>
</span><span id="JuegoWindow-721"><a href="#JuegoWindow-721"><span class="linenos"> 721</span></a><span class="s2">        background-position: center;  /* Centra la imagen */</span>
</span><span id="JuegoWindow-722"><a href="#JuegoWindow-722"><span class="linenos"> 722</span></a><span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow-723"><a href="#JuegoWindow-723"><span class="linenos"> 723</span></a>        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
</span><span id="JuegoWindow-724"><a href="#JuegoWindow-724"><span class="linenos"> 724</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>  
</span><span id="JuegoWindow-725"><a href="#JuegoWindow-725"><span class="linenos"> 725</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span> 
</span><span id="JuegoWindow-726"><a href="#JuegoWindow-726"><span class="linenos"> 726</span></a>
</span><span id="JuegoWindow-727"><a href="#JuegoWindow-727"><span class="linenos"> 727</span></a>        <span class="n">sala_text</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sala Actual: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow-728"><a href="#JuegoWindow-728"><span class="linenos"> 728</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">sala_text</span><span class="p">)</span>
</span><span id="JuegoWindow-729"><a href="#JuegoWindow-729"><span class="linenos"> 729</span></a>
</span><span id="JuegoWindow-730"><a href="#JuegoWindow-730"><span class="linenos"> 730</span></a>        <span class="n">penalizaciones_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;penalizaciones&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-731"><a href="#JuegoWindow-731"><span class="linenos"> 731</span></a>        <span class="n">penalizaciones</span> <span class="o">=</span> <span class="n">penalizaciones_ref</span><span class="o">.</span><span class="n">stream</span><span class="p">()</span>
</span><span id="JuegoWindow-732"><a href="#JuegoWindow-732"><span class="linenos"> 732</span></a>        <span class="n">penalizacion_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">penalizacion</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">penalizacion</span> <span class="ow">in</span> <span class="n">penalizaciones</span><span class="p">]</span>
</span><span id="JuegoWindow-733"><a href="#JuegoWindow-733"><span class="linenos"> 733</span></a>
</span><span id="JuegoWindow-734"><a href="#JuegoWindow-734"><span class="linenos"> 734</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">penalizacion_list</span><span class="p">:</span>
</span><span id="JuegoWindow-735"><a href="#JuegoWindow-735"><span class="linenos"> 735</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Sin Penalizaciones&#39;</span><span class="p">,</span> <span class="s1">&#39;No hay penalizaciones disponibles en la base de datos.&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-736"><a href="#JuegoWindow-736"><span class="linenos"> 736</span></a>            <span class="k">return</span>
</span><span id="JuegoWindow-737"><a href="#JuegoWindow-737"><span class="linenos"> 737</span></a>
</span><span id="JuegoWindow-738"><a href="#JuegoWindow-738"><span class="linenos"> 738</span></a>        <span class="n">penalizacion</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">penalizacion_list</span><span class="p">)</span>
</span><span id="JuegoWindow-739"><a href="#JuegoWindow-739"><span class="linenos"> 739</span></a>        <span class="n">penalizacion_info</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nombre: </span><span class="si">{</span><span class="n">penalizacion</span><span class="p">[</span><span class="s1">&#39;nombre&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Descripción: </span><span class="si">{</span><span class="n">penalizacion</span><span class="p">[</span><span class="s1">&#39;descripcion&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Efecto: </span><span class="si">{</span><span class="n">penalizacion</span><span class="p">[</span><span class="s1">&#39;efecto&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Lanzamiento Dado: </span><span class="si">{</span><span class="n">penalizacion</span><span class="p">[</span><span class="s1">&#39;lanzamiento_dado&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow-740"><a href="#JuegoWindow-740"><span class="linenos"> 740</span></a>        <span class="n">penalizacion_info</span><span class="o">.</span><span class="n">setWordWrap</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>  
</span><span id="JuegoWindow-741"><a href="#JuegoWindow-741"><span class="linenos"> 741</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">penalizacion_info</span><span class="p">)</span>
</span><span id="JuegoWindow-742"><a href="#JuegoWindow-742"><span class="linenos"> 742</span></a>
</span><span id="JuegoWindow-743"><a href="#JuegoWindow-743"><span class="linenos"> 743</span></a>        <span class="n">btn_cerrar</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Cerrar&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow-744"><a href="#JuegoWindow-744"><span class="linenos"> 744</span></a>        <span class="n">btn_cerrar</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;background-color: red; color: white;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow-745"><a href="#JuegoWindow-745"><span class="linenos"> 745</span></a>
</span><span id="JuegoWindow-746"><a href="#JuegoWindow-746"><span class="linenos"> 746</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn_cerrar</span><span class="p">)</span>
</span><span id="JuegoWindow-747"><a href="#JuegoWindow-747"><span class="linenos"> 747</span></a>
</span><span id="JuegoWindow-748"><a href="#JuegoWindow-748"><span class="linenos"> 748</span></a>        <span class="n">penalizacion_dialog</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
</span><span id="JuegoWindow-749"><a href="#JuegoWindow-749"><span class="linenos"> 749</span></a>        <span class="n">penalizacion_dialog</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="JuegoWindow-750"><a href="#JuegoWindow-750"><span class="linenos"> 750</span></a>
</span><span id="JuegoWindow-751"><a href="#JuegoWindow-751"><span class="linenos"> 751</span></a>        <span class="n">btn_cerrar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">guardar_penalizacion_selec</span><span class="p">(</span><span class="n">penalizacion</span><span class="p">,</span> <span class="n">penalizacion_dialog</span><span class="p">))</span>
</span><span id="JuegoWindow-752"><a href="#JuegoWindow-752"><span class="linenos"> 752</span></a>    <span class="k">def</span> <span class="nf">guardar_penalizacion_selec</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">penalizacion</span><span class="p">,</span> <span class="n">dialog</span><span class="p">):</span>
</span><span id="JuegoWindow-753"><a href="#JuegoWindow-753"><span class="linenos"> 753</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-754"><a href="#JuegoWindow-754"><span class="linenos"> 754</span></a><span class="sd">        Guarda la penalización en la base de datos.</span>
</span><span id="JuegoWindow-755"><a href="#JuegoWindow-755"><span class="linenos"> 755</span></a>
</span><span id="JuegoWindow-756"><a href="#JuegoWindow-756"><span class="linenos"> 756</span></a><span class="sd">        Parámetros:</span>
</span><span id="JuegoWindow-757"><a href="#JuegoWindow-757"><span class="linenos"> 757</span></a><span class="sd">        -----------</span>
</span><span id="JuegoWindow-758"><a href="#JuegoWindow-758"><span class="linenos"> 758</span></a><span class="sd">        penalizacion : dict</span>
</span><span id="JuegoWindow-759"><a href="#JuegoWindow-759"><span class="linenos"> 759</span></a><span class="sd">            Diccionario con los detalles de la penalización. Debe contener al menos la clave &#39;descripcion&#39; con la descripción de la penalización.</span>
</span><span id="JuegoWindow-760"><a href="#JuegoWindow-760"><span class="linenos"> 760</span></a><span class="sd">        dialog : QWidget</span>
</span><span id="JuegoWindow-761"><a href="#JuegoWindow-761"><span class="linenos"> 761</span></a><span class="sd">            La ventana de penalización que se debe cerrar después de manejar la penalización.</span>
</span><span id="JuegoWindow-762"><a href="#JuegoWindow-762"><span class="linenos"> 762</span></a>
</span><span id="JuegoWindow-763"><a href="#JuegoWindow-763"><span class="linenos"> 763</span></a><span class="sd">        Esta función cierra la ventana de penalización (`dialog`) y actualiza el documento de la sala actual en </span>
</span><span id="JuegoWindow-764"><a href="#JuegoWindow-764"><span class="linenos"> 764</span></a><span class="sd">        la colección `PUNTOGUARDADO` con la descripción de la penalización. Si la actualización es exitosa, se </span>
</span><span id="JuegoWindow-765"><a href="#JuegoWindow-765"><span class="linenos"> 765</span></a><span class="sd">        muestra un mensaje de información; si ocurre un error, se muestra un mensaje de error.</span>
</span><span id="JuegoWindow-766"><a href="#JuegoWindow-766"><span class="linenos"> 766</span></a>
</span><span id="JuegoWindow-767"><a href="#JuegoWindow-767"><span class="linenos"> 767</span></a><span class="sd">        Ejemplos:</span>
</span><span id="JuegoWindow-768"><a href="#JuegoWindow-768"><span class="linenos"> 768</span></a><span class="sd">        ---------</span>
</span><span id="JuegoWindow-769"><a href="#JuegoWindow-769"><span class="linenos"> 769</span></a><span class="sd">        &gt;&gt;&gt; self.guardar_penalizacion_selec({&#39;descripcion&#39;: &#39;Pierdes 100 Oro&#39;}, penalizacion_dialog)</span>
</span><span id="JuegoWindow-770"><a href="#JuegoWindow-770"><span class="linenos"> 770</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-771"><a href="#JuegoWindow-771"><span class="linenos"> 771</span></a>        <span class="n">dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="JuegoWindow-772"><a href="#JuegoWindow-772"><span class="linenos"> 772</span></a>        <span class="n">sala</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Sala Actual: &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-773"><a href="#JuegoWindow-773"><span class="linenos"> 773</span></a>        <span class="n">doc_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;unico_</span><span class="si">{</span><span class="n">sala</span><span class="si">}</span><span class="s1">&#39;</span>
</span><span id="JuegoWindow-774"><a href="#JuegoWindow-774"><span class="linenos"> 774</span></a>
</span><span id="JuegoWindow-775"><a href="#JuegoWindow-775"><span class="linenos"> 775</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="JuegoWindow-776"><a href="#JuegoWindow-776"><span class="linenos"> 776</span></a>            <span class="n">doc_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;PUNTOGUARDADO&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">doc_id</span><span class="p">)</span>
</span><span id="JuegoWindow-777"><a href="#JuegoWindow-777"><span class="linenos"> 777</span></a>            <span class="n">doc_ref</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
</span><span id="JuegoWindow-778"><a href="#JuegoWindow-778"><span class="linenos"> 778</span></a>                <span class="s1">&#39;penalizacion&#39;</span><span class="p">:</span> <span class="n">penalizacion</span><span class="p">[</span><span class="s1">&#39;descripcion&#39;</span><span class="p">]</span>
</span><span id="JuegoWindow-779"><a href="#JuegoWindow-779"><span class="linenos"> 779</span></a>            <span class="p">})</span>
</span><span id="JuegoWindow-780"><a href="#JuegoWindow-780"><span class="linenos"> 780</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Penalización&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Penalización: </span><span class="si">{</span><span class="n">penalizacion</span><span class="p">[</span><span class="s2">&quot;descripcion&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-781"><a href="#JuegoWindow-781"><span class="linenos"> 781</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="JuegoWindow-782"><a href="#JuegoWindow-782"><span class="linenos"> 782</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error de Actualización&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Ocurrió un error al guardar la penalización: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-783"><a href="#JuegoWindow-783"><span class="linenos"> 783</span></a>
</span><span id="JuegoWindow-784"><a href="#JuegoWindow-784"><span class="linenos"> 784</span></a>
</span><span id="JuegoWindow-785"><a href="#JuegoWindow-785"><span class="linenos"> 785</span></a>    <span class="k">def</span> <span class="nf">guardar_recompensa</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre</span><span class="p">,</span> <span class="n">recompensa</span><span class="p">):</span>
</span><span id="JuegoWindow-786"><a href="#JuegoWindow-786"><span class="linenos"> 786</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-787"><a href="#JuegoWindow-787"><span class="linenos"> 787</span></a><span class="sd">        Guarda la recompensa en la base de datos.</span>
</span><span id="JuegoWindow-788"><a href="#JuegoWindow-788"><span class="linenos"> 788</span></a>
</span><span id="JuegoWindow-789"><a href="#JuegoWindow-789"><span class="linenos"> 789</span></a><span class="sd">        Parámetros:</span>
</span><span id="JuegoWindow-790"><a href="#JuegoWindow-790"><span class="linenos"> 790</span></a><span class="sd">        -----------</span>
</span><span id="JuegoWindow-791"><a href="#JuegoWindow-791"><span class="linenos"> 791</span></a><span class="sd">        nombre : str</span>
</span><span id="JuegoWindow-792"><a href="#JuegoWindow-792"><span class="linenos"> 792</span></a><span class="sd">            El nombre de la misión ganada.</span>
</span><span id="JuegoWindow-793"><a href="#JuegoWindow-793"><span class="linenos"> 793</span></a><span class="sd">        recompensa : str</span>
</span><span id="JuegoWindow-794"><a href="#JuegoWindow-794"><span class="linenos"> 794</span></a><span class="sd">            La recompensa obtenida por completar la misión.</span>
</span><span id="JuegoWindow-795"><a href="#JuegoWindow-795"><span class="linenos"> 795</span></a>
</span><span id="JuegoWindow-796"><a href="#JuegoWindow-796"><span class="linenos"> 796</span></a><span class="sd">        Esta función actualiza el documento de la sala actual en la colección `PUNTOGUARDADO` con la recompensa </span>
</span><span id="JuegoWindow-797"><a href="#JuegoWindow-797"><span class="linenos"> 797</span></a><span class="sd">        obtenida por completar una misión. Si la actualización es exitosa, se muestra un mensaje de victoria; </span>
</span><span id="JuegoWindow-798"><a href="#JuegoWindow-798"><span class="linenos"> 798</span></a><span class="sd">        si ocurre un error, se muestra un mensaje de error.</span>
</span><span id="JuegoWindow-799"><a href="#JuegoWindow-799"><span class="linenos"> 799</span></a>
</span><span id="JuegoWindow-800"><a href="#JuegoWindow-800"><span class="linenos"> 800</span></a><span class="sd">        Ejemplos:</span>
</span><span id="JuegoWindow-801"><a href="#JuegoWindow-801"><span class="linenos"> 801</span></a><span class="sd">        ---------</span>
</span><span id="JuegoWindow-802"><a href="#JuegoWindow-802"><span class="linenos"> 802</span></a><span class="sd">        &gt;&gt;&gt; self.guardar_recompensa(&quot;Misión de Prueba&quot;, &quot;1000 Oro&quot;)</span>
</span><span id="JuegoWindow-803"><a href="#JuegoWindow-803"><span class="linenos"> 803</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-804"><a href="#JuegoWindow-804"><span class="linenos"> 804</span></a>        <span class="n">sala</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Sala Actual: &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-805"><a href="#JuegoWindow-805"><span class="linenos"> 805</span></a>        <span class="n">doc_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;unico_</span><span class="si">{</span><span class="n">sala</span><span class="si">}</span><span class="s1">&#39;</span>
</span><span id="JuegoWindow-806"><a href="#JuegoWindow-806"><span class="linenos"> 806</span></a>
</span><span id="JuegoWindow-807"><a href="#JuegoWindow-807"><span class="linenos"> 807</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="JuegoWindow-808"><a href="#JuegoWindow-808"><span class="linenos"> 808</span></a>            <span class="n">doc_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;PUNTOGUARDADO&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">doc_id</span><span class="p">)</span>
</span><span id="JuegoWindow-809"><a href="#JuegoWindow-809"><span class="linenos"> 809</span></a>            <span class="n">doc_ref</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
</span><span id="JuegoWindow-810"><a href="#JuegoWindow-810"><span class="linenos"> 810</span></a>                <span class="s1">&#39;recompensa&#39;</span><span class="p">:</span> <span class="n">recompensa</span>
</span><span id="JuegoWindow-811"><a href="#JuegoWindow-811"><span class="linenos"> 811</span></a>            <span class="p">})</span>
</span><span id="JuegoWindow-812"><a href="#JuegoWindow-812"><span class="linenos"> 812</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Victoria&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;¡Has ganado! Recompensa: </span><span class="si">{</span><span class="n">recompensa</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-813"><a href="#JuegoWindow-813"><span class="linenos"> 813</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="JuegoWindow-814"><a href="#JuegoWindow-814"><span class="linenos"> 814</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error de Actualización&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Ocurrió un error al guardar la recompensa: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-815"><a href="#JuegoWindow-815"><span class="linenos"> 815</span></a>
</span><span id="JuegoWindow-816"><a href="#JuegoWindow-816"><span class="linenos"> 816</span></a>
</span><span id="JuegoWindow-817"><a href="#JuegoWindow-817"><span class="linenos"> 817</span></a>    <span class="k">def</span> <span class="nf">mision_aleatoria</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow-818"><a href="#JuegoWindow-818"><span class="linenos"> 818</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-819"><a href="#JuegoWindow-819"><span class="linenos"> 819</span></a><span class="sd">        Selecciona una misión al azar de la base de datos y muestra la ruleta.</span>
</span><span id="JuegoWindow-820"><a href="#JuegoWindow-820"><span class="linenos"> 820</span></a>
</span><span id="JuegoWindow-821"><a href="#JuegoWindow-821"><span class="linenos"> 821</span></a><span class="sd">        Esta función obtiene una lista de eventos de la colección `evento` en la base de datos, elige uno al azar </span>
</span><span id="JuegoWindow-822"><a href="#JuegoWindow-822"><span class="linenos"> 822</span></a><span class="sd">        y llama al método `mostrar_ruleta` para presentar una ventana de ruleta con opciones de aceptar, rechazar </span>
</span><span id="JuegoWindow-823"><a href="#JuegoWindow-823"><span class="linenos"> 823</span></a><span class="sd">        o girar otra vez la ruleta.</span>
</span><span id="JuegoWindow-824"><a href="#JuegoWindow-824"><span class="linenos"> 824</span></a>
</span><span id="JuegoWindow-825"><a href="#JuegoWindow-825"><span class="linenos"> 825</span></a><span class="sd">        Ejemplos:</span>
</span><span id="JuegoWindow-826"><a href="#JuegoWindow-826"><span class="linenos"> 826</span></a><span class="sd">        ---------</span>
</span><span id="JuegoWindow-827"><a href="#JuegoWindow-827"><span class="linenos"> 827</span></a><span class="sd">        &gt;&gt;&gt; self.mision_aleatoria()</span>
</span><span id="JuegoWindow-828"><a href="#JuegoWindow-828"><span class="linenos"> 828</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-829"><a href="#JuegoWindow-829"><span class="linenos"> 829</span></a>        <span class="n">eventos_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;evento&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-830"><a href="#JuegoWindow-830"><span class="linenos"> 830</span></a>        <span class="n">eventos</span> <span class="o">=</span> <span class="n">eventos_ref</span><span class="o">.</span><span class="n">stream</span><span class="p">()</span>
</span><span id="JuegoWindow-831"><a href="#JuegoWindow-831"><span class="linenos"> 831</span></a>        <span class="n">evento_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">evento</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">evento</span> <span class="ow">in</span> <span class="n">eventos</span><span class="p">]</span>
</span><span id="JuegoWindow-832"><a href="#JuegoWindow-832"><span class="linenos"> 832</span></a>
</span><span id="JuegoWindow-833"><a href="#JuegoWindow-833"><span class="linenos"> 833</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">evento_list</span><span class="p">:</span>
</span><span id="JuegoWindow-834"><a href="#JuegoWindow-834"><span class="linenos"> 834</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Sin Eventos&#39;</span><span class="p">,</span> <span class="s1">&#39;No hay eventos disponibles en la base de datos.&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-835"><a href="#JuegoWindow-835"><span class="linenos"> 835</span></a>            <span class="k">return</span>
</span><span id="JuegoWindow-836"><a href="#JuegoWindow-836"><span class="linenos"> 836</span></a>
</span><span id="JuegoWindow-837"><a href="#JuegoWindow-837"><span class="linenos"> 837</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">evento_list</span> <span class="o">=</span> <span class="n">evento_list</span>
</span><span id="JuegoWindow-838"><a href="#JuegoWindow-838"><span class="linenos"> 838</span></a>        <span class="n">evento</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">evento_list</span><span class="p">)</span>
</span><span id="JuegoWindow-839"><a href="#JuegoWindow-839"><span class="linenos"> 839</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_ruleta</span><span class="p">(</span><span class="n">evento</span><span class="p">)</span>
</span><span id="JuegoWindow-840"><a href="#JuegoWindow-840"><span class="linenos"> 840</span></a>
</span><span id="JuegoWindow-841"><a href="#JuegoWindow-841"><span class="linenos"> 841</span></a>
</span><span id="JuegoWindow-842"><a href="#JuegoWindow-842"><span class="linenos"> 842</span></a>    <span class="k">def</span> <span class="nf">mostrar_ruleta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evento</span><span class="p">):</span>
</span><span id="JuegoWindow-843"><a href="#JuegoWindow-843"><span class="linenos"> 843</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-844"><a href="#JuegoWindow-844"><span class="linenos"> 844</span></a><span class="sd">        Muestra una ventana de ruleta con opciones de aceptar, rechazar o girar otra vez.</span>
</span><span id="JuegoWindow-845"><a href="#JuegoWindow-845"><span class="linenos"> 845</span></a>
</span><span id="JuegoWindow-846"><a href="#JuegoWindow-846"><span class="linenos"> 846</span></a><span class="sd">        Parámetros:</span>
</span><span id="JuegoWindow-847"><a href="#JuegoWindow-847"><span class="linenos"> 847</span></a><span class="sd">        -----------</span>
</span><span id="JuegoWindow-848"><a href="#JuegoWindow-848"><span class="linenos"> 848</span></a><span class="sd">        evento : dict</span>
</span><span id="JuegoWindow-849"><a href="#JuegoWindow-849"><span class="linenos"> 849</span></a><span class="sd">            Diccionario con los detalles del evento. Debe contener las claves &#39;nombre&#39;, &#39;descripcion&#39;, &#39;condiciones&#39;, </span>
</span><span id="JuegoWindow-850"><a href="#JuegoWindow-850"><span class="linenos"> 850</span></a><span class="sd">            y &#39;recompensa&#39; con la información de la misión.</span>
</span><span id="JuegoWindow-851"><a href="#JuegoWindow-851"><span class="linenos"> 851</span></a>
</span><span id="JuegoWindow-852"><a href="#JuegoWindow-852"><span class="linenos"> 852</span></a><span class="sd">        Esta función crea una ventana de diálogo que muestra los detalles del evento actual, incluyendo su nombre, </span>
</span><span id="JuegoWindow-853"><a href="#JuegoWindow-853"><span class="linenos"> 853</span></a><span class="sd">        descripción, condiciones y recompensa. También proporciona tres botones para manejar el evento: &quot;Aceptar&quot;, </span>
</span><span id="JuegoWindow-854"><a href="#JuegoWindow-854"><span class="linenos"> 854</span></a><span class="sd">        &quot;Rechazar&quot; y &quot;Girar Otra Vez&quot;. El botón &quot;Girar Otra Vez&quot; solo está habilitado si el número de giros es menor que 2.</span>
</span><span id="JuegoWindow-855"><a href="#JuegoWindow-855"><span class="linenos"> 855</span></a>
</span><span id="JuegoWindow-856"><a href="#JuegoWindow-856"><span class="linenos"> 856</span></a><span class="sd">        Ejemplos:</span>
</span><span id="JuegoWindow-857"><a href="#JuegoWindow-857"><span class="linenos"> 857</span></a><span class="sd">        ---------</span>
</span><span id="JuegoWindow-858"><a href="#JuegoWindow-858"><span class="linenos"> 858</span></a><span class="sd">        &gt;&gt;&gt; self.mostrar_ruleta({&#39;nombre&#39;: &#39;Misión de Prueba&#39;, &#39;descripcion&#39;: &#39;Descripción de la misión&#39;, &#39;condiciones&#39;: &#39;Condiciones necesarias&#39;, &#39;recompensa&#39;: &#39;Recompensa obtenida&#39;})</span>
</span><span id="JuegoWindow-859"><a href="#JuegoWindow-859"><span class="linenos"> 859</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-860"><a href="#JuegoWindow-860"><span class="linenos"> 860</span></a>        <span class="n">ruleta_dialog</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
</span><span id="JuegoWindow-861"><a href="#JuegoWindow-861"><span class="linenos"> 861</span></a>        <span class="n">ruleta_dialog</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Ruleta de Eventos&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow-862"><a href="#JuegoWindow-862"><span class="linenos"> 862</span></a>        <span class="n">ruleta_dialog</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-863"><a href="#JuegoWindow-863"><span class="linenos"> 863</span></a><span class="s2">        background-color: #f5f5dc; /* Color de fondo en caso de que la imagen no se cargue */</span>
</span><span id="JuegoWindow-864"><a href="#JuegoWindow-864"><span class="linenos"> 864</span></a><span class="s2">        color: #3e3e3e; /* Color del texto oscuro para buen contraste */</span>
</span><span id="JuegoWindow-865"><a href="#JuegoWindow-865"><span class="linenos"> 865</span></a><span class="s2">        border: 2px solid #8b4513; /* Borde marrón oscuro, como el pergamino envejecido */</span>
</span><span id="JuegoWindow-866"><a href="#JuegoWindow-866"><span class="linenos"> 866</span></a><span class="s2">        border-radius: 10px; /* Bordes redondeados */</span>
</span><span id="JuegoWindow-867"><a href="#JuegoWindow-867"><span class="linenos"> 867</span></a><span class="s2">        font-family: &#39;Times New Roman&#39;, serif; /* Fuente clásica que recuerda al papel antiguo */</span>
</span><span id="JuegoWindow-868"><a href="#JuegoWindow-868"><span class="linenos"> 868</span></a><span class="s2">        padding: 10px;</span>
</span><span id="JuegoWindow-869"><a href="#JuegoWindow-869"><span class="linenos"> 869</span></a><span class="s2">        background-image: url(&#39;fondos/31254.jpg&#39;);  /* Imagen de fondo de pergamino */</span>
</span><span id="JuegoWindow-870"><a href="#JuegoWindow-870"><span class="linenos"> 870</span></a><span class="s2">        background-repeat: repeat;  /* Repetir la imagen de fondo */</span>
</span><span id="JuegoWindow-871"><a href="#JuegoWindow-871"><span class="linenos"> 871</span></a><span class="s2">        background-size: cover;  /* Asegura que la imagen cubra toda la pantalla */</span>
</span><span id="JuegoWindow-872"><a href="#JuegoWindow-872"><span class="linenos"> 872</span></a><span class="s2">        background-position: center;  /* Centra la imagen */</span>
</span><span id="JuegoWindow-873"><a href="#JuegoWindow-873"><span class="linenos"> 873</span></a><span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow-874"><a href="#JuegoWindow-874"><span class="linenos"> 874</span></a>        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
</span><span id="JuegoWindow-875"><a href="#JuegoWindow-875"><span class="linenos"> 875</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>  <span class="c1"># Agregar márgenes</span>
</span><span id="JuegoWindow-876"><a href="#JuegoWindow-876"><span class="linenos"> 876</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>  <span class="c1"># Agregar espaciado</span>
</span><span id="JuegoWindow-877"><a href="#JuegoWindow-877"><span class="linenos"> 877</span></a>
</span><span id="JuegoWindow-878"><a href="#JuegoWindow-878"><span class="linenos"> 878</span></a>        <span class="n">sala_text</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sala Actual: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow-879"><a href="#JuegoWindow-879"><span class="linenos"> 879</span></a>        <span class="n">evento_info</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nombre: </span><span class="si">{</span><span class="n">evento</span><span class="p">[</span><span class="s1">&#39;nombre&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Descripción:</span><span class="se">\n</span><span class="s2"> </span><span class="si">{</span><span class="n">evento</span><span class="p">[</span><span class="s1">&#39;descripcion&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Condiciones:</span><span class="se">\n</span><span class="s2"> </span><span class="si">{</span><span class="n">evento</span><span class="p">[</span><span class="s1">&#39;condiciones&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Recompensa:</span><span class="se">\n</span><span class="s2"> </span><span class="si">{</span><span class="n">evento</span><span class="p">[</span><span class="s1">&#39;recompensa&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow-880"><a href="#JuegoWindow-880"><span class="linenos"> 880</span></a>        <span class="n">evento_info</span><span class="o">.</span><span class="n">setWordWrap</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># Habilitar el ajuste de línea</span>
</span><span id="JuegoWindow-881"><a href="#JuegoWindow-881"><span class="linenos"> 881</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">sala_text</span><span class="p">)</span>
</span><span id="JuegoWindow-882"><a href="#JuegoWindow-882"><span class="linenos"> 882</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">evento_info</span><span class="p">)</span>
</span><span id="JuegoWindow-883"><a href="#JuegoWindow-883"><span class="linenos"> 883</span></a>
</span><span id="JuegoWindow-884"><a href="#JuegoWindow-884"><span class="linenos"> 884</span></a>        <span class="n">btn_aceptar</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Aceptar&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow-885"><a href="#JuegoWindow-885"><span class="linenos"> 885</span></a>        <span class="n">btn_aceptar</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;background-color: green; color: white;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow-886"><a href="#JuegoWindow-886"><span class="linenos"> 886</span></a>        <span class="n">btn_rechazar</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Rechazar&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow-887"><a href="#JuegoWindow-887"><span class="linenos"> 887</span></a>        <span class="n">btn_rechazar</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;background-color: red; color: white;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow-888"><a href="#JuegoWindow-888"><span class="linenos"> 888</span></a>        <span class="n">btn_girar</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Girar Otra Vez&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow-889"><a href="#JuegoWindow-889"><span class="linenos"> 889</span></a>        <span class="n">btn_girar</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;background-color: purple; color: white;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow-890"><a href="#JuegoWindow-890"><span class="linenos"> 890</span></a>        <span class="n">btn_girar</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">contador_giros</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="JuegoWindow-891"><a href="#JuegoWindow-891"><span class="linenos"> 891</span></a>
</span><span id="JuegoWindow-892"><a href="#JuegoWindow-892"><span class="linenos"> 892</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn_aceptar</span><span class="p">)</span>
</span><span id="JuegoWindow-893"><a href="#JuegoWindow-893"><span class="linenos"> 893</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn_rechazar</span><span class="p">)</span>
</span><span id="JuegoWindow-894"><a href="#JuegoWindow-894"><span class="linenos"> 894</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn_girar</span><span class="p">)</span>
</span><span id="JuegoWindow-895"><a href="#JuegoWindow-895"><span class="linenos"> 895</span></a>
</span><span id="JuegoWindow-896"><a href="#JuegoWindow-896"><span class="linenos"> 896</span></a>        <span class="n">ruleta_dialog</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
</span><span id="JuegoWindow-897"><a href="#JuegoWindow-897"><span class="linenos"> 897</span></a>        <span class="n">ruleta_dialog</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="JuegoWindow-898"><a href="#JuegoWindow-898"><span class="linenos"> 898</span></a>
</span><span id="JuegoWindow-899"><a href="#JuegoWindow-899"><span class="linenos"> 899</span></a>        <span class="n">btn_aceptar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">aceptar_mision</span><span class="p">(</span><span class="n">evento</span><span class="p">,</span> <span class="n">ruleta_dialog</span><span class="p">))</span>
</span><span id="JuegoWindow-900"><a href="#JuegoWindow-900"><span class="linenos"> 900</span></a>        <span class="n">btn_rechazar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">rechazar_mision</span><span class="p">(</span><span class="n">ruleta_dialog</span><span class="p">))</span>
</span><span id="JuegoWindow-901"><a href="#JuegoWindow-901"><span class="linenos"> 901</span></a>        <span class="n">btn_girar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">girar_otra_vez</span><span class="p">(</span><span class="n">btn_girar</span><span class="p">,</span> <span class="n">ruleta_dialog</span><span class="p">))</span>
</span><span id="JuegoWindow-902"><a href="#JuegoWindow-902"><span class="linenos"> 902</span></a>
</span><span id="JuegoWindow-903"><a href="#JuegoWindow-903"><span class="linenos"> 903</span></a>    <span class="k">def</span> <span class="nf">aceptar_mision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evento</span><span class="p">,</span> <span class="n">dialog</span><span class="p">):</span>
</span><span id="JuegoWindow-904"><a href="#JuegoWindow-904"><span class="linenos"> 904</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-905"><a href="#JuegoWindow-905"><span class="linenos"> 905</span></a><span class="sd">        Acepta la misión y muestra la ventana de victoria o derrota.</span>
</span><span id="JuegoWindow-906"><a href="#JuegoWindow-906"><span class="linenos"> 906</span></a>
</span><span id="JuegoWindow-907"><a href="#JuegoWindow-907"><span class="linenos"> 907</span></a><span class="sd">        Este método cierra el diálogo actual y llama a `mostrar_ventana_mision` para mostrar una nueva ventana </span>
</span><span id="JuegoWindow-908"><a href="#JuegoWindow-908"><span class="linenos"> 908</span></a><span class="sd">        con las opciones de victoria o derrota basadas en el evento de la misión aceptada.</span>
</span><span id="JuegoWindow-909"><a href="#JuegoWindow-909"><span class="linenos"> 909</span></a>
</span><span id="JuegoWindow-910"><a href="#JuegoWindow-910"><span class="linenos"> 910</span></a><span class="sd">        Parámetros:</span>
</span><span id="JuegoWindow-911"><a href="#JuegoWindow-911"><span class="linenos"> 911</span></a><span class="sd">        -----------</span>
</span><span id="JuegoWindow-912"><a href="#JuegoWindow-912"><span class="linenos"> 912</span></a><span class="sd">        evento : dict</span>
</span><span id="JuegoWindow-913"><a href="#JuegoWindow-913"><span class="linenos"> 913</span></a><span class="sd">            Diccionario con los detalles del evento. Debe contener las claves &#39;nombre&#39;, &#39;descripcion&#39;, &#39;condiciones&#39;, </span>
</span><span id="JuegoWindow-914"><a href="#JuegoWindow-914"><span class="linenos"> 914</span></a><span class="sd">            y &#39;recompensa&#39; con la información de la misión.</span>
</span><span id="JuegoWindow-915"><a href="#JuegoWindow-915"><span class="linenos"> 915</span></a><span class="sd">        dialog : QWidget</span>
</span><span id="JuegoWindow-916"><a href="#JuegoWindow-916"><span class="linenos"> 916</span></a><span class="sd">            La ventana de la ruleta que se debe cerrar después de aceptar la misión.</span>
</span><span id="JuegoWindow-917"><a href="#JuegoWindow-917"><span class="linenos"> 917</span></a>
</span><span id="JuegoWindow-918"><a href="#JuegoWindow-918"><span class="linenos"> 918</span></a><span class="sd">        Ejemplos:</span>
</span><span id="JuegoWindow-919"><a href="#JuegoWindow-919"><span class="linenos"> 919</span></a><span class="sd">        ---------</span>
</span><span id="JuegoWindow-920"><a href="#JuegoWindow-920"><span class="linenos"> 920</span></a><span class="sd">        &gt;&gt;&gt; self.aceptar_mision({&#39;nombre&#39;: &#39;Misión de Prueba&#39;, &#39;descripcion&#39;: &#39;Descripción de la misión&#39;, &#39;condiciones&#39;: &#39;Condiciones necesarias&#39;, &#39;recompensa&#39;: &#39;Recompensa obtenida&#39;}, ruleta_dialog)</span>
</span><span id="JuegoWindow-921"><a href="#JuegoWindow-921"><span class="linenos"> 921</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-922"><a href="#JuegoWindow-922"><span class="linenos"> 922</span></a>        <span class="n">dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="JuegoWindow-923"><a href="#JuegoWindow-923"><span class="linenos"> 923</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_ventana_mision</span><span class="p">(</span><span class="n">evento</span><span class="p">)</span>
</span><span id="JuegoWindow-924"><a href="#JuegoWindow-924"><span class="linenos"> 924</span></a>
</span><span id="JuegoWindow-925"><a href="#JuegoWindow-925"><span class="linenos"> 925</span></a>
</span><span id="JuegoWindow-926"><a href="#JuegoWindow-926"><span class="linenos"> 926</span></a>    <span class="k">def</span> <span class="nf">rechazar_mision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dialog</span><span class="p">):</span>
</span><span id="JuegoWindow-927"><a href="#JuegoWindow-927"><span class="linenos"> 927</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-928"><a href="#JuegoWindow-928"><span class="linenos"> 928</span></a><span class="sd">        Rechaza la misión y muestra la ventana de penalización.</span>
</span><span id="JuegoWindow-929"><a href="#JuegoWindow-929"><span class="linenos"> 929</span></a>
</span><span id="JuegoWindow-930"><a href="#JuegoWindow-930"><span class="linenos"> 930</span></a><span class="sd">        Este método cierra el diálogo actual y llama a `mostrar_penalizacion` para mostrar una nueva ventana </span>
</span><span id="JuegoWindow-931"><a href="#JuegoWindow-931"><span class="linenos"> 931</span></a><span class="sd">        donde se puede definir una penalización por rechazar la misión.</span>
</span><span id="JuegoWindow-932"><a href="#JuegoWindow-932"><span class="linenos"> 932</span></a>
</span><span id="JuegoWindow-933"><a href="#JuegoWindow-933"><span class="linenos"> 933</span></a><span class="sd">        Parámetros:</span>
</span><span id="JuegoWindow-934"><a href="#JuegoWindow-934"><span class="linenos"> 934</span></a><span class="sd">        -----------</span>
</span><span id="JuegoWindow-935"><a href="#JuegoWindow-935"><span class="linenos"> 935</span></a><span class="sd">        dialog : QWidget</span>
</span><span id="JuegoWindow-936"><a href="#JuegoWindow-936"><span class="linenos"> 936</span></a><span class="sd">            La ventana de la ruleta que se debe cerrar después de rechazar la misión.</span>
</span><span id="JuegoWindow-937"><a href="#JuegoWindow-937"><span class="linenos"> 937</span></a>
</span><span id="JuegoWindow-938"><a href="#JuegoWindow-938"><span class="linenos"> 938</span></a><span class="sd">        Ejemplos:</span>
</span><span id="JuegoWindow-939"><a href="#JuegoWindow-939"><span class="linenos"> 939</span></a><span class="sd">        ---------</span>
</span><span id="JuegoWindow-940"><a href="#JuegoWindow-940"><span class="linenos"> 940</span></a><span class="sd">        &gt;&gt;&gt; self.rechazar_mision(ruleta_dialog)</span>
</span><span id="JuegoWindow-941"><a href="#JuegoWindow-941"><span class="linenos"> 941</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-942"><a href="#JuegoWindow-942"><span class="linenos"> 942</span></a>        <span class="n">dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="JuegoWindow-943"><a href="#JuegoWindow-943"><span class="linenos"> 943</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_penalizacion</span><span class="p">()</span>
</span><span id="JuegoWindow-944"><a href="#JuegoWindow-944"><span class="linenos"> 944</span></a>
</span><span id="JuegoWindow-945"><a href="#JuegoWindow-945"><span class="linenos"> 945</span></a>
</span><span id="JuegoWindow-946"><a href="#JuegoWindow-946"><span class="linenos"> 946</span></a>    <span class="k">def</span> <span class="nf">girar_otra_vez</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">btn_girar</span><span class="p">,</span> <span class="n">dialog</span><span class="p">):</span>
</span><span id="JuegoWindow-947"><a href="#JuegoWindow-947"><span class="linenos"> 947</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-948"><a href="#JuegoWindow-948"><span class="linenos"> 948</span></a><span class="sd">        Permite girar la ruleta otra vez, con un máximo de 2 giros.</span>
</span><span id="JuegoWindow-949"><a href="#JuegoWindow-949"><span class="linenos"> 949</span></a>
</span><span id="JuegoWindow-950"><a href="#JuegoWindow-950"><span class="linenos"> 950</span></a><span class="sd">        Este método incrementa el contador de giros y selecciona un nuevo evento de la lista de eventos. Si el número </span>
</span><span id="JuegoWindow-951"><a href="#JuegoWindow-951"><span class="linenos"> 951</span></a><span class="sd">        de giros alcanza 2, deshabilita el botón para girar nuevamente.</span>
</span><span id="JuegoWindow-952"><a href="#JuegoWindow-952"><span class="linenos"> 952</span></a>
</span><span id="JuegoWindow-953"><a href="#JuegoWindow-953"><span class="linenos"> 953</span></a><span class="sd">        Parámetros:</span>
</span><span id="JuegoWindow-954"><a href="#JuegoWindow-954"><span class="linenos"> 954</span></a><span class="sd">        -----------</span>
</span><span id="JuegoWindow-955"><a href="#JuegoWindow-955"><span class="linenos"> 955</span></a><span class="sd">        btn_girar : QPushButton</span>
</span><span id="JuegoWindow-956"><a href="#JuegoWindow-956"><span class="linenos"> 956</span></a><span class="sd">            El botón para girar la ruleta que se deshabilitará si se alcanza el límite de giros.</span>
</span><span id="JuegoWindow-957"><a href="#JuegoWindow-957"><span class="linenos"> 957</span></a><span class="sd">        dialog : QWidget</span>
</span><span id="JuegoWindow-958"><a href="#JuegoWindow-958"><span class="linenos"> 958</span></a><span class="sd">            La ventana de la ruleta que se debe cerrar después de girar nuevamente.</span>
</span><span id="JuegoWindow-959"><a href="#JuegoWindow-959"><span class="linenos"> 959</span></a>
</span><span id="JuegoWindow-960"><a href="#JuegoWindow-960"><span class="linenos"> 960</span></a><span class="sd">        Ejemplos:</span>
</span><span id="JuegoWindow-961"><a href="#JuegoWindow-961"><span class="linenos"> 961</span></a><span class="sd">        ---------</span>
</span><span id="JuegoWindow-962"><a href="#JuegoWindow-962"><span class="linenos"> 962</span></a><span class="sd">        &gt;&gt;&gt; self.girar_otra_vez(btn_girar, ruleta_dialog)</span>
</span><span id="JuegoWindow-963"><a href="#JuegoWindow-963"><span class="linenos"> 963</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-964"><a href="#JuegoWindow-964"><span class="linenos"> 964</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">contador_giros</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="JuegoWindow-965"><a href="#JuegoWindow-965"><span class="linenos"> 965</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">contador_giros</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="JuegoWindow-966"><a href="#JuegoWindow-966"><span class="linenos"> 966</span></a>            <span class="n">btn_girar</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="JuegoWindow-967"><a href="#JuegoWindow-967"><span class="linenos"> 967</span></a>
</span><span id="JuegoWindow-968"><a href="#JuegoWindow-968"><span class="linenos"> 968</span></a>        <span class="n">evento</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">evento_list</span><span class="p">)</span>  <span class="c1"># Seleccionar un nuevo evento</span>
</span><span id="JuegoWindow-969"><a href="#JuegoWindow-969"><span class="linenos"> 969</span></a>        <span class="n">dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="JuegoWindow-970"><a href="#JuegoWindow-970"><span class="linenos"> 970</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_ruleta</span><span class="p">(</span><span class="n">evento</span><span class="p">)</span>
</span><span id="JuegoWindow-971"><a href="#JuegoWindow-971"><span class="linenos"> 971</span></a>
</span><span id="JuegoWindow-972"><a href="#JuegoWindow-972"><span class="linenos"> 972</span></a>
</span><span id="JuegoWindow-973"><a href="#JuegoWindow-973"><span class="linenos"> 973</span></a>    <span class="k">def</span> <span class="nf">mostrar_ventana_mision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evento</span><span class="p">):</span>
</span><span id="JuegoWindow-974"><a href="#JuegoWindow-974"><span class="linenos"> 974</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-975"><a href="#JuegoWindow-975"><span class="linenos"> 975</span></a><span class="sd">        Muestra la ventana de misión con opciones de victoria o derrota.</span>
</span><span id="JuegoWindow-976"><a href="#JuegoWindow-976"><span class="linenos"> 976</span></a>
</span><span id="JuegoWindow-977"><a href="#JuegoWindow-977"><span class="linenos"> 977</span></a><span class="sd">        Este método crea una ventana de diálogo que muestra los detalles de la misión actual, incluyendo su nombre, </span>
</span><span id="JuegoWindow-978"><a href="#JuegoWindow-978"><span class="linenos"> 978</span></a><span class="sd">        descripción, condiciones y recompensa. También proporciona botones para aceptar la victoria o la derrota en </span>
</span><span id="JuegoWindow-979"><a href="#JuegoWindow-979"><span class="linenos"> 979</span></a><span class="sd">        la misión.</span>
</span><span id="JuegoWindow-980"><a href="#JuegoWindow-980"><span class="linenos"> 980</span></a>
</span><span id="JuegoWindow-981"><a href="#JuegoWindow-981"><span class="linenos"> 981</span></a><span class="sd">        Parámetros:</span>
</span><span id="JuegoWindow-982"><a href="#JuegoWindow-982"><span class="linenos"> 982</span></a><span class="sd">        -----------</span>
</span><span id="JuegoWindow-983"><a href="#JuegoWindow-983"><span class="linenos"> 983</span></a><span class="sd">        evento : dict</span>
</span><span id="JuegoWindow-984"><a href="#JuegoWindow-984"><span class="linenos"> 984</span></a><span class="sd">            Diccionario con los detalles del evento. Debe contener las claves &#39;nombre&#39;, &#39;descripcion&#39;, &#39;condiciones&#39;, </span>
</span><span id="JuegoWindow-985"><a href="#JuegoWindow-985"><span class="linenos"> 985</span></a><span class="sd">            y &#39;recompensa&#39; con la información de la misión.</span>
</span><span id="JuegoWindow-986"><a href="#JuegoWindow-986"><span class="linenos"> 986</span></a>
</span><span id="JuegoWindow-987"><a href="#JuegoWindow-987"><span class="linenos"> 987</span></a><span class="sd">        Ejemplos:</span>
</span><span id="JuegoWindow-988"><a href="#JuegoWindow-988"><span class="linenos"> 988</span></a><span class="sd">        ---------</span>
</span><span id="JuegoWindow-989"><a href="#JuegoWindow-989"><span class="linenos"> 989</span></a><span class="sd">        &gt;&gt;&gt; self.mostrar_ventana_mision({&#39;nombre&#39;: &#39;Misión de Prueba&#39;, &#39;descripcion&#39;: &#39;Descripción de la misión&#39;, &#39;condiciones&#39;: &#39;Condiciones necesarias&#39;, &#39;recompensa&#39;: &#39;Recompensa obtenida&#39;})</span>
</span><span id="JuegoWindow-990"><a href="#JuegoWindow-990"><span class="linenos"> 990</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-991"><a href="#JuegoWindow-991"><span class="linenos"> 991</span></a>        <span class="n">mision_dialog</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
</span><span id="JuegoWindow-992"><a href="#JuegoWindow-992"><span class="linenos"> 992</span></a>        <span class="n">mision_dialog</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Misión&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow-993"><a href="#JuegoWindow-993"><span class="linenos"> 993</span></a>        <span class="n">mision_dialog</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-994"><a href="#JuegoWindow-994"><span class="linenos"> 994</span></a><span class="s2">        background-color: #f5f5dc; /* Color de fondo en caso de que la imagen no se cargue */</span>
</span><span id="JuegoWindow-995"><a href="#JuegoWindow-995"><span class="linenos"> 995</span></a><span class="s2">        color: #3e3e3e; /* Color del texto oscuro para buen contraste */</span>
</span><span id="JuegoWindow-996"><a href="#JuegoWindow-996"><span class="linenos"> 996</span></a><span class="s2">        border: 2px solid #8b4513; /* Borde marrón oscuro, como el pergamino envejecido */</span>
</span><span id="JuegoWindow-997"><a href="#JuegoWindow-997"><span class="linenos"> 997</span></a><span class="s2">        border-radius: 10px; /* Bordes redondeados */</span>
</span><span id="JuegoWindow-998"><a href="#JuegoWindow-998"><span class="linenos"> 998</span></a><span class="s2">        font-family: &#39;Times New Roman&#39;, serif; /* Fuente clásica que recuerda al papel antiguo */</span>
</span><span id="JuegoWindow-999"><a href="#JuegoWindow-999"><span class="linenos"> 999</span></a><span class="s2">        padding: 10px;</span>
</span><span id="JuegoWindow-1000"><a href="#JuegoWindow-1000"><span class="linenos">1000</span></a><span class="s2">        background-image: url(&#39;fondos/31254.jpg&#39;);  /* Imagen de fondo de pergamino */</span>
</span><span id="JuegoWindow-1001"><a href="#JuegoWindow-1001"><span class="linenos">1001</span></a><span class="s2">        background-repeat: repeat;  /* Repetir la imagen de fondo */</span>
</span><span id="JuegoWindow-1002"><a href="#JuegoWindow-1002"><span class="linenos">1002</span></a><span class="s2">        background-size: cover;  /* Asegura que la imagen cubra toda la pantalla */</span>
</span><span id="JuegoWindow-1003"><a href="#JuegoWindow-1003"><span class="linenos">1003</span></a><span class="s2">        background-position: center;  /* Centra la imagen */</span>
</span><span id="JuegoWindow-1004"><a href="#JuegoWindow-1004"><span class="linenos">1004</span></a><span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow-1005"><a href="#JuegoWindow-1005"><span class="linenos">1005</span></a>
</span><span id="JuegoWindow-1006"><a href="#JuegoWindow-1006"><span class="linenos">1006</span></a>        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
</span><span id="JuegoWindow-1007"><a href="#JuegoWindow-1007"><span class="linenos">1007</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>  <span class="c1"># Agregar márgenes</span>
</span><span id="JuegoWindow-1008"><a href="#JuegoWindow-1008"><span class="linenos">1008</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>  <span class="c1"># Agregar espaciado</span>
</span><span id="JuegoWindow-1009"><a href="#JuegoWindow-1009"><span class="linenos">1009</span></a>
</span><span id="JuegoWindow-1010"><a href="#JuegoWindow-1010"><span class="linenos">1010</span></a>        <span class="n">sala_text</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow-1011"><a href="#JuegoWindow-1011"><span class="linenos">1011</span></a>        <span class="n">evento_info</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nombre: </span><span class="si">{</span><span class="n">evento</span><span class="p">[</span><span class="s1">&#39;nombre&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Descripción:</span><span class="se">\n</span><span class="s2"> </span><span class="si">{</span><span class="n">evento</span><span class="p">[</span><span class="s1">&#39;descripcion&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Condiciones:</span><span class="se">\n</span><span class="s2"> </span><span class="si">{</span><span class="n">evento</span><span class="p">[</span><span class="s1">&#39;condiciones&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Recompensa:</span><span class="se">\n</span><span class="s2"> </span><span class="si">{</span><span class="n">evento</span><span class="p">[</span><span class="s1">&#39;recompensa&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow-1012"><a href="#JuegoWindow-1012"><span class="linenos">1012</span></a>        <span class="n">evento_info</span><span class="o">.</span><span class="n">setWordWrap</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># Habilitar el ajuste de línea</span>
</span><span id="JuegoWindow-1013"><a href="#JuegoWindow-1013"><span class="linenos">1013</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">sala_text</span><span class="p">)</span>
</span><span id="JuegoWindow-1014"><a href="#JuegoWindow-1014"><span class="linenos">1014</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">evento_info</span><span class="p">)</span>
</span><span id="JuegoWindow-1015"><a href="#JuegoWindow-1015"><span class="linenos">1015</span></a>
</span><span id="JuegoWindow-1016"><a href="#JuegoWindow-1016"><span class="linenos">1016</span></a>        <span class="n">btn_victoria</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Victoria&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow-1017"><a href="#JuegoWindow-1017"><span class="linenos">1017</span></a>        <span class="n">btn_victoria</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1018"><a href="#JuegoWindow-1018"><span class="linenos">1018</span></a><span class="s2">            background-color: green; </span>
</span><span id="JuegoWindow-1019"><a href="#JuegoWindow-1019"><span class="linenos">1019</span></a><span class="s2">            color: white; </span>
</span><span id="JuegoWindow-1020"><a href="#JuegoWindow-1020"><span class="linenos">1020</span></a><span class="s2">            border: 2px solid #003300; /* Borde verde oscuro */</span>
</span><span id="JuegoWindow-1021"><a href="#JuegoWindow-1021"><span class="linenos">1021</span></a><span class="s2">            border-radius: 5px; </span>
</span><span id="JuegoWindow-1022"><a href="#JuegoWindow-1022"><span class="linenos">1022</span></a><span class="s2">            padding: 12px 20px; </span>
</span><span id="JuegoWindow-1023"><a href="#JuegoWindow-1023"><span class="linenos">1023</span></a><span class="s2">            font-weight: bold; </span>
</span><span id="JuegoWindow-1024"><a href="#JuegoWindow-1024"><span class="linenos">1024</span></a><span class="s2">            min-width: 120px; </span>
</span><span id="JuegoWindow-1025"><a href="#JuegoWindow-1025"><span class="linenos">1025</span></a><span class="s2">            text-align: center; </span>
</span><span id="JuegoWindow-1026"><a href="#JuegoWindow-1026"><span class="linenos">1026</span></a><span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow-1027"><a href="#JuegoWindow-1027"><span class="linenos">1027</span></a>        <span class="n">btn_derrota</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Derrota&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow-1028"><a href="#JuegoWindow-1028"><span class="linenos">1028</span></a>        <span class="n">btn_derrota</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1029"><a href="#JuegoWindow-1029"><span class="linenos">1029</span></a><span class="s2">            background-color: red; </span>
</span><span id="JuegoWindow-1030"><a href="#JuegoWindow-1030"><span class="linenos">1030</span></a><span class="s2">            color: white; </span>
</span><span id="JuegoWindow-1031"><a href="#JuegoWindow-1031"><span class="linenos">1031</span></a><span class="s2">            border: 2px solid #660000; /* Borde rojo oscuro */</span>
</span><span id="JuegoWindow-1032"><a href="#JuegoWindow-1032"><span class="linenos">1032</span></a><span class="s2">            border-radius: 5px; </span>
</span><span id="JuegoWindow-1033"><a href="#JuegoWindow-1033"><span class="linenos">1033</span></a><span class="s2">            padding: 12px 20px; </span>
</span><span id="JuegoWindow-1034"><a href="#JuegoWindow-1034"><span class="linenos">1034</span></a><span class="s2">            font-weight: bold; </span>
</span><span id="JuegoWindow-1035"><a href="#JuegoWindow-1035"><span class="linenos">1035</span></a><span class="s2">            min-width: 120px; </span>
</span><span id="JuegoWindow-1036"><a href="#JuegoWindow-1036"><span class="linenos">1036</span></a><span class="s2">            text-align: center; </span>
</span><span id="JuegoWindow-1037"><a href="#JuegoWindow-1037"><span class="linenos">1037</span></a><span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow-1038"><a href="#JuegoWindow-1038"><span class="linenos">1038</span></a>
</span><span id="JuegoWindow-1039"><a href="#JuegoWindow-1039"><span class="linenos">1039</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn_victoria</span><span class="p">)</span>
</span><span id="JuegoWindow-1040"><a href="#JuegoWindow-1040"><span class="linenos">1040</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn_derrota</span><span class="p">)</span>
</span><span id="JuegoWindow-1041"><a href="#JuegoWindow-1041"><span class="linenos">1041</span></a>
</span><span id="JuegoWindow-1042"><a href="#JuegoWindow-1042"><span class="linenos">1042</span></a>        <span class="n">mision_dialog</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
</span><span id="JuegoWindow-1043"><a href="#JuegoWindow-1043"><span class="linenos">1043</span></a>        <span class="n">mision_dialog</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="JuegoWindow-1044"><a href="#JuegoWindow-1044"><span class="linenos">1044</span></a>
</span><span id="JuegoWindow-1045"><a href="#JuegoWindow-1045"><span class="linenos">1045</span></a>        <span class="n">btn_victoria</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">victoria_mision</span><span class="p">(</span><span class="n">evento</span><span class="p">,</span> <span class="n">mision_dialog</span><span class="p">))</span>
</span><span id="JuegoWindow-1046"><a href="#JuegoWindow-1046"><span class="linenos">1046</span></a>        <span class="n">btn_derrota</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">derrota_mision</span><span class="p">(</span><span class="n">evento</span><span class="p">,</span> <span class="n">mision_dialog</span><span class="p">))</span>
</span><span id="JuegoWindow-1047"><a href="#JuegoWindow-1047"><span class="linenos">1047</span></a>
</span><span id="JuegoWindow-1048"><a href="#JuegoWindow-1048"><span class="linenos">1048</span></a>        <span class="c1"># Estilo para tabla_personajes</span>
</span><span id="JuegoWindow-1049"><a href="#JuegoWindow-1049"><span class="linenos">1049</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1050"><a href="#JuegoWindow-1050"><span class="linenos">1050</span></a><span class="s2">            background-color: #f5f5dc; /* Color de fondo en caso de que la imagen no se cargue */</span>
</span><span id="JuegoWindow-1051"><a href="#JuegoWindow-1051"><span class="linenos">1051</span></a><span class="s2">        color: #3e3e3e; /* Color del texto oscuro para buen contraste */</span>
</span><span id="JuegoWindow-1052"><a href="#JuegoWindow-1052"><span class="linenos">1052</span></a><span class="s2">        border: 2px solid #8b4513; /* Borde marrón oscuro, como el pergamino envejecido */</span>
</span><span id="JuegoWindow-1053"><a href="#JuegoWindow-1053"><span class="linenos">1053</span></a><span class="s2">        border-radius: 10px; /* Bordes redondeados */</span>
</span><span id="JuegoWindow-1054"><a href="#JuegoWindow-1054"><span class="linenos">1054</span></a><span class="s2">        font-family: &#39;Times New Roman&#39;, serif; /* Fuente clásica que recuerda al papel antiguo */</span>
</span><span id="JuegoWindow-1055"><a href="#JuegoWindow-1055"><span class="linenos">1055</span></a><span class="s2">        padding: 10px;</span>
</span><span id="JuegoWindow-1056"><a href="#JuegoWindow-1056"><span class="linenos">1056</span></a><span class="s2">        background-image: url(&#39;fondos/31254.jpg&#39;);  /* Imagen de fondo de pergamino */</span>
</span><span id="JuegoWindow-1057"><a href="#JuegoWindow-1057"><span class="linenos">1057</span></a><span class="s2">        background-repeat: repeat;  /* Repetir la imagen de fondo */</span>
</span><span id="JuegoWindow-1058"><a href="#JuegoWindow-1058"><span class="linenos">1058</span></a><span class="s2">        background-size: cover;  /* Asegura que la imagen cubra toda la pantalla */</span>
</span><span id="JuegoWindow-1059"><a href="#JuegoWindow-1059"><span class="linenos">1059</span></a><span class="s2">        background-position: center;  /* Centra la imagen */</span>
</span><span id="JuegoWindow-1060"><a href="#JuegoWindow-1060"><span class="linenos">1060</span></a><span class="s2">            QTableWidget {</span>
</span><span id="JuegoWindow-1061"><a href="#JuegoWindow-1061"><span class="linenos">1061</span></a><span class="s2">                border: 2px solid red; /* Borde exterior rojo */</span>
</span><span id="JuegoWindow-1062"><a href="#JuegoWindow-1062"><span class="linenos">1062</span></a><span class="s2">                border-radius: 5px; /* Esquinas redondeadas */</span>
</span><span id="JuegoWindow-1063"><a href="#JuegoWindow-1063"><span class="linenos">1063</span></a><span class="s2">                padding: 5px; /* Espaciado interno */</span>
</span><span id="JuegoWindow-1064"><a href="#JuegoWindow-1064"><span class="linenos">1064</span></a><span class="s2">            }</span>
</span><span id="JuegoWindow-1065"><a href="#JuegoWindow-1065"><span class="linenos">1065</span></a><span class="s2">            QHeaderView::section {</span>
</span><span id="JuegoWindow-1066"><a href="#JuegoWindow-1066"><span class="linenos">1066</span></a><span class="s2">                background-color: #DCE8F5; /* Color de fondo de las cabeceras */</span>
</span><span id="JuegoWindow-1067"><a href="#JuegoWindow-1067"><span class="linenos">1067</span></a><span class="s2">                color: #000000; /* Color del texto en las cabeceras */</span>
</span><span id="JuegoWindow-1068"><a href="#JuegoWindow-1068"><span class="linenos">1068</span></a><span class="s2">                padding: 10px; /* Espaciado interno de las cabeceras */</span>
</span><span id="JuegoWindow-1069"><a href="#JuegoWindow-1069"><span class="linenos">1069</span></a><span class="s2">                border: 1px solid #a0a0a0; /* Borde de las cabeceras */</span>
</span><span id="JuegoWindow-1070"><a href="#JuegoWindow-1070"><span class="linenos">1070</span></a><span class="s2">            }</span>
</span><span id="JuegoWindow-1071"><a href="#JuegoWindow-1071"><span class="linenos">1071</span></a><span class="s2">            QPushButton {</span>
</span><span id="JuegoWindow-1072"><a href="#JuegoWindow-1072"><span class="linenos">1072</span></a><span class="s2">                background-color: #FFD700; /* Color de fondo dorado */</span>
</span><span id="JuegoWindow-1073"><a href="#JuegoWindow-1073"><span class="linenos">1073</span></a><span class="s2">                color: #000000; /* Color del texto */</span>
</span><span id="JuegoWindow-1074"><a href="#JuegoWindow-1074"><span class="linenos">1074</span></a><span class="s2">                border: 2px solid #DAA520; /* Borde dorado oscuro */</span>
</span><span id="JuegoWindow-1075"><a href="#JuegoWindow-1075"><span class="linenos">1075</span></a><span class="s2">                border-radius: 5px; /* Esquinas redondeadas */</span>
</span><span id="JuegoWindow-1076"><a href="#JuegoWindow-1076"><span class="linenos">1076</span></a><span class="s2">                padding: 12px 20px; /* Espaciado interno del botón */</span>
</span><span id="JuegoWindow-1077"><a href="#JuegoWindow-1077"><span class="linenos">1077</span></a><span class="s2">                font-weight: bold; /* Texto en negrita */</span>
</span><span id="JuegoWindow-1078"><a href="#JuegoWindow-1078"><span class="linenos">1078</span></a><span class="s2">                min-width: 120px; /* Ancho mínimo del botón */</span>
</span><span id="JuegoWindow-1079"><a href="#JuegoWindow-1079"><span class="linenos">1079</span></a><span class="s2">                text-align: center; /* Alinear el texto al centro */</span>
</span><span id="JuegoWindow-1080"><a href="#JuegoWindow-1080"><span class="linenos">1080</span></a><span class="s2">            }</span>
</span><span id="JuegoWindow-1081"><a href="#JuegoWindow-1081"><span class="linenos">1081</span></a><span class="s2">            QPushButton:hover {</span>
</span><span id="JuegoWindow-1082"><a href="#JuegoWindow-1082"><span class="linenos">1082</span></a><span class="s2">                background-color: #FFC107; /* Color de fondo dorado al pasar el ratón */</span>
</span><span id="JuegoWindow-1083"><a href="#JuegoWindow-1083"><span class="linenos">1083</span></a><span class="s2">            }</span>
</span><span id="JuegoWindow-1084"><a href="#JuegoWindow-1084"><span class="linenos">1084</span></a><span class="s2">            QPushButton:pressed {</span>
</span><span id="JuegoWindow-1085"><a href="#JuegoWindow-1085"><span class="linenos">1085</span></a><span class="s2">                background-color: #FFA000; /* Color de fondo dorado oscuro al presionar */</span>
</span><span id="JuegoWindow-1086"><a href="#JuegoWindow-1086"><span class="linenos">1086</span></a><span class="s2">            }</span>
</span><span id="JuegoWindow-1087"><a href="#JuegoWindow-1087"><span class="linenos">1087</span></a><span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow-1088"><a href="#JuegoWindow-1088"><span class="linenos">1088</span></a>
</span><span id="JuegoWindow-1089"><a href="#JuegoWindow-1089"><span class="linenos">1089</span></a>    <span class="k">def</span> <span class="nf">victoria_mision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evento</span><span class="p">,</span> <span class="n">dialog</span><span class="p">):</span>
</span><span id="JuegoWindow-1090"><a href="#JuegoWindow-1090"><span class="linenos">1090</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1091"><a href="#JuegoWindow-1091"><span class="linenos">1091</span></a><span class="sd">        Maneja la victoria en la misión y guarda la recompensa en la base de datos.</span>
</span><span id="JuegoWindow-1092"><a href="#JuegoWindow-1092"><span class="linenos">1092</span></a>
</span><span id="JuegoWindow-1093"><a href="#JuegoWindow-1093"><span class="linenos">1093</span></a><span class="sd">        Este método se llama cuando el jugador completa exitosamente una misión. </span>
</span><span id="JuegoWindow-1094"><a href="#JuegoWindow-1094"><span class="linenos">1094</span></a><span class="sd">        Actualiza el documento correspondiente en la colección `PUNTOGUARDADO` </span>
</span><span id="JuegoWindow-1095"><a href="#JuegoWindow-1095"><span class="linenos">1095</span></a><span class="sd">        con la recompensa obtenida por el jugador. Luego, muestra un mensaje </span>
</span><span id="JuegoWindow-1096"><a href="#JuegoWindow-1096"><span class="linenos">1096</span></a><span class="sd">        de victoria con la recompensa.</span>
</span><span id="JuegoWindow-1097"><a href="#JuegoWindow-1097"><span class="linenos">1097</span></a>
</span><span id="JuegoWindow-1098"><a href="#JuegoWindow-1098"><span class="linenos">1098</span></a><span class="sd">        **Parametros**:</span>
</span><span id="JuegoWindow-1099"><a href="#JuegoWindow-1099"><span class="linenos">1099</span></a><span class="sd">        - `evento` (dict): Un diccionario con los detalles del evento de la misión ganada. </span>
</span><span id="JuegoWindow-1100"><a href="#JuegoWindow-1100"><span class="linenos">1100</span></a><span class="sd">          Ejemplo:</span>
</span><span id="JuegoWindow-1101"><a href="#JuegoWindow-1101"><span class="linenos">1101</span></a><span class="sd">          ```python</span>
</span><span id="JuegoWindow-1102"><a href="#JuegoWindow-1102"><span class="linenos">1102</span></a><span class="sd">          evento = {</span>
</span><span id="JuegoWindow-1103"><a href="#JuegoWindow-1103"><span class="linenos">1103</span></a><span class="sd">              &#39;nombre&#39;: &#39;Rescatar al aldeano&#39;,</span>
</span><span id="JuegoWindow-1104"><a href="#JuegoWindow-1104"><span class="linenos">1104</span></a><span class="sd">              &#39;descripcion&#39;: &#39;Has rescatado al aldeano perdido en el bosque.&#39;,</span>
</span><span id="JuegoWindow-1105"><a href="#JuegoWindow-1105"><span class="linenos">1105</span></a><span class="sd">              &#39;condiciones&#39;: &#39;Debes tener al menos 100 puntos de vida.&#39;,</span>
</span><span id="JuegoWindow-1106"><a href="#JuegoWindow-1106"><span class="linenos">1106</span></a><span class="sd">              &#39;recompensa&#39;: &#39;1000 monedas de oro&#39;</span>
</span><span id="JuegoWindow-1107"><a href="#JuegoWindow-1107"><span class="linenos">1107</span></a><span class="sd">          }</span>
</span><span id="JuegoWindow-1108"><a href="#JuegoWindow-1108"><span class="linenos">1108</span></a><span class="sd">          ```</span>
</span><span id="JuegoWindow-1109"><a href="#JuegoWindow-1109"><span class="linenos">1109</span></a><span class="sd">        - `dialog` (QWidget): La ventana de diálogo actual de la misión que se va a cerrar.</span>
</span><span id="JuegoWindow-1110"><a href="#JuegoWindow-1110"><span class="linenos">1110</span></a>
</span><span id="JuegoWindow-1111"><a href="#JuegoWindow-1111"><span class="linenos">1111</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow-1112"><a href="#JuegoWindow-1112"><span class="linenos">1112</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow-1113"><a href="#JuegoWindow-1113"><span class="linenos">1113</span></a><span class="sd">        self.victoria_mision(evento, mision_dialog)</span>
</span><span id="JuegoWindow-1114"><a href="#JuegoWindow-1114"><span class="linenos">1114</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow-1115"><a href="#JuegoWindow-1115"><span class="linenos">1115</span></a>
</span><span id="JuegoWindow-1116"><a href="#JuegoWindow-1116"><span class="linenos">1116</span></a><span class="sd">        **Exceptions**:</span>
</span><span id="JuegoWindow-1117"><a href="#JuegoWindow-1117"><span class="linenos">1117</span></a><span class="sd">        - Lanza `Exception` si ocurre un error al actualizar el documento en Firestore.</span>
</span><span id="JuegoWindow-1118"><a href="#JuegoWindow-1118"><span class="linenos">1118</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1119"><a href="#JuegoWindow-1119"><span class="linenos">1119</span></a>        <span class="n">dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>  <span class="c1"># Cierra el diálogo de misión</span>
</span><span id="JuegoWindow-1120"><a href="#JuegoWindow-1120"><span class="linenos">1120</span></a>        <span class="n">recompensa</span> <span class="o">=</span> <span class="n">evento</span><span class="p">[</span><span class="s1">&#39;recompensa&#39;</span><span class="p">]</span>
</span><span id="JuegoWindow-1121"><a href="#JuegoWindow-1121"><span class="linenos">1121</span></a>        <span class="n">sala</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Sala Actual: &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-1122"><a href="#JuegoWindow-1122"><span class="linenos">1122</span></a>        <span class="n">doc_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;unico_</span><span class="si">{</span><span class="n">sala</span><span class="si">}</span><span class="s1">&#39;</span>  <span class="c1"># Nombre único del documento basado en la sala</span>
</span><span id="JuegoWindow-1123"><a href="#JuegoWindow-1123"><span class="linenos">1123</span></a>
</span><span id="JuegoWindow-1124"><a href="#JuegoWindow-1124"><span class="linenos">1124</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="JuegoWindow-1125"><a href="#JuegoWindow-1125"><span class="linenos">1125</span></a>            <span class="c1"># Actualiza el documento existente en la colección PUNTOGUARDADO</span>
</span><span id="JuegoWindow-1126"><a href="#JuegoWindow-1126"><span class="linenos">1126</span></a>            <span class="n">doc_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;PUNTOGUARDADO&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">doc_id</span><span class="p">)</span>
</span><span id="JuegoWindow-1127"><a href="#JuegoWindow-1127"><span class="linenos">1127</span></a>            <span class="n">doc_ref</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
</span><span id="JuegoWindow-1128"><a href="#JuegoWindow-1128"><span class="linenos">1128</span></a>                <span class="s1">&#39;recompensa&#39;</span><span class="p">:</span> <span class="n">recompensa</span>
</span><span id="JuegoWindow-1129"><a href="#JuegoWindow-1129"><span class="linenos">1129</span></a>            <span class="p">})</span>
</span><span id="JuegoWindow-1130"><a href="#JuegoWindow-1130"><span class="linenos">1130</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Victoria&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;¡Has ganado! Recompensa: </span><span class="si">{</span><span class="n">recompensa</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-1131"><a href="#JuegoWindow-1131"><span class="linenos">1131</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="JuegoWindow-1132"><a href="#JuegoWindow-1132"><span class="linenos">1132</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error de Actualización&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Ocurrió un error al guardar la recompensa: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-1133"><a href="#JuegoWindow-1133"><span class="linenos">1133</span></a>
</span><span id="JuegoWindow-1134"><a href="#JuegoWindow-1134"><span class="linenos">1134</span></a>    <span class="k">def</span> <span class="nf">derrota_mision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evento</span><span class="p">,</span> <span class="n">dialog</span><span class="p">):</span>
</span><span id="JuegoWindow-1135"><a href="#JuegoWindow-1135"><span class="linenos">1135</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1136"><a href="#JuegoWindow-1136"><span class="linenos">1136</span></a><span class="sd">        Maneja la derrota en la misión y muestra la ventana de penalización.</span>
</span><span id="JuegoWindow-1137"><a href="#JuegoWindow-1137"><span class="linenos">1137</span></a>
</span><span id="JuegoWindow-1138"><a href="#JuegoWindow-1138"><span class="linenos">1138</span></a><span class="sd">        Este método se llama cuando el jugador falla en una misión. Cierra el diálogo</span>
</span><span id="JuegoWindow-1139"><a href="#JuegoWindow-1139"><span class="linenos">1139</span></a><span class="sd">        actual de la misión y muestra una ventana para seleccionar una penalización.</span>
</span><span id="JuegoWindow-1140"><a href="#JuegoWindow-1140"><span class="linenos">1140</span></a>
</span><span id="JuegoWindow-1141"><a href="#JuegoWindow-1141"><span class="linenos">1141</span></a><span class="sd">        **Parametros**:</span>
</span><span id="JuegoWindow-1142"><a href="#JuegoWindow-1142"><span class="linenos">1142</span></a><span class="sd">        - `evento` (dict): Un diccionario con los detalles del evento de la misión fallida. </span>
</span><span id="JuegoWindow-1143"><a href="#JuegoWindow-1143"><span class="linenos">1143</span></a><span class="sd">          Ejemplo:</span>
</span><span id="JuegoWindow-1144"><a href="#JuegoWindow-1144"><span class="linenos">1144</span></a><span class="sd">          ```python</span>
</span><span id="JuegoWindow-1145"><a href="#JuegoWindow-1145"><span class="linenos">1145</span></a><span class="sd">          evento = {</span>
</span><span id="JuegoWindow-1146"><a href="#JuegoWindow-1146"><span class="linenos">1146</span></a><span class="sd">              &#39;nombre&#39;: &#39;Rescatar al aldeano&#39;,</span>
</span><span id="JuegoWindow-1147"><a href="#JuegoWindow-1147"><span class="linenos">1147</span></a><span class="sd">              &#39;descripcion&#39;: &#39;No lograste rescatar al aldeano perdido en el bosque.&#39;,</span>
</span><span id="JuegoWindow-1148"><a href="#JuegoWindow-1148"><span class="linenos">1148</span></a><span class="sd">              &#39;condiciones&#39;: &#39;Debes tener al menos 100 puntos de vida.&#39;,</span>
</span><span id="JuegoWindow-1149"><a href="#JuegoWindow-1149"><span class="linenos">1149</span></a><span class="sd">              &#39;recompensa&#39;: &#39;1000 monedas de oro&#39;</span>
</span><span id="JuegoWindow-1150"><a href="#JuegoWindow-1150"><span class="linenos">1150</span></a><span class="sd">          }</span>
</span><span id="JuegoWindow-1151"><a href="#JuegoWindow-1151"><span class="linenos">1151</span></a><span class="sd">          ```</span>
</span><span id="JuegoWindow-1152"><a href="#JuegoWindow-1152"><span class="linenos">1152</span></a><span class="sd">        - `dialog` (QWidget): La ventana de diálogo actual de la misión que se va a cerrar.</span>
</span><span id="JuegoWindow-1153"><a href="#JuegoWindow-1153"><span class="linenos">1153</span></a>
</span><span id="JuegoWindow-1154"><a href="#JuegoWindow-1154"><span class="linenos">1154</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow-1155"><a href="#JuegoWindow-1155"><span class="linenos">1155</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow-1156"><a href="#JuegoWindow-1156"><span class="linenos">1156</span></a><span class="sd">        self.derrota_mision(evento, mision_dialog)</span>
</span><span id="JuegoWindow-1157"><a href="#JuegoWindow-1157"><span class="linenos">1157</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow-1158"><a href="#JuegoWindow-1158"><span class="linenos">1158</span></a>
</span><span id="JuegoWindow-1159"><a href="#JuegoWindow-1159"><span class="linenos">1159</span></a><span class="sd">        **Exceptions**:</span>
</span><span id="JuegoWindow-1160"><a href="#JuegoWindow-1160"><span class="linenos">1160</span></a><span class="sd">        - No se esperan excepciones, pero puede ocurrir un error en la carga de la penalización.</span>
</span><span id="JuegoWindow-1161"><a href="#JuegoWindow-1161"><span class="linenos">1161</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1162"><a href="#JuegoWindow-1162"><span class="linenos">1162</span></a>        <span class="n">dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>  <span class="c1"># Cierra el diálogo de misión</span>
</span><span id="JuegoWindow-1163"><a href="#JuegoWindow-1163"><span class="linenos">1163</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_penalizacion</span><span class="p">()</span>  <span class="c1"># Muestra la ventana de penalización</span>
</span><span id="JuegoWindow-1164"><a href="#JuegoWindow-1164"><span class="linenos">1164</span></a>
</span><span id="JuegoWindow-1165"><a href="#JuegoWindow-1165"><span class="linenos">1165</span></a>    <span class="k">def</span> <span class="nf">mostrar_penalizacion</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow-1166"><a href="#JuegoWindow-1166"><span class="linenos">1166</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1167"><a href="#JuegoWindow-1167"><span class="linenos">1167</span></a><span class="sd">        Muestra una ventana de penalización con una opción para seleccionar una penalización aleatoria.</span>
</span><span id="JuegoWindow-1168"><a href="#JuegoWindow-1168"><span class="linenos">1168</span></a>
</span><span id="JuegoWindow-1169"><a href="#JuegoWindow-1169"><span class="linenos">1169</span></a><span class="sd">        Este método crea una ventana de diálogo que presenta una penalización aleatoria </span>
</span><span id="JuegoWindow-1170"><a href="#JuegoWindow-1170"><span class="linenos">1170</span></a><span class="sd">        de la base de datos. El jugador puede cerrar la ventana para guardar la penalización </span>
</span><span id="JuegoWindow-1171"><a href="#JuegoWindow-1171"><span class="linenos">1171</span></a><span class="sd">        en la base de datos.</span>
</span><span id="JuegoWindow-1172"><a href="#JuegoWindow-1172"><span class="linenos">1172</span></a>
</span><span id="JuegoWindow-1173"><a href="#JuegoWindow-1173"><span class="linenos">1173</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow-1174"><a href="#JuegoWindow-1174"><span class="linenos">1174</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow-1175"><a href="#JuegoWindow-1175"><span class="linenos">1175</span></a><span class="sd">        self.mostrar_penalizacion()</span>
</span><span id="JuegoWindow-1176"><a href="#JuegoWindow-1176"><span class="linenos">1176</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow-1177"><a href="#JuegoWindow-1177"><span class="linenos">1177</span></a>
</span><span id="JuegoWindow-1178"><a href="#JuegoWindow-1178"><span class="linenos">1178</span></a><span class="sd">        **Exceptions**:</span>
</span><span id="JuegoWindow-1179"><a href="#JuegoWindow-1179"><span class="linenos">1179</span></a><span class="sd">        - Lanza `QMessageBox.warning` si no hay penalizaciones disponibles en la base de datos.</span>
</span><span id="JuegoWindow-1180"><a href="#JuegoWindow-1180"><span class="linenos">1180</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1181"><a href="#JuegoWindow-1181"><span class="linenos">1181</span></a>        <span class="n">penalizacion_dialog</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
</span><span id="JuegoWindow-1182"><a href="#JuegoWindow-1182"><span class="linenos">1182</span></a>        <span class="n">penalizacion_dialog</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Penalización&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow-1183"><a href="#JuegoWindow-1183"><span class="linenos">1183</span></a>        <span class="n">penalizacion_dialog</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1184"><a href="#JuegoWindow-1184"><span class="linenos">1184</span></a><span class="s2">        background-color: #f5f5dc; /* Color de fondo en caso de que la imagen no se cargue */</span>
</span><span id="JuegoWindow-1185"><a href="#JuegoWindow-1185"><span class="linenos">1185</span></a><span class="s2">        color: #3e3e3e; /* Color del texto oscuro para buen contraste */</span>
</span><span id="JuegoWindow-1186"><a href="#JuegoWindow-1186"><span class="linenos">1186</span></a><span class="s2">        border: 2px solid #8b4513; /* Borde marrón oscuro, como el pergamino envejecido */</span>
</span><span id="JuegoWindow-1187"><a href="#JuegoWindow-1187"><span class="linenos">1187</span></a><span class="s2">        border-radius: 10px; /* Bordes redondeados */</span>
</span><span id="JuegoWindow-1188"><a href="#JuegoWindow-1188"><span class="linenos">1188</span></a><span class="s2">        font-family: &#39;Times New Roman&#39;, serif; /* Fuente clásica que recuerda al papel antiguo */</span>
</span><span id="JuegoWindow-1189"><a href="#JuegoWindow-1189"><span class="linenos">1189</span></a><span class="s2">        padding: 10px;</span>
</span><span id="JuegoWindow-1190"><a href="#JuegoWindow-1190"><span class="linenos">1190</span></a><span class="s2">        background-image: url(&#39;fondos/31254.jpg&#39;);  /* Imagen de fondo de pergamino */</span>
</span><span id="JuegoWindow-1191"><a href="#JuegoWindow-1191"><span class="linenos">1191</span></a><span class="s2">        background-repeat: repeat;  /* Repetir la imagen de fondo */</span>
</span><span id="JuegoWindow-1192"><a href="#JuegoWindow-1192"><span class="linenos">1192</span></a><span class="s2">        background-size: cover;  /* Asegura que la imagen cubra toda la pantalla */</span>
</span><span id="JuegoWindow-1193"><a href="#JuegoWindow-1193"><span class="linenos">1193</span></a><span class="s2">        background-position: center;  /* Centra la imagen */</span>
</span><span id="JuegoWindow-1194"><a href="#JuegoWindow-1194"><span class="linenos">1194</span></a><span class="s2">    &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow-1195"><a href="#JuegoWindow-1195"><span class="linenos">1195</span></a>        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
</span><span id="JuegoWindow-1196"><a href="#JuegoWindow-1196"><span class="linenos">1196</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>  <span class="c1"># Agregar márgenes</span>
</span><span id="JuegoWindow-1197"><a href="#JuegoWindow-1197"><span class="linenos">1197</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>  <span class="c1"># Agregar espaciado</span>
</span><span id="JuegoWindow-1198"><a href="#JuegoWindow-1198"><span class="linenos">1198</span></a>
</span><span id="JuegoWindow-1199"><a href="#JuegoWindow-1199"><span class="linenos">1199</span></a>        <span class="n">sala_text</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sala Actual: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow-1200"><a href="#JuegoWindow-1200"><span class="linenos">1200</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">sala_text</span><span class="p">)</span>
</span><span id="JuegoWindow-1201"><a href="#JuegoWindow-1201"><span class="linenos">1201</span></a>
</span><span id="JuegoWindow-1202"><a href="#JuegoWindow-1202"><span class="linenos">1202</span></a>        <span class="c1"># Rescatar las penalizaciones de la base de datos</span>
</span><span id="JuegoWindow-1203"><a href="#JuegoWindow-1203"><span class="linenos">1203</span></a>        <span class="n">penalizaciones_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;penalizaciones&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-1204"><a href="#JuegoWindow-1204"><span class="linenos">1204</span></a>        <span class="n">penalizaciones</span> <span class="o">=</span> <span class="n">penalizaciones_ref</span><span class="o">.</span><span class="n">stream</span><span class="p">()</span>
</span><span id="JuegoWindow-1205"><a href="#JuegoWindow-1205"><span class="linenos">1205</span></a>        <span class="n">penalizacion_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">penalizacion</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">penalizacion</span> <span class="ow">in</span> <span class="n">penalizaciones</span><span class="p">]</span>
</span><span id="JuegoWindow-1206"><a href="#JuegoWindow-1206"><span class="linenos">1206</span></a>
</span><span id="JuegoWindow-1207"><a href="#JuegoWindow-1207"><span class="linenos">1207</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">penalizacion_list</span><span class="p">:</span>
</span><span id="JuegoWindow-1208"><a href="#JuegoWindow-1208"><span class="linenos">1208</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Sin Penalizaciones&#39;</span><span class="p">,</span> <span class="s1">&#39;No hay penalizaciones disponibles en la base de datos.&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-1209"><a href="#JuegoWindow-1209"><span class="linenos">1209</span></a>            <span class="k">return</span>
</span><span id="JuegoWindow-1210"><a href="#JuegoWindow-1210"><span class="linenos">1210</span></a>
</span><span id="JuegoWindow-1211"><a href="#JuegoWindow-1211"><span class="linenos">1211</span></a>        <span class="n">penalizacion</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">penalizacion_list</span><span class="p">)</span>
</span><span id="JuegoWindow-1212"><a href="#JuegoWindow-1212"><span class="linenos">1212</span></a>        <span class="n">penalizacion_info</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nombre: </span><span class="si">{</span><span class="n">penalizacion</span><span class="p">[</span><span class="s1">&#39;nombre&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Descripción: </span><span class="si">{</span><span class="n">penalizacion</span><span class="p">[</span><span class="s1">&#39;descripcion&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Efecto: </span><span class="si">{</span><span class="n">penalizacion</span><span class="p">[</span><span class="s1">&#39;efecto&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Lanzamiento Dado: </span><span class="si">{</span><span class="n">penalizacion</span><span class="p">[</span><span class="s1">&#39;lanzamiento_dado&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow-1213"><a href="#JuegoWindow-1213"><span class="linenos">1213</span></a>        <span class="n">penalizacion_info</span><span class="o">.</span><span class="n">setWordWrap</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># Habilitar el ajuste de línea</span>
</span><span id="JuegoWindow-1214"><a href="#JuegoWindow-1214"><span class="linenos">1214</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">penalizacion_info</span><span class="p">)</span>
</span><span id="JuegoWindow-1215"><a href="#JuegoWindow-1215"><span class="linenos">1215</span></a>
</span><span id="JuegoWindow-1216"><a href="#JuegoWindow-1216"><span class="linenos">1216</span></a>        <span class="n">btn_cerrar</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Cerrar&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow-1217"><a href="#JuegoWindow-1217"><span class="linenos">1217</span></a>        <span class="n">btn_cerrar</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;background-color: red; color: white;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow-1218"><a href="#JuegoWindow-1218"><span class="linenos">1218</span></a>
</span><span id="JuegoWindow-1219"><a href="#JuegoWindow-1219"><span class="linenos">1219</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn_cerrar</span><span class="p">)</span>
</span><span id="JuegoWindow-1220"><a href="#JuegoWindow-1220"><span class="linenos">1220</span></a>
</span><span id="JuegoWindow-1221"><a href="#JuegoWindow-1221"><span class="linenos">1221</span></a>        <span class="n">penalizacion_dialog</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
</span><span id="JuegoWindow-1222"><a href="#JuegoWindow-1222"><span class="linenos">1222</span></a>        <span class="n">penalizacion_dialog</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="JuegoWindow-1223"><a href="#JuegoWindow-1223"><span class="linenos">1223</span></a>
</span><span id="JuegoWindow-1224"><a href="#JuegoWindow-1224"><span class="linenos">1224</span></a>        <span class="n">btn_cerrar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">guardar_penalizacion</span><span class="p">(</span><span class="n">penalizacion</span><span class="p">,</span> <span class="n">penalizacion_dialog</span><span class="p">))</span>
</span><span id="JuegoWindow-1225"><a href="#JuegoWindow-1225"><span class="linenos">1225</span></a>
</span><span id="JuegoWindow-1226"><a href="#JuegoWindow-1226"><span class="linenos">1226</span></a>    <span class="k">def</span> <span class="nf">guardar_penalizacion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">penalizacion</span><span class="p">,</span> <span class="n">dialog</span><span class="p">):</span>
</span><span id="JuegoWindow-1227"><a href="#JuegoWindow-1227"><span class="linenos">1227</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1228"><a href="#JuegoWindow-1228"><span class="linenos">1228</span></a><span class="sd">        Guarda la penalización seleccionada en la base de datos.</span>
</span><span id="JuegoWindow-1229"><a href="#JuegoWindow-1229"><span class="linenos">1229</span></a>
</span><span id="JuegoWindow-1230"><a href="#JuegoWindow-1230"><span class="linenos">1230</span></a><span class="sd">        Este método actualiza el documento de `PUNTOGUARDADO` con la penalización seleccionada por el jugador.</span>
</span><span id="JuegoWindow-1231"><a href="#JuegoWindow-1231"><span class="linenos">1231</span></a>
</span><span id="JuegoWindow-1232"><a href="#JuegoWindow-1232"><span class="linenos">1232</span></a><span class="sd">        **Parametros**:</span>
</span><span id="JuegoWindow-1233"><a href="#JuegoWindow-1233"><span class="linenos">1233</span></a><span class="sd">        - `penalizacion` (dict): Un diccionario con los detalles de la penalización seleccionada. </span>
</span><span id="JuegoWindow-1234"><a href="#JuegoWindow-1234"><span class="linenos">1234</span></a><span class="sd">          Ejemplo:</span>
</span><span id="JuegoWindow-1235"><a href="#JuegoWindow-1235"><span class="linenos">1235</span></a><span class="sd">          ```python</span>
</span><span id="JuegoWindow-1236"><a href="#JuegoWindow-1236"><span class="linenos">1236</span></a><span class="sd">          penalizacion = {</span>
</span><span id="JuegoWindow-1237"><a href="#JuegoWindow-1237"><span class="linenos">1237</span></a><span class="sd">              &#39;nombre&#39;: &#39;Reducción de Puntos de Vida&#39;,</span>
</span><span id="JuegoWindow-1238"><a href="#JuegoWindow-1238"><span class="linenos">1238</span></a><span class="sd">              &#39;descripcion&#39;: &#39;Pierdes 50 puntos de vida.&#39;,</span>
</span><span id="JuegoWindow-1239"><a href="#JuegoWindow-1239"><span class="linenos">1239</span></a><span class="sd">              &#39;efecto&#39;: &#39;Reducir puntos de vida&#39;,</span>
</span><span id="JuegoWindow-1240"><a href="#JuegoWindow-1240"><span class="linenos">1240</span></a><span class="sd">              &#39;lanzamiento_dado&#39;: &#39;1d6&#39;</span>
</span><span id="JuegoWindow-1241"><a href="#JuegoWindow-1241"><span class="linenos">1241</span></a><span class="sd">          }</span>
</span><span id="JuegoWindow-1242"><a href="#JuegoWindow-1242"><span class="linenos">1242</span></a><span class="sd">          ```</span>
</span><span id="JuegoWindow-1243"><a href="#JuegoWindow-1243"><span class="linenos">1243</span></a><span class="sd">        - `dialog` (QWidget): La ventana de diálogo actual de penalización que se va a cerrar.</span>
</span><span id="JuegoWindow-1244"><a href="#JuegoWindow-1244"><span class="linenos">1244</span></a>
</span><span id="JuegoWindow-1245"><a href="#JuegoWindow-1245"><span class="linenos">1245</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow-1246"><a href="#JuegoWindow-1246"><span class="linenos">1246</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow-1247"><a href="#JuegoWindow-1247"><span class="linenos">1247</span></a><span class="sd">        self.guardar_penalizacion(penalizacion, penalizacion_dialog)</span>
</span><span id="JuegoWindow-1248"><a href="#JuegoWindow-1248"><span class="linenos">1248</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow-1249"><a href="#JuegoWindow-1249"><span class="linenos">1249</span></a>
</span><span id="JuegoWindow-1250"><a href="#JuegoWindow-1250"><span class="linenos">1250</span></a><span class="sd">        **Exceptions**:</span>
</span><span id="JuegoWindow-1251"><a href="#JuegoWindow-1251"><span class="linenos">1251</span></a><span class="sd">        - Lanza `Exception` si ocurre un error al actualizar el documento en Firestore.</span>
</span><span id="JuegoWindow-1252"><a href="#JuegoWindow-1252"><span class="linenos">1252</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1253"><a href="#JuegoWindow-1253"><span class="linenos">1253</span></a>        <span class="n">dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="JuegoWindow-1254"><a href="#JuegoWindow-1254"><span class="linenos">1254</span></a>        <span class="n">sala</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Sala Actual: &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-1255"><a href="#JuegoWindow-1255"><span class="linenos">1255</span></a>        <span class="n">doc_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;unico_</span><span class="si">{</span><span class="n">sala</span><span class="si">}</span><span class="s1">&#39;</span>  <span class="c1"># Nombre único del documento basado en la sala</span>
</span><span id="JuegoWindow-1256"><a href="#JuegoWindow-1256"><span class="linenos">1256</span></a>
</span><span id="JuegoWindow-1257"><a href="#JuegoWindow-1257"><span class="linenos">1257</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="JuegoWindow-1258"><a href="#JuegoWindow-1258"><span class="linenos">1258</span></a>            <span class="c1"># Actualiza el documento existente en la colección PUNTOGUARDADO</span>
</span><span id="JuegoWindow-1259"><a href="#JuegoWindow-1259"><span class="linenos">1259</span></a>            <span class="n">doc_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;PUNTOGUARDADO&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">doc_id</span><span class="p">)</span>
</span><span id="JuegoWindow-1260"><a href="#JuegoWindow-1260"><span class="linenos">1260</span></a>            <span class="n">doc_ref</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
</span><span id="JuegoWindow-1261"><a href="#JuegoWindow-1261"><span class="linenos">1261</span></a>                <span class="s1">&#39;penalizacion&#39;</span><span class="p">:</span> <span class="n">penalizacion</span><span class="p">[</span><span class="s1">&#39;descripcion&#39;</span><span class="p">]</span>
</span><span id="JuegoWindow-1262"><a href="#JuegoWindow-1262"><span class="linenos">1262</span></a>            <span class="p">})</span>
</span><span id="JuegoWindow-1263"><a href="#JuegoWindow-1263"><span class="linenos">1263</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Penalización&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Penalización: </span><span class="si">{</span><span class="n">penalizacion</span><span class="p">[</span><span class="s2">&quot;descripcion&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-1264"><a href="#JuegoWindow-1264"><span class="linenos">1264</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="JuegoWindow-1265"><a href="#JuegoWindow-1265"><span class="linenos">1265</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error de Actualización&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Ocurrió un error al guardar la penalización: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-1266"><a href="#JuegoWindow-1266"><span class="linenos">1266</span></a>
</span><span id="JuegoWindow-1267"><a href="#JuegoWindow-1267"><span class="linenos">1267</span></a>    <span class="k">def</span> <span class="nf">send_text_to_vita</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow-1268"><a href="#JuegoWindow-1268"><span class="linenos">1268</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1269"><a href="#JuegoWindow-1269"><span class="linenos">1269</span></a><span class="sd">        Envía el texto del campo `game_edit` al `tex_vita` y limpia el campo de texto.</span>
</span><span id="JuegoWindow-1270"><a href="#JuegoWindow-1270"><span class="linenos">1270</span></a>
</span><span id="JuegoWindow-1271"><a href="#JuegoWindow-1271"><span class="linenos">1271</span></a><span class="sd">        Este método toma el texto escrito en el campo `game_edit`, lo añade al `tex_vita`, </span>
</span><span id="JuegoWindow-1272"><a href="#JuegoWindow-1272"><span class="linenos">1272</span></a><span class="sd">        y luego limpia `game_edit` para permitir la entrada de nuevo texto.</span>
</span><span id="JuegoWindow-1273"><a href="#JuegoWindow-1273"><span class="linenos">1273</span></a>
</span><span id="JuegoWindow-1274"><a href="#JuegoWindow-1274"><span class="linenos">1274</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow-1275"><a href="#JuegoWindow-1275"><span class="linenos">1275</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow-1276"><a href="#JuegoWindow-1276"><span class="linenos">1276</span></a><span class="sd">        self.send_text_to_vita()</span>
</span><span id="JuegoWindow-1277"><a href="#JuegoWindow-1277"><span class="linenos">1277</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow-1278"><a href="#JuegoWindow-1278"><span class="linenos">1278</span></a>
</span><span id="JuegoWindow-1279"><a href="#JuegoWindow-1279"><span class="linenos">1279</span></a><span class="sd">        **Exceptions**:</span>
</span><span id="JuegoWindow-1280"><a href="#JuegoWindow-1280"><span class="linenos">1280</span></a><span class="sd">        - No se esperan excepciones en este método.</span>
</span><span id="JuegoWindow-1281"><a href="#JuegoWindow-1281"><span class="linenos">1281</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1282"><a href="#JuegoWindow-1282"><span class="linenos">1282</span></a>        <span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_edit</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">()</span>
</span><span id="JuegoWindow-1283"><a href="#JuegoWindow-1283"><span class="linenos">1283</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tex_vita</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</span><span id="JuegoWindow-1284"><a href="#JuegoWindow-1284"><span class="linenos">1284</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">game_edit</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="JuegoWindow-1285"><a href="#JuegoWindow-1285"><span class="linenos">1285</span></a>    
</span><span id="JuegoWindow-1286"><a href="#JuegoWindow-1286"><span class="linenos">1286</span></a>
</span><span id="JuegoWindow-1287"><a href="#JuegoWindow-1287"><span class="linenos">1287</span></a>    <span class="k">def</span> <span class="nf">save_bitacora</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow-1288"><a href="#JuegoWindow-1288"><span class="linenos">1288</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1289"><a href="#JuegoWindow-1289"><span class="linenos">1289</span></a><span class="sd">        Guarda una nueva entrada en la bitácora y añade campos adicionales si ya existe.</span>
</span><span id="JuegoWindow-1290"><a href="#JuegoWindow-1290"><span class="linenos">1290</span></a>
</span><span id="JuegoWindow-1291"><a href="#JuegoWindow-1291"><span class="linenos">1291</span></a><span class="sd">        Este método guarda el texto actual de la bitácora en la base de datos. Si el documento</span>
</span><span id="JuegoWindow-1292"><a href="#JuegoWindow-1292"><span class="linenos">1292</span></a><span class="sd">        ya existe en la colección `PUNTOGUARDADO`, agrega un nuevo campo de texto numerado </span>
</span><span id="JuegoWindow-1293"><a href="#JuegoWindow-1293"><span class="linenos">1293</span></a><span class="sd">        (`texto1`, `texto2`, etc.). Si el documento no existe, crea uno nuevo con el primer campo </span>
</span><span id="JuegoWindow-1294"><a href="#JuegoWindow-1294"><span class="linenos">1294</span></a><span class="sd">        de texto llamado `texto`.</span>
</span><span id="JuegoWindow-1295"><a href="#JuegoWindow-1295"><span class="linenos">1295</span></a>
</span><span id="JuegoWindow-1296"><a href="#JuegoWindow-1296"><span class="linenos">1296</span></a><span class="sd">        **Pasos del método**:</span>
</span><span id="JuegoWindow-1297"><a href="#JuegoWindow-1297"><span class="linenos">1297</span></a><span class="sd">        1. Obtiene el nombre de la sala desde el widget `sala_name`.</span>
</span><span id="JuegoWindow-1298"><a href="#JuegoWindow-1298"><span class="linenos">1298</span></a><span class="sd">        2. Obtiene el texto de la bitácora desde el widget `tex_vita`.</span>
</span><span id="JuegoWindow-1299"><a href="#JuegoWindow-1299"><span class="linenos">1299</span></a><span class="sd">        3. Construye un ID único para el documento basado en el nombre de la sala.</span>
</span><span id="JuegoWindow-1300"><a href="#JuegoWindow-1300"><span class="linenos">1300</span></a><span class="sd">        4. Intenta recuperar el documento desde Firestore.</span>
</span><span id="JuegoWindow-1301"><a href="#JuegoWindow-1301"><span class="linenos">1301</span></a><span class="sd">        5. Si el documento existe, cuenta los campos existentes que comienzan con &#39;texto&#39; y añade un nuevo campo `textoN+1`.</span>
</span><span id="JuegoWindow-1302"><a href="#JuegoWindow-1302"><span class="linenos">1302</span></a><span class="sd">        6. Si el documento no existe, crea un nuevo campo llamado `texto`.</span>
</span><span id="JuegoWindow-1303"><a href="#JuegoWindow-1303"><span class="linenos">1303</span></a><span class="sd">        7. Muestra un mensaje de éxito al usuario y guarda el ID del documento para uso futuro.</span>
</span><span id="JuegoWindow-1304"><a href="#JuegoWindow-1304"><span class="linenos">1304</span></a><span class="sd">        8. Maneja cualquier excepción que pueda ocurrir durante el proceso de actualización.</span>
</span><span id="JuegoWindow-1305"><a href="#JuegoWindow-1305"><span class="linenos">1305</span></a>
</span><span id="JuegoWindow-1306"><a href="#JuegoWindow-1306"><span class="linenos">1306</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow-1307"><a href="#JuegoWindow-1307"><span class="linenos">1307</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow-1308"><a href="#JuegoWindow-1308"><span class="linenos">1308</span></a><span class="sd">        self.save_bitacora()</span>
</span><span id="JuegoWindow-1309"><a href="#JuegoWindow-1309"><span class="linenos">1309</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow-1310"><a href="#JuegoWindow-1310"><span class="linenos">1310</span></a>
</span><span id="JuegoWindow-1311"><a href="#JuegoWindow-1311"><span class="linenos">1311</span></a><span class="sd">        **Exceptions**:</span>
</span><span id="JuegoWindow-1312"><a href="#JuegoWindow-1312"><span class="linenos">1312</span></a><span class="sd">        - Lanza `Exception` si ocurre un error al actualizar el documento en Firestore.</span>
</span><span id="JuegoWindow-1313"><a href="#JuegoWindow-1313"><span class="linenos">1313</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1314"><a href="#JuegoWindow-1314"><span class="linenos">1314</span></a>        <span class="n">sala</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Sala Actual: &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-1315"><a href="#JuegoWindow-1315"><span class="linenos">1315</span></a>        <span class="n">bitacora_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tex_vita</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">()</span>
</span><span id="JuegoWindow-1316"><a href="#JuegoWindow-1316"><span class="linenos">1316</span></a>        <span class="n">doc_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;unico_</span><span class="si">{</span><span class="n">sala</span><span class="si">}</span><span class="s1">&#39;</span>  <span class="c1"># Nombre único del documento basado en la sala</span>
</span><span id="JuegoWindow-1317"><a href="#JuegoWindow-1317"><span class="linenos">1317</span></a>
</span><span id="JuegoWindow-1318"><a href="#JuegoWindow-1318"><span class="linenos">1318</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="JuegoWindow-1319"><a href="#JuegoWindow-1319"><span class="linenos">1319</span></a>            <span class="c1"># Referencia al documento específico</span>
</span><span id="JuegoWindow-1320"><a href="#JuegoWindow-1320"><span class="linenos">1320</span></a>            <span class="n">doc_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;PUNTOGUARDADO&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">doc_id</span><span class="p">)</span>
</span><span id="JuegoWindow-1321"><a href="#JuegoWindow-1321"><span class="linenos">1321</span></a>            
</span><span id="JuegoWindow-1322"><a href="#JuegoWindow-1322"><span class="linenos">1322</span></a>            <span class="c1"># Recuperar el documento existente</span>
</span><span id="JuegoWindow-1323"><a href="#JuegoWindow-1323"><span class="linenos">1323</span></a>            <span class="n">doc</span> <span class="o">=</span> <span class="n">doc_ref</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</span><span id="JuegoWindow-1324"><a href="#JuegoWindow-1324"><span class="linenos">1324</span></a>
</span><span id="JuegoWindow-1325"><a href="#JuegoWindow-1325"><span class="linenos">1325</span></a>            <span class="k">if</span> <span class="n">doc</span><span class="o">.</span><span class="n">exists</span><span class="p">:</span>
</span><span id="JuegoWindow-1326"><a href="#JuegoWindow-1326"><span class="linenos">1326</span></a>                <span class="c1"># Documento existe, contar los campos existentes de &#39;texto&#39;</span>
</span><span id="JuegoWindow-1327"><a href="#JuegoWindow-1327"><span class="linenos">1327</span></a>                <span class="n">data</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</span><span id="JuegoWindow-1328"><a href="#JuegoWindow-1328"><span class="linenos">1328</span></a>                <span class="n">texto_count</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;texto&#39;</span><span class="p">))</span>
</span><span id="JuegoWindow-1329"><a href="#JuegoWindow-1329"><span class="linenos">1329</span></a>                <span class="n">nuevo_campo</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;texto</span><span class="si">{</span><span class="n">texto_count</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s1">&#39;</span>
</span><span id="JuegoWindow-1330"><a href="#JuegoWindow-1330"><span class="linenos">1330</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="JuegoWindow-1331"><a href="#JuegoWindow-1331"><span class="linenos">1331</span></a>                <span class="c1"># Documento no existe, usar &#39;texto&#39; como primer campo</span>
</span><span id="JuegoWindow-1332"><a href="#JuegoWindow-1332"><span class="linenos">1332</span></a>                <span class="n">nuevo_campo</span> <span class="o">=</span> <span class="s1">&#39;texto&#39;</span>
</span><span id="JuegoWindow-1333"><a href="#JuegoWindow-1333"><span class="linenos">1333</span></a>            
</span><span id="JuegoWindow-1334"><a href="#JuegoWindow-1334"><span class="linenos">1334</span></a>            <span class="c1"># Actualizar el documento con el nuevo campo</span>
</span><span id="JuegoWindow-1335"><a href="#JuegoWindow-1335"><span class="linenos">1335</span></a>            <span class="n">doc_ref</span><span class="o">.</span><span class="n">set</span><span class="p">({</span>
</span><span id="JuegoWindow-1336"><a href="#JuegoWindow-1336"><span class="linenos">1336</span></a>                <span class="s1">&#39;sala&#39;</span><span class="p">:</span> <span class="n">sala</span><span class="p">,</span>
</span><span id="JuegoWindow-1337"><a href="#JuegoWindow-1337"><span class="linenos">1337</span></a>                <span class="n">nuevo_campo</span><span class="p">:</span> <span class="n">bitacora_text</span>
</span><span id="JuegoWindow-1338"><a href="#JuegoWindow-1338"><span class="linenos">1338</span></a>            <span class="p">},</span> <span class="n">merge</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># merge=True para no sobrescribir otros campos</span>
</span><span id="JuegoWindow-1339"><a href="#JuegoWindow-1339"><span class="linenos">1339</span></a>            
</span><span id="JuegoWindow-1340"><a href="#JuegoWindow-1340"><span class="linenos">1340</span></a>            <span class="c1"># Muestra un mensaje de éxito</span>
</span><span id="JuegoWindow-1341"><a href="#JuegoWindow-1341"><span class="linenos">1341</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Éxito&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Bitácora guardada exitosamente. Campo añadido: </span><span class="si">{</span><span class="n">nuevo_campo</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-1342"><a href="#JuegoWindow-1342"><span class="linenos">1342</span></a>            
</span><span id="JuegoWindow-1343"><a href="#JuegoWindow-1343"><span class="linenos">1343</span></a>            <span class="c1"># Imprime el ID del documento en la consola</span>
</span><span id="JuegoWindow-1344"><a href="#JuegoWindow-1344"><span class="linenos">1344</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;ID del documento: </span><span class="si">{</span><span class="n">doc_id</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-1345"><a href="#JuegoWindow-1345"><span class="linenos">1345</span></a>            
</span><span id="JuegoWindow-1346"><a href="#JuegoWindow-1346"><span class="linenos">1346</span></a>            <span class="c1"># Guarda el ID del documento para su uso futuro (opcional)</span>
</span><span id="JuegoWindow-1347"><a href="#JuegoWindow-1347"><span class="linenos">1347</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">last_doc_id</span> <span class="o">=</span> <span class="n">doc_id</span>
</span><span id="JuegoWindow-1348"><a href="#JuegoWindow-1348"><span class="linenos">1348</span></a>
</span><span id="JuegoWindow-1349"><a href="#JuegoWindow-1349"><span class="linenos">1349</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="JuegoWindow-1350"><a href="#JuegoWindow-1350"><span class="linenos">1350</span></a>            <span class="c1"># Manejo de errores en caso de que ocurra una excepción</span>
</span><span id="JuegoWindow-1351"><a href="#JuegoWindow-1351"><span class="linenos">1351</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;No se pudo guardar la bitácora: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-1352"><a href="#JuegoWindow-1352"><span class="linenos">1352</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Error al guardar la bitácora: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-1353"><a href="#JuegoWindow-1353"><span class="linenos">1353</span></a>
</span><span id="JuegoWindow-1354"><a href="#JuegoWindow-1354"><span class="linenos">1354</span></a>
</span><span id="JuegoWindow-1355"><a href="#JuegoWindow-1355"><span class="linenos">1355</span></a>    <span class="k">def</span> <span class="nf">open_bitacora_history</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow-1356"><a href="#JuegoWindow-1356"><span class="linenos">1356</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1357"><a href="#JuegoWindow-1357"><span class="linenos">1357</span></a><span class="sd">        Abre una ventana con el historial de bitácoras.</span>
</span><span id="JuegoWindow-1358"><a href="#JuegoWindow-1358"><span class="linenos">1358</span></a>
</span><span id="JuegoWindow-1359"><a href="#JuegoWindow-1359"><span class="linenos">1359</span></a><span class="sd">        Este método muestra un diálogo con el historial de bitácoras para la sala actual. </span>
</span><span id="JuegoWindow-1360"><a href="#JuegoWindow-1360"><span class="linenos">1360</span></a><span class="sd">        Recupera la información del documento correspondiente en la colección `PUNTOGUARDADO` </span>
</span><span id="JuegoWindow-1361"><a href="#JuegoWindow-1361"><span class="linenos">1361</span></a><span class="sd">        y muestra los campos de texto almacenados en el documento, así como la recompensa </span>
</span><span id="JuegoWindow-1362"><a href="#JuegoWindow-1362"><span class="linenos">1362</span></a><span class="sd">        y la penalización. Si no hay bitácora disponible o ocurre un error, muestra un </span>
</span><span id="JuegoWindow-1363"><a href="#JuegoWindow-1363"><span class="linenos">1363</span></a><span class="sd">        mensaje de advertencia o error, respectivamente.</span>
</span><span id="JuegoWindow-1364"><a href="#JuegoWindow-1364"><span class="linenos">1364</span></a>
</span><span id="JuegoWindow-1365"><a href="#JuegoWindow-1365"><span class="linenos">1365</span></a><span class="sd">        **Pasos del método**:</span>
</span><span id="JuegoWindow-1366"><a href="#JuegoWindow-1366"><span class="linenos">1366</span></a><span class="sd">        1. Crea una nueva ventana de diálogo para mostrar el historial de bitácoras.</span>
</span><span id="JuegoWindow-1367"><a href="#JuegoWindow-1367"><span class="linenos">1367</span></a><span class="sd">        2. Configura el estilo del diálogo para imitar un pergamino antiguo.</span>
</span><span id="JuegoWindow-1368"><a href="#JuegoWindow-1368"><span class="linenos">1368</span></a><span class="sd">        3. Obtiene el nombre de la sala desde el widget `sala_name`.</span>
</span><span id="JuegoWindow-1369"><a href="#JuegoWindow-1369"><span class="linenos">1369</span></a><span class="sd">        4. Construye el ID del documento basado en el nombre de la sala.</span>
</span><span id="JuegoWindow-1370"><a href="#JuegoWindow-1370"><span class="linenos">1370</span></a><span class="sd">        5. Intenta recuperar el documento desde Firestore.</span>
</span><span id="JuegoWindow-1371"><a href="#JuegoWindow-1371"><span class="linenos">1371</span></a><span class="sd">        6. Si el documento existe, extrae y muestra la recompensa, penalización y los campos de texto.</span>
</span><span id="JuegoWindow-1372"><a href="#JuegoWindow-1372"><span class="linenos">1372</span></a><span class="sd">        7. Si el documento no existe, muestra un mensaje de advertencia y cierra el diálogo.</span>
</span><span id="JuegoWindow-1373"><a href="#JuegoWindow-1373"><span class="linenos">1373</span></a><span class="sd">        8. Maneja cualquier excepción que pueda ocurrir durante el proceso de recuperación.</span>
</span><span id="JuegoWindow-1374"><a href="#JuegoWindow-1374"><span class="linenos">1374</span></a><span class="sd">        9. Configura un botón para cerrar el diálogo.</span>
</span><span id="JuegoWindow-1375"><a href="#JuegoWindow-1375"><span class="linenos">1375</span></a>
</span><span id="JuegoWindow-1376"><a href="#JuegoWindow-1376"><span class="linenos">1376</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow-1377"><a href="#JuegoWindow-1377"><span class="linenos">1377</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow-1378"><a href="#JuegoWindow-1378"><span class="linenos">1378</span></a><span class="sd">        self.open_bitacora_history()</span>
</span><span id="JuegoWindow-1379"><a href="#JuegoWindow-1379"><span class="linenos">1379</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow-1380"><a href="#JuegoWindow-1380"><span class="linenos">1380</span></a>
</span><span id="JuegoWindow-1381"><a href="#JuegoWindow-1381"><span class="linenos">1381</span></a><span class="sd">        **Exceptions**:</span>
</span><span id="JuegoWindow-1382"><a href="#JuegoWindow-1382"><span class="linenos">1382</span></a><span class="sd">        - Lanza `QMessageBox.warning` si no hay bitácora disponible para la sala actual.</span>
</span><span id="JuegoWindow-1383"><a href="#JuegoWindow-1383"><span class="linenos">1383</span></a><span class="sd">        - Lanza `QMessageBox.critical` si ocurre un error al recuperar la bitácora desde Firestore.</span>
</span><span id="JuegoWindow-1384"><a href="#JuegoWindow-1384"><span class="linenos">1384</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1385"><a href="#JuegoWindow-1385"><span class="linenos">1385</span></a>        <span class="n">historial_dialog</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
</span><span id="JuegoWindow-1386"><a href="#JuegoWindow-1386"><span class="linenos">1386</span></a>        <span class="n">historial_dialog</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Historial de Bitácora&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow-1387"><a href="#JuegoWindow-1387"><span class="linenos">1387</span></a>
</span><span id="JuegoWindow-1388"><a href="#JuegoWindow-1388"><span class="linenos">1388</span></a>        <span class="c1"># Estilos para el diálogo</span>
</span><span id="JuegoWindow-1389"><a href="#JuegoWindow-1389"><span class="linenos">1389</span></a>        <span class="n">historial_dialog</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1390"><a href="#JuegoWindow-1390"><span class="linenos">1390</span></a><span class="s2">        background-color: #f5f5dc; /* Color de fondo en caso de que la imagen no se cargue */</span>
</span><span id="JuegoWindow-1391"><a href="#JuegoWindow-1391"><span class="linenos">1391</span></a><span class="s2">        color: #3e3e3e; /* Color del texto oscuro para buen contraste */</span>
</span><span id="JuegoWindow-1392"><a href="#JuegoWindow-1392"><span class="linenos">1392</span></a><span class="s2">        border: 2px solid #8b4513; /* Borde marrón oscuro, como el pergamino envejecido */</span>
</span><span id="JuegoWindow-1393"><a href="#JuegoWindow-1393"><span class="linenos">1393</span></a><span class="s2">        border-radius: 10px; /* Bordes redondeados */</span>
</span><span id="JuegoWindow-1394"><a href="#JuegoWindow-1394"><span class="linenos">1394</span></a><span class="s2">        font-family: &#39;Times New Roman&#39;, serif; /* Fuente clásica que recuerda al papel antiguo */</span>
</span><span id="JuegoWindow-1395"><a href="#JuegoWindow-1395"><span class="linenos">1395</span></a><span class="s2">        padding: 10px;</span>
</span><span id="JuegoWindow-1396"><a href="#JuegoWindow-1396"><span class="linenos">1396</span></a><span class="s2">        background-image: url(&#39;fondos/31254.jpg&#39;);  /* Imagen de fondo de pergamino */</span>
</span><span id="JuegoWindow-1397"><a href="#JuegoWindow-1397"><span class="linenos">1397</span></a><span class="s2">        background-repeat: repeat;  /* Repetir la imagen de fondo */</span>
</span><span id="JuegoWindow-1398"><a href="#JuegoWindow-1398"><span class="linenos">1398</span></a><span class="s2">        background-size: cover;  /* Asegura que la imagen cubra toda la pantalla */</span>
</span><span id="JuegoWindow-1399"><a href="#JuegoWindow-1399"><span class="linenos">1399</span></a><span class="s2">        background-position: center;  /* Centra la imagen */</span>
</span><span id="JuegoWindow-1400"><a href="#JuegoWindow-1400"><span class="linenos">1400</span></a><span class="s2">    &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow-1401"><a href="#JuegoWindow-1401"><span class="linenos">1401</span></a>
</span><span id="JuegoWindow-1402"><a href="#JuegoWindow-1402"><span class="linenos">1402</span></a>        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
</span><span id="JuegoWindow-1403"><a href="#JuegoWindow-1403"><span class="linenos">1403</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
</span><span id="JuegoWindow-1404"><a href="#JuegoWindow-1404"><span class="linenos">1404</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
</span><span id="JuegoWindow-1405"><a href="#JuegoWindow-1405"><span class="linenos">1405</span></a>
</span><span id="JuegoWindow-1406"><a href="#JuegoWindow-1406"><span class="linenos">1406</span></a>        <span class="c1"># Obtener el nombre de la sala del QLabel</span>
</span><span id="JuegoWindow-1407"><a href="#JuegoWindow-1407"><span class="linenos">1407</span></a>        <span class="n">nombre_sala</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;Sala Actual: &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>  <span class="c1"># Obtener el texto del QLabel</span>
</span><span id="JuegoWindow-1408"><a href="#JuegoWindow-1408"><span class="linenos">1408</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nombre de la sala: </span><span class="si">{</span><span class="n">nombre_sala</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># Mensaje de depuración</span>
</span><span id="JuegoWindow-1409"><a href="#JuegoWindow-1409"><span class="linenos">1409</span></a>
</span><span id="JuegoWindow-1410"><a href="#JuegoWindow-1410"><span class="linenos">1410</span></a>        <span class="c1"># Construir el ID único del documento</span>
</span><span id="JuegoWindow-1411"><a href="#JuegoWindow-1411"><span class="linenos">1411</span></a>        <span class="n">unique_nombre_sala</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;unico_</span><span class="si">{</span><span class="n">nombre_sala</span><span class="si">}</span><span class="s1">&#39;</span>  <span class="c1"># Asumiendo que el ID es único_ + nombre_sala</span>
</span><span id="JuegoWindow-1412"><a href="#JuegoWindow-1412"><span class="linenos">1412</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ID del documento: </span><span class="si">{</span><span class="n">unique_nombre_sala</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># Mensaje de depuración</span>
</span><span id="JuegoWindow-1413"><a href="#JuegoWindow-1413"><span class="linenos">1413</span></a>
</span><span id="JuegoWindow-1414"><a href="#JuegoWindow-1414"><span class="linenos">1414</span></a>        <span class="n">sala_text</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sala Actual: </span><span class="si">{</span><span class="n">nombre_sala</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow-1415"><a href="#JuegoWindow-1415"><span class="linenos">1415</span></a>        <span class="n">sala_text</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;font-size: 18px; font-weight: bold;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow-1416"><a href="#JuegoWindow-1416"><span class="linenos">1416</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">sala_text</span><span class="p">)</span>
</span><span id="JuegoWindow-1417"><a href="#JuegoWindow-1417"><span class="linenos">1417</span></a>
</span><span id="JuegoWindow-1418"><a href="#JuegoWindow-1418"><span class="linenos">1418</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="JuegoWindow-1419"><a href="#JuegoWindow-1419"><span class="linenos">1419</span></a>            <span class="c1"># Recuperar el documento usando `unique_nombre_sala` como ID</span>
</span><span id="JuegoWindow-1420"><a href="#JuegoWindow-1420"><span class="linenos">1420</span></a>            <span class="n">bitacora_doc_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;PUNTOGUARDADO&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">unique_nombre_sala</span><span class="p">)</span>
</span><span id="JuegoWindow-1421"><a href="#JuegoWindow-1421"><span class="linenos">1421</span></a>            <span class="n">bitacora_doc</span> <span class="o">=</span> <span class="n">bitacora_doc_ref</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</span><span id="JuegoWindow-1422"><a href="#JuegoWindow-1422"><span class="linenos">1422</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Documento recuperado: </span><span class="si">{</span><span class="n">bitacora_doc</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># Mensaje de depuración</span>
</span><span id="JuegoWindow-1423"><a href="#JuegoWindow-1423"><span class="linenos">1423</span></a>
</span><span id="JuegoWindow-1424"><a href="#JuegoWindow-1424"><span class="linenos">1424</span></a>            <span class="k">if</span> <span class="n">bitacora_doc</span><span class="o">.</span><span class="n">exists</span><span class="p">:</span>
</span><span id="JuegoWindow-1425"><a href="#JuegoWindow-1425"><span class="linenos">1425</span></a>                <span class="n">bitacora_data</span> <span class="o">=</span> <span class="n">bitacora_doc</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</span><span id="JuegoWindow-1426"><a href="#JuegoWindow-1426"><span class="linenos">1426</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Datos del documento: </span><span class="si">{</span><span class="n">bitacora_data</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># Mensaje de depuración</span>
</span><span id="JuegoWindow-1427"><a href="#JuegoWindow-1427"><span class="linenos">1427</span></a>                
</span><span id="JuegoWindow-1428"><a href="#JuegoWindow-1428"><span class="linenos">1428</span></a>                <span class="n">recompensa</span> <span class="o">=</span> <span class="n">bitacora_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;recompensa&#39;</span><span class="p">,</span> <span class="s1">&#39;N/A&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-1429"><a href="#JuegoWindow-1429"><span class="linenos">1429</span></a>                <span class="n">penalizacion</span> <span class="o">=</span> <span class="n">bitacora_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;penalizacion&#39;</span><span class="p">,</span> <span class="s1">&#39;N/A&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-1430"><a href="#JuegoWindow-1430"><span class="linenos">1430</span></a>                <span class="n">textos</span> <span class="o">=</span> <span class="p">[</span><span class="n">bitacora_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;texto</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">)]</span>  <span class="c1"># Recupera texto1 a texto7</span>
</span><span id="JuegoWindow-1431"><a href="#JuegoWindow-1431"><span class="linenos">1431</span></a>
</span><span id="JuegoWindow-1432"><a href="#JuegoWindow-1432"><span class="linenos">1432</span></a>                <span class="n">bitacora_texts</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="JuegoWindow-1433"><a href="#JuegoWindow-1433"><span class="linenos">1433</span></a>                    <span class="sa">f</span><span class="s2">&quot;Recompensa: </span><span class="si">{</span><span class="n">recompensa</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="JuegoWindow-1434"><a href="#JuegoWindow-1434"><span class="linenos">1434</span></a>                    <span class="sa">f</span><span class="s2">&quot;Penalización: </span><span class="si">{</span><span class="n">penalizacion</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="JuegoWindow-1435"><a href="#JuegoWindow-1435"><span class="linenos">1435</span></a>                    <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">textos</span><span class="p">)</span>  <span class="c1"># Muestra todos los textos</span>
</span><span id="JuegoWindow-1436"><a href="#JuegoWindow-1436"><span class="linenos">1436</span></a>                <span class="p">]</span>
</span><span id="JuegoWindow-1437"><a href="#JuegoWindow-1437"><span class="linenos">1437</span></a>
</span><span id="JuegoWindow-1438"><a href="#JuegoWindow-1438"><span class="linenos">1438</span></a>                <span class="n">historial_info</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bitacora_texts</span><span class="p">),</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow-1439"><a href="#JuegoWindow-1439"><span class="linenos">1439</span></a>                <span class="n">historial_info</span><span class="o">.</span><span class="n">setWordWrap</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</span><span id="JuegoWindow-1440"><a href="#JuegoWindow-1440"><span class="linenos">1440</span></a>                <span class="n">historial_info</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;font-size: 16px;&quot;</span><span class="p">)</span>  <span class="c1"># Tamaño de fuente para el texto</span>
</span><span id="JuegoWindow-1441"><a href="#JuegoWindow-1441"><span class="linenos">1441</span></a>                <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">historial_info</span><span class="p">)</span>
</span><span id="JuegoWindow-1442"><a href="#JuegoWindow-1442"><span class="linenos">1442</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="JuegoWindow-1443"><a href="#JuegoWindow-1443"><span class="linenos">1443</span></a>                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Sin Bitácora&#39;</span><span class="p">,</span> <span class="s1">&#39;No hay bitácora disponible para esta sala en la base de datos.&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-1444"><a href="#JuegoWindow-1444"><span class="linenos">1444</span></a>                <span class="n">historial_dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>  <span class="c1"># Cierra el diálogo si no hay bitácora</span>
</span><span id="JuegoWindow-1445"><a href="#JuegoWindow-1445"><span class="linenos">1445</span></a>                <span class="k">return</span>
</span><span id="JuegoWindow-1446"><a href="#JuegoWindow-1446"><span class="linenos">1446</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="JuegoWindow-1447"><a href="#JuegoWindow-1447"><span class="linenos">1447</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Ocurrió un error al recuperar la bitácora: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-1448"><a href="#JuegoWindow-1448"><span class="linenos">1448</span></a>            <span class="n">historial_dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>  <span class="c1"># Cierra el diálogo en caso de error</span>
</span><span id="JuegoWindow-1449"><a href="#JuegoWindow-1449"><span class="linenos">1449</span></a>            <span class="k">return</span>
</span><span id="JuegoWindow-1450"><a href="#JuegoWindow-1450"><span class="linenos">1450</span></a>
</span><span id="JuegoWindow-1451"><a href="#JuegoWindow-1451"><span class="linenos">1451</span></a>        <span class="n">btn_cerrar</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Cerrar&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow-1452"><a href="#JuegoWindow-1452"><span class="linenos">1452</span></a>        <span class="n">btn_cerrar</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1453"><a href="#JuegoWindow-1453"><span class="linenos">1453</span></a><span class="s2">            background-color: #8b4513; /* Color marrón oscuro */</span>
</span><span id="JuegoWindow-1454"><a href="#JuegoWindow-1454"><span class="linenos">1454</span></a><span class="s2">            color: #f5f5dc; /* Color beige claro para el texto */</span>
</span><span id="JuegoWindow-1455"><a href="#JuegoWindow-1455"><span class="linenos">1455</span></a><span class="s2">            font-size: 14px; /* Tamaño de fuente del botón */</span>
</span><span id="JuegoWindow-1456"><a href="#JuegoWindow-1456"><span class="linenos">1456</span></a><span class="s2">            border: 2px solid #6a3e2f; /* Borde del botón */</span>
</span><span id="JuegoWindow-1457"><a href="#JuegoWindow-1457"><span class="linenos">1457</span></a><span class="s2">            border-radius: 5px; /* Bordes redondeados del botón */</span>
</span><span id="JuegoWindow-1458"><a href="#JuegoWindow-1458"><span class="linenos">1458</span></a><span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow-1459"><a href="#JuegoWindow-1459"><span class="linenos">1459</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn_cerrar</span><span class="p">)</span>
</span><span id="JuegoWindow-1460"><a href="#JuegoWindow-1460"><span class="linenos">1460</span></a>
</span><span id="JuegoWindow-1461"><a href="#JuegoWindow-1461"><span class="linenos">1461</span></a>        <span class="n">historial_dialog</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
</span><span id="JuegoWindow-1462"><a href="#JuegoWindow-1462"><span class="linenos">1462</span></a>        <span class="n">historial_dialog</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">600</span><span class="p">,</span> <span class="mi">400</span><span class="p">)</span>  <span class="c1"># Establecer un tamaño inicial para el diálogo</span>
</span><span id="JuegoWindow-1463"><a href="#JuegoWindow-1463"><span class="linenos">1463</span></a>
</span><span id="JuegoWindow-1464"><a href="#JuegoWindow-1464"><span class="linenos">1464</span></a>        <span class="c1"># Mensaje de depuración para verificar antes de mostrar el diálogo</span>
</span><span id="JuegoWindow-1465"><a href="#JuegoWindow-1465"><span class="linenos">1465</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Mostrando el diálogo de historial&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow-1466"><a href="#JuegoWindow-1466"><span class="linenos">1466</span></a>
</span><span id="JuegoWindow-1467"><a href="#JuegoWindow-1467"><span class="linenos">1467</span></a>        <span class="n">historial_dialog</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="JuegoWindow-1468"><a href="#JuegoWindow-1468"><span class="linenos">1468</span></a>
</span><span id="JuegoWindow-1469"><a href="#JuegoWindow-1469"><span class="linenos">1469</span></a>        <span class="n">btn_cerrar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Botón Cerrar clickeado&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">historial_dialog</span><span class="o">.</span><span class="n">close</span><span class="p">())</span>
</span><span id="JuegoWindow-1470"><a href="#JuegoWindow-1470"><span class="linenos">1470</span></a>
</span><span id="JuegoWindow-1471"><a href="#JuegoWindow-1471"><span class="linenos">1471</span></a>
</span><span id="JuegoWindow-1472"><a href="#JuegoWindow-1472"><span class="linenos">1472</span></a>    <span class="k">def</span> <span class="nf">show_pagina_1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow-1473"><a href="#JuegoWindow-1473"><span class="linenos">1473</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1474"><a href="#JuegoWindow-1474"><span class="linenos">1474</span></a><span class="sd">        Muestra la `pagina_1` en el `QStackedWidget`.</span>
</span><span id="JuegoWindow-1475"><a href="#JuegoWindow-1475"><span class="linenos">1475</span></a>
</span><span id="JuegoWindow-1476"><a href="#JuegoWindow-1476"><span class="linenos">1476</span></a><span class="sd">        Este método cambia la vista actual del `QStackedWidget` a la página de índice `pagina_1`.</span>
</span><span id="JuegoWindow-1477"><a href="#JuegoWindow-1477"><span class="linenos">1477</span></a>
</span><span id="JuegoWindow-1478"><a href="#JuegoWindow-1478"><span class="linenos">1478</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow-1479"><a href="#JuegoWindow-1479"><span class="linenos">1479</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow-1480"><a href="#JuegoWindow-1480"><span class="linenos">1480</span></a><span class="sd">        self.show_pagina_1()</span>
</span><span id="JuegoWindow-1481"><a href="#JuegoWindow-1481"><span class="linenos">1481</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow-1482"><a href="#JuegoWindow-1482"><span class="linenos">1482</span></a>
</span><span id="JuegoWindow-1483"><a href="#JuegoWindow-1483"><span class="linenos">1483</span></a><span class="sd">        **Notas**:</span>
</span><span id="JuegoWindow-1484"><a href="#JuegoWindow-1484"><span class="linenos">1484</span></a><span class="sd">        - Este método no recibe parámetros ni retorna valores.</span>
</span><span id="JuegoWindow-1485"><a href="#JuegoWindow-1485"><span class="linenos">1485</span></a><span class="sd">        - Asegúrate de que `pagina_1` esté correctamente añadida al `QStackedWidget` para que este método funcione.</span>
</span><span id="JuegoWindow-1486"><a href="#JuegoWindow-1486"><span class="linenos">1486</span></a>
</span><span id="JuegoWindow-1487"><a href="#JuegoWindow-1487"><span class="linenos">1487</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="JuegoWindow-1488"><a href="#JuegoWindow-1488"><span class="linenos">1488</span></a><span class="sd">        - `pagina_1` debe ser una de las páginas añadidas al `QStackedWidget`.</span>
</span><span id="JuegoWindow-1489"><a href="#JuegoWindow-1489"><span class="linenos">1489</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1490"><a href="#JuegoWindow-1490"><span class="linenos">1490</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stackedWidget</span><span class="o">.</span><span class="n">setCurrentWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pagina_1</span><span class="p">)</span>
</span><span id="JuegoWindow-1491"><a href="#JuegoWindow-1491"><span class="linenos">1491</span></a>
</span><span id="JuegoWindow-1492"><a href="#JuegoWindow-1492"><span class="linenos">1492</span></a>
</span><span id="JuegoWindow-1493"><a href="#JuegoWindow-1493"><span class="linenos">1493</span></a>    <span class="k">def</span> <span class="nf">show_pagina_2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow-1494"><a href="#JuegoWindow-1494"><span class="linenos">1494</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1495"><a href="#JuegoWindow-1495"><span class="linenos">1495</span></a><span class="sd">        Muestra la `pagina_2` en el `QStackedWidget` y conecta el botón `btn_crearM` al método `crear_nueva_mision`.</span>
</span><span id="JuegoWindow-1496"><a href="#JuegoWindow-1496"><span class="linenos">1496</span></a>
</span><span id="JuegoWindow-1497"><a href="#JuegoWindow-1497"><span class="linenos">1497</span></a><span class="sd">        Este método cambia la vista actual del `QStackedWidget` a la página de índice `pagina_2` y configura el botón </span>
</span><span id="JuegoWindow-1498"><a href="#JuegoWindow-1498"><span class="linenos">1498</span></a><span class="sd">        `btn_crearM` para que llame al método `crear_nueva_mision` cuando se haga clic en él.</span>
</span><span id="JuegoWindow-1499"><a href="#JuegoWindow-1499"><span class="linenos">1499</span></a>
</span><span id="JuegoWindow-1500"><a href="#JuegoWindow-1500"><span class="linenos">1500</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow-1501"><a href="#JuegoWindow-1501"><span class="linenos">1501</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow-1502"><a href="#JuegoWindow-1502"><span class="linenos">1502</span></a><span class="sd">        self.show_pagina_2()</span>
</span><span id="JuegoWindow-1503"><a href="#JuegoWindow-1503"><span class="linenos">1503</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow-1504"><a href="#JuegoWindow-1504"><span class="linenos">1504</span></a>
</span><span id="JuegoWindow-1505"><a href="#JuegoWindow-1505"><span class="linenos">1505</span></a><span class="sd">        **Notas**:</span>
</span><span id="JuegoWindow-1506"><a href="#JuegoWindow-1506"><span class="linenos">1506</span></a><span class="sd">        - Este método configura el evento de clic para `btn_crearM` para crear una nueva misión.</span>
</span><span id="JuegoWindow-1507"><a href="#JuegoWindow-1507"><span class="linenos">1507</span></a><span class="sd">        - Asegúrate de que `btn_crearM` y `crear_nueva_mision` estén definidos y configurados correctamente.</span>
</span><span id="JuegoWindow-1508"><a href="#JuegoWindow-1508"><span class="linenos">1508</span></a>
</span><span id="JuegoWindow-1509"><a href="#JuegoWindow-1509"><span class="linenos">1509</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="JuegoWindow-1510"><a href="#JuegoWindow-1510"><span class="linenos">1510</span></a><span class="sd">        - `btn_crearM` debe ser un botón válido en `pagina_2`.</span>
</span><span id="JuegoWindow-1511"><a href="#JuegoWindow-1511"><span class="linenos">1511</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1512"><a href="#JuegoWindow-1512"><span class="linenos">1512</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stackedWidget</span><span class="o">.</span><span class="n">setCurrentWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pagina_2</span><span class="p">)</span>
</span><span id="JuegoWindow-1513"><a href="#JuegoWindow-1513"><span class="linenos">1513</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_crearM</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">crear_nueva_mision</span><span class="p">)</span>
</span><span id="JuegoWindow-1514"><a href="#JuegoWindow-1514"><span class="linenos">1514</span></a>
</span><span id="JuegoWindow-1515"><a href="#JuegoWindow-1515"><span class="linenos">1515</span></a>
</span><span id="JuegoWindow-1516"><a href="#JuegoWindow-1516"><span class="linenos">1516</span></a>    <span class="k">def</span> <span class="nf">crear_nueva_mision</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow-1517"><a href="#JuegoWindow-1517"><span class="linenos">1517</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1518"><a href="#JuegoWindow-1518"><span class="linenos">1518</span></a><span class="sd">        Crea una nueva misión y la guarda en la colección `evento` en Firestore.</span>
</span><span id="JuegoWindow-1519"><a href="#JuegoWindow-1519"><span class="linenos">1519</span></a>
</span><span id="JuegoWindow-1520"><a href="#JuegoWindow-1520"><span class="linenos">1520</span></a><span class="sd">        Este método toma los datos de los campos de texto de la misión, los valida, y los guarda en la colección `evento`.</span>
</span><span id="JuegoWindow-1521"><a href="#JuegoWindow-1521"><span class="linenos">1521</span></a><span class="sd">        Luego, limpia los campos de entrada y muestra un mensaje de éxito.</span>
</span><span id="JuegoWindow-1522"><a href="#JuegoWindow-1522"><span class="linenos">1522</span></a>
</span><span id="JuegoWindow-1523"><a href="#JuegoWindow-1523"><span class="linenos">1523</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow-1524"><a href="#JuegoWindow-1524"><span class="linenos">1524</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow-1525"><a href="#JuegoWindow-1525"><span class="linenos">1525</span></a><span class="sd">        self.crear_nueva_mision()</span>
</span><span id="JuegoWindow-1526"><a href="#JuegoWindow-1526"><span class="linenos">1526</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow-1527"><a href="#JuegoWindow-1527"><span class="linenos">1527</span></a>
</span><span id="JuegoWindow-1528"><a href="#JuegoWindow-1528"><span class="linenos">1528</span></a><span class="sd">        **Manejo de Errores**:</span>
</span><span id="JuegoWindow-1529"><a href="#JuegoWindow-1529"><span class="linenos">1529</span></a><span class="sd">        - Muestra un mensaje de advertencia si algún campo está vacío.</span>
</span><span id="JuegoWindow-1530"><a href="#JuegoWindow-1530"><span class="linenos">1530</span></a><span class="sd">        - Muestra un mensaje de éxito cuando la misión se crea y se guarda correctamente.</span>
</span><span id="JuegoWindow-1531"><a href="#JuegoWindow-1531"><span class="linenos">1531</span></a><span class="sd">        - Maneja errores durante la adición de la misión a Firestore y muestra un mensaje de error si ocurre una excepción.</span>
</span><span id="JuegoWindow-1532"><a href="#JuegoWindow-1532"><span class="linenos">1532</span></a>
</span><span id="JuegoWindow-1533"><a href="#JuegoWindow-1533"><span class="linenos">1533</span></a><span class="sd">        **Notas**:</span>
</span><span id="JuegoWindow-1534"><a href="#JuegoWindow-1534"><span class="linenos">1534</span></a><span class="sd">        - `name_m`, `descrip_m`, `tex_condi`, y `recom_m` deben ser `QTextEdit` o widgets similares con texto que no esté vacío.</span>
</span><span id="JuegoWindow-1535"><a href="#JuegoWindow-1535"><span class="linenos">1535</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1536"><a href="#JuegoWindow-1536"><span class="linenos">1536</span></a>        <span class="n">nombre</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">name_m</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">()</span>
</span><span id="JuegoWindow-1537"><a href="#JuegoWindow-1537"><span class="linenos">1537</span></a>        <span class="n">descripcion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">descrip_m</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">()</span>
</span><span id="JuegoWindow-1538"><a href="#JuegoWindow-1538"><span class="linenos">1538</span></a>        <span class="n">condiciones</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tex_condi</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">()</span>
</span><span id="JuegoWindow-1539"><a href="#JuegoWindow-1539"><span class="linenos">1539</span></a>        <span class="n">recompensa</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">recom_m</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">()</span>
</span><span id="JuegoWindow-1540"><a href="#JuegoWindow-1540"><span class="linenos">1540</span></a>
</span><span id="JuegoWindow-1541"><a href="#JuegoWindow-1541"><span class="linenos">1541</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">nombre</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">descripcion</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">condiciones</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">recompensa</span><span class="p">:</span>
</span><span id="JuegoWindow-1542"><a href="#JuegoWindow-1542"><span class="linenos">1542</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Campos Vacíos&#39;</span><span class="p">,</span> <span class="s1">&#39;Por favor, completa todos los campos.&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-1543"><a href="#JuegoWindow-1543"><span class="linenos">1543</span></a>            <span class="k">return</span>
</span><span id="JuegoWindow-1544"><a href="#JuegoWindow-1544"><span class="linenos">1544</span></a>
</span><span id="JuegoWindow-1545"><a href="#JuegoWindow-1545"><span class="linenos">1545</span></a>        <span class="n">nueva_mision</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="JuegoWindow-1546"><a href="#JuegoWindow-1546"><span class="linenos">1546</span></a>            <span class="s1">&#39;nombre&#39;</span><span class="p">:</span> <span class="n">nombre</span><span class="p">,</span>
</span><span id="JuegoWindow-1547"><a href="#JuegoWindow-1547"><span class="linenos">1547</span></a>            <span class="s1">&#39;descripcion&#39;</span><span class="p">:</span> <span class="n">descripcion</span><span class="p">,</span>
</span><span id="JuegoWindow-1548"><a href="#JuegoWindow-1548"><span class="linenos">1548</span></a>            <span class="s1">&#39;condiciones&#39;</span><span class="p">:</span> <span class="n">condiciones</span><span class="p">,</span>
</span><span id="JuegoWindow-1549"><a href="#JuegoWindow-1549"><span class="linenos">1549</span></a>            <span class="s1">&#39;recompensa&#39;</span><span class="p">:</span> <span class="n">recompensa</span>
</span><span id="JuegoWindow-1550"><a href="#JuegoWindow-1550"><span class="linenos">1550</span></a>        <span class="p">}</span>
</span><span id="JuegoWindow-1551"><a href="#JuegoWindow-1551"><span class="linenos">1551</span></a>
</span><span id="JuegoWindow-1552"><a href="#JuegoWindow-1552"><span class="linenos">1552</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="JuegoWindow-1553"><a href="#JuegoWindow-1553"><span class="linenos">1553</span></a>            <span class="n">eventos_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;evento&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-1554"><a href="#JuegoWindow-1554"><span class="linenos">1554</span></a>            <span class="n">eventos_ref</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">nueva_mision</span><span class="p">)</span>
</span><span id="JuegoWindow-1555"><a href="#JuegoWindow-1555"><span class="linenos">1555</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">name_m</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="JuegoWindow-1556"><a href="#JuegoWindow-1556"><span class="linenos">1556</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">descrip_m</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="JuegoWindow-1557"><a href="#JuegoWindow-1557"><span class="linenos">1557</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tex_condi</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="JuegoWindow-1558"><a href="#JuegoWindow-1558"><span class="linenos">1558</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">recom_m</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="JuegoWindow-1559"><a href="#JuegoWindow-1559"><span class="linenos">1559</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Misión Creada&#39;</span><span class="p">,</span> <span class="s1">&#39;La nueva misión ha sido creada y guardada en la base de datos.&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-1560"><a href="#JuegoWindow-1560"><span class="linenos">1560</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="JuegoWindow-1561"><a href="#JuegoWindow-1561"><span class="linenos">1561</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error al Crear Misión&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;No se pudo crear la misión: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-1562"><a href="#JuegoWindow-1562"><span class="linenos">1562</span></a>
</span><span id="JuegoWindow-1563"><a href="#JuegoWindow-1563"><span class="linenos">1563</span></a>
</span><span id="JuegoWindow-1564"><a href="#JuegoWindow-1564"><span class="linenos">1564</span></a>            <span class="n">nueva_mision</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="JuegoWindow-1565"><a href="#JuegoWindow-1565"><span class="linenos">1565</span></a>                <span class="s1">&#39;nombre&#39;</span><span class="p">:</span> <span class="n">nombre</span><span class="p">,</span>
</span><span id="JuegoWindow-1566"><a href="#JuegoWindow-1566"><span class="linenos">1566</span></a>                <span class="s1">&#39;descripcion&#39;</span><span class="p">:</span> <span class="n">descripcion</span><span class="p">,</span>
</span><span id="JuegoWindow-1567"><a href="#JuegoWindow-1567"><span class="linenos">1567</span></a>                <span class="s1">&#39;condiciones&#39;</span><span class="p">:</span> <span class="n">condiciones</span><span class="p">,</span>
</span><span id="JuegoWindow-1568"><a href="#JuegoWindow-1568"><span class="linenos">1568</span></a>                <span class="s1">&#39;recompensa&#39;</span><span class="p">:</span> <span class="n">recompensa</span>
</span><span id="JuegoWindow-1569"><a href="#JuegoWindow-1569"><span class="linenos">1569</span></a>            <span class="p">}</span>
</span><span id="JuegoWindow-1570"><a href="#JuegoWindow-1570"><span class="linenos">1570</span></a>
</span><span id="JuegoWindow-1571"><a href="#JuegoWindow-1571"><span class="linenos">1571</span></a>            
</span><span id="JuegoWindow-1572"><a href="#JuegoWindow-1572"><span class="linenos">1572</span></a>            <span class="n">eventos_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;evento&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-1573"><a href="#JuegoWindow-1573"><span class="linenos">1573</span></a>            <span class="n">eventos_ref</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">nueva_mision</span><span class="p">)</span>
</span><span id="JuegoWindow-1574"><a href="#JuegoWindow-1574"><span class="linenos">1574</span></a>
</span><span id="JuegoWindow-1575"><a href="#JuegoWindow-1575"><span class="linenos">1575</span></a>            
</span><span id="JuegoWindow-1576"><a href="#JuegoWindow-1576"><span class="linenos">1576</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">name_m</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="JuegoWindow-1577"><a href="#JuegoWindow-1577"><span class="linenos">1577</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">descrip_m</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="JuegoWindow-1578"><a href="#JuegoWindow-1578"><span class="linenos">1578</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tex_condi</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="JuegoWindow-1579"><a href="#JuegoWindow-1579"><span class="linenos">1579</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">recom_m</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="JuegoWindow-1580"><a href="#JuegoWindow-1580"><span class="linenos">1580</span></a>
</span><span id="JuegoWindow-1581"><a href="#JuegoWindow-1581"><span class="linenos">1581</span></a>        
</span><span id="JuegoWindow-1582"><a href="#JuegoWindow-1582"><span class="linenos">1582</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Misión Creada&#39;</span><span class="p">,</span> <span class="s1">&#39;La nueva misión ha sido creada y guardada en la base de datos.&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-1583"><a href="#JuegoWindow-1583"><span class="linenos">1583</span></a>        
</span><span id="JuegoWindow-1584"><a href="#JuegoWindow-1584"><span class="linenos">1584</span></a>
</span><span id="JuegoWindow-1585"><a href="#JuegoWindow-1585"><span class="linenos">1585</span></a>    <span class="k">def</span> <span class="nf">show_pagina_4</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow-1586"><a href="#JuegoWindow-1586"><span class="linenos">1586</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1587"><a href="#JuegoWindow-1587"><span class="linenos">1587</span></a><span class="sd">        Muestra la `pagina_4` en el `QStackedWidget` y agrega una tabla de personajes si no está agregada.</span>
</span><span id="JuegoWindow-1588"><a href="#JuegoWindow-1588"><span class="linenos">1588</span></a>
</span><span id="JuegoWindow-1589"><a href="#JuegoWindow-1589"><span class="linenos">1589</span></a><span class="sd">        Este método cambia la vista actual del `QStackedWidget` a la página de índice `pagina_4` y agrega la tabla de </span>
</span><span id="JuegoWindow-1590"><a href="#JuegoWindow-1590"><span class="linenos">1590</span></a><span class="sd">        personajes solo si aún no se ha agregado.</span>
</span><span id="JuegoWindow-1591"><a href="#JuegoWindow-1591"><span class="linenos">1591</span></a>
</span><span id="JuegoWindow-1592"><a href="#JuegoWindow-1592"><span class="linenos">1592</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow-1593"><a href="#JuegoWindow-1593"><span class="linenos">1593</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow-1594"><a href="#JuegoWindow-1594"><span class="linenos">1594</span></a><span class="sd">        self.show_pagina_4()</span>
</span><span id="JuegoWindow-1595"><a href="#JuegoWindow-1595"><span class="linenos">1595</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow-1596"><a href="#JuegoWindow-1596"><span class="linenos">1596</span></a>
</span><span id="JuegoWindow-1597"><a href="#JuegoWindow-1597"><span class="linenos">1597</span></a><span class="sd">        **Notas**:</span>
</span><span id="JuegoWindow-1598"><a href="#JuegoWindow-1598"><span class="linenos">1598</span></a><span class="sd">        - Asegúrate de que `pagina_4` esté correctamente añadida al `QStackedWidget`.</span>
</span><span id="JuegoWindow-1599"><a href="#JuegoWindow-1599"><span class="linenos">1599</span></a><span class="sd">        - `self.tabla_personajes_agregada` debe ser un atributo booleano inicializado en `False`.</span>
</span><span id="JuegoWindow-1600"><a href="#JuegoWindow-1600"><span class="linenos">1600</span></a>
</span><span id="JuegoWindow-1601"><a href="#JuegoWindow-1601"><span class="linenos">1601</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="JuegoWindow-1602"><a href="#JuegoWindow-1602"><span class="linenos">1602</span></a><span class="sd">        - La tabla de personajes debe ser añadida a un diseño de `pagina_4`.</span>
</span><span id="JuegoWindow-1603"><a href="#JuegoWindow-1603"><span class="linenos">1603</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1604"><a href="#JuegoWindow-1604"><span class="linenos">1604</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stackedWidget</span><span class="o">.</span><span class="n">setCurrentWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pagina_4</span><span class="p">)</span>
</span><span id="JuegoWindow-1605"><a href="#JuegoWindow-1605"><span class="linenos">1605</span></a>
</span><span id="JuegoWindow-1606"><a href="#JuegoWindow-1606"><span class="linenos">1606</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes_agregada</span><span class="p">:</span>
</span><span id="JuegoWindow-1607"><a href="#JuegoWindow-1607"><span class="linenos">1607</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">agregar_tabla_personajes</span><span class="p">()</span>
</span><span id="JuegoWindow-1608"><a href="#JuegoWindow-1608"><span class="linenos">1608</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes_agregada</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="JuegoWindow-1609"><a href="#JuegoWindow-1609"><span class="linenos">1609</span></a>
</span><span id="JuegoWindow-1610"><a href="#JuegoWindow-1610"><span class="linenos">1610</span></a>
</span><span id="JuegoWindow-1611"><a href="#JuegoWindow-1611"><span class="linenos">1611</span></a>    <span class="k">def</span> <span class="nf">show_pagina_3</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow-1612"><a href="#JuegoWindow-1612"><span class="linenos">1612</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1613"><a href="#JuegoWindow-1613"><span class="linenos">1613</span></a><span class="sd">        Muestra la `pagina_3` en el `QStackedWidget` y llama al método `cambio_etapa`.</span>
</span><span id="JuegoWindow-1614"><a href="#JuegoWindow-1614"><span class="linenos">1614</span></a>
</span><span id="JuegoWindow-1615"><a href="#JuegoWindow-1615"><span class="linenos">1615</span></a><span class="sd">        Este método cambia la vista actual del `QStackedWidget` a la página de índice `pagina_3` y realiza una </span>
</span><span id="JuegoWindow-1616"><a href="#JuegoWindow-1616"><span class="linenos">1616</span></a><span class="sd">        actualización basada en la selección del `comboBox_2`.</span>
</span><span id="JuegoWindow-1617"><a href="#JuegoWindow-1617"><span class="linenos">1617</span></a>
</span><span id="JuegoWindow-1618"><a href="#JuegoWindow-1618"><span class="linenos">1618</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow-1619"><a href="#JuegoWindow-1619"><span class="linenos">1619</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow-1620"><a href="#JuegoWindow-1620"><span class="linenos">1620</span></a><span class="sd">        self.show_pagina_3()</span>
</span><span id="JuegoWindow-1621"><a href="#JuegoWindow-1621"><span class="linenos">1621</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow-1622"><a href="#JuegoWindow-1622"><span class="linenos">1622</span></a>
</span><span id="JuegoWindow-1623"><a href="#JuegoWindow-1623"><span class="linenos">1623</span></a><span class="sd">        **Notas**:</span>
</span><span id="JuegoWindow-1624"><a href="#JuegoWindow-1624"><span class="linenos">1624</span></a><span class="sd">        - Asegúrate de que `pagina_3` esté correctamente añadida al `QStackedWidget`.</span>
</span><span id="JuegoWindow-1625"><a href="#JuegoWindow-1625"><span class="linenos">1625</span></a><span class="sd">        - `cambio_etapa` debe ser un método definido en la clase para manejar la selección del `comboBox_2`.</span>
</span><span id="JuegoWindow-1626"><a href="#JuegoWindow-1626"><span class="linenos">1626</span></a>
</span><span id="JuegoWindow-1627"><a href="#JuegoWindow-1627"><span class="linenos">1627</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="JuegoWindow-1628"><a href="#JuegoWindow-1628"><span class="linenos">1628</span></a><span class="sd">        - `comboBox_2` debe ser un widget `QComboBox` válido en `pagina_3`.</span>
</span><span id="JuegoWindow-1629"><a href="#JuegoWindow-1629"><span class="linenos">1629</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1630"><a href="#JuegoWindow-1630"><span class="linenos">1630</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stackedWidget</span><span class="o">.</span><span class="n">setCurrentWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pagina_3</span><span class="p">)</span>
</span><span id="JuegoWindow-1631"><a href="#JuegoWindow-1631"><span class="linenos">1631</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cambio_etapa</span><span class="p">()</span>
</span><span id="JuegoWindow-1632"><a href="#JuegoWindow-1632"><span class="linenos">1632</span></a>
</span><span id="JuegoWindow-1633"><a href="#JuegoWindow-1633"><span class="linenos">1633</span></a>    <span class="k">def</span> <span class="nf">cambio_etapa</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow-1634"><a href="#JuegoWindow-1634"><span class="linenos">1634</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1635"><a href="#JuegoWindow-1635"><span class="linenos">1635</span></a><span class="sd">        Actualiza la animación del QLabel `inicio_p` basado en la selección del `comboBox_2`.</span>
</span><span id="JuegoWindow-1636"><a href="#JuegoWindow-1636"><span class="linenos">1636</span></a>
</span><span id="JuegoWindow-1637"><a href="#JuegoWindow-1637"><span class="linenos">1637</span></a><span class="sd">        Este método obtiene el índice seleccionado en `comboBox_2`, detiene cualquier animación actual en `inicio_p`,</span>
</span><span id="JuegoWindow-1638"><a href="#JuegoWindow-1638"><span class="linenos">1638</span></a><span class="sd">        y establece una nueva animación basada en el índice seleccionado.</span>
</span><span id="JuegoWindow-1639"><a href="#JuegoWindow-1639"><span class="linenos">1639</span></a>
</span><span id="JuegoWindow-1640"><a href="#JuegoWindow-1640"><span class="linenos">1640</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow-1641"><a href="#JuegoWindow-1641"><span class="linenos">1641</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow-1642"><a href="#JuegoWindow-1642"><span class="linenos">1642</span></a><span class="sd">        self.cambio_etapa()</span>
</span><span id="JuegoWindow-1643"><a href="#JuegoWindow-1643"><span class="linenos">1643</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow-1644"><a href="#JuegoWindow-1644"><span class="linenos">1644</span></a>
</span><span id="JuegoWindow-1645"><a href="#JuegoWindow-1645"><span class="linenos">1645</span></a><span class="sd">        **Notas**:</span>
</span><span id="JuegoWindow-1646"><a href="#JuegoWindow-1646"><span class="linenos">1646</span></a><span class="sd">        - `comboBox_2` debe ser un widget `QComboBox` con varias opciones.</span>
</span><span id="JuegoWindow-1647"><a href="#JuegoWindow-1647"><span class="linenos">1647</span></a><span class="sd">        - `self.animations` debe ser un diccionario que mapea índices de `comboBox_2` a rutas de archivos GIF.</span>
</span><span id="JuegoWindow-1648"><a href="#JuegoWindow-1648"><span class="linenos">1648</span></a>
</span><span id="JuegoWindow-1649"><a href="#JuegoWindow-1649"><span class="linenos">1649</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="JuegoWindow-1650"><a href="#JuegoWindow-1650"><span class="linenos">1650</span></a><span class="sd">        - Asegúrate de que `self.animations` esté correctamente configurado con rutas válidas de archivos GIF.</span>
</span><span id="JuegoWindow-1651"><a href="#JuegoWindow-1651"><span class="linenos">1651</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1652"><a href="#JuegoWindow-1652"><span class="linenos">1652</span></a>        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">comboBox_2</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">()</span>
</span><span id="JuegoWindow-1653"><a href="#JuegoWindow-1653"><span class="linenos">1653</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ComboBox index changed to: </span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># Mensaje de depuración</span>
</span><span id="JuegoWindow-1654"><a href="#JuegoWindow-1654"><span class="linenos">1654</span></a>
</span><span id="JuegoWindow-1655"><a href="#JuegoWindow-1655"><span class="linenos">1655</span></a>        <span class="c1"># Detiene cualquier animación actual en el QLabel</span>
</span><span id="JuegoWindow-1656"><a href="#JuegoWindow-1656"><span class="linenos">1656</span></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;movie&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">movie</span><span class="p">:</span>
</span><span id="JuegoWindow-1657"><a href="#JuegoWindow-1657"><span class="linenos">1657</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">movie</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</span><span id="JuegoWindow-1658"><a href="#JuegoWindow-1658"><span class="linenos">1658</span></a>        
</span><span id="JuegoWindow-1659"><a href="#JuegoWindow-1659"><span class="linenos">1659</span></a>        <span class="c1"># Establece el nuevo GIF basado en la selección del QComboBox_2</span>
</span><span id="JuegoWindow-1660"><a href="#JuegoWindow-1660"><span class="linenos">1660</span></a>        <span class="n">gif_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">animations</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
</span><span id="JuegoWindow-1661"><a href="#JuegoWindow-1661"><span class="linenos">1661</span></a>        <span class="k">if</span> <span class="n">gif_path</span><span class="p">:</span>
</span><span id="JuegoWindow-1662"><a href="#JuegoWindow-1662"><span class="linenos">1662</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Loading GIF: </span><span class="si">{</span><span class="n">gif_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># Mensaje de depuración</span>
</span><span id="JuegoWindow-1663"><a href="#JuegoWindow-1663"><span class="linenos">1663</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">movie</span> <span class="o">=</span> <span class="n">QMovie</span><span class="p">(</span><span class="n">gif_path</span><span class="p">)</span>
</span><span id="JuegoWindow-1664"><a href="#JuegoWindow-1664"><span class="linenos">1664</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">inicio_p</span><span class="o">.</span><span class="n">setMovie</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">movie</span><span class="p">)</span>
</span><span id="JuegoWindow-1665"><a href="#JuegoWindow-1665"><span class="linenos">1665</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">movie</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</span><span id="JuegoWindow-1666"><a href="#JuegoWindow-1666"><span class="linenos">1666</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="JuegoWindow-1667"><a href="#JuegoWindow-1667"><span class="linenos">1667</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">inicio_p</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="JuegoWindow-1668"><a href="#JuegoWindow-1668"><span class="linenos">1668</span></a>
</span><span id="JuegoWindow-1669"><a href="#JuegoWindow-1669"><span class="linenos">1669</span></a>    <span class="k">def</span> <span class="nf">show_pagina_5</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow-1670"><a href="#JuegoWindow-1670"><span class="linenos">1670</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1671"><a href="#JuegoWindow-1671"><span class="linenos">1671</span></a><span class="sd">        Muestra la `pagina_5` en el `QStackedWidget`.</span>
</span><span id="JuegoWindow-1672"><a href="#JuegoWindow-1672"><span class="linenos">1672</span></a>
</span><span id="JuegoWindow-1673"><a href="#JuegoWindow-1673"><span class="linenos">1673</span></a><span class="sd">        Este método cambia la vista actual del `QStackedWidget` a la página de índice `pagina_5`.</span>
</span><span id="JuegoWindow-1674"><a href="#JuegoWindow-1674"><span class="linenos">1674</span></a>
</span><span id="JuegoWindow-1675"><a href="#JuegoWindow-1675"><span class="linenos">1675</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow-1676"><a href="#JuegoWindow-1676"><span class="linenos">1676</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow-1677"><a href="#JuegoWindow-1677"><span class="linenos">1677</span></a><span class="sd">        self.show_pagina_5()</span>
</span><span id="JuegoWindow-1678"><a href="#JuegoWindow-1678"><span class="linenos">1678</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow-1679"><a href="#JuegoWindow-1679"><span class="linenos">1679</span></a>
</span><span id="JuegoWindow-1680"><a href="#JuegoWindow-1680"><span class="linenos">1680</span></a><span class="sd">        **Notas**:</span>
</span><span id="JuegoWindow-1681"><a href="#JuegoWindow-1681"><span class="linenos">1681</span></a><span class="sd">        - Asegúrate de que `pagina_5` esté correctamente añadida al `QStackedWidget`.</span>
</span><span id="JuegoWindow-1682"><a href="#JuegoWindow-1682"><span class="linenos">1682</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1683"><a href="#JuegoWindow-1683"><span class="linenos">1683</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stackedWidget</span><span class="o">.</span><span class="n">setCurrentWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pagina_5</span><span class="p">)</span>
</span><span id="JuegoWindow-1684"><a href="#JuegoWindow-1684"><span class="linenos">1684</span></a>
</span><span id="JuegoWindow-1685"><a href="#JuegoWindow-1685"><span class="linenos">1685</span></a>        
</span><span id="JuegoWindow-1686"><a href="#JuegoWindow-1686"><span class="linenos">1686</span></a>    <span class="k">def</span> <span class="nf">agregar_tabla_personajes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow-1687"><a href="#JuegoWindow-1687"><span class="linenos">1687</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1688"><a href="#JuegoWindow-1688"><span class="linenos">1688</span></a><span class="sd">        Crea y agrega una tabla de personajes a `pagina_4`.</span>
</span><span id="JuegoWindow-1689"><a href="#JuegoWindow-1689"><span class="linenos">1689</span></a>
</span><span id="JuegoWindow-1690"><a href="#JuegoWindow-1690"><span class="linenos">1690</span></a><span class="sd">        Este método crea un `QTableWidget` con 7 columnas para mostrar detalles de personajes y los agrega a `pagina_4`.</span>
</span><span id="JuegoWindow-1691"><a href="#JuegoWindow-1691"><span class="linenos">1691</span></a><span class="sd">        También aplica un estilo a la tabla para que coincida con el diseño visual del resto de la aplicación.</span>
</span><span id="JuegoWindow-1692"><a href="#JuegoWindow-1692"><span class="linenos">1692</span></a>
</span><span id="JuegoWindow-1693"><a href="#JuegoWindow-1693"><span class="linenos">1693</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow-1694"><a href="#JuegoWindow-1694"><span class="linenos">1694</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow-1695"><a href="#JuegoWindow-1695"><span class="linenos">1695</span></a><span class="sd">        self.agregar_tabla_personajes()</span>
</span><span id="JuegoWindow-1696"><a href="#JuegoWindow-1696"><span class="linenos">1696</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow-1697"><a href="#JuegoWindow-1697"><span class="linenos">1697</span></a>
</span><span id="JuegoWindow-1698"><a href="#JuegoWindow-1698"><span class="linenos">1698</span></a><span class="sd">        **Notas**:</span>
</span><span id="JuegoWindow-1699"><a href="#JuegoWindow-1699"><span class="linenos">1699</span></a><span class="sd">        - Asegúrate de que `pagina_4` tenga un diseño adecuado para contener la tabla de personajes.</span>
</span><span id="JuegoWindow-1700"><a href="#JuegoWindow-1700"><span class="linenos">1700</span></a><span class="sd">        - `self.tabla_personajes_agregada` debe ser un atributo booleano inicializado en `False`.</span>
</span><span id="JuegoWindow-1701"><a href="#JuegoWindow-1701"><span class="linenos">1701</span></a>
</span><span id="JuegoWindow-1702"><a href="#JuegoWindow-1702"><span class="linenos">1702</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="JuegoWindow-1703"><a href="#JuegoWindow-1703"><span class="linenos">1703</span></a><span class="sd">        - `self.tabla_personajes` debe ser una instancia de `QTableWidget`.</span>
</span><span id="JuegoWindow-1704"><a href="#JuegoWindow-1704"><span class="linenos">1704</span></a><span class="sd">        - Asegúrate de que `self.tabla_personajes` se haya configurado correctamente antes de añadirlo a `pagina_4`.</span>
</span><span id="JuegoWindow-1705"><a href="#JuegoWindow-1705"><span class="linenos">1705</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1706"><a href="#JuegoWindow-1706"><span class="linenos">1706</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span> <span class="o">=</span> <span class="n">QTableWidget</span><span class="p">()</span>
</span><span id="JuegoWindow-1707"><a href="#JuegoWindow-1707"><span class="linenos">1707</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setColumnCount</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
</span><span id="JuegoWindow-1708"><a href="#JuegoWindow-1708"><span class="linenos">1708</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setHorizontalHeaderLabels</span><span class="p">([</span><span class="s2">&quot;Nombre&quot;</span><span class="p">,</span> <span class="s2">&quot;Nivel&quot;</span><span class="p">,</span> <span class="s2">&quot;Raza&quot;</span><span class="p">,</span> <span class="s2">&quot;Habilidades&quot;</span><span class="p">,</span> <span class="s2">&quot;Poderes&quot;</span><span class="p">,</span> <span class="s2">&quot;Equipamiento&quot;</span><span class="p">,</span> <span class="s2">&quot;Modificar&quot;</span><span class="p">])</span>
</span><span id="JuegoWindow-1709"><a href="#JuegoWindow-1709"><span class="linenos">1709</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">actualizar_tabla_personajes</span><span class="p">()</span>
</span><span id="JuegoWindow-1710"><a href="#JuegoWindow-1710"><span class="linenos">1710</span></a>
</span><span id="JuegoWindow-1711"><a href="#JuegoWindow-1711"><span class="linenos">1711</span></a>        <span class="c1"># Estilo para la tabla</span>
</span><span id="JuegoWindow-1712"><a href="#JuegoWindow-1712"><span class="linenos">1712</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1713"><a href="#JuegoWindow-1713"><span class="linenos">1713</span></a><span class="s2">            QTableWidget {</span>
</span><span id="JuegoWindow-1714"><a href="#JuegoWindow-1714"><span class="linenos">1714</span></a><span class="s2">                border: 2px solid red; /* Borde exterior rojo */</span>
</span><span id="JuegoWindow-1715"><a href="#JuegoWindow-1715"><span class="linenos">1715</span></a><span class="s2">                border-radius: 5px; /* Esquinas redondeadas */</span>
</span><span id="JuegoWindow-1716"><a href="#JuegoWindow-1716"><span class="linenos">1716</span></a><span class="s2">                padding: 5px; /* Espaciado interno */</span>
</span><span id="JuegoWindow-1717"><a href="#JuegoWindow-1717"><span class="linenos">1717</span></a><span class="s2">            }</span>
</span><span id="JuegoWindow-1718"><a href="#JuegoWindow-1718"><span class="linenos">1718</span></a><span class="s2">            QHeaderView::section {</span>
</span><span id="JuegoWindow-1719"><a href="#JuegoWindow-1719"><span class="linenos">1719</span></a><span class="s2">                background-color: #DCE8F5; /* Color de fondo de las cabeceras */</span>
</span><span id="JuegoWindow-1720"><a href="#JuegoWindow-1720"><span class="linenos">1720</span></a><span class="s2">                color: #000000; /* Color del texto en las cabeceras */</span>
</span><span id="JuegoWindow-1721"><a href="#JuegoWindow-1721"><span class="linenos">1721</span></a><span class="s2">                padding: 10px; /* Espaciado interno de las cabeceras */</span>
</span><span id="JuegoWindow-1722"><a href="#JuegoWindow-1722"><span class="linenos">1722</span></a><span class="s2">                border: 1px solid #a0a0a0; /* Borde de las cabeceras */</span>
</span><span id="JuegoWindow-1723"><a href="#JuegoWindow-1723"><span class="linenos">1723</span></a><span class="s2">            }</span>
</span><span id="JuegoWindow-1724"><a href="#JuegoWindow-1724"><span class="linenos">1724</span></a><span class="s2">            QPushButton {</span>
</span><span id="JuegoWindow-1725"><a href="#JuegoWindow-1725"><span class="linenos">1725</span></a><span class="s2">                background-color: #FFD700; /* Color de fondo dorado */</span>
</span><span id="JuegoWindow-1726"><a href="#JuegoWindow-1726"><span class="linenos">1726</span></a><span class="s2">                color: #000000; /* Color del texto */</span>
</span><span id="JuegoWindow-1727"><a href="#JuegoWindow-1727"><span class="linenos">1727</span></a><span class="s2">                border: 2px solid #DAA520; /* Borde dorado oscuro */</span>
</span><span id="JuegoWindow-1728"><a href="#JuegoWindow-1728"><span class="linenos">1728</span></a><span class="s2">                border-radius: 5px; /* Esquinas redondeadas */</span>
</span><span id="JuegoWindow-1729"><a href="#JuegoWindow-1729"><span class="linenos">1729</span></a><span class="s2">                padding: 12px 20px; /* Espaciado interno del botón */</span>
</span><span id="JuegoWindow-1730"><a href="#JuegoWindow-1730"><span class="linenos">1730</span></a><span class="s2">                font-weight: bold; /* Texto en negrita */</span>
</span><span id="JuegoWindow-1731"><a href="#JuegoWindow-1731"><span class="linenos">1731</span></a><span class="s2">                min-width: 120px; /* Ancho mínimo del botón */</span>
</span><span id="JuegoWindow-1732"><a href="#JuegoWindow-1732"><span class="linenos">1732</span></a><span class="s2">                text-align: center; /* Alinear el texto al centro */</span>
</span><span id="JuegoWindow-1733"><a href="#JuegoWindow-1733"><span class="linenos">1733</span></a><span class="s2">            }</span>
</span><span id="JuegoWindow-1734"><a href="#JuegoWindow-1734"><span class="linenos">1734</span></a><span class="s2">            QPushButton:hover {</span>
</span><span id="JuegoWindow-1735"><a href="#JuegoWindow-1735"><span class="linenos">1735</span></a><span class="s2">                background-color: #FFC107; /* Color de fondo dorado al pasar el ratón */</span>
</span><span id="JuegoWindow-1736"><a href="#JuegoWindow-1736"><span class="linenos">1736</span></a><span class="s2">            }</span>
</span><span id="JuegoWindow-1737"><a href="#JuegoWindow-1737"><span class="linenos">1737</span></a><span class="s2">            QPushButton:pressed {</span>
</span><span id="JuegoWindow-1738"><a href="#JuegoWindow-1738"><span class="linenos">1738</span></a><span class="s2">                background-color: #FFA000; /* Color de fondo dorado oscuro al presionar */</span>
</span><span id="JuegoWindow-1739"><a href="#JuegoWindow-1739"><span class="linenos">1739</span></a><span class="s2">            }</span>
</span><span id="JuegoWindow-1740"><a href="#JuegoWindow-1740"><span class="linenos">1740</span></a><span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow-1741"><a href="#JuegoWindow-1741"><span class="linenos">1741</span></a>
</span><span id="JuegoWindow-1742"><a href="#JuegoWindow-1742"><span class="linenos">1742</span></a>        <span class="n">layout</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pagina_4</span><span class="o">.</span><span class="n">layout</span><span class="p">()</span>
</span><span id="JuegoWindow-1743"><a href="#JuegoWindow-1743"><span class="linenos">1743</span></a>        <span class="k">if</span> <span class="n">layout</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="JuegoWindow-1744"><a href="#JuegoWindow-1744"><span class="linenos">1744</span></a>            <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pagina_4</span><span class="p">)</span>
</span><span id="JuegoWindow-1745"><a href="#JuegoWindow-1745"><span class="linenos">1745</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">pagina_4</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
</span><span id="JuegoWindow-1746"><a href="#JuegoWindow-1746"><span class="linenos">1746</span></a>        
</span><span id="JuegoWindow-1747"><a href="#JuegoWindow-1747"><span class="linenos">1747</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">layout</span><span class="p">,</span> <span class="n">QVBoxLayout</span><span class="p">):</span>
</span><span id="JuegoWindow-1748"><a href="#JuegoWindow-1748"><span class="linenos">1748</span></a>            <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="p">)</span>
</span><span id="JuegoWindow-1749"><a href="#JuegoWindow-1749"><span class="linenos">1749</span></a>
</span><span id="JuegoWindow-1750"><a href="#JuegoWindow-1750"><span class="linenos">1750</span></a>
</span><span id="JuegoWindow-1751"><a href="#JuegoWindow-1751"><span class="linenos">1751</span></a>    <span class="k">def</span> <span class="nf">actualizar_tabla_personajes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow-1752"><a href="#JuegoWindow-1752"><span class="linenos">1752</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1753"><a href="#JuegoWindow-1753"><span class="linenos">1753</span></a><span class="sd">        Actualiza la tabla de personajes en `pagina_4` con datos de la colección `personajes` en Firestore.</span>
</span><span id="JuegoWindow-1754"><a href="#JuegoWindow-1754"><span class="linenos">1754</span></a>
</span><span id="JuegoWindow-1755"><a href="#JuegoWindow-1755"><span class="linenos">1755</span></a><span class="sd">        Este método recupera los datos de todos los personajes, los muestra en una tabla, y agrega un botón de modificación a cada fila.</span>
</span><span id="JuegoWindow-1756"><a href="#JuegoWindow-1756"><span class="linenos">1756</span></a>
</span><span id="JuegoWindow-1757"><a href="#JuegoWindow-1757"><span class="linenos">1757</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow-1758"><a href="#JuegoWindow-1758"><span class="linenos">1758</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow-1759"><a href="#JuegoWindow-1759"><span class="linenos">1759</span></a><span class="sd">        self.actualizar_tabla_personajes()</span>
</span><span id="JuegoWindow-1760"><a href="#JuegoWindow-1760"><span class="linenos">1760</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow-1761"><a href="#JuegoWindow-1761"><span class="linenos">1761</span></a>
</span><span id="JuegoWindow-1762"><a href="#JuegoWindow-1762"><span class="linenos">1762</span></a><span class="sd">        **Notas**:</span>
</span><span id="JuegoWindow-1763"><a href="#JuegoWindow-1763"><span class="linenos">1763</span></a><span class="sd">        - `self.tabla_personajes` debe ser un `QTableWidget` con 7 columnas: Nombre, Nivel, Raza, Habilidades, Poderes, Equipamiento, Modificar.</span>
</span><span id="JuegoWindow-1764"><a href="#JuegoWindow-1764"><span class="linenos">1764</span></a><span class="sd">        - El campo `habilidades` se convierte de un diccionario a una cadena de texto en el formato `&quot;Habilidad: valor\n&quot;`.</span>
</span><span id="JuegoWindow-1765"><a href="#JuegoWindow-1765"><span class="linenos">1765</span></a><span class="sd">        - El campo `poderes` también se convierte de un diccionario a una cadena de texto en el mismo formato.</span>
</span><span id="JuegoWindow-1766"><a href="#JuegoWindow-1766"><span class="linenos">1766</span></a>
</span><span id="JuegoWindow-1767"><a href="#JuegoWindow-1767"><span class="linenos">1767</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="JuegoWindow-1768"><a href="#JuegoWindow-1768"><span class="linenos">1768</span></a><span class="sd">        - Asegúrate de que `self.tabla_personajes` esté correctamente inicializado antes de llamar a este método.</span>
</span><span id="JuegoWindow-1769"><a href="#JuegoWindow-1769"><span class="linenos">1769</span></a><span class="sd">        - Verifica que los datos en Firestore estén en el formato correcto.</span>
</span><span id="JuegoWindow-1770"><a href="#JuegoWindow-1770"><span class="linenos">1770</span></a>
</span><span id="JuegoWindow-1771"><a href="#JuegoWindow-1771"><span class="linenos">1771</span></a><span class="sd">        **Modificaciones**:</span>
</span><span id="JuegoWindow-1772"><a href="#JuegoWindow-1772"><span class="linenos">1772</span></a><span class="sd">        - Asegúrate de que las habilidades y poderes estén en el formato adecuado para mostrarse en la tabla.</span>
</span><span id="JuegoWindow-1773"><a href="#JuegoWindow-1773"><span class="linenos">1773</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1774"><a href="#JuegoWindow-1774"><span class="linenos">1774</span></a>        <span class="n">personajes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">recuperar_personajes</span><span class="p">()</span>
</span><span id="JuegoWindow-1775"><a href="#JuegoWindow-1775"><span class="linenos">1775</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">personajes</span><span class="p">))</span>
</span><span id="JuegoWindow-1776"><a href="#JuegoWindow-1776"><span class="linenos">1776</span></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">personaje</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">personajes</span><span class="p">):</span>
</span><span id="JuegoWindow-1777"><a href="#JuegoWindow-1777"><span class="linenos">1777</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nombre&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))))</span>
</span><span id="JuegoWindow-1778"><a href="#JuegoWindow-1778"><span class="linenos">1778</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nivel&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))))</span>
</span><span id="JuegoWindow-1779"><a href="#JuegoWindow-1779"><span class="linenos">1779</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;raza&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))))</span>
</span><span id="JuegoWindow-1780"><a href="#JuegoWindow-1780"><span class="linenos">1780</span></a>            
</span><span id="JuegoWindow-1781"><a href="#JuegoWindow-1781"><span class="linenos">1781</span></a>            <span class="c1"># Mostrar habilidades como una cadena concatenada</span>
</span><span id="JuegoWindow-1782"><a href="#JuegoWindow-1782"><span class="linenos">1782</span></a>            <span class="n">habilidades</span> <span class="o">=</span> <span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;habilidades&quot;</span><span class="p">,</span> <span class="p">{})</span>
</span><span id="JuegoWindow-1783"><a href="#JuegoWindow-1783"><span class="linenos">1783</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">habilidades</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="JuegoWindow-1784"><a href="#JuegoWindow-1784"><span class="linenos">1784</span></a>                <span class="n">habilidades_texto</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">habilidades</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
</span><span id="JuegoWindow-1785"><a href="#JuegoWindow-1785"><span class="linenos">1785</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="JuegoWindow-1786"><a href="#JuegoWindow-1786"><span class="linenos">1786</span></a>                <span class="n">habilidades_texto</span> <span class="o">=</span> <span class="n">habilidades</span>  <span class="c1"># Asumimos que es una cadena ya formateada</span>
</span><span id="JuegoWindow-1787"><a href="#JuegoWindow-1787"><span class="linenos">1787</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">habilidades_texto</span><span class="p">))</span>
</span><span id="JuegoWindow-1788"><a href="#JuegoWindow-1788"><span class="linenos">1788</span></a>            
</span><span id="JuegoWindow-1789"><a href="#JuegoWindow-1789"><span class="linenos">1789</span></a>            <span class="c1"># Mostrar poderes como una cadena concatenada</span>
</span><span id="JuegoWindow-1790"><a href="#JuegoWindow-1790"><span class="linenos">1790</span></a>            <span class="n">poderes</span> <span class="o">=</span> <span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;poderes&quot;</span><span class="p">,</span> <span class="p">{})</span>
</span><span id="JuegoWindow-1791"><a href="#JuegoWindow-1791"><span class="linenos">1791</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">poderes</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="JuegoWindow-1792"><a href="#JuegoWindow-1792"><span class="linenos">1792</span></a>                <span class="n">poderes_texto</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">poderes</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
</span><span id="JuegoWindow-1793"><a href="#JuegoWindow-1793"><span class="linenos">1793</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="JuegoWindow-1794"><a href="#JuegoWindow-1794"><span class="linenos">1794</span></a>                <span class="n">poderes_texto</span> <span class="o">=</span> <span class="n">poderes</span>  <span class="c1"># Asumimos que es una cadena ya formateada</span>
</span><span id="JuegoWindow-1795"><a href="#JuegoWindow-1795"><span class="linenos">1795</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">poderes_texto</span><span class="p">))</span>
</span><span id="JuegoWindow-1796"><a href="#JuegoWindow-1796"><span class="linenos">1796</span></a>            
</span><span id="JuegoWindow-1797"><a href="#JuegoWindow-1797"><span class="linenos">1797</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;equipamiento&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))))</span>
</span><span id="JuegoWindow-1798"><a href="#JuegoWindow-1798"><span class="linenos">1798</span></a>            
</span><span id="JuegoWindow-1799"><a href="#JuegoWindow-1799"><span class="linenos">1799</span></a>            <span class="c1"># Añadir botón de modificar</span>
</span><span id="JuegoWindow-1800"><a href="#JuegoWindow-1800"><span class="linenos">1800</span></a>            <span class="n">btn_modificar</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Modificar&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow-1801"><a href="#JuegoWindow-1801"><span class="linenos">1801</span></a>            <span class="n">btn_modificar</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1802"><a href="#JuegoWindow-1802"><span class="linenos">1802</span></a><span class="s2">                QPushButton {</span>
</span><span id="JuegoWindow-1803"><a href="#JuegoWindow-1803"><span class="linenos">1803</span></a><span class="s2">                    background-color: #FFD700; /* Color de fondo dorado */</span>
</span><span id="JuegoWindow-1804"><a href="#JuegoWindow-1804"><span class="linenos">1804</span></a><span class="s2">                    color: #000000; /* Color del texto */</span>
</span><span id="JuegoWindow-1805"><a href="#JuegoWindow-1805"><span class="linenos">1805</span></a><span class="s2">                    border: 2px solid #DAA520; /* Borde dorado oscuro */</span>
</span><span id="JuegoWindow-1806"><a href="#JuegoWindow-1806"><span class="linenos">1806</span></a><span class="s2">                    border-radius: 5px; /* Esquinas redondeadas */</span>
</span><span id="JuegoWindow-1807"><a href="#JuegoWindow-1807"><span class="linenos">1807</span></a><span class="s2">                    padding: 12px 20px; /* Espaciado interno del botón */</span>
</span><span id="JuegoWindow-1808"><a href="#JuegoWindow-1808"><span class="linenos">1808</span></a><span class="s2">                    font-weight: bold; /* Texto en negrita */</span>
</span><span id="JuegoWindow-1809"><a href="#JuegoWindow-1809"><span class="linenos">1809</span></a><span class="s2">                    min-width: 120px; /* Ancho mínimo del botón */</span>
</span><span id="JuegoWindow-1810"><a href="#JuegoWindow-1810"><span class="linenos">1810</span></a><span class="s2">                    text-align: center; /* Alinear el texto al centro */</span>
</span><span id="JuegoWindow-1811"><a href="#JuegoWindow-1811"><span class="linenos">1811</span></a><span class="s2">                }</span>
</span><span id="JuegoWindow-1812"><a href="#JuegoWindow-1812"><span class="linenos">1812</span></a><span class="s2">                QPushButton:hover {</span>
</span><span id="JuegoWindow-1813"><a href="#JuegoWindow-1813"><span class="linenos">1813</span></a><span class="s2">                    background-color: #FFC107; /* Color de fondo dorado al pasar el ratón */</span>
</span><span id="JuegoWindow-1814"><a href="#JuegoWindow-1814"><span class="linenos">1814</span></a><span class="s2">                }</span>
</span><span id="JuegoWindow-1815"><a href="#JuegoWindow-1815"><span class="linenos">1815</span></a><span class="s2">                QPushButton:pressed {</span>
</span><span id="JuegoWindow-1816"><a href="#JuegoWindow-1816"><span class="linenos">1816</span></a><span class="s2">                    background-color: #FFA000; /* Color de fondo dorado oscuro al presionar */</span>
</span><span id="JuegoWindow-1817"><a href="#JuegoWindow-1817"><span class="linenos">1817</span></a><span class="s2">                }</span>
</span><span id="JuegoWindow-1818"><a href="#JuegoWindow-1818"><span class="linenos">1818</span></a><span class="s2">            &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow-1819"><a href="#JuegoWindow-1819"><span class="linenos">1819</span></a>            <span class="n">btn_modificar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span> <span class="n">_</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="n">i</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">modificar_personaje</span><span class="p">(</span><span class="n">row</span><span class="p">))</span>
</span><span id="JuegoWindow-1820"><a href="#JuegoWindow-1820"><span class="linenos">1820</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setCellWidget</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">btn_modificar</span><span class="p">)</span>
</span><span id="JuegoWindow-1821"><a href="#JuegoWindow-1821"><span class="linenos">1821</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setRowHeight</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>  <span class="c1"># Asegúrate de que haya suficiente altura para el botón</span>
</span><span id="JuegoWindow-1822"><a href="#JuegoWindow-1822"><span class="linenos">1822</span></a>
</span><span id="JuegoWindow-1823"><a href="#JuegoWindow-1823"><span class="linenos">1823</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">resizeColumnsToContents</span><span class="p">()</span>
</span><span id="JuegoWindow-1824"><a href="#JuegoWindow-1824"><span class="linenos">1824</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">horizontalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">setSectionResizeMode</span><span class="p">(</span><span class="n">QHeaderView</span><span class="o">.</span><span class="n">Stretch</span><span class="p">)</span>
</span><span id="JuegoWindow-1825"><a href="#JuegoWindow-1825"><span class="linenos">1825</span></a>
</span><span id="JuegoWindow-1826"><a href="#JuegoWindow-1826"><span class="linenos">1826</span></a>
</span><span id="JuegoWindow-1827"><a href="#JuegoWindow-1827"><span class="linenos">1827</span></a>
</span><span id="JuegoWindow-1828"><a href="#JuegoWindow-1828"><span class="linenos">1828</span></a>    <span class="k">def</span> <span class="nf">recuperar_personajes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow-1829"><a href="#JuegoWindow-1829"><span class="linenos">1829</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1830"><a href="#JuegoWindow-1830"><span class="linenos">1830</span></a><span class="sd">        Recupera todos los personajes de la colección `personajes` en Firestore.</span>
</span><span id="JuegoWindow-1831"><a href="#JuegoWindow-1831"><span class="linenos">1831</span></a>
</span><span id="JuegoWindow-1832"><a href="#JuegoWindow-1832"><span class="linenos">1832</span></a><span class="sd">        Este método recupera los documentos de personajes y devuelve una lista de diccionarios que representan los personajes.</span>
</span><span id="JuegoWindow-1833"><a href="#JuegoWindow-1833"><span class="linenos">1833</span></a>
</span><span id="JuegoWindow-1834"><a href="#JuegoWindow-1834"><span class="linenos">1834</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow-1835"><a href="#JuegoWindow-1835"><span class="linenos">1835</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow-1836"><a href="#JuegoWindow-1836"><span class="linenos">1836</span></a><span class="sd">        personajes = self.recuperar_personajes()</span>
</span><span id="JuegoWindow-1837"><a href="#JuegoWindow-1837"><span class="linenos">1837</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow-1838"><a href="#JuegoWindow-1838"><span class="linenos">1838</span></a>
</span><span id="JuegoWindow-1839"><a href="#JuegoWindow-1839"><span class="linenos">1839</span></a><span class="sd">        **Notas**:</span>
</span><span id="JuegoWindow-1840"><a href="#JuegoWindow-1840"><span class="linenos">1840</span></a><span class="sd">        - Cada diccionario incluye el ID del documento (`personaje[&#39;id&#39;]`) para futuras referencias.</span>
</span><span id="JuegoWindow-1841"><a href="#JuegoWindow-1841"><span class="linenos">1841</span></a><span class="sd">        - Asegúrate de que la colección `personajes` exista en Firestore y contenga documentos válidos.</span>
</span><span id="JuegoWindow-1842"><a href="#JuegoWindow-1842"><span class="linenos">1842</span></a>
</span><span id="JuegoWindow-1843"><a href="#JuegoWindow-1843"><span class="linenos">1843</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="JuegoWindow-1844"><a href="#JuegoWindow-1844"><span class="linenos">1844</span></a><span class="sd">        - Verifica la conexión a Firestore y que la colección `personajes` esté correctamente configurada.</span>
</span><span id="JuegoWindow-1845"><a href="#JuegoWindow-1845"><span class="linenos">1845</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1846"><a href="#JuegoWindow-1846"><span class="linenos">1846</span></a>        <span class="n">personajes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="JuegoWindow-1847"><a href="#JuegoWindow-1847"><span class="linenos">1847</span></a>        <span class="n">docs</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s2">&quot;personajes&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">stream</span><span class="p">()</span>
</span><span id="JuegoWindow-1848"><a href="#JuegoWindow-1848"><span class="linenos">1848</span></a>        <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">docs</span><span class="p">:</span>
</span><span id="JuegoWindow-1849"><a href="#JuegoWindow-1849"><span class="linenos">1849</span></a>            <span class="n">personaje</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</span><span id="JuegoWindow-1850"><a href="#JuegoWindow-1850"><span class="linenos">1850</span></a>            <span class="n">personaje</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">id</span>  <span class="c1"># Agregar el ID del documento para futuras referencias</span>
</span><span id="JuegoWindow-1851"><a href="#JuegoWindow-1851"><span class="linenos">1851</span></a>            <span class="n">personajes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">personaje</span><span class="p">)</span>
</span><span id="JuegoWindow-1852"><a href="#JuegoWindow-1852"><span class="linenos">1852</span></a>        <span class="k">return</span> <span class="n">personajes</span>
</span><span id="JuegoWindow-1853"><a href="#JuegoWindow-1853"><span class="linenos">1853</span></a>
</span><span id="JuegoWindow-1854"><a href="#JuegoWindow-1854"><span class="linenos">1854</span></a>    
</span><span id="JuegoWindow-1855"><a href="#JuegoWindow-1855"><span class="linenos">1855</span></a>    <span class="k">def</span> <span class="nf">modificar_personaje</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">row</span><span class="p">):</span>
</span><span id="JuegoWindow-1856"><a href="#JuegoWindow-1856"><span class="linenos">1856</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1857"><a href="#JuegoWindow-1857"><span class="linenos">1857</span></a><span class="sd">        Modifica los datos del personaje en la fila seleccionada de la tabla y actualiza la base de datos.</span>
</span><span id="JuegoWindow-1858"><a href="#JuegoWindow-1858"><span class="linenos">1858</span></a>
</span><span id="JuegoWindow-1859"><a href="#JuegoWindow-1859"><span class="linenos">1859</span></a><span class="sd">        Este método obtiene los datos de la fila seleccionada, actualiza el personaje correspondiente en Firestore, </span>
</span><span id="JuegoWindow-1860"><a href="#JuegoWindow-1860"><span class="linenos">1860</span></a><span class="sd">        y muestra un mensaje de éxito.</span>
</span><span id="JuegoWindow-1861"><a href="#JuegoWindow-1861"><span class="linenos">1861</span></a>
</span><span id="JuegoWindow-1862"><a href="#JuegoWindow-1862"><span class="linenos">1862</span></a><span class="sd">        **Parámetros**:</span>
</span><span id="JuegoWindow-1863"><a href="#JuegoWindow-1863"><span class="linenos">1863</span></a><span class="sd">        - `row`: El índice de la fila seleccionada en la tabla de personajes.</span>
</span><span id="JuegoWindow-1864"><a href="#JuegoWindow-1864"><span class="linenos">1864</span></a>
</span><span id="JuegoWindow-1865"><a href="#JuegoWindow-1865"><span class="linenos">1865</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow-1866"><a href="#JuegoWindow-1866"><span class="linenos">1866</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow-1867"><a href="#JuegoWindow-1867"><span class="linenos">1867</span></a><span class="sd">        self.modificar_personaje(row)</span>
</span><span id="JuegoWindow-1868"><a href="#JuegoWindow-1868"><span class="linenos">1868</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow-1869"><a href="#JuegoWindow-1869"><span class="linenos">1869</span></a>
</span><span id="JuegoWindow-1870"><a href="#JuegoWindow-1870"><span class="linenos">1870</span></a><span class="sd">        **Notas**:</span>
</span><span id="JuegoWindow-1871"><a href="#JuegoWindow-1871"><span class="linenos">1871</span></a><span class="sd">        - Asegúrate de que la fila seleccionada corresponda a un personaje válido.</span>
</span><span id="JuegoWindow-1872"><a href="#JuegoWindow-1872"><span class="linenos">1872</span></a><span class="sd">        - Actualiza los campos `nombre`, `nivel`, `raza`, `habilidades`, `poderes` y `equipamiento` en Firestore.</span>
</span><span id="JuegoWindow-1873"><a href="#JuegoWindow-1873"><span class="linenos">1873</span></a>
</span><span id="JuegoWindow-1874"><a href="#JuegoWindow-1874"><span class="linenos">1874</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="JuegoWindow-1875"><a href="#JuegoWindow-1875"><span class="linenos">1875</span></a><span class="sd">        - Verifica que `self.tabla_personajes` tenga datos válidos en la fila seleccionada.</span>
</span><span id="JuegoWindow-1876"><a href="#JuegoWindow-1876"><span class="linenos">1876</span></a><span class="sd">        - Asegúrate de que los datos en la base de datos estén en el formato correcto.</span>
</span><span id="JuegoWindow-1877"><a href="#JuegoWindow-1877"><span class="linenos">1877</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1878"><a href="#JuegoWindow-1878"><span class="linenos">1878</span></a>        <span class="n">personaje_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">recuperar_personajes</span><span class="p">()[</span><span class="n">row</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">]</span>  <span class="c1"># Obtener el ID del personaje de la fila seleccionada</span>
</span><span id="JuegoWindow-1879"><a href="#JuegoWindow-1879"><span class="linenos">1879</span></a>        <span class="n">nombre</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
</span><span id="JuegoWindow-1880"><a href="#JuegoWindow-1880"><span class="linenos">1880</span></a>        <span class="n">nivel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
</span><span id="JuegoWindow-1881"><a href="#JuegoWindow-1881"><span class="linenos">1881</span></a>        <span class="n">raza</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
</span><span id="JuegoWindow-1882"><a href="#JuegoWindow-1882"><span class="linenos">1882</span></a>        <span class="n">habilidades</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
</span><span id="JuegoWindow-1883"><a href="#JuegoWindow-1883"><span class="linenos">1883</span></a>        <span class="n">poderes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
</span><span id="JuegoWindow-1884"><a href="#JuegoWindow-1884"><span class="linenos">1884</span></a>        <span class="n">equipamiento</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
</span><span id="JuegoWindow-1885"><a href="#JuegoWindow-1885"><span class="linenos">1885</span></a>        
</span><span id="JuegoWindow-1886"><a href="#JuegoWindow-1886"><span class="linenos">1886</span></a>        <span class="c1"># Actualizar los datos en la base de datos</span>
</span><span id="JuegoWindow-1887"><a href="#JuegoWindow-1887"><span class="linenos">1887</span></a>        <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s2">&quot;personajes&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">personaje_id</span><span class="p">)</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
</span><span id="JuegoWindow-1888"><a href="#JuegoWindow-1888"><span class="linenos">1888</span></a>            <span class="s2">&quot;nombre&quot;</span><span class="p">:</span> <span class="n">nombre</span><span class="p">,</span>
</span><span id="JuegoWindow-1889"><a href="#JuegoWindow-1889"><span class="linenos">1889</span></a>            <span class="s2">&quot;nivel&quot;</span><span class="p">:</span> <span class="n">nivel</span><span class="p">,</span>
</span><span id="JuegoWindow-1890"><a href="#JuegoWindow-1890"><span class="linenos">1890</span></a>            <span class="s2">&quot;raza&quot;</span><span class="p">:</span> <span class="n">raza</span><span class="p">,</span>
</span><span id="JuegoWindow-1891"><a href="#JuegoWindow-1891"><span class="linenos">1891</span></a>            <span class="s2">&quot;habilidades&quot;</span><span class="p">:</span> <span class="n">habilidades</span><span class="p">,</span>
</span><span id="JuegoWindow-1892"><a href="#JuegoWindow-1892"><span class="linenos">1892</span></a>            <span class="s2">&quot;poderes&quot;</span><span class="p">:</span> <span class="n">poderes</span><span class="p">,</span>
</span><span id="JuegoWindow-1893"><a href="#JuegoWindow-1893"><span class="linenos">1893</span></a>            <span class="s2">&quot;equipamiento&quot;</span><span class="p">:</span> <span class="n">equipamiento</span>
</span><span id="JuegoWindow-1894"><a href="#JuegoWindow-1894"><span class="linenos">1894</span></a>        <span class="p">})</span>
</span><span id="JuegoWindow-1895"><a href="#JuegoWindow-1895"><span class="linenos">1895</span></a>
</span><span id="JuegoWindow-1896"><a href="#JuegoWindow-1896"><span class="linenos">1896</span></a>        <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Éxito&#39;</span><span class="p">,</span> <span class="s1">&#39;Personaje modificado exitosamente.&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-1897"><a href="#JuegoWindow-1897"><span class="linenos">1897</span></a>
</span><span id="JuegoWindow-1898"><a href="#JuegoWindow-1898"><span class="linenos">1898</span></a>    
</span><span id="JuegoWindow-1899"><a href="#JuegoWindow-1899"><span class="linenos">1899</span></a>    
</span><span id="JuegoWindow-1900"><a href="#JuegoWindow-1900"><span class="linenos">1900</span></a>    
</span><span id="JuegoWindow-1901"><a href="#JuegoWindow-1901"><span class="linenos">1901</span></a>    <span class="k">def</span> <span class="nf">load_mission</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow-1902"><a href="#JuegoWindow-1902"><span class="linenos">1902</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1903"><a href="#JuegoWindow-1903"><span class="linenos">1903</span></a><span class="sd">        Carga una misión de la colección &#39;Mision&#39; en Firestore y muestra los detalles en `tex_vita`.</span>
</span><span id="JuegoWindow-1904"><a href="#JuegoWindow-1904"><span class="linenos">1904</span></a>
</span><span id="JuegoWindow-1905"><a href="#JuegoWindow-1905"><span class="linenos">1905</span></a><span class="sd">        Este método busca una misión basada en el nombre proporcionado en `b_ms`, y si se encuentra, muestra los detalles en `tex_vita`.</span>
</span><span id="JuegoWindow-1906"><a href="#JuegoWindow-1906"><span class="linenos">1906</span></a>
</span><span id="JuegoWindow-1907"><a href="#JuegoWindow-1907"><span class="linenos">1907</span></a><span class="sd">        **Notas**:</span>
</span><span id="JuegoWindow-1908"><a href="#JuegoWindow-1908"><span class="linenos">1908</span></a><span class="sd">        - `self.b_ms` es un `QLineEdit` donde el usuario introduce el nombre de la misión.</span>
</span><span id="JuegoWindow-1909"><a href="#JuegoWindow-1909"><span class="linenos">1909</span></a><span class="sd">        - `self.tex_vita` es un `QTextBrowser` donde se muestran los detalles de la misión.</span>
</span><span id="JuegoWindow-1910"><a href="#JuegoWindow-1910"><span class="linenos">1910</span></a><span class="sd">        - Asegúrate de que `b_ms` tenga el nombre de una misión existente.</span>
</span><span id="JuegoWindow-1911"><a href="#JuegoWindow-1911"><span class="linenos">1911</span></a>
</span><span id="JuegoWindow-1912"><a href="#JuegoWindow-1912"><span class="linenos">1912</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="JuegoWindow-1913"><a href="#JuegoWindow-1913"><span class="linenos">1913</span></a><span class="sd">        - Verifica que `self.b_ms.text().strip()` no esté vacío.</span>
</span><span id="JuegoWindow-1914"><a href="#JuegoWindow-1914"><span class="linenos">1914</span></a><span class="sd">        - Asegúrate de que `tex_vita` esté correctamente inicializado y visible en la interfaz.</span>
</span><span id="JuegoWindow-1915"><a href="#JuegoWindow-1915"><span class="linenos">1915</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow-1916"><a href="#JuegoWindow-1916"><span class="linenos">1916</span></a>        <span class="n">mission_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_ms</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="JuegoWindow-1917"><a href="#JuegoWindow-1917"><span class="linenos">1917</span></a>
</span><span id="JuegoWindow-1918"><a href="#JuegoWindow-1918"><span class="linenos">1918</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">mission_name</span><span class="p">:</span>
</span><span id="JuegoWindow-1919"><a href="#JuegoWindow-1919"><span class="linenos">1919</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Introduce el nombre de la misión.&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-1920"><a href="#JuegoWindow-1920"><span class="linenos">1920</span></a>            <span class="k">return</span>
</span><span id="JuegoWindow-1921"><a href="#JuegoWindow-1921"><span class="linenos">1921</span></a>
</span><span id="JuegoWindow-1922"><a href="#JuegoWindow-1922"><span class="linenos">1922</span></a>        <span class="n">misiones_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;Mision&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow-1923"><a href="#JuegoWindow-1923"><span class="linenos">1923</span></a>        <span class="n">query</span> <span class="o">=</span> <span class="n">misiones_ref</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s1">&#39;nombre&#39;</span><span class="p">,</span> <span class="s1">&#39;==&#39;</span><span class="p">,</span> <span class="n">mission_name</span><span class="p">)</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="JuegoWindow-1924"><a href="#JuegoWindow-1924"><span class="linenos">1924</span></a>        <span class="n">results</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">stream</span><span class="p">()</span>
</span><span id="JuegoWindow-1925"><a href="#JuegoWindow-1925"><span class="linenos">1925</span></a>
</span><span id="JuegoWindow-1926"><a href="#JuegoWindow-1926"><span class="linenos">1926</span></a>        <span class="n">mission_found</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># Bandera para verificar si encontramos la misión</span>
</span><span id="JuegoWindow-1927"><a href="#JuegoWindow-1927"><span class="linenos">1927</span></a>        <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
</span><span id="JuegoWindow-1928"><a href="#JuegoWindow-1928"><span class="linenos">1928</span></a>            <span class="n">mision</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</span><span id="JuegoWindow-1929"><a href="#JuegoWindow-1929"><span class="linenos">1929</span></a>            <span class="n">evento_texto</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;&#39;&#39;</span>
</span><span id="JuegoWindow-1930"><a href="#JuegoWindow-1930"><span class="linenos">1930</span></a><span class="s1">                &lt;b&gt;Misión:&lt;/b&gt; </span><span class="si">{</span><span class="n">mision</span><span class="p">[</span><span class="s2">&quot;nombre&quot;</span><span class="p">]</span><span class="si">}</span>
</span><span id="JuegoWindow-1931"><a href="#JuegoWindow-1931"><span class="linenos">1931</span></a><span class="s1">                &lt;br&gt;&lt;b&gt;Descripción:&lt;/b&gt; </span><span class="si">{</span><span class="n">mision</span><span class="p">[</span><span class="s2">&quot;descripcion&quot;</span><span class="p">]</span><span class="si">}</span>
</span><span id="JuegoWindow-1932"><a href="#JuegoWindow-1932"><span class="linenos">1932</span></a><span class="s1">                &lt;br&gt;&lt;b&gt;Recompensa:&lt;/b&gt; </span><span class="si">{</span><span class="n">mision</span><span class="p">[</span><span class="s2">&quot;recompensa&quot;</span><span class="p">]</span><span class="si">}</span>
</span><span id="JuegoWindow-1933"><a href="#JuegoWindow-1933"><span class="linenos">1933</span></a><span class="s1">            &#39;&#39;&#39;</span>
</span><span id="JuegoWindow-1934"><a href="#JuegoWindow-1934"><span class="linenos">1934</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tex_vita</span><span class="o">.</span><span class="n">setHtml</span><span class="p">(</span><span class="n">evento_texto</span><span class="p">)</span>  <span class="c1"># Usar setHtml para formato mejorado</span>
</span><span id="JuegoWindow-1935"><a href="#JuegoWindow-1935"><span class="linenos">1935</span></a>            <span class="n">mission_found</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="JuegoWindow-1936"><a href="#JuegoWindow-1936"><span class="linenos">1936</span></a>            <span class="k">break</span>  <span class="c1"># Salir del bucle después de encontrar la misión</span>
</span><span id="JuegoWindow-1937"><a href="#JuegoWindow-1937"><span class="linenos">1937</span></a>
</span><span id="JuegoWindow-1938"><a href="#JuegoWindow-1938"><span class="linenos">1938</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">mission_found</span><span class="p">:</span>
</span><span id="JuegoWindow-1939"><a href="#JuegoWindow-1939"><span class="linenos">1939</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Misión no encontrada.&#39;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Ventana principal del juego que gestiona la interfaz del usuario y las interacciones del juego.</p>

<p>Hereda de QMainWindow y Ui_MainWindow para proporcionar la funcionalidad de una ventana principal
y usar el diseño definido en Ui_MainWindow.</p>

<h2 id="atributos">Atributos:</h2>

<p>nombre_sala : QLabel
    Etiqueta que muestra el nombre de la sala actual del juego.
contador_giros : int
    Contador para llevar la cuenta de las acciones realizadas en el juego.
animations : dict
    Diccionario que mapea índices a rutas de imágenes para diferentes fondos de pantalla.
tabla_personajes_agregada : bool
    Bandera para verificar si la tabla de personajes ha sido agregada a la interfaz.</p>

<h2 id="metodos">Métodos:</h2>

<p>__init__(self, nombre_sala, parent=None):
    Inicializa la ventana principal del juego y configura la interfaz de usuario.</p>

<p>ventana_dados(self):
    Abre una nueva ventana para lanzar dados.</p>

<p>mision_seleccionada(self):
    Busca una misión por su nombre en la base de datos y muestra el resultado.</p>

<p>mostrar_mision_resultado(self, snapshot):
    Muestra los detalles de la misión encontrada en la búsqueda.</p>

<p>manejar_error_mision(self, error):
    Muestra un mensaje de error si ocurre un problema durante la búsqueda de una misión.</p>
</div>


                            <div id="JuegoWindow.__init__" class="classattr">
                                        <input id="JuegoWindow.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">JuegoWindow</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">nombre_sala</span>, </span><span class="param"><span class="n">parent</span><span class="o">=</span><span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="JuegoWindow.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.__init__-459"><a href="#JuegoWindow.__init__-459"><span class="linenos">459</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre_sala</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
</span><span id="JuegoWindow.__init__-460"><a href="#JuegoWindow.__init__-460"><span class="linenos">460</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.__init__-461"><a href="#JuegoWindow.__init__-461"><span class="linenos">461</span></a><span class="sd">        Inicializa la ventana principal del juego y configura la interfaz de usuario.</span>
</span><span id="JuegoWindow.__init__-462"><a href="#JuegoWindow.__init__-462"><span class="linenos">462</span></a>
</span><span id="JuegoWindow.__init__-463"><a href="#JuegoWindow.__init__-463"><span class="linenos">463</span></a><span class="sd">        Parámetros:</span>
</span><span id="JuegoWindow.__init__-464"><a href="#JuegoWindow.__init__-464"><span class="linenos">464</span></a><span class="sd">        -----------</span>
</span><span id="JuegoWindow.__init__-465"><a href="#JuegoWindow.__init__-465"><span class="linenos">465</span></a><span class="sd">        nombre_sala : str</span>
</span><span id="JuegoWindow.__init__-466"><a href="#JuegoWindow.__init__-466"><span class="linenos">466</span></a><span class="sd">            El nombre de la sala actual del juego que se mostrará en la interfaz.</span>
</span><span id="JuegoWindow.__init__-467"><a href="#JuegoWindow.__init__-467"><span class="linenos">467</span></a><span class="sd">        parent : QWidget, opcional</span>
</span><span id="JuegoWindow.__init__-468"><a href="#JuegoWindow.__init__-468"><span class="linenos">468</span></a><span class="sd">            El widget padre para esta ventana. Por defecto es None.</span>
</span><span id="JuegoWindow.__init__-469"><a href="#JuegoWindow.__init__-469"><span class="linenos">469</span></a>
</span><span id="JuegoWindow.__init__-470"><a href="#JuegoWindow.__init__-470"><span class="linenos">470</span></a><span class="sd">        Configura los botones, conexiones de señales y otros elementos de la interfaz de usuario.</span>
</span><span id="JuegoWindow.__init__-471"><a href="#JuegoWindow.__init__-471"><span class="linenos">471</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.__init__-472"><a href="#JuegoWindow.__init__-472"><span class="linenos">472</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">JuegoWindow</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
</span><span id="JuegoWindow.__init__-473"><a href="#JuegoWindow.__init__-473"><span class="linenos">473</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow.__init__-474"><a href="#JuegoWindow.__init__-474"><span class="linenos">474</span></a>
</span><span id="JuegoWindow.__init__-475"><a href="#JuegoWindow.__init__-475"><span class="linenos">475</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">nombre_sala</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="n">nombre_sala</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>  
</span><span id="JuegoWindow.__init__-476"><a href="#JuegoWindow.__init__-476"><span class="linenos">476</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Juego - Sala: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">nombre_sala</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>  
</span><span id="JuegoWindow.__init__-477"><a href="#JuegoWindow.__init__-477"><span class="linenos">477</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sala Actual: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">nombre_sala</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  
</span><span id="JuegoWindow.__init__-478"><a href="#JuegoWindow.__init__-478"><span class="linenos">478</span></a>
</span><span id="JuegoWindow.__init__-479"><a href="#JuegoWindow.__init__-479"><span class="linenos">479</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_envio_2</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">send_text_to_vita</span><span class="p">)</span>
</span><span id="JuegoWindow.__init__-480"><a href="#JuegoWindow.__init__-480"><span class="linenos">480</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_guardado</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">save_bitacora</span><span class="p">)</span>
</span><span id="JuegoWindow.__init__-481"><a href="#JuegoWindow.__init__-481"><span class="linenos">481</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_his</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">open_bitacora_history</span><span class="p">)</span>
</span><span id="JuegoWindow.__init__-482"><a href="#JuegoWindow.__init__-482"><span class="linenos">482</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_dados</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ventana_dados</span><span class="p">)</span>
</span><span id="JuegoWindow.__init__-483"><a href="#JuegoWindow.__init__-483"><span class="linenos">483</span></a>
</span><span id="JuegoWindow.__init__-484"><a href="#JuegoWindow.__init__-484"><span class="linenos">484</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_aleatorio</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mision_aleatoria</span><span class="p">)</span>
</span><span id="JuegoWindow.__init__-485"><a href="#JuegoWindow.__init__-485"><span class="linenos">485</span></a>
</span><span id="JuegoWindow.__init__-486"><a href="#JuegoWindow.__init__-486"><span class="linenos">486</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_m</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">show_pagina_1</span><span class="p">)</span>
</span><span id="JuegoWindow.__init__-487"><a href="#JuegoWindow.__init__-487"><span class="linenos">487</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_crear</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">show_pagina_2</span><span class="p">)</span>
</span><span id="JuegoWindow.__init__-488"><a href="#JuegoWindow.__init__-488"><span class="linenos">488</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_tpa</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">show_pagina_3</span><span class="p">)</span>
</span><span id="JuegoWindow.__init__-489"><a href="#JuegoWindow.__init__-489"><span class="linenos">489</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_md</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">show_pagina_4</span><span class="p">)</span>
</span><span id="JuegoWindow.__init__-490"><a href="#JuegoWindow.__init__-490"><span class="linenos">490</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_pp</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">show_pagina_5</span><span class="p">)</span>
</span><span id="JuegoWindow.__init__-491"><a href="#JuegoWindow.__init__-491"><span class="linenos">491</span></a>
</span><span id="JuegoWindow.__init__-492"><a href="#JuegoWindow.__init__-492"><span class="linenos">492</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">b_ms</span><span class="o">.</span><span class="n">returnPressed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mision_seleccionada</span><span class="p">)</span>
</span><span id="JuegoWindow.__init__-493"><a href="#JuegoWindow.__init__-493"><span class="linenos">493</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_mison</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mision_seleccionada</span><span class="p">)</span>
</span><span id="JuegoWindow.__init__-494"><a href="#JuegoWindow.__init__-494"><span class="linenos">494</span></a>
</span><span id="JuegoWindow.__init__-495"><a href="#JuegoWindow.__init__-495"><span class="linenos">495</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">contador_giros</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="JuegoWindow.__init__-496"><a href="#JuegoWindow.__init__-496"><span class="linenos">496</span></a>
</span><span id="JuegoWindow.__init__-497"><a href="#JuegoWindow.__init__-497"><span class="linenos">497</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">animations</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="JuegoWindow.__init__-498"><a href="#JuegoWindow.__init__-498"><span class="linenos">498</span></a>            <span class="mi">0</span><span class="p">:</span> <span class="s2">&quot;fondos/fantasia.jpg&quot;</span><span class="p">,</span>
</span><span id="JuegoWindow.__init__-499"><a href="#JuegoWindow.__init__-499"><span class="linenos">499</span></a>            <span class="mi">1</span><span class="p">:</span> <span class="s2">&quot;fondos/mundo flotante.jpg&quot;</span><span class="p">,</span>
</span><span id="JuegoWindow.__init__-500"><a href="#JuegoWindow.__init__-500"><span class="linenos">500</span></a>            <span class="mi">2</span><span class="p">:</span> <span class="s2">&quot;fondos/mundo funki.jpg&quot;</span><span class="p">,</span>
</span><span id="JuegoWindow.__init__-501"><a href="#JuegoWindow.__init__-501"><span class="linenos">501</span></a>            <span class="mi">3</span><span class="p">:</span> <span class="s2">&quot;fondos/reino desconocido.jpg&quot;</span><span class="p">,</span>
</span><span id="JuegoWindow.__init__-502"><a href="#JuegoWindow.__init__-502"><span class="linenos">502</span></a>            <span class="mi">4</span><span class="p">:</span> <span class="s2">&quot;fondos/jefe.webp&quot;</span><span class="p">,</span>
</span><span id="JuegoWindow.__init__-503"><a href="#JuegoWindow.__init__-503"><span class="linenos">503</span></a>            <span class="mi">5</span><span class="p">:</span> <span class="s2">&quot;fondos/jefe dragon.jpg&quot;</span><span class="p">,</span>
</span><span id="JuegoWindow.__init__-504"><a href="#JuegoWindow.__init__-504"><span class="linenos">504</span></a>            <span class="mi">6</span><span class="p">:</span> <span class="s2">&quot;fondos/cosmo.jpg&quot;</span><span class="p">,</span>
</span><span id="JuegoWindow.__init__-505"><a href="#JuegoWindow.__init__-505"><span class="linenos">505</span></a>        <span class="p">}</span>
</span><span id="JuegoWindow.__init__-506"><a href="#JuegoWindow.__init__-506"><span class="linenos">506</span></a>    
</span><span id="JuegoWindow.__init__-507"><a href="#JuegoWindow.__init__-507"><span class="linenos">507</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">comboBox_2</span><span class="o">.</span><span class="n">currentIndexChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cambio_etapa</span><span class="p">)</span>
</span><span id="JuegoWindow.__init__-508"><a href="#JuegoWindow.__init__-508"><span class="linenos">508</span></a>
</span><span id="JuegoWindow.__init__-509"><a href="#JuegoWindow.__init__-509"><span class="linenos">509</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Sala Actual: &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
</span><span id="JuegoWindow.__init__-510"><a href="#JuegoWindow.__init__-510"><span class="linenos">510</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes_agregada</span> <span class="o">=</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>Inicializa la ventana principal del juego y configura la interfaz de usuario.</p>

<h2 id="parametros">Parámetros:</h2>

<p>nombre_sala : str
    El nombre de la sala actual del juego que se mostrará en la interfaz.
parent : QWidget, opcional
    El widget padre para esta ventana. Por defecto es None.</p>

<p>Configura los botones, conexiones de señales y otros elementos de la interfaz de usuario.</p>
</div>


                            </div>
                            <div id="JuegoWindow.nombre_sala" class="classattr">
                                <div class="attr variable">
            <span class="name">nombre_sala</span>

        
    </div>
    <a class="headerlink" href="#JuegoWindow.nombre_sala"></a>
    
    

                            </div>
                            <div id="JuegoWindow.contador_giros" class="classattr">
                                <div class="attr variable">
            <span class="name">contador_giros</span>

        
    </div>
    <a class="headerlink" href="#JuegoWindow.contador_giros"></a>
    
    

                            </div>
                            <div id="JuegoWindow.animations" class="classattr">
                                <div class="attr variable">
            <span class="name">animations</span>

        
    </div>
    <a class="headerlink" href="#JuegoWindow.animations"></a>
    
    

                            </div>
                            <div id="JuegoWindow.tabla_personajes_agregada" class="classattr">
                                <div class="attr variable">
            <span class="name">tabla_personajes_agregada</span>

        
    </div>
    <a class="headerlink" href="#JuegoWindow.tabla_personajes_agregada"></a>
    
    

                            </div>
                            <div id="JuegoWindow.ventana_dados" class="classattr">
                                        <input id="JuegoWindow.ventana_dados-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">ventana_dados</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.ventana_dados-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.ventana_dados"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.ventana_dados-512"><a href="#JuegoWindow.ventana_dados-512"><span class="linenos">512</span></a>    <span class="k">def</span> <span class="nf">ventana_dados</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow.ventana_dados-513"><a href="#JuegoWindow.ventana_dados-513"><span class="linenos">513</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.ventana_dados-514"><a href="#JuegoWindow.ventana_dados-514"><span class="linenos">514</span></a><span class="sd">        Abre una nueva ventana para lanzar dados.</span>
</span><span id="JuegoWindow.ventana_dados-515"><a href="#JuegoWindow.ventana_dados-515"><span class="linenos">515</span></a>
</span><span id="JuegoWindow.ventana_dados-516"><a href="#JuegoWindow.ventana_dados-516"><span class="linenos">516</span></a><span class="sd">        Crea una instancia de DiceWindow y la muestra al usuario.</span>
</span><span id="JuegoWindow.ventana_dados-517"><a href="#JuegoWindow.ventana_dados-517"><span class="linenos">517</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.ventana_dados-518"><a href="#JuegoWindow.ventana_dados-518"><span class="linenos">518</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dice_window</span> <span class="o">=</span> <span class="n">DiceWindow</span><span class="p">()</span>
</span><span id="JuegoWindow.ventana_dados-519"><a href="#JuegoWindow.ventana_dados-519"><span class="linenos">519</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dice_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Abre una nueva ventana para lanzar dados.</p>

<p>Crea una instancia de DiceWindow y la muestra al usuario.</p>
</div>


                            </div>
                            <div id="JuegoWindow.mision_seleccionada" class="classattr">
                                        <input id="JuegoWindow.mision_seleccionada-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">mision_seleccionada</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.mision_seleccionada-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.mision_seleccionada"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.mision_seleccionada-521"><a href="#JuegoWindow.mision_seleccionada-521"><span class="linenos">521</span></a>    <span class="k">def</span> <span class="nf">mision_seleccionada</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow.mision_seleccionada-522"><a href="#JuegoWindow.mision_seleccionada-522"><span class="linenos">522</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.mision_seleccionada-523"><a href="#JuegoWindow.mision_seleccionada-523"><span class="linenos">523</span></a><span class="sd">        Busca una misión por su nombre en la base de datos y muestra el resultado.</span>
</span><span id="JuegoWindow.mision_seleccionada-524"><a href="#JuegoWindow.mision_seleccionada-524"><span class="linenos">524</span></a>
</span><span id="JuegoWindow.mision_seleccionada-525"><a href="#JuegoWindow.mision_seleccionada-525"><span class="linenos">525</span></a><span class="sd">        Recupera el nombre de la misión desde un campo de texto, realiza una búsqueda en la colección de eventos</span>
</span><span id="JuegoWindow.mision_seleccionada-526"><a href="#JuegoWindow.mision_seleccionada-526"><span class="linenos">526</span></a><span class="sd">        en la base de datos y llama a `mostrar_mision_resultado` para mostrar los detalles de la misión encontrada.</span>
</span><span id="JuegoWindow.mision_seleccionada-527"><a href="#JuegoWindow.mision_seleccionada-527"><span class="linenos">527</span></a>
</span><span id="JuegoWindow.mision_seleccionada-528"><a href="#JuegoWindow.mision_seleccionada-528"><span class="linenos">528</span></a><span class="sd">        Si no se ingresa un nombre de misión o hay un error en la consulta, muestra un mensaje de advertencia o error.</span>
</span><span id="JuegoWindow.mision_seleccionada-529"><a href="#JuegoWindow.mision_seleccionada-529"><span class="linenos">529</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.mision_seleccionada-530"><a href="#JuegoWindow.mision_seleccionada-530"><span class="linenos">530</span></a>        <span class="n">nombre_mision</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_ms</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="JuegoWindow.mision_seleccionada-531"><a href="#JuegoWindow.mision_seleccionada-531"><span class="linenos">531</span></a>
</span><span id="JuegoWindow.mision_seleccionada-532"><a href="#JuegoWindow.mision_seleccionada-532"><span class="linenos">532</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">nombre_mision</span><span class="p">:</span>
</span><span id="JuegoWindow.mision_seleccionada-533"><a href="#JuegoWindow.mision_seleccionada-533"><span class="linenos">533</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Campo Vacío&#39;</span><span class="p">,</span> <span class="s1">&#39;Por favor, ingresa el nombre de la misión que deseas buscar.&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.mision_seleccionada-534"><a href="#JuegoWindow.mision_seleccionada-534"><span class="linenos">534</span></a>            <span class="k">return</span>
</span><span id="JuegoWindow.mision_seleccionada-535"><a href="#JuegoWindow.mision_seleccionada-535"><span class="linenos">535</span></a>
</span><span id="JuegoWindow.mision_seleccionada-536"><a href="#JuegoWindow.mision_seleccionada-536"><span class="linenos">536</span></a>        <span class="n">eventos_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;evento&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.mision_seleccionada-537"><a href="#JuegoWindow.mision_seleccionada-537"><span class="linenos">537</span></a>        <span class="n">query</span> <span class="o">=</span> <span class="n">eventos_ref</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s1">&#39;nombre&#39;</span><span class="p">,</span> <span class="s1">&#39;==&#39;</span><span class="p">,</span> <span class="n">nombre_mision</span><span class="p">)</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="JuegoWindow.mision_seleccionada-538"><a href="#JuegoWindow.mision_seleccionada-538"><span class="linenos">538</span></a>        
</span><span id="JuegoWindow.mision_seleccionada-539"><a href="#JuegoWindow.mision_seleccionada-539"><span class="linenos">539</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="JuegoWindow.mision_seleccionada-540"><a href="#JuegoWindow.mision_seleccionada-540"><span class="linenos">540</span></a>            <span class="n">snapshot</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</span><span id="JuegoWindow.mision_seleccionada-541"><a href="#JuegoWindow.mision_seleccionada-541"><span class="linenos">541</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_mision_resultado</span><span class="p">(</span><span class="n">snapshot</span><span class="p">)</span>
</span><span id="JuegoWindow.mision_seleccionada-542"><a href="#JuegoWindow.mision_seleccionada-542"><span class="linenos">542</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="JuegoWindow.mision_seleccionada-543"><a href="#JuegoWindow.mision_seleccionada-543"><span class="linenos">543</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">manejar_error_mision</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Busca una misión por su nombre en la base de datos y muestra el resultado.</p>

<p>Recupera el nombre de la misión desde un campo de texto, realiza una búsqueda en la colección de eventos
en la base de datos y llama a <code><a href="#JuegoWindow.mostrar_mision_resultado">mostrar_mision_resultado</a></code> para mostrar los detalles de la misión encontrada.</p>

<p>Si no se ingresa un nombre de misión o hay un error en la consulta, muestra un mensaje de advertencia o error.</p>
</div>


                            </div>
                            <div id="JuegoWindow.mostrar_mision_resultado" class="classattr">
                                        <input id="JuegoWindow.mostrar_mision_resultado-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">mostrar_mision_resultado</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">snapshot</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.mostrar_mision_resultado-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.mostrar_mision_resultado"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.mostrar_mision_resultado-545"><a href="#JuegoWindow.mostrar_mision_resultado-545"><span class="linenos">545</span></a>    <span class="k">def</span> <span class="nf">mostrar_mision_resultado</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">snapshot</span><span class="p">):</span>
</span><span id="JuegoWindow.mostrar_mision_resultado-546"><a href="#JuegoWindow.mostrar_mision_resultado-546"><span class="linenos">546</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.mostrar_mision_resultado-547"><a href="#JuegoWindow.mostrar_mision_resultado-547"><span class="linenos">547</span></a><span class="sd">        Muestra los detalles de la misión encontrada en la búsqueda.</span>
</span><span id="JuegoWindow.mostrar_mision_resultado-548"><a href="#JuegoWindow.mostrar_mision_resultado-548"><span class="linenos">548</span></a>
</span><span id="JuegoWindow.mostrar_mision_resultado-549"><a href="#JuegoWindow.mostrar_mision_resultado-549"><span class="linenos">549</span></a><span class="sd">        Parámetros:</span>
</span><span id="JuegoWindow.mostrar_mision_resultado-550"><a href="#JuegoWindow.mostrar_mision_resultado-550"><span class="linenos">550</span></a><span class="sd">        -----------</span>
</span><span id="JuegoWindow.mostrar_mision_resultado-551"><a href="#JuegoWindow.mostrar_mision_resultado-551"><span class="linenos">551</span></a><span class="sd">        snapshot : list</span>
</span><span id="JuegoWindow.mostrar_mision_resultado-552"><a href="#JuegoWindow.mostrar_mision_resultado-552"><span class="linenos">552</span></a><span class="sd">            Lista de documentos de misión obtenidos de la búsqueda en la base de datos.</span>
</span><span id="JuegoWindow.mostrar_mision_resultado-553"><a href="#JuegoWindow.mostrar_mision_resultado-553"><span class="linenos">553</span></a>
</span><span id="JuegoWindow.mostrar_mision_resultado-554"><a href="#JuegoWindow.mostrar_mision_resultado-554"><span class="linenos">554</span></a><span class="sd">        Si se encuentra una misión, extrae los detalles como nombre, descripción, condiciones y recompensa, </span>
</span><span id="JuegoWindow.mostrar_mision_resultado-555"><a href="#JuegoWindow.mostrar_mision_resultado-555"><span class="linenos">555</span></a><span class="sd">        y llama a `mostrar_ventana_mision_selec` para mostrar esos detalles al usuario.</span>
</span><span id="JuegoWindow.mostrar_mision_resultado-556"><a href="#JuegoWindow.mostrar_mision_resultado-556"><span class="linenos">556</span></a>
</span><span id="JuegoWindow.mostrar_mision_resultado-557"><a href="#JuegoWindow.mostrar_mision_resultado-557"><span class="linenos">557</span></a><span class="sd">        Si no se encuentra ninguna misión, muestra un mensaje de advertencia.</span>
</span><span id="JuegoWindow.mostrar_mision_resultado-558"><a href="#JuegoWindow.mostrar_mision_resultado-558"><span class="linenos">558</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.mostrar_mision_resultado-559"><a href="#JuegoWindow.mostrar_mision_resultado-559"><span class="linenos">559</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">snapshot</span><span class="p">:</span>
</span><span id="JuegoWindow.mostrar_mision_resultado-560"><a href="#JuegoWindow.mostrar_mision_resultado-560"><span class="linenos">560</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Misión No Encontrada&#39;</span><span class="p">,</span> <span class="s1">&#39;No se encontró ninguna misión con el nombre proporcionado.&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_mision_resultado-561"><a href="#JuegoWindow.mostrar_mision_resultado-561"><span class="linenos">561</span></a>            <span class="k">return</span>
</span><span id="JuegoWindow.mostrar_mision_resultado-562"><a href="#JuegoWindow.mostrar_mision_resultado-562"><span class="linenos">562</span></a>
</span><span id="JuegoWindow.mostrar_mision_resultado-563"><a href="#JuegoWindow.mostrar_mision_resultado-563"><span class="linenos">563</span></a>        <span class="n">mision</span> <span class="o">=</span> <span class="n">snapshot</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</span><span id="JuegoWindow.mostrar_mision_resultado-564"><a href="#JuegoWindow.mostrar_mision_resultado-564"><span class="linenos">564</span></a>        <span class="n">nombre</span> <span class="o">=</span> <span class="n">mision</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;nombre&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_mision_resultado-565"><a href="#JuegoWindow.mostrar_mision_resultado-565"><span class="linenos">565</span></a>        <span class="n">descripcion</span> <span class="o">=</span> <span class="n">mision</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;descripcion&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_mision_resultado-566"><a href="#JuegoWindow.mostrar_mision_resultado-566"><span class="linenos">566</span></a>        <span class="n">condiciones</span> <span class="o">=</span> <span class="n">mision</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;condiciones&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_mision_resultado-567"><a href="#JuegoWindow.mostrar_mision_resultado-567"><span class="linenos">567</span></a>        <span class="n">recompensa</span> <span class="o">=</span> <span class="n">mision</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;recompensa&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_mision_resultado-568"><a href="#JuegoWindow.mostrar_mision_resultado-568"><span class="linenos">568</span></a>
</span><span id="JuegoWindow.mostrar_mision_resultado-569"><a href="#JuegoWindow.mostrar_mision_resultado-569"><span class="linenos">569</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_ventana_mision_selec</span><span class="p">(</span><span class="n">nombre</span><span class="p">,</span> <span class="n">descripcion</span><span class="p">,</span> <span class="n">condiciones</span><span class="p">,</span> <span class="n">recompensa</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Muestra los detalles de la misión encontrada en la búsqueda.</p>

<h2 id="parametros">Parámetros:</h2>

<p>snapshot : list
    Lista de documentos de misión obtenidos de la búsqueda en la base de datos.</p>

<p>Si se encuentra una misión, extrae los detalles como nombre, descripción, condiciones y recompensa, 
y llama a <code><a href="#JuegoWindow.mostrar_ventana_mision_selec">mostrar_ventana_mision_selec</a></code> para mostrar esos detalles al usuario.</p>

<p>Si no se encuentra ninguna misión, muestra un mensaje de advertencia.</p>
</div>


                            </div>
                            <div id="JuegoWindow.manejar_error_mision" class="classattr">
                                        <input id="JuegoWindow.manejar_error_mision-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">manejar_error_mision</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">error</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.manejar_error_mision-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.manejar_error_mision"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.manejar_error_mision-571"><a href="#JuegoWindow.manejar_error_mision-571"><span class="linenos">571</span></a>    <span class="k">def</span> <span class="nf">manejar_error_mision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">error</span><span class="p">):</span>
</span><span id="JuegoWindow.manejar_error_mision-572"><a href="#JuegoWindow.manejar_error_mision-572"><span class="linenos">572</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.manejar_error_mision-573"><a href="#JuegoWindow.manejar_error_mision-573"><span class="linenos">573</span></a><span class="sd">        Muestra un mensaje de error si ocurre un problema durante la búsqueda de una misión.</span>
</span><span id="JuegoWindow.manejar_error_mision-574"><a href="#JuegoWindow.manejar_error_mision-574"><span class="linenos">574</span></a>
</span><span id="JuegoWindow.manejar_error_mision-575"><a href="#JuegoWindow.manejar_error_mision-575"><span class="linenos">575</span></a><span class="sd">        Parámetros:</span>
</span><span id="JuegoWindow.manejar_error_mision-576"><a href="#JuegoWindow.manejar_error_mision-576"><span class="linenos">576</span></a><span class="sd">        -----------</span>
</span><span id="JuegoWindow.manejar_error_mision-577"><a href="#JuegoWindow.manejar_error_mision-577"><span class="linenos">577</span></a><span class="sd">        error : Exception</span>
</span><span id="JuegoWindow.manejar_error_mision-578"><a href="#JuegoWindow.manejar_error_mision-578"><span class="linenos">578</span></a><span class="sd">            La excepción capturada durante la búsqueda de la misión.</span>
</span><span id="JuegoWindow.manejar_error_mision-579"><a href="#JuegoWindow.manejar_error_mision-579"><span class="linenos">579</span></a>
</span><span id="JuegoWindow.manejar_error_mision-580"><a href="#JuegoWindow.manejar_error_mision-580"><span class="linenos">580</span></a><span class="sd">        Muestra un mensaje crítico con detalles sobre el error.</span>
</span><span id="JuegoWindow.manejar_error_mision-581"><a href="#JuegoWindow.manejar_error_mision-581"><span class="linenos">581</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.manejar_error_mision-582"><a href="#JuegoWindow.manejar_error_mision-582"><span class="linenos">582</span></a>        <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error de Consulta&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Ocurrió un error al buscar la misión: </span><span class="si">{</span><span class="n">error</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Muestra un mensaje de error si ocurre un problema durante la búsqueda de una misión.</p>

<h2 id="parametros">Parámetros:</h2>

<p>error : Exception
    La excepción capturada durante la búsqueda de la misión.</p>

<p>Muestra un mensaje crítico con detalles sobre el error.</p>
</div>


                            </div>
                            <div id="JuegoWindow.mostrar_ventana_mision_selec" class="classattr">
                                        <input id="JuegoWindow.mostrar_ventana_mision_selec-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">mostrar_ventana_mision_selec</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">nombre</span>, </span><span class="param"><span class="n">descripcion</span>, </span><span class="param"><span class="n">condiciones</span>, </span><span class="param"><span class="n">recompensa</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.mostrar_ventana_mision_selec-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.mostrar_ventana_mision_selec"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.mostrar_ventana_mision_selec-585"><a href="#JuegoWindow.mostrar_ventana_mision_selec-585"><span class="linenos">585</span></a>    <span class="k">def</span> <span class="nf">mostrar_ventana_mision_selec</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre</span><span class="p">,</span> <span class="n">descripcion</span><span class="p">,</span> <span class="n">condiciones</span><span class="p">,</span> <span class="n">recompensa</span><span class="p">):</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-586"><a href="#JuegoWindow.mostrar_ventana_mision_selec-586"><span class="linenos">586</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-587"><a href="#JuegoWindow.mostrar_ventana_mision_selec-587"><span class="linenos">587</span></a><span class="sd">        Muestra una ventana de misión con opciones de victoria o derrota.</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-588"><a href="#JuegoWindow.mostrar_ventana_mision_selec-588"><span class="linenos">588</span></a>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-589"><a href="#JuegoWindow.mostrar_ventana_mision_selec-589"><span class="linenos">589</span></a><span class="sd">        Parámetros:</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-590"><a href="#JuegoWindow.mostrar_ventana_mision_selec-590"><span class="linenos">590</span></a><span class="sd">        -----------</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-591"><a href="#JuegoWindow.mostrar_ventana_mision_selec-591"><span class="linenos">591</span></a><span class="sd">        nombre : str</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-592"><a href="#JuegoWindow.mostrar_ventana_mision_selec-592"><span class="linenos">592</span></a><span class="sd">            El nombre de la misión a mostrar.</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-593"><a href="#JuegoWindow.mostrar_ventana_mision_selec-593"><span class="linenos">593</span></a><span class="sd">        descripcion : str</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-594"><a href="#JuegoWindow.mostrar_ventana_mision_selec-594"><span class="linenos">594</span></a><span class="sd">            La descripción detallada de la misión.</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-595"><a href="#JuegoWindow.mostrar_ventana_mision_selec-595"><span class="linenos">595</span></a><span class="sd">        condiciones : str</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-596"><a href="#JuegoWindow.mostrar_ventana_mision_selec-596"><span class="linenos">596</span></a><span class="sd">            Las condiciones necesarias para completar la misión.</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-597"><a href="#JuegoWindow.mostrar_ventana_mision_selec-597"><span class="linenos">597</span></a><span class="sd">        recompensa : str</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-598"><a href="#JuegoWindow.mostrar_ventana_mision_selec-598"><span class="linenos">598</span></a><span class="sd">            La recompensa ofrecida por completar la misión.</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-599"><a href="#JuegoWindow.mostrar_ventana_mision_selec-599"><span class="linenos">599</span></a>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-600"><a href="#JuegoWindow.mostrar_ventana_mision_selec-600"><span class="linenos">600</span></a><span class="sd">        Esta función crea una ventana emergente (`QWidget`) que muestra la información de la misión actual, </span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-601"><a href="#JuegoWindow.mostrar_ventana_mision_selec-601"><span class="linenos">601</span></a><span class="sd">        incluyendo su nombre, descripción, condiciones y recompensa. También proporciona dos botones para </span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-602"><a href="#JuegoWindow.mostrar_ventana_mision_selec-602"><span class="linenos">602</span></a><span class="sd">        manejar el resultado de la misión: &quot;Victoria&quot; y &quot;Derrota&quot;.</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-603"><a href="#JuegoWindow.mostrar_ventana_mision_selec-603"><span class="linenos">603</span></a>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-604"><a href="#JuegoWindow.mostrar_ventana_mision_selec-604"><span class="linenos">604</span></a><span class="sd">        El botón &quot;Victoria&quot; llama a `victoria_mision_selec` con el nombre de la misión y la recompensa, </span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-605"><a href="#JuegoWindow.mostrar_ventana_mision_selec-605"><span class="linenos">605</span></a><span class="sd">        mientras que el botón &quot;Derrota&quot; llama a `derrota_mision_selec`.</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-606"><a href="#JuegoWindow.mostrar_ventana_mision_selec-606"><span class="linenos">606</span></a>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-607"><a href="#JuegoWindow.mostrar_ventana_mision_selec-607"><span class="linenos">607</span></a><span class="sd">        La ventana se diseña con un fondo de pergamino y un estilo que recuerda al papel antiguo.</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-608"><a href="#JuegoWindow.mostrar_ventana_mision_selec-608"><span class="linenos">608</span></a>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-609"><a href="#JuegoWindow.mostrar_ventana_mision_selec-609"><span class="linenos">609</span></a><span class="sd">        Ejemplos:</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-610"><a href="#JuegoWindow.mostrar_ventana_mision_selec-610"><span class="linenos">610</span></a><span class="sd">        ---------</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-611"><a href="#JuegoWindow.mostrar_ventana_mision_selec-611"><span class="linenos">611</span></a><span class="sd">        &gt;&gt;&gt; self.mostrar_ventana_mision_selec(&quot;Misión de Prueba&quot;, &quot;Descripción de la misión&quot;, &quot;Condiciones necesarias&quot;, &quot;Recompensa obtenida&quot;)</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-612"><a href="#JuegoWindow.mostrar_ventana_mision_selec-612"><span class="linenos">612</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-613"><a href="#JuegoWindow.mostrar_ventana_mision_selec-613"><span class="linenos">613</span></a>        <span class="n">mision_dialog</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-614"><a href="#JuegoWindow.mostrar_ventana_mision_selec-614"><span class="linenos">614</span></a>        <span class="n">mision_dialog</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Misión&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-615"><a href="#JuegoWindow.mostrar_ventana_mision_selec-615"><span class="linenos">615</span></a>        <span class="n">mision_dialog</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-616"><a href="#JuegoWindow.mostrar_ventana_mision_selec-616"><span class="linenos">616</span></a><span class="s2">        background-color: #f5f5dc; /* Color de fondo en caso de que la imagen no se cargue */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-617"><a href="#JuegoWindow.mostrar_ventana_mision_selec-617"><span class="linenos">617</span></a><span class="s2">        color: #3e3e3e; /* Color del texto oscuro para buen contraste */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-618"><a href="#JuegoWindow.mostrar_ventana_mision_selec-618"><span class="linenos">618</span></a><span class="s2">        border: 2px solid #8b4513; /* Borde marrón oscuro, como el pergamino envejecido */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-619"><a href="#JuegoWindow.mostrar_ventana_mision_selec-619"><span class="linenos">619</span></a><span class="s2">        border-radius: 10px; /* Bordes redondeados */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-620"><a href="#JuegoWindow.mostrar_ventana_mision_selec-620"><span class="linenos">620</span></a><span class="s2">        font-family: &#39;Times New Roman&#39;, serif; /* Fuente clásica que recuerda al papel antiguo */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-621"><a href="#JuegoWindow.mostrar_ventana_mision_selec-621"><span class="linenos">621</span></a><span class="s2">        padding: 10px;</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-622"><a href="#JuegoWindow.mostrar_ventana_mision_selec-622"><span class="linenos">622</span></a><span class="s2">        background-image: url(&#39;fondos/31254.jpg&#39;);  /* Imagen de fondo de pergamino */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-623"><a href="#JuegoWindow.mostrar_ventana_mision_selec-623"><span class="linenos">623</span></a><span class="s2">        background-repeat: repeat;  /* Repetir la imagen de fondo */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-624"><a href="#JuegoWindow.mostrar_ventana_mision_selec-624"><span class="linenos">624</span></a><span class="s2">        background-size: cover;  /* Asegura que la imagen cubra toda la pantalla */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-625"><a href="#JuegoWindow.mostrar_ventana_mision_selec-625"><span class="linenos">625</span></a><span class="s2">        background-position: center;  /* Centra la imagen */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-626"><a href="#JuegoWindow.mostrar_ventana_mision_selec-626"><span class="linenos">626</span></a><span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-627"><a href="#JuegoWindow.mostrar_ventana_mision_selec-627"><span class="linenos">627</span></a>        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-628"><a href="#JuegoWindow.mostrar_ventana_mision_selec-628"><span class="linenos">628</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>  
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-629"><a href="#JuegoWindow.mostrar_ventana_mision_selec-629"><span class="linenos">629</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>  
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-630"><a href="#JuegoWindow.mostrar_ventana_mision_selec-630"><span class="linenos">630</span></a>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-631"><a href="#JuegoWindow.mostrar_ventana_mision_selec-631"><span class="linenos">631</span></a>        <span class="n">sala_text</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-632"><a href="#JuegoWindow.mostrar_ventana_mision_selec-632"><span class="linenos">632</span></a>        <span class="n">evento_info</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nombre: </span><span class="si">{</span><span class="n">nombre</span><span class="si">}</span><span class="se">\n</span><span class="s2">Descripción:</span><span class="se">\n</span><span class="s2"> </span><span class="si">{</span><span class="n">descripcion</span><span class="si">}</span><span class="se">\n</span><span class="s2">Condiciones:</span><span class="se">\n</span><span class="si">{</span><span class="n">condiciones</span><span class="si">}</span><span class="se">\n</span><span class="s2">Recompensa:</span><span class="se">\n</span><span class="s2"> </span><span class="si">{</span><span class="n">recompensa</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-633"><a href="#JuegoWindow.mostrar_ventana_mision_selec-633"><span class="linenos">633</span></a>        <span class="n">evento_info</span><span class="o">.</span><span class="n">setWordWrap</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>  
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-634"><a href="#JuegoWindow.mostrar_ventana_mision_selec-634"><span class="linenos">634</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">evento_info</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-635"><a href="#JuegoWindow.mostrar_ventana_mision_selec-635"><span class="linenos">635</span></a>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-636"><a href="#JuegoWindow.mostrar_ventana_mision_selec-636"><span class="linenos">636</span></a>        <span class="n">btn_victoria</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Victoria&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-637"><a href="#JuegoWindow.mostrar_ventana_mision_selec-637"><span class="linenos">637</span></a>        <span class="n">btn_victoria</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;background-color: green; color: white;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-638"><a href="#JuegoWindow.mostrar_ventana_mision_selec-638"><span class="linenos">638</span></a>        <span class="n">btn_derrota</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Derrota&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-639"><a href="#JuegoWindow.mostrar_ventana_mision_selec-639"><span class="linenos">639</span></a>        <span class="n">btn_derrota</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;background-color: red; color: white;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-640"><a href="#JuegoWindow.mostrar_ventana_mision_selec-640"><span class="linenos">640</span></a>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-641"><a href="#JuegoWindow.mostrar_ventana_mision_selec-641"><span class="linenos">641</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn_victoria</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-642"><a href="#JuegoWindow.mostrar_ventana_mision_selec-642"><span class="linenos">642</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn_derrota</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-643"><a href="#JuegoWindow.mostrar_ventana_mision_selec-643"><span class="linenos">643</span></a>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-644"><a href="#JuegoWindow.mostrar_ventana_mision_selec-644"><span class="linenos">644</span></a>        <span class="n">mision_dialog</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-645"><a href="#JuegoWindow.mostrar_ventana_mision_selec-645"><span class="linenos">645</span></a>        <span class="n">mision_dialog</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-646"><a href="#JuegoWindow.mostrar_ventana_mision_selec-646"><span class="linenos">646</span></a>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-647"><a href="#JuegoWindow.mostrar_ventana_mision_selec-647"><span class="linenos">647</span></a>        <span class="n">btn_victoria</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">victoria_mision_selec</span><span class="p">(</span><span class="n">nombre</span><span class="p">,</span> <span class="n">recompensa</span><span class="p">,</span> <span class="n">mision_dialog</span><span class="p">))</span>
</span><span id="JuegoWindow.mostrar_ventana_mision_selec-648"><a href="#JuegoWindow.mostrar_ventana_mision_selec-648"><span class="linenos">648</span></a>        <span class="n">btn_derrota</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">derrota_mision_selec</span><span class="p">(</span><span class="n">mision_dialog</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>Muestra una ventana de misión con opciones de victoria o derrota.</p>

<h2 id="parametros">Parámetros:</h2>

<p>nombre : str
    El nombre de la misión a mostrar.
descripcion : str
    La descripción detallada de la misión.
condiciones : str
    Las condiciones necesarias para completar la misión.
recompensa : str
    La recompensa ofrecida por completar la misión.</p>

<p>Esta función crea una ventana emergente (<code>QWidget</code>) que muestra la información de la misión actual, 
incluyendo su nombre, descripción, condiciones y recompensa. También proporciona dos botones para 
manejar el resultado de la misión: "Victoria" y "Derrota".</p>

<p>El botón "Victoria" llama a <code><a href="#JuegoWindow.victoria_mision_selec">victoria_mision_selec</a></code> con el nombre de la misión y la recompensa, 
mientras que el botón "Derrota" llama a <code><a href="#JuegoWindow.derrota_mision_selec">derrota_mision_selec</a></code>.</p>

<p>La ventana se diseña con un fondo de pergamino y un estilo que recuerda al papel antiguo.</p>

<h2 id="ejemplos">Ejemplos:</h2>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">mostrar_ventana_mision_selec</span><span class="p">(</span><span class="s2">&quot;Misión de Prueba&quot;</span><span class="p">,</span> <span class="s2">&quot;Descripción de la misión&quot;</span><span class="p">,</span> <span class="s2">&quot;Condiciones necesarias&quot;</span><span class="p">,</span> <span class="s2">&quot;Recompensa obtenida&quot;</span><span class="p">)</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="JuegoWindow.victoria_mision_selec" class="classattr">
                                        <input id="JuegoWindow.victoria_mision_selec-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">victoria_mision_selec</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">nombre</span>, </span><span class="param"><span class="n">recompensa</span>, </span><span class="param"><span class="n">dialog</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.victoria_mision_selec-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.victoria_mision_selec"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.victoria_mision_selec-650"><a href="#JuegoWindow.victoria_mision_selec-650"><span class="linenos">650</span></a>    <span class="k">def</span> <span class="nf">victoria_mision_selec</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre</span><span class="p">,</span> <span class="n">recompensa</span><span class="p">,</span> <span class="n">dialog</span><span class="p">):</span>
</span><span id="JuegoWindow.victoria_mision_selec-651"><a href="#JuegoWindow.victoria_mision_selec-651"><span class="linenos">651</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.victoria_mision_selec-652"><a href="#JuegoWindow.victoria_mision_selec-652"><span class="linenos">652</span></a><span class="sd">        Maneja la victoria en la misión y guarda la recompensa.</span>
</span><span id="JuegoWindow.victoria_mision_selec-653"><a href="#JuegoWindow.victoria_mision_selec-653"><span class="linenos">653</span></a>
</span><span id="JuegoWindow.victoria_mision_selec-654"><a href="#JuegoWindow.victoria_mision_selec-654"><span class="linenos">654</span></a><span class="sd">        Parámetros:</span>
</span><span id="JuegoWindow.victoria_mision_selec-655"><a href="#JuegoWindow.victoria_mision_selec-655"><span class="linenos">655</span></a><span class="sd">        -----------</span>
</span><span id="JuegoWindow.victoria_mision_selec-656"><a href="#JuegoWindow.victoria_mision_selec-656"><span class="linenos">656</span></a><span class="sd">        nombre : str</span>
</span><span id="JuegoWindow.victoria_mision_selec-657"><a href="#JuegoWindow.victoria_mision_selec-657"><span class="linenos">657</span></a><span class="sd">            El nombre de la misión ganada.</span>
</span><span id="JuegoWindow.victoria_mision_selec-658"><a href="#JuegoWindow.victoria_mision_selec-658"><span class="linenos">658</span></a><span class="sd">        recompensa : str</span>
</span><span id="JuegoWindow.victoria_mision_selec-659"><a href="#JuegoWindow.victoria_mision_selec-659"><span class="linenos">659</span></a><span class="sd">            La recompensa obtenida por completar la misión.</span>
</span><span id="JuegoWindow.victoria_mision_selec-660"><a href="#JuegoWindow.victoria_mision_selec-660"><span class="linenos">660</span></a><span class="sd">        dialog : QWidget</span>
</span><span id="JuegoWindow.victoria_mision_selec-661"><a href="#JuegoWindow.victoria_mision_selec-661"><span class="linenos">661</span></a><span class="sd">            La ventana de misión que se debe cerrar después de manejar la victoria.</span>
</span><span id="JuegoWindow.victoria_mision_selec-662"><a href="#JuegoWindow.victoria_mision_selec-662"><span class="linenos">662</span></a>
</span><span id="JuegoWindow.victoria_mision_selec-663"><a href="#JuegoWindow.victoria_mision_selec-663"><span class="linenos">663</span></a><span class="sd">        Esta función cierra la ventana de misión (`dialog`) y llama a `guardar_recompensa` para registrar </span>
</span><span id="JuegoWindow.victoria_mision_selec-664"><a href="#JuegoWindow.victoria_mision_selec-664"><span class="linenos">664</span></a><span class="sd">        la recompensa de la misión ganada.</span>
</span><span id="JuegoWindow.victoria_mision_selec-665"><a href="#JuegoWindow.victoria_mision_selec-665"><span class="linenos">665</span></a>
</span><span id="JuegoWindow.victoria_mision_selec-666"><a href="#JuegoWindow.victoria_mision_selec-666"><span class="linenos">666</span></a><span class="sd">        Ejemplos:</span>
</span><span id="JuegoWindow.victoria_mision_selec-667"><a href="#JuegoWindow.victoria_mision_selec-667"><span class="linenos">667</span></a><span class="sd">        ---------</span>
</span><span id="JuegoWindow.victoria_mision_selec-668"><a href="#JuegoWindow.victoria_mision_selec-668"><span class="linenos">668</span></a><span class="sd">        &gt;&gt;&gt; self.victoria_mision_selec(&quot;Misión de Prueba&quot;, &quot;1000 Oro&quot;, mision_dialog)</span>
</span><span id="JuegoWindow.victoria_mision_selec-669"><a href="#JuegoWindow.victoria_mision_selec-669"><span class="linenos">669</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.victoria_mision_selec-670"><a href="#JuegoWindow.victoria_mision_selec-670"><span class="linenos">670</span></a>        <span class="n">dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="JuegoWindow.victoria_mision_selec-671"><a href="#JuegoWindow.victoria_mision_selec-671"><span class="linenos">671</span></a>        
</span><span id="JuegoWindow.victoria_mision_selec-672"><a href="#JuegoWindow.victoria_mision_selec-672"><span class="linenos">672</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">guardar_recompensa</span><span class="p">(</span><span class="n">nombre</span><span class="p">,</span> <span class="n">recompensa</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Maneja la victoria en la misión y guarda la recompensa.</p>

<h2 id="parametros">Parámetros:</h2>

<p>nombre : str
    El nombre de la misión ganada.
recompensa : str
    La recompensa obtenida por completar la misión.
dialog : QWidget
    La ventana de misión que se debe cerrar después de manejar la victoria.</p>

<p>Esta función cierra la ventana de misión (<code>dialog</code>) y llama a <code><a href="#JuegoWindow.guardar_recompensa">guardar_recompensa</a></code> para registrar 
la recompensa de la misión ganada.</p>

<h2 id="ejemplos">Ejemplos:</h2>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">victoria_mision_selec</span><span class="p">(</span><span class="s2">&quot;Misión de Prueba&quot;</span><span class="p">,</span> <span class="s2">&quot;1000 Oro&quot;</span><span class="p">,</span> <span class="n">mision_dialog</span><span class="p">)</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="JuegoWindow.derrota_mision_selec" class="classattr">
                                        <input id="JuegoWindow.derrota_mision_selec-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">derrota_mision_selec</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">dialog</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.derrota_mision_selec-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.derrota_mision_selec"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.derrota_mision_selec-674"><a href="#JuegoWindow.derrota_mision_selec-674"><span class="linenos">674</span></a>    <span class="k">def</span> <span class="nf">derrota_mision_selec</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dialog</span><span class="p">):</span>
</span><span id="JuegoWindow.derrota_mision_selec-675"><a href="#JuegoWindow.derrota_mision_selec-675"><span class="linenos">675</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.derrota_mision_selec-676"><a href="#JuegoWindow.derrota_mision_selec-676"><span class="linenos">676</span></a><span class="sd">        Maneja la derrota en la misión y muestra la ventana de penalización.</span>
</span><span id="JuegoWindow.derrota_mision_selec-677"><a href="#JuegoWindow.derrota_mision_selec-677"><span class="linenos">677</span></a>
</span><span id="JuegoWindow.derrota_mision_selec-678"><a href="#JuegoWindow.derrota_mision_selec-678"><span class="linenos">678</span></a><span class="sd">        Parámetros:</span>
</span><span id="JuegoWindow.derrota_mision_selec-679"><a href="#JuegoWindow.derrota_mision_selec-679"><span class="linenos">679</span></a><span class="sd">        -----------</span>
</span><span id="JuegoWindow.derrota_mision_selec-680"><a href="#JuegoWindow.derrota_mision_selec-680"><span class="linenos">680</span></a><span class="sd">        dialog : QWidget</span>
</span><span id="JuegoWindow.derrota_mision_selec-681"><a href="#JuegoWindow.derrota_mision_selec-681"><span class="linenos">681</span></a><span class="sd">            La ventana de misión que se debe cerrar después de manejar la derrota.</span>
</span><span id="JuegoWindow.derrota_mision_selec-682"><a href="#JuegoWindow.derrota_mision_selec-682"><span class="linenos">682</span></a>
</span><span id="JuegoWindow.derrota_mision_selec-683"><a href="#JuegoWindow.derrota_mision_selec-683"><span class="linenos">683</span></a><span class="sd">        Esta función cierra la ventana de misión (`dialog`) y llama a `mostrar_penalizacion_selec` </span>
</span><span id="JuegoWindow.derrota_mision_selec-684"><a href="#JuegoWindow.derrota_mision_selec-684"><span class="linenos">684</span></a><span class="sd">        para mostrar la ventana de penalización al jugador.</span>
</span><span id="JuegoWindow.derrota_mision_selec-685"><a href="#JuegoWindow.derrota_mision_selec-685"><span class="linenos">685</span></a>
</span><span id="JuegoWindow.derrota_mision_selec-686"><a href="#JuegoWindow.derrota_mision_selec-686"><span class="linenos">686</span></a><span class="sd">        Ejemplos:</span>
</span><span id="JuegoWindow.derrota_mision_selec-687"><a href="#JuegoWindow.derrota_mision_selec-687"><span class="linenos">687</span></a><span class="sd">        ---------</span>
</span><span id="JuegoWindow.derrota_mision_selec-688"><a href="#JuegoWindow.derrota_mision_selec-688"><span class="linenos">688</span></a><span class="sd">        &gt;&gt;&gt; self.derrota_mision_selec(mision_dialog)</span>
</span><span id="JuegoWindow.derrota_mision_selec-689"><a href="#JuegoWindow.derrota_mision_selec-689"><span class="linenos">689</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.derrota_mision_selec-690"><a href="#JuegoWindow.derrota_mision_selec-690"><span class="linenos">690</span></a>        <span class="n">dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="JuegoWindow.derrota_mision_selec-691"><a href="#JuegoWindow.derrota_mision_selec-691"><span class="linenos">691</span></a>        
</span><span id="JuegoWindow.derrota_mision_selec-692"><a href="#JuegoWindow.derrota_mision_selec-692"><span class="linenos">692</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_penalizacion_selec</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Maneja la derrota en la misión y muestra la ventana de penalización.</p>

<h2 id="parametros">Parámetros:</h2>

<p>dialog : QWidget
    La ventana de misión que se debe cerrar después de manejar la derrota.</p>

<p>Esta función cierra la ventana de misión (<code>dialog</code>) y llama a <code><a href="#JuegoWindow.mostrar_penalizacion_selec">mostrar_penalizacion_selec</a></code> 
para mostrar la ventana de penalización al jugador.</p>

<h2 id="ejemplos">Ejemplos:</h2>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">derrota_mision_selec</span><span class="p">(</span><span class="n">mision_dialog</span><span class="p">)</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="JuegoWindow.mostrar_penalizacion_selec" class="classattr">
                                        <input id="JuegoWindow.mostrar_penalizacion_selec-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">mostrar_penalizacion_selec</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.mostrar_penalizacion_selec-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.mostrar_penalizacion_selec"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.mostrar_penalizacion_selec-694"><a href="#JuegoWindow.mostrar_penalizacion_selec-694"><span class="linenos">694</span></a>    <span class="k">def</span> <span class="nf">mostrar_penalizacion_selec</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-695"><a href="#JuegoWindow.mostrar_penalizacion_selec-695"><span class="linenos">695</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-696"><a href="#JuegoWindow.mostrar_penalizacion_selec-696"><span class="linenos">696</span></a><span class="sd">        Muestra una ventana de ruleta para elegir una penalización.</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-697"><a href="#JuegoWindow.mostrar_penalizacion_selec-697"><span class="linenos">697</span></a>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-698"><a href="#JuegoWindow.mostrar_penalizacion_selec-698"><span class="linenos">698</span></a><span class="sd">        Esta función crea una ventana emergente (`QWidget`) que muestra una penalización aleatoria </span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-699"><a href="#JuegoWindow.mostrar_penalizacion_selec-699"><span class="linenos">699</span></a><span class="sd">        obtenida de la base de datos. La ventana muestra el nombre, descripción, efecto y el lanzamiento </span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-700"><a href="#JuegoWindow.mostrar_penalizacion_selec-700"><span class="linenos">700</span></a><span class="sd">        de dado asociado a la penalización.</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-701"><a href="#JuegoWindow.mostrar_penalizacion_selec-701"><span class="linenos">701</span></a>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-702"><a href="#JuegoWindow.mostrar_penalizacion_selec-702"><span class="linenos">702</span></a><span class="sd">        La ventana se diseña con un fondo de pergamino y un estilo que recuerda al papel antiguo. </span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-703"><a href="#JuegoWindow.mostrar_penalizacion_selec-703"><span class="linenos">703</span></a><span class="sd">        También proporciona un botón para cerrar la ventana.</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-704"><a href="#JuegoWindow.mostrar_penalizacion_selec-704"><span class="linenos">704</span></a>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-705"><a href="#JuegoWindow.mostrar_penalizacion_selec-705"><span class="linenos">705</span></a><span class="sd">        Ejemplos:</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-706"><a href="#JuegoWindow.mostrar_penalizacion_selec-706"><span class="linenos">706</span></a><span class="sd">        ---------</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-707"><a href="#JuegoWindow.mostrar_penalizacion_selec-707"><span class="linenos">707</span></a><span class="sd">        &gt;&gt;&gt; self.mostrar_penalizacion_selec()</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-708"><a href="#JuegoWindow.mostrar_penalizacion_selec-708"><span class="linenos">708</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-709"><a href="#JuegoWindow.mostrar_penalizacion_selec-709"><span class="linenos">709</span></a>        <span class="n">penalizacion_dialog</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-710"><a href="#JuegoWindow.mostrar_penalizacion_selec-710"><span class="linenos">710</span></a>        <span class="n">penalizacion_dialog</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Penalización&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-711"><a href="#JuegoWindow.mostrar_penalizacion_selec-711"><span class="linenos">711</span></a>        <span class="n">penalizacion_dialog</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-712"><a href="#JuegoWindow.mostrar_penalizacion_selec-712"><span class="linenos">712</span></a><span class="s2">        background-color: #f5f5dc; /* Color de fondo en caso de que la imagen no se cargue */</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-713"><a href="#JuegoWindow.mostrar_penalizacion_selec-713"><span class="linenos">713</span></a><span class="s2">        color: #3e3e3e; /* Color del texto oscuro para buen contraste */</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-714"><a href="#JuegoWindow.mostrar_penalizacion_selec-714"><span class="linenos">714</span></a><span class="s2">        border: 2px solid #8b4513; /* Borde marrón oscuro, como el pergamino envejecido */</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-715"><a href="#JuegoWindow.mostrar_penalizacion_selec-715"><span class="linenos">715</span></a><span class="s2">        border-radius: 10px; /* Bordes redondeados */</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-716"><a href="#JuegoWindow.mostrar_penalizacion_selec-716"><span class="linenos">716</span></a><span class="s2">        font-family: &#39;Times New Roman&#39;, serif; /* Fuente clásica que recuerda al papel antiguo */</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-717"><a href="#JuegoWindow.mostrar_penalizacion_selec-717"><span class="linenos">717</span></a><span class="s2">        padding: 10px;</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-718"><a href="#JuegoWindow.mostrar_penalizacion_selec-718"><span class="linenos">718</span></a><span class="s2">        background-image: url(&#39;fondos/31254.jpg&#39;);  /* Imagen de fondo de pergamino */</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-719"><a href="#JuegoWindow.mostrar_penalizacion_selec-719"><span class="linenos">719</span></a><span class="s2">        background-repeat: repeat;  /* Repetir la imagen de fondo */</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-720"><a href="#JuegoWindow.mostrar_penalizacion_selec-720"><span class="linenos">720</span></a><span class="s2">        background-size: cover;  /* Asegura que la imagen cubra toda la pantalla */</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-721"><a href="#JuegoWindow.mostrar_penalizacion_selec-721"><span class="linenos">721</span></a><span class="s2">        background-position: center;  /* Centra la imagen */</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-722"><a href="#JuegoWindow.mostrar_penalizacion_selec-722"><span class="linenos">722</span></a><span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-723"><a href="#JuegoWindow.mostrar_penalizacion_selec-723"><span class="linenos">723</span></a>        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-724"><a href="#JuegoWindow.mostrar_penalizacion_selec-724"><span class="linenos">724</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>  
</span><span id="JuegoWindow.mostrar_penalizacion_selec-725"><a href="#JuegoWindow.mostrar_penalizacion_selec-725"><span class="linenos">725</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span> 
</span><span id="JuegoWindow.mostrar_penalizacion_selec-726"><a href="#JuegoWindow.mostrar_penalizacion_selec-726"><span class="linenos">726</span></a>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-727"><a href="#JuegoWindow.mostrar_penalizacion_selec-727"><span class="linenos">727</span></a>        <span class="n">sala_text</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sala Actual: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-728"><a href="#JuegoWindow.mostrar_penalizacion_selec-728"><span class="linenos">728</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">sala_text</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-729"><a href="#JuegoWindow.mostrar_penalizacion_selec-729"><span class="linenos">729</span></a>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-730"><a href="#JuegoWindow.mostrar_penalizacion_selec-730"><span class="linenos">730</span></a>        <span class="n">penalizaciones_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;penalizaciones&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-731"><a href="#JuegoWindow.mostrar_penalizacion_selec-731"><span class="linenos">731</span></a>        <span class="n">penalizaciones</span> <span class="o">=</span> <span class="n">penalizaciones_ref</span><span class="o">.</span><span class="n">stream</span><span class="p">()</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-732"><a href="#JuegoWindow.mostrar_penalizacion_selec-732"><span class="linenos">732</span></a>        <span class="n">penalizacion_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">penalizacion</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">penalizacion</span> <span class="ow">in</span> <span class="n">penalizaciones</span><span class="p">]</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-733"><a href="#JuegoWindow.mostrar_penalizacion_selec-733"><span class="linenos">733</span></a>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-734"><a href="#JuegoWindow.mostrar_penalizacion_selec-734"><span class="linenos">734</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">penalizacion_list</span><span class="p">:</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-735"><a href="#JuegoWindow.mostrar_penalizacion_selec-735"><span class="linenos">735</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Sin Penalizaciones&#39;</span><span class="p">,</span> <span class="s1">&#39;No hay penalizaciones disponibles en la base de datos.&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-736"><a href="#JuegoWindow.mostrar_penalizacion_selec-736"><span class="linenos">736</span></a>            <span class="k">return</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-737"><a href="#JuegoWindow.mostrar_penalizacion_selec-737"><span class="linenos">737</span></a>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-738"><a href="#JuegoWindow.mostrar_penalizacion_selec-738"><span class="linenos">738</span></a>        <span class="n">penalizacion</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">penalizacion_list</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-739"><a href="#JuegoWindow.mostrar_penalizacion_selec-739"><span class="linenos">739</span></a>        <span class="n">penalizacion_info</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nombre: </span><span class="si">{</span><span class="n">penalizacion</span><span class="p">[</span><span class="s1">&#39;nombre&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Descripción: </span><span class="si">{</span><span class="n">penalizacion</span><span class="p">[</span><span class="s1">&#39;descripcion&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Efecto: </span><span class="si">{</span><span class="n">penalizacion</span><span class="p">[</span><span class="s1">&#39;efecto&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Lanzamiento Dado: </span><span class="si">{</span><span class="n">penalizacion</span><span class="p">[</span><span class="s1">&#39;lanzamiento_dado&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-740"><a href="#JuegoWindow.mostrar_penalizacion_selec-740"><span class="linenos">740</span></a>        <span class="n">penalizacion_info</span><span class="o">.</span><span class="n">setWordWrap</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>  
</span><span id="JuegoWindow.mostrar_penalizacion_selec-741"><a href="#JuegoWindow.mostrar_penalizacion_selec-741"><span class="linenos">741</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">penalizacion_info</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-742"><a href="#JuegoWindow.mostrar_penalizacion_selec-742"><span class="linenos">742</span></a>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-743"><a href="#JuegoWindow.mostrar_penalizacion_selec-743"><span class="linenos">743</span></a>        <span class="n">btn_cerrar</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Cerrar&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-744"><a href="#JuegoWindow.mostrar_penalizacion_selec-744"><span class="linenos">744</span></a>        <span class="n">btn_cerrar</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;background-color: red; color: white;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-745"><a href="#JuegoWindow.mostrar_penalizacion_selec-745"><span class="linenos">745</span></a>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-746"><a href="#JuegoWindow.mostrar_penalizacion_selec-746"><span class="linenos">746</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn_cerrar</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-747"><a href="#JuegoWindow.mostrar_penalizacion_selec-747"><span class="linenos">747</span></a>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-748"><a href="#JuegoWindow.mostrar_penalizacion_selec-748"><span class="linenos">748</span></a>        <span class="n">penalizacion_dialog</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-749"><a href="#JuegoWindow.mostrar_penalizacion_selec-749"><span class="linenos">749</span></a>        <span class="n">penalizacion_dialog</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-750"><a href="#JuegoWindow.mostrar_penalizacion_selec-750"><span class="linenos">750</span></a>
</span><span id="JuegoWindow.mostrar_penalizacion_selec-751"><a href="#JuegoWindow.mostrar_penalizacion_selec-751"><span class="linenos">751</span></a>        <span class="n">btn_cerrar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">guardar_penalizacion_selec</span><span class="p">(</span><span class="n">penalizacion</span><span class="p">,</span> <span class="n">penalizacion_dialog</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>Muestra una ventana de ruleta para elegir una penalización.</p>

<p>Esta función crea una ventana emergente (<code>QWidget</code>) que muestra una penalización aleatoria 
obtenida de la base de datos. La ventana muestra el nombre, descripción, efecto y el lanzamiento 
de dado asociado a la penalización.</p>

<p>La ventana se diseña con un fondo de pergamino y un estilo que recuerda al papel antiguo. 
También proporciona un botón para cerrar la ventana.</p>

<h2 id="ejemplos">Ejemplos:</h2>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">mostrar_penalizacion_selec</span><span class="p">()</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="JuegoWindow.guardar_penalizacion_selec" class="classattr">
                                        <input id="JuegoWindow.guardar_penalizacion_selec-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">guardar_penalizacion_selec</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">penalizacion</span>, </span><span class="param"><span class="n">dialog</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.guardar_penalizacion_selec-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.guardar_penalizacion_selec"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.guardar_penalizacion_selec-752"><a href="#JuegoWindow.guardar_penalizacion_selec-752"><span class="linenos">752</span></a>    <span class="k">def</span> <span class="nf">guardar_penalizacion_selec</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">penalizacion</span><span class="p">,</span> <span class="n">dialog</span><span class="p">):</span>
</span><span id="JuegoWindow.guardar_penalizacion_selec-753"><a href="#JuegoWindow.guardar_penalizacion_selec-753"><span class="linenos">753</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.guardar_penalizacion_selec-754"><a href="#JuegoWindow.guardar_penalizacion_selec-754"><span class="linenos">754</span></a><span class="sd">        Guarda la penalización en la base de datos.</span>
</span><span id="JuegoWindow.guardar_penalizacion_selec-755"><a href="#JuegoWindow.guardar_penalizacion_selec-755"><span class="linenos">755</span></a>
</span><span id="JuegoWindow.guardar_penalizacion_selec-756"><a href="#JuegoWindow.guardar_penalizacion_selec-756"><span class="linenos">756</span></a><span class="sd">        Parámetros:</span>
</span><span id="JuegoWindow.guardar_penalizacion_selec-757"><a href="#JuegoWindow.guardar_penalizacion_selec-757"><span class="linenos">757</span></a><span class="sd">        -----------</span>
</span><span id="JuegoWindow.guardar_penalizacion_selec-758"><a href="#JuegoWindow.guardar_penalizacion_selec-758"><span class="linenos">758</span></a><span class="sd">        penalizacion : dict</span>
</span><span id="JuegoWindow.guardar_penalizacion_selec-759"><a href="#JuegoWindow.guardar_penalizacion_selec-759"><span class="linenos">759</span></a><span class="sd">            Diccionario con los detalles de la penalización. Debe contener al menos la clave &#39;descripcion&#39; con la descripción de la penalización.</span>
</span><span id="JuegoWindow.guardar_penalizacion_selec-760"><a href="#JuegoWindow.guardar_penalizacion_selec-760"><span class="linenos">760</span></a><span class="sd">        dialog : QWidget</span>
</span><span id="JuegoWindow.guardar_penalizacion_selec-761"><a href="#JuegoWindow.guardar_penalizacion_selec-761"><span class="linenos">761</span></a><span class="sd">            La ventana de penalización que se debe cerrar después de manejar la penalización.</span>
</span><span id="JuegoWindow.guardar_penalizacion_selec-762"><a href="#JuegoWindow.guardar_penalizacion_selec-762"><span class="linenos">762</span></a>
</span><span id="JuegoWindow.guardar_penalizacion_selec-763"><a href="#JuegoWindow.guardar_penalizacion_selec-763"><span class="linenos">763</span></a><span class="sd">        Esta función cierra la ventana de penalización (`dialog`) y actualiza el documento de la sala actual en </span>
</span><span id="JuegoWindow.guardar_penalizacion_selec-764"><a href="#JuegoWindow.guardar_penalizacion_selec-764"><span class="linenos">764</span></a><span class="sd">        la colección `PUNTOGUARDADO` con la descripción de la penalización. Si la actualización es exitosa, se </span>
</span><span id="JuegoWindow.guardar_penalizacion_selec-765"><a href="#JuegoWindow.guardar_penalizacion_selec-765"><span class="linenos">765</span></a><span class="sd">        muestra un mensaje de información; si ocurre un error, se muestra un mensaje de error.</span>
</span><span id="JuegoWindow.guardar_penalizacion_selec-766"><a href="#JuegoWindow.guardar_penalizacion_selec-766"><span class="linenos">766</span></a>
</span><span id="JuegoWindow.guardar_penalizacion_selec-767"><a href="#JuegoWindow.guardar_penalizacion_selec-767"><span class="linenos">767</span></a><span class="sd">        Ejemplos:</span>
</span><span id="JuegoWindow.guardar_penalizacion_selec-768"><a href="#JuegoWindow.guardar_penalizacion_selec-768"><span class="linenos">768</span></a><span class="sd">        ---------</span>
</span><span id="JuegoWindow.guardar_penalizacion_selec-769"><a href="#JuegoWindow.guardar_penalizacion_selec-769"><span class="linenos">769</span></a><span class="sd">        &gt;&gt;&gt; self.guardar_penalizacion_selec({&#39;descripcion&#39;: &#39;Pierdes 100 Oro&#39;}, penalizacion_dialog)</span>
</span><span id="JuegoWindow.guardar_penalizacion_selec-770"><a href="#JuegoWindow.guardar_penalizacion_selec-770"><span class="linenos">770</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.guardar_penalizacion_selec-771"><a href="#JuegoWindow.guardar_penalizacion_selec-771"><span class="linenos">771</span></a>        <span class="n">dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="JuegoWindow.guardar_penalizacion_selec-772"><a href="#JuegoWindow.guardar_penalizacion_selec-772"><span class="linenos">772</span></a>        <span class="n">sala</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Sala Actual: &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.guardar_penalizacion_selec-773"><a href="#JuegoWindow.guardar_penalizacion_selec-773"><span class="linenos">773</span></a>        <span class="n">doc_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;unico_</span><span class="si">{</span><span class="n">sala</span><span class="si">}</span><span class="s1">&#39;</span>
</span><span id="JuegoWindow.guardar_penalizacion_selec-774"><a href="#JuegoWindow.guardar_penalizacion_selec-774"><span class="linenos">774</span></a>
</span><span id="JuegoWindow.guardar_penalizacion_selec-775"><a href="#JuegoWindow.guardar_penalizacion_selec-775"><span class="linenos">775</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="JuegoWindow.guardar_penalizacion_selec-776"><a href="#JuegoWindow.guardar_penalizacion_selec-776"><span class="linenos">776</span></a>            <span class="n">doc_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;PUNTOGUARDADO&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">doc_id</span><span class="p">)</span>
</span><span id="JuegoWindow.guardar_penalizacion_selec-777"><a href="#JuegoWindow.guardar_penalizacion_selec-777"><span class="linenos">777</span></a>            <span class="n">doc_ref</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
</span><span id="JuegoWindow.guardar_penalizacion_selec-778"><a href="#JuegoWindow.guardar_penalizacion_selec-778"><span class="linenos">778</span></a>                <span class="s1">&#39;penalizacion&#39;</span><span class="p">:</span> <span class="n">penalizacion</span><span class="p">[</span><span class="s1">&#39;descripcion&#39;</span><span class="p">]</span>
</span><span id="JuegoWindow.guardar_penalizacion_selec-779"><a href="#JuegoWindow.guardar_penalizacion_selec-779"><span class="linenos">779</span></a>            <span class="p">})</span>
</span><span id="JuegoWindow.guardar_penalizacion_selec-780"><a href="#JuegoWindow.guardar_penalizacion_selec-780"><span class="linenos">780</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Penalización&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Penalización: </span><span class="si">{</span><span class="n">penalizacion</span><span class="p">[</span><span class="s2">&quot;descripcion&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.guardar_penalizacion_selec-781"><a href="#JuegoWindow.guardar_penalizacion_selec-781"><span class="linenos">781</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="JuegoWindow.guardar_penalizacion_selec-782"><a href="#JuegoWindow.guardar_penalizacion_selec-782"><span class="linenos">782</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error de Actualización&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Ocurrió un error al guardar la penalización: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Guarda la penalización en la base de datos.</p>

<h2 id="parametros">Parámetros:</h2>

<p>penalizacion : dict
    Diccionario con los detalles de la penalización. Debe contener al menos la clave 'descripcion' con la descripción de la penalización.
dialog : QWidget
    La ventana de penalización que se debe cerrar después de manejar la penalización.</p>

<p>Esta función cierra la ventana de penalización (<code>dialog</code>) y actualiza el documento de la sala actual en 
la colección <code>PUNTOGUARDADO</code> con la descripción de la penalización. Si la actualización es exitosa, se 
muestra un mensaje de información; si ocurre un error, se muestra un mensaje de error.</p>

<h2 id="ejemplos">Ejemplos:</h2>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">guardar_penalizacion_selec</span><span class="p">({</span><span class="s1">&#39;descripcion&#39;</span><span class="p">:</span> <span class="s1">&#39;Pierdes 100 Oro&#39;</span><span class="p">},</span> <span class="n">penalizacion_dialog</span><span class="p">)</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="JuegoWindow.guardar_recompensa" class="classattr">
                                        <input id="JuegoWindow.guardar_recompensa-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">guardar_recompensa</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">nombre</span>, </span><span class="param"><span class="n">recompensa</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.guardar_recompensa-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.guardar_recompensa"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.guardar_recompensa-785"><a href="#JuegoWindow.guardar_recompensa-785"><span class="linenos">785</span></a>    <span class="k">def</span> <span class="nf">guardar_recompensa</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre</span><span class="p">,</span> <span class="n">recompensa</span><span class="p">):</span>
</span><span id="JuegoWindow.guardar_recompensa-786"><a href="#JuegoWindow.guardar_recompensa-786"><span class="linenos">786</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.guardar_recompensa-787"><a href="#JuegoWindow.guardar_recompensa-787"><span class="linenos">787</span></a><span class="sd">        Guarda la recompensa en la base de datos.</span>
</span><span id="JuegoWindow.guardar_recompensa-788"><a href="#JuegoWindow.guardar_recompensa-788"><span class="linenos">788</span></a>
</span><span id="JuegoWindow.guardar_recompensa-789"><a href="#JuegoWindow.guardar_recompensa-789"><span class="linenos">789</span></a><span class="sd">        Parámetros:</span>
</span><span id="JuegoWindow.guardar_recompensa-790"><a href="#JuegoWindow.guardar_recompensa-790"><span class="linenos">790</span></a><span class="sd">        -----------</span>
</span><span id="JuegoWindow.guardar_recompensa-791"><a href="#JuegoWindow.guardar_recompensa-791"><span class="linenos">791</span></a><span class="sd">        nombre : str</span>
</span><span id="JuegoWindow.guardar_recompensa-792"><a href="#JuegoWindow.guardar_recompensa-792"><span class="linenos">792</span></a><span class="sd">            El nombre de la misión ganada.</span>
</span><span id="JuegoWindow.guardar_recompensa-793"><a href="#JuegoWindow.guardar_recompensa-793"><span class="linenos">793</span></a><span class="sd">        recompensa : str</span>
</span><span id="JuegoWindow.guardar_recompensa-794"><a href="#JuegoWindow.guardar_recompensa-794"><span class="linenos">794</span></a><span class="sd">            La recompensa obtenida por completar la misión.</span>
</span><span id="JuegoWindow.guardar_recompensa-795"><a href="#JuegoWindow.guardar_recompensa-795"><span class="linenos">795</span></a>
</span><span id="JuegoWindow.guardar_recompensa-796"><a href="#JuegoWindow.guardar_recompensa-796"><span class="linenos">796</span></a><span class="sd">        Esta función actualiza el documento de la sala actual en la colección `PUNTOGUARDADO` con la recompensa </span>
</span><span id="JuegoWindow.guardar_recompensa-797"><a href="#JuegoWindow.guardar_recompensa-797"><span class="linenos">797</span></a><span class="sd">        obtenida por completar una misión. Si la actualización es exitosa, se muestra un mensaje de victoria; </span>
</span><span id="JuegoWindow.guardar_recompensa-798"><a href="#JuegoWindow.guardar_recompensa-798"><span class="linenos">798</span></a><span class="sd">        si ocurre un error, se muestra un mensaje de error.</span>
</span><span id="JuegoWindow.guardar_recompensa-799"><a href="#JuegoWindow.guardar_recompensa-799"><span class="linenos">799</span></a>
</span><span id="JuegoWindow.guardar_recompensa-800"><a href="#JuegoWindow.guardar_recompensa-800"><span class="linenos">800</span></a><span class="sd">        Ejemplos:</span>
</span><span id="JuegoWindow.guardar_recompensa-801"><a href="#JuegoWindow.guardar_recompensa-801"><span class="linenos">801</span></a><span class="sd">        ---------</span>
</span><span id="JuegoWindow.guardar_recompensa-802"><a href="#JuegoWindow.guardar_recompensa-802"><span class="linenos">802</span></a><span class="sd">        &gt;&gt;&gt; self.guardar_recompensa(&quot;Misión de Prueba&quot;, &quot;1000 Oro&quot;)</span>
</span><span id="JuegoWindow.guardar_recompensa-803"><a href="#JuegoWindow.guardar_recompensa-803"><span class="linenos">803</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.guardar_recompensa-804"><a href="#JuegoWindow.guardar_recompensa-804"><span class="linenos">804</span></a>        <span class="n">sala</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Sala Actual: &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.guardar_recompensa-805"><a href="#JuegoWindow.guardar_recompensa-805"><span class="linenos">805</span></a>        <span class="n">doc_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;unico_</span><span class="si">{</span><span class="n">sala</span><span class="si">}</span><span class="s1">&#39;</span>
</span><span id="JuegoWindow.guardar_recompensa-806"><a href="#JuegoWindow.guardar_recompensa-806"><span class="linenos">806</span></a>
</span><span id="JuegoWindow.guardar_recompensa-807"><a href="#JuegoWindow.guardar_recompensa-807"><span class="linenos">807</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="JuegoWindow.guardar_recompensa-808"><a href="#JuegoWindow.guardar_recompensa-808"><span class="linenos">808</span></a>            <span class="n">doc_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;PUNTOGUARDADO&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">doc_id</span><span class="p">)</span>
</span><span id="JuegoWindow.guardar_recompensa-809"><a href="#JuegoWindow.guardar_recompensa-809"><span class="linenos">809</span></a>            <span class="n">doc_ref</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
</span><span id="JuegoWindow.guardar_recompensa-810"><a href="#JuegoWindow.guardar_recompensa-810"><span class="linenos">810</span></a>                <span class="s1">&#39;recompensa&#39;</span><span class="p">:</span> <span class="n">recompensa</span>
</span><span id="JuegoWindow.guardar_recompensa-811"><a href="#JuegoWindow.guardar_recompensa-811"><span class="linenos">811</span></a>            <span class="p">})</span>
</span><span id="JuegoWindow.guardar_recompensa-812"><a href="#JuegoWindow.guardar_recompensa-812"><span class="linenos">812</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Victoria&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;¡Has ganado! Recompensa: </span><span class="si">{</span><span class="n">recompensa</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.guardar_recompensa-813"><a href="#JuegoWindow.guardar_recompensa-813"><span class="linenos">813</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="JuegoWindow.guardar_recompensa-814"><a href="#JuegoWindow.guardar_recompensa-814"><span class="linenos">814</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error de Actualización&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Ocurrió un error al guardar la recompensa: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Guarda la recompensa en la base de datos.</p>

<h2 id="parametros">Parámetros:</h2>

<p>nombre : str
    El nombre de la misión ganada.
recompensa : str
    La recompensa obtenida por completar la misión.</p>

<p>Esta función actualiza el documento de la sala actual en la colección <code>PUNTOGUARDADO</code> con la recompensa 
obtenida por completar una misión. Si la actualización es exitosa, se muestra un mensaje de victoria; 
si ocurre un error, se muestra un mensaje de error.</p>

<h2 id="ejemplos">Ejemplos:</h2>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">guardar_recompensa</span><span class="p">(</span><span class="s2">&quot;Misión de Prueba&quot;</span><span class="p">,</span> <span class="s2">&quot;1000 Oro&quot;</span><span class="p">)</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="JuegoWindow.mision_aleatoria" class="classattr">
                                        <input id="JuegoWindow.mision_aleatoria-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">mision_aleatoria</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.mision_aleatoria-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.mision_aleatoria"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.mision_aleatoria-817"><a href="#JuegoWindow.mision_aleatoria-817"><span class="linenos">817</span></a>    <span class="k">def</span> <span class="nf">mision_aleatoria</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow.mision_aleatoria-818"><a href="#JuegoWindow.mision_aleatoria-818"><span class="linenos">818</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.mision_aleatoria-819"><a href="#JuegoWindow.mision_aleatoria-819"><span class="linenos">819</span></a><span class="sd">        Selecciona una misión al azar de la base de datos y muestra la ruleta.</span>
</span><span id="JuegoWindow.mision_aleatoria-820"><a href="#JuegoWindow.mision_aleatoria-820"><span class="linenos">820</span></a>
</span><span id="JuegoWindow.mision_aleatoria-821"><a href="#JuegoWindow.mision_aleatoria-821"><span class="linenos">821</span></a><span class="sd">        Esta función obtiene una lista de eventos de la colección `evento` en la base de datos, elige uno al azar </span>
</span><span id="JuegoWindow.mision_aleatoria-822"><a href="#JuegoWindow.mision_aleatoria-822"><span class="linenos">822</span></a><span class="sd">        y llama al método `mostrar_ruleta` para presentar una ventana de ruleta con opciones de aceptar, rechazar </span>
</span><span id="JuegoWindow.mision_aleatoria-823"><a href="#JuegoWindow.mision_aleatoria-823"><span class="linenos">823</span></a><span class="sd">        o girar otra vez la ruleta.</span>
</span><span id="JuegoWindow.mision_aleatoria-824"><a href="#JuegoWindow.mision_aleatoria-824"><span class="linenos">824</span></a>
</span><span id="JuegoWindow.mision_aleatoria-825"><a href="#JuegoWindow.mision_aleatoria-825"><span class="linenos">825</span></a><span class="sd">        Ejemplos:</span>
</span><span id="JuegoWindow.mision_aleatoria-826"><a href="#JuegoWindow.mision_aleatoria-826"><span class="linenos">826</span></a><span class="sd">        ---------</span>
</span><span id="JuegoWindow.mision_aleatoria-827"><a href="#JuegoWindow.mision_aleatoria-827"><span class="linenos">827</span></a><span class="sd">        &gt;&gt;&gt; self.mision_aleatoria()</span>
</span><span id="JuegoWindow.mision_aleatoria-828"><a href="#JuegoWindow.mision_aleatoria-828"><span class="linenos">828</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.mision_aleatoria-829"><a href="#JuegoWindow.mision_aleatoria-829"><span class="linenos">829</span></a>        <span class="n">eventos_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;evento&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.mision_aleatoria-830"><a href="#JuegoWindow.mision_aleatoria-830"><span class="linenos">830</span></a>        <span class="n">eventos</span> <span class="o">=</span> <span class="n">eventos_ref</span><span class="o">.</span><span class="n">stream</span><span class="p">()</span>
</span><span id="JuegoWindow.mision_aleatoria-831"><a href="#JuegoWindow.mision_aleatoria-831"><span class="linenos">831</span></a>        <span class="n">evento_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">evento</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">evento</span> <span class="ow">in</span> <span class="n">eventos</span><span class="p">]</span>
</span><span id="JuegoWindow.mision_aleatoria-832"><a href="#JuegoWindow.mision_aleatoria-832"><span class="linenos">832</span></a>
</span><span id="JuegoWindow.mision_aleatoria-833"><a href="#JuegoWindow.mision_aleatoria-833"><span class="linenos">833</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">evento_list</span><span class="p">:</span>
</span><span id="JuegoWindow.mision_aleatoria-834"><a href="#JuegoWindow.mision_aleatoria-834"><span class="linenos">834</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Sin Eventos&#39;</span><span class="p">,</span> <span class="s1">&#39;No hay eventos disponibles en la base de datos.&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.mision_aleatoria-835"><a href="#JuegoWindow.mision_aleatoria-835"><span class="linenos">835</span></a>            <span class="k">return</span>
</span><span id="JuegoWindow.mision_aleatoria-836"><a href="#JuegoWindow.mision_aleatoria-836"><span class="linenos">836</span></a>
</span><span id="JuegoWindow.mision_aleatoria-837"><a href="#JuegoWindow.mision_aleatoria-837"><span class="linenos">837</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">evento_list</span> <span class="o">=</span> <span class="n">evento_list</span>
</span><span id="JuegoWindow.mision_aleatoria-838"><a href="#JuegoWindow.mision_aleatoria-838"><span class="linenos">838</span></a>        <span class="n">evento</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">evento_list</span><span class="p">)</span>
</span><span id="JuegoWindow.mision_aleatoria-839"><a href="#JuegoWindow.mision_aleatoria-839"><span class="linenos">839</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_ruleta</span><span class="p">(</span><span class="n">evento</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Selecciona una misión al azar de la base de datos y muestra la ruleta.</p>

<p>Esta función obtiene una lista de eventos de la colección <code>evento</code> en la base de datos, elige uno al azar 
y llama al método <code><a href="#JuegoWindow.mostrar_ruleta">mostrar_ruleta</a></code> para presentar una ventana de ruleta con opciones de aceptar, rechazar 
o girar otra vez la ruleta.</p>

<h2 id="ejemplos">Ejemplos:</h2>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">mision_aleatoria</span><span class="p">()</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="JuegoWindow.mostrar_ruleta" class="classattr">
                                        <input id="JuegoWindow.mostrar_ruleta-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">mostrar_ruleta</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">evento</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.mostrar_ruleta-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.mostrar_ruleta"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.mostrar_ruleta-842"><a href="#JuegoWindow.mostrar_ruleta-842"><span class="linenos">842</span></a>    <span class="k">def</span> <span class="nf">mostrar_ruleta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evento</span><span class="p">):</span>
</span><span id="JuegoWindow.mostrar_ruleta-843"><a href="#JuegoWindow.mostrar_ruleta-843"><span class="linenos">843</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.mostrar_ruleta-844"><a href="#JuegoWindow.mostrar_ruleta-844"><span class="linenos">844</span></a><span class="sd">        Muestra una ventana de ruleta con opciones de aceptar, rechazar o girar otra vez.</span>
</span><span id="JuegoWindow.mostrar_ruleta-845"><a href="#JuegoWindow.mostrar_ruleta-845"><span class="linenos">845</span></a>
</span><span id="JuegoWindow.mostrar_ruleta-846"><a href="#JuegoWindow.mostrar_ruleta-846"><span class="linenos">846</span></a><span class="sd">        Parámetros:</span>
</span><span id="JuegoWindow.mostrar_ruleta-847"><a href="#JuegoWindow.mostrar_ruleta-847"><span class="linenos">847</span></a><span class="sd">        -----------</span>
</span><span id="JuegoWindow.mostrar_ruleta-848"><a href="#JuegoWindow.mostrar_ruleta-848"><span class="linenos">848</span></a><span class="sd">        evento : dict</span>
</span><span id="JuegoWindow.mostrar_ruleta-849"><a href="#JuegoWindow.mostrar_ruleta-849"><span class="linenos">849</span></a><span class="sd">            Diccionario con los detalles del evento. Debe contener las claves &#39;nombre&#39;, &#39;descripcion&#39;, &#39;condiciones&#39;, </span>
</span><span id="JuegoWindow.mostrar_ruleta-850"><a href="#JuegoWindow.mostrar_ruleta-850"><span class="linenos">850</span></a><span class="sd">            y &#39;recompensa&#39; con la información de la misión.</span>
</span><span id="JuegoWindow.mostrar_ruleta-851"><a href="#JuegoWindow.mostrar_ruleta-851"><span class="linenos">851</span></a>
</span><span id="JuegoWindow.mostrar_ruleta-852"><a href="#JuegoWindow.mostrar_ruleta-852"><span class="linenos">852</span></a><span class="sd">        Esta función crea una ventana de diálogo que muestra los detalles del evento actual, incluyendo su nombre, </span>
</span><span id="JuegoWindow.mostrar_ruleta-853"><a href="#JuegoWindow.mostrar_ruleta-853"><span class="linenos">853</span></a><span class="sd">        descripción, condiciones y recompensa. También proporciona tres botones para manejar el evento: &quot;Aceptar&quot;, </span>
</span><span id="JuegoWindow.mostrar_ruleta-854"><a href="#JuegoWindow.mostrar_ruleta-854"><span class="linenos">854</span></a><span class="sd">        &quot;Rechazar&quot; y &quot;Girar Otra Vez&quot;. El botón &quot;Girar Otra Vez&quot; solo está habilitado si el número de giros es menor que 2.</span>
</span><span id="JuegoWindow.mostrar_ruleta-855"><a href="#JuegoWindow.mostrar_ruleta-855"><span class="linenos">855</span></a>
</span><span id="JuegoWindow.mostrar_ruleta-856"><a href="#JuegoWindow.mostrar_ruleta-856"><span class="linenos">856</span></a><span class="sd">        Ejemplos:</span>
</span><span id="JuegoWindow.mostrar_ruleta-857"><a href="#JuegoWindow.mostrar_ruleta-857"><span class="linenos">857</span></a><span class="sd">        ---------</span>
</span><span id="JuegoWindow.mostrar_ruleta-858"><a href="#JuegoWindow.mostrar_ruleta-858"><span class="linenos">858</span></a><span class="sd">        &gt;&gt;&gt; self.mostrar_ruleta({&#39;nombre&#39;: &#39;Misión de Prueba&#39;, &#39;descripcion&#39;: &#39;Descripción de la misión&#39;, &#39;condiciones&#39;: &#39;Condiciones necesarias&#39;, &#39;recompensa&#39;: &#39;Recompensa obtenida&#39;})</span>
</span><span id="JuegoWindow.mostrar_ruleta-859"><a href="#JuegoWindow.mostrar_ruleta-859"><span class="linenos">859</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.mostrar_ruleta-860"><a href="#JuegoWindow.mostrar_ruleta-860"><span class="linenos">860</span></a>        <span class="n">ruleta_dialog</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
</span><span id="JuegoWindow.mostrar_ruleta-861"><a href="#JuegoWindow.mostrar_ruleta-861"><span class="linenos">861</span></a>        <span class="n">ruleta_dialog</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Ruleta de Eventos&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ruleta-862"><a href="#JuegoWindow.mostrar_ruleta-862"><span class="linenos">862</span></a>        <span class="n">ruleta_dialog</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.mostrar_ruleta-863"><a href="#JuegoWindow.mostrar_ruleta-863"><span class="linenos">863</span></a><span class="s2">        background-color: #f5f5dc; /* Color de fondo en caso de que la imagen no se cargue */</span>
</span><span id="JuegoWindow.mostrar_ruleta-864"><a href="#JuegoWindow.mostrar_ruleta-864"><span class="linenos">864</span></a><span class="s2">        color: #3e3e3e; /* Color del texto oscuro para buen contraste */</span>
</span><span id="JuegoWindow.mostrar_ruleta-865"><a href="#JuegoWindow.mostrar_ruleta-865"><span class="linenos">865</span></a><span class="s2">        border: 2px solid #8b4513; /* Borde marrón oscuro, como el pergamino envejecido */</span>
</span><span id="JuegoWindow.mostrar_ruleta-866"><a href="#JuegoWindow.mostrar_ruleta-866"><span class="linenos">866</span></a><span class="s2">        border-radius: 10px; /* Bordes redondeados */</span>
</span><span id="JuegoWindow.mostrar_ruleta-867"><a href="#JuegoWindow.mostrar_ruleta-867"><span class="linenos">867</span></a><span class="s2">        font-family: &#39;Times New Roman&#39;, serif; /* Fuente clásica que recuerda al papel antiguo */</span>
</span><span id="JuegoWindow.mostrar_ruleta-868"><a href="#JuegoWindow.mostrar_ruleta-868"><span class="linenos">868</span></a><span class="s2">        padding: 10px;</span>
</span><span id="JuegoWindow.mostrar_ruleta-869"><a href="#JuegoWindow.mostrar_ruleta-869"><span class="linenos">869</span></a><span class="s2">        background-image: url(&#39;fondos/31254.jpg&#39;);  /* Imagen de fondo de pergamino */</span>
</span><span id="JuegoWindow.mostrar_ruleta-870"><a href="#JuegoWindow.mostrar_ruleta-870"><span class="linenos">870</span></a><span class="s2">        background-repeat: repeat;  /* Repetir la imagen de fondo */</span>
</span><span id="JuegoWindow.mostrar_ruleta-871"><a href="#JuegoWindow.mostrar_ruleta-871"><span class="linenos">871</span></a><span class="s2">        background-size: cover;  /* Asegura que la imagen cubra toda la pantalla */</span>
</span><span id="JuegoWindow.mostrar_ruleta-872"><a href="#JuegoWindow.mostrar_ruleta-872"><span class="linenos">872</span></a><span class="s2">        background-position: center;  /* Centra la imagen */</span>
</span><span id="JuegoWindow.mostrar_ruleta-873"><a href="#JuegoWindow.mostrar_ruleta-873"><span class="linenos">873</span></a><span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ruleta-874"><a href="#JuegoWindow.mostrar_ruleta-874"><span class="linenos">874</span></a>        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
</span><span id="JuegoWindow.mostrar_ruleta-875"><a href="#JuegoWindow.mostrar_ruleta-875"><span class="linenos">875</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>  <span class="c1"># Agregar márgenes</span>
</span><span id="JuegoWindow.mostrar_ruleta-876"><a href="#JuegoWindow.mostrar_ruleta-876"><span class="linenos">876</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>  <span class="c1"># Agregar espaciado</span>
</span><span id="JuegoWindow.mostrar_ruleta-877"><a href="#JuegoWindow.mostrar_ruleta-877"><span class="linenos">877</span></a>
</span><span id="JuegoWindow.mostrar_ruleta-878"><a href="#JuegoWindow.mostrar_ruleta-878"><span class="linenos">878</span></a>        <span class="n">sala_text</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sala Actual: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ruleta-879"><a href="#JuegoWindow.mostrar_ruleta-879"><span class="linenos">879</span></a>        <span class="n">evento_info</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nombre: </span><span class="si">{</span><span class="n">evento</span><span class="p">[</span><span class="s1">&#39;nombre&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Descripción:</span><span class="se">\n</span><span class="s2"> </span><span class="si">{</span><span class="n">evento</span><span class="p">[</span><span class="s1">&#39;descripcion&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Condiciones:</span><span class="se">\n</span><span class="s2"> </span><span class="si">{</span><span class="n">evento</span><span class="p">[</span><span class="s1">&#39;condiciones&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Recompensa:</span><span class="se">\n</span><span class="s2"> </span><span class="si">{</span><span class="n">evento</span><span class="p">[</span><span class="s1">&#39;recompensa&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ruleta-880"><a href="#JuegoWindow.mostrar_ruleta-880"><span class="linenos">880</span></a>        <span class="n">evento_info</span><span class="o">.</span><span class="n">setWordWrap</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># Habilitar el ajuste de línea</span>
</span><span id="JuegoWindow.mostrar_ruleta-881"><a href="#JuegoWindow.mostrar_ruleta-881"><span class="linenos">881</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">sala_text</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ruleta-882"><a href="#JuegoWindow.mostrar_ruleta-882"><span class="linenos">882</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">evento_info</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ruleta-883"><a href="#JuegoWindow.mostrar_ruleta-883"><span class="linenos">883</span></a>
</span><span id="JuegoWindow.mostrar_ruleta-884"><a href="#JuegoWindow.mostrar_ruleta-884"><span class="linenos">884</span></a>        <span class="n">btn_aceptar</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Aceptar&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ruleta-885"><a href="#JuegoWindow.mostrar_ruleta-885"><span class="linenos">885</span></a>        <span class="n">btn_aceptar</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;background-color: green; color: white;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ruleta-886"><a href="#JuegoWindow.mostrar_ruleta-886"><span class="linenos">886</span></a>        <span class="n">btn_rechazar</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Rechazar&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ruleta-887"><a href="#JuegoWindow.mostrar_ruleta-887"><span class="linenos">887</span></a>        <span class="n">btn_rechazar</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;background-color: red; color: white;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ruleta-888"><a href="#JuegoWindow.mostrar_ruleta-888"><span class="linenos">888</span></a>        <span class="n">btn_girar</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Girar Otra Vez&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ruleta-889"><a href="#JuegoWindow.mostrar_ruleta-889"><span class="linenos">889</span></a>        <span class="n">btn_girar</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;background-color: purple; color: white;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ruleta-890"><a href="#JuegoWindow.mostrar_ruleta-890"><span class="linenos">890</span></a>        <span class="n">btn_girar</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">contador_giros</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ruleta-891"><a href="#JuegoWindow.mostrar_ruleta-891"><span class="linenos">891</span></a>
</span><span id="JuegoWindow.mostrar_ruleta-892"><a href="#JuegoWindow.mostrar_ruleta-892"><span class="linenos">892</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn_aceptar</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ruleta-893"><a href="#JuegoWindow.mostrar_ruleta-893"><span class="linenos">893</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn_rechazar</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ruleta-894"><a href="#JuegoWindow.mostrar_ruleta-894"><span class="linenos">894</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn_girar</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ruleta-895"><a href="#JuegoWindow.mostrar_ruleta-895"><span class="linenos">895</span></a>
</span><span id="JuegoWindow.mostrar_ruleta-896"><a href="#JuegoWindow.mostrar_ruleta-896"><span class="linenos">896</span></a>        <span class="n">ruleta_dialog</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ruleta-897"><a href="#JuegoWindow.mostrar_ruleta-897"><span class="linenos">897</span></a>        <span class="n">ruleta_dialog</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="JuegoWindow.mostrar_ruleta-898"><a href="#JuegoWindow.mostrar_ruleta-898"><span class="linenos">898</span></a>
</span><span id="JuegoWindow.mostrar_ruleta-899"><a href="#JuegoWindow.mostrar_ruleta-899"><span class="linenos">899</span></a>        <span class="n">btn_aceptar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">aceptar_mision</span><span class="p">(</span><span class="n">evento</span><span class="p">,</span> <span class="n">ruleta_dialog</span><span class="p">))</span>
</span><span id="JuegoWindow.mostrar_ruleta-900"><a href="#JuegoWindow.mostrar_ruleta-900"><span class="linenos">900</span></a>        <span class="n">btn_rechazar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">rechazar_mision</span><span class="p">(</span><span class="n">ruleta_dialog</span><span class="p">))</span>
</span><span id="JuegoWindow.mostrar_ruleta-901"><a href="#JuegoWindow.mostrar_ruleta-901"><span class="linenos">901</span></a>        <span class="n">btn_girar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">girar_otra_vez</span><span class="p">(</span><span class="n">btn_girar</span><span class="p">,</span> <span class="n">ruleta_dialog</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>Muestra una ventana de ruleta con opciones de aceptar, rechazar o girar otra vez.</p>

<h2 id="parametros">Parámetros:</h2>

<p>evento : dict
    Diccionario con los detalles del evento. Debe contener las claves 'nombre', 'descripcion', 'condiciones', 
    y 'recompensa' con la información de la misión.</p>

<p>Esta función crea una ventana de diálogo que muestra los detalles del evento actual, incluyendo su nombre, 
descripción, condiciones y recompensa. También proporciona tres botones para manejar el evento: "Aceptar", 
"Rechazar" y "Girar Otra Vez". El botón "Girar Otra Vez" solo está habilitado si el número de giros es menor que 2.</p>

<h2 id="ejemplos">Ejemplos:</h2>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">mostrar_ruleta</span><span class="p">({</span><span class="s1">&#39;nombre&#39;</span><span class="p">:</span> <span class="s1">&#39;Misión de Prueba&#39;</span><span class="p">,</span> <span class="s1">&#39;descripcion&#39;</span><span class="p">:</span> <span class="s1">&#39;Descripción de la misión&#39;</span><span class="p">,</span> <span class="s1">&#39;condiciones&#39;</span><span class="p">:</span> <span class="s1">&#39;Condiciones necesarias&#39;</span><span class="p">,</span> <span class="s1">&#39;recompensa&#39;</span><span class="p">:</span> <span class="s1">&#39;Recompensa obtenida&#39;</span><span class="p">})</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="JuegoWindow.aceptar_mision" class="classattr">
                                        <input id="JuegoWindow.aceptar_mision-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">aceptar_mision</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">evento</span>, </span><span class="param"><span class="n">dialog</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.aceptar_mision-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.aceptar_mision"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.aceptar_mision-903"><a href="#JuegoWindow.aceptar_mision-903"><span class="linenos">903</span></a>    <span class="k">def</span> <span class="nf">aceptar_mision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evento</span><span class="p">,</span> <span class="n">dialog</span><span class="p">):</span>
</span><span id="JuegoWindow.aceptar_mision-904"><a href="#JuegoWindow.aceptar_mision-904"><span class="linenos">904</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.aceptar_mision-905"><a href="#JuegoWindow.aceptar_mision-905"><span class="linenos">905</span></a><span class="sd">        Acepta la misión y muestra la ventana de victoria o derrota.</span>
</span><span id="JuegoWindow.aceptar_mision-906"><a href="#JuegoWindow.aceptar_mision-906"><span class="linenos">906</span></a>
</span><span id="JuegoWindow.aceptar_mision-907"><a href="#JuegoWindow.aceptar_mision-907"><span class="linenos">907</span></a><span class="sd">        Este método cierra el diálogo actual y llama a `mostrar_ventana_mision` para mostrar una nueva ventana </span>
</span><span id="JuegoWindow.aceptar_mision-908"><a href="#JuegoWindow.aceptar_mision-908"><span class="linenos">908</span></a><span class="sd">        con las opciones de victoria o derrota basadas en el evento de la misión aceptada.</span>
</span><span id="JuegoWindow.aceptar_mision-909"><a href="#JuegoWindow.aceptar_mision-909"><span class="linenos">909</span></a>
</span><span id="JuegoWindow.aceptar_mision-910"><a href="#JuegoWindow.aceptar_mision-910"><span class="linenos">910</span></a><span class="sd">        Parámetros:</span>
</span><span id="JuegoWindow.aceptar_mision-911"><a href="#JuegoWindow.aceptar_mision-911"><span class="linenos">911</span></a><span class="sd">        -----------</span>
</span><span id="JuegoWindow.aceptar_mision-912"><a href="#JuegoWindow.aceptar_mision-912"><span class="linenos">912</span></a><span class="sd">        evento : dict</span>
</span><span id="JuegoWindow.aceptar_mision-913"><a href="#JuegoWindow.aceptar_mision-913"><span class="linenos">913</span></a><span class="sd">            Diccionario con los detalles del evento. Debe contener las claves &#39;nombre&#39;, &#39;descripcion&#39;, &#39;condiciones&#39;, </span>
</span><span id="JuegoWindow.aceptar_mision-914"><a href="#JuegoWindow.aceptar_mision-914"><span class="linenos">914</span></a><span class="sd">            y &#39;recompensa&#39; con la información de la misión.</span>
</span><span id="JuegoWindow.aceptar_mision-915"><a href="#JuegoWindow.aceptar_mision-915"><span class="linenos">915</span></a><span class="sd">        dialog : QWidget</span>
</span><span id="JuegoWindow.aceptar_mision-916"><a href="#JuegoWindow.aceptar_mision-916"><span class="linenos">916</span></a><span class="sd">            La ventana de la ruleta que se debe cerrar después de aceptar la misión.</span>
</span><span id="JuegoWindow.aceptar_mision-917"><a href="#JuegoWindow.aceptar_mision-917"><span class="linenos">917</span></a>
</span><span id="JuegoWindow.aceptar_mision-918"><a href="#JuegoWindow.aceptar_mision-918"><span class="linenos">918</span></a><span class="sd">        Ejemplos:</span>
</span><span id="JuegoWindow.aceptar_mision-919"><a href="#JuegoWindow.aceptar_mision-919"><span class="linenos">919</span></a><span class="sd">        ---------</span>
</span><span id="JuegoWindow.aceptar_mision-920"><a href="#JuegoWindow.aceptar_mision-920"><span class="linenos">920</span></a><span class="sd">        &gt;&gt;&gt; self.aceptar_mision({&#39;nombre&#39;: &#39;Misión de Prueba&#39;, &#39;descripcion&#39;: &#39;Descripción de la misión&#39;, &#39;condiciones&#39;: &#39;Condiciones necesarias&#39;, &#39;recompensa&#39;: &#39;Recompensa obtenida&#39;}, ruleta_dialog)</span>
</span><span id="JuegoWindow.aceptar_mision-921"><a href="#JuegoWindow.aceptar_mision-921"><span class="linenos">921</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.aceptar_mision-922"><a href="#JuegoWindow.aceptar_mision-922"><span class="linenos">922</span></a>        <span class="n">dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="JuegoWindow.aceptar_mision-923"><a href="#JuegoWindow.aceptar_mision-923"><span class="linenos">923</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_ventana_mision</span><span class="p">(</span><span class="n">evento</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Acepta la misión y muestra la ventana de victoria o derrota.</p>

<p>Este método cierra el diálogo actual y llama a <code><a href="#JuegoWindow.mostrar_ventana_mision">mostrar_ventana_mision</a></code> para mostrar una nueva ventana 
con las opciones de victoria o derrota basadas en el evento de la misión aceptada.</p>

<h2 id="parametros">Parámetros:</h2>

<p>evento : dict
    Diccionario con los detalles del evento. Debe contener las claves 'nombre', 'descripcion', 'condiciones', 
    y 'recompensa' con la información de la misión.
dialog : QWidget
    La ventana de la ruleta que se debe cerrar después de aceptar la misión.</p>

<h2 id="ejemplos">Ejemplos:</h2>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">aceptar_mision</span><span class="p">({</span><span class="s1">&#39;nombre&#39;</span><span class="p">:</span> <span class="s1">&#39;Misión de Prueba&#39;</span><span class="p">,</span> <span class="s1">&#39;descripcion&#39;</span><span class="p">:</span> <span class="s1">&#39;Descripción de la misión&#39;</span><span class="p">,</span> <span class="s1">&#39;condiciones&#39;</span><span class="p">:</span> <span class="s1">&#39;Condiciones necesarias&#39;</span><span class="p">,</span> <span class="s1">&#39;recompensa&#39;</span><span class="p">:</span> <span class="s1">&#39;Recompensa obtenida&#39;</span><span class="p">},</span> <span class="n">ruleta_dialog</span><span class="p">)</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="JuegoWindow.rechazar_mision" class="classattr">
                                        <input id="JuegoWindow.rechazar_mision-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">rechazar_mision</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">dialog</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.rechazar_mision-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.rechazar_mision"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.rechazar_mision-926"><a href="#JuegoWindow.rechazar_mision-926"><span class="linenos">926</span></a>    <span class="k">def</span> <span class="nf">rechazar_mision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dialog</span><span class="p">):</span>
</span><span id="JuegoWindow.rechazar_mision-927"><a href="#JuegoWindow.rechazar_mision-927"><span class="linenos">927</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.rechazar_mision-928"><a href="#JuegoWindow.rechazar_mision-928"><span class="linenos">928</span></a><span class="sd">        Rechaza la misión y muestra la ventana de penalización.</span>
</span><span id="JuegoWindow.rechazar_mision-929"><a href="#JuegoWindow.rechazar_mision-929"><span class="linenos">929</span></a>
</span><span id="JuegoWindow.rechazar_mision-930"><a href="#JuegoWindow.rechazar_mision-930"><span class="linenos">930</span></a><span class="sd">        Este método cierra el diálogo actual y llama a `mostrar_penalizacion` para mostrar una nueva ventana </span>
</span><span id="JuegoWindow.rechazar_mision-931"><a href="#JuegoWindow.rechazar_mision-931"><span class="linenos">931</span></a><span class="sd">        donde se puede definir una penalización por rechazar la misión.</span>
</span><span id="JuegoWindow.rechazar_mision-932"><a href="#JuegoWindow.rechazar_mision-932"><span class="linenos">932</span></a>
</span><span id="JuegoWindow.rechazar_mision-933"><a href="#JuegoWindow.rechazar_mision-933"><span class="linenos">933</span></a><span class="sd">        Parámetros:</span>
</span><span id="JuegoWindow.rechazar_mision-934"><a href="#JuegoWindow.rechazar_mision-934"><span class="linenos">934</span></a><span class="sd">        -----------</span>
</span><span id="JuegoWindow.rechazar_mision-935"><a href="#JuegoWindow.rechazar_mision-935"><span class="linenos">935</span></a><span class="sd">        dialog : QWidget</span>
</span><span id="JuegoWindow.rechazar_mision-936"><a href="#JuegoWindow.rechazar_mision-936"><span class="linenos">936</span></a><span class="sd">            La ventana de la ruleta que se debe cerrar después de rechazar la misión.</span>
</span><span id="JuegoWindow.rechazar_mision-937"><a href="#JuegoWindow.rechazar_mision-937"><span class="linenos">937</span></a>
</span><span id="JuegoWindow.rechazar_mision-938"><a href="#JuegoWindow.rechazar_mision-938"><span class="linenos">938</span></a><span class="sd">        Ejemplos:</span>
</span><span id="JuegoWindow.rechazar_mision-939"><a href="#JuegoWindow.rechazar_mision-939"><span class="linenos">939</span></a><span class="sd">        ---------</span>
</span><span id="JuegoWindow.rechazar_mision-940"><a href="#JuegoWindow.rechazar_mision-940"><span class="linenos">940</span></a><span class="sd">        &gt;&gt;&gt; self.rechazar_mision(ruleta_dialog)</span>
</span><span id="JuegoWindow.rechazar_mision-941"><a href="#JuegoWindow.rechazar_mision-941"><span class="linenos">941</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.rechazar_mision-942"><a href="#JuegoWindow.rechazar_mision-942"><span class="linenos">942</span></a>        <span class="n">dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="JuegoWindow.rechazar_mision-943"><a href="#JuegoWindow.rechazar_mision-943"><span class="linenos">943</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_penalizacion</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Rechaza la misión y muestra la ventana de penalización.</p>

<p>Este método cierra el diálogo actual y llama a <code><a href="#JuegoWindow.mostrar_penalizacion">mostrar_penalizacion</a></code> para mostrar una nueva ventana 
donde se puede definir una penalización por rechazar la misión.</p>

<h2 id="parametros">Parámetros:</h2>

<p>dialog : QWidget
    La ventana de la ruleta que se debe cerrar después de rechazar la misión.</p>

<h2 id="ejemplos">Ejemplos:</h2>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">rechazar_mision</span><span class="p">(</span><span class="n">ruleta_dialog</span><span class="p">)</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="JuegoWindow.girar_otra_vez" class="classattr">
                                        <input id="JuegoWindow.girar_otra_vez-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">girar_otra_vez</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">btn_girar</span>, </span><span class="param"><span class="n">dialog</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.girar_otra_vez-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.girar_otra_vez"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.girar_otra_vez-946"><a href="#JuegoWindow.girar_otra_vez-946"><span class="linenos">946</span></a>    <span class="k">def</span> <span class="nf">girar_otra_vez</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">btn_girar</span><span class="p">,</span> <span class="n">dialog</span><span class="p">):</span>
</span><span id="JuegoWindow.girar_otra_vez-947"><a href="#JuegoWindow.girar_otra_vez-947"><span class="linenos">947</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.girar_otra_vez-948"><a href="#JuegoWindow.girar_otra_vez-948"><span class="linenos">948</span></a><span class="sd">        Permite girar la ruleta otra vez, con un máximo de 2 giros.</span>
</span><span id="JuegoWindow.girar_otra_vez-949"><a href="#JuegoWindow.girar_otra_vez-949"><span class="linenos">949</span></a>
</span><span id="JuegoWindow.girar_otra_vez-950"><a href="#JuegoWindow.girar_otra_vez-950"><span class="linenos">950</span></a><span class="sd">        Este método incrementa el contador de giros y selecciona un nuevo evento de la lista de eventos. Si el número </span>
</span><span id="JuegoWindow.girar_otra_vez-951"><a href="#JuegoWindow.girar_otra_vez-951"><span class="linenos">951</span></a><span class="sd">        de giros alcanza 2, deshabilita el botón para girar nuevamente.</span>
</span><span id="JuegoWindow.girar_otra_vez-952"><a href="#JuegoWindow.girar_otra_vez-952"><span class="linenos">952</span></a>
</span><span id="JuegoWindow.girar_otra_vez-953"><a href="#JuegoWindow.girar_otra_vez-953"><span class="linenos">953</span></a><span class="sd">        Parámetros:</span>
</span><span id="JuegoWindow.girar_otra_vez-954"><a href="#JuegoWindow.girar_otra_vez-954"><span class="linenos">954</span></a><span class="sd">        -----------</span>
</span><span id="JuegoWindow.girar_otra_vez-955"><a href="#JuegoWindow.girar_otra_vez-955"><span class="linenos">955</span></a><span class="sd">        btn_girar : QPushButton</span>
</span><span id="JuegoWindow.girar_otra_vez-956"><a href="#JuegoWindow.girar_otra_vez-956"><span class="linenos">956</span></a><span class="sd">            El botón para girar la ruleta que se deshabilitará si se alcanza el límite de giros.</span>
</span><span id="JuegoWindow.girar_otra_vez-957"><a href="#JuegoWindow.girar_otra_vez-957"><span class="linenos">957</span></a><span class="sd">        dialog : QWidget</span>
</span><span id="JuegoWindow.girar_otra_vez-958"><a href="#JuegoWindow.girar_otra_vez-958"><span class="linenos">958</span></a><span class="sd">            La ventana de la ruleta que se debe cerrar después de girar nuevamente.</span>
</span><span id="JuegoWindow.girar_otra_vez-959"><a href="#JuegoWindow.girar_otra_vez-959"><span class="linenos">959</span></a>
</span><span id="JuegoWindow.girar_otra_vez-960"><a href="#JuegoWindow.girar_otra_vez-960"><span class="linenos">960</span></a><span class="sd">        Ejemplos:</span>
</span><span id="JuegoWindow.girar_otra_vez-961"><a href="#JuegoWindow.girar_otra_vez-961"><span class="linenos">961</span></a><span class="sd">        ---------</span>
</span><span id="JuegoWindow.girar_otra_vez-962"><a href="#JuegoWindow.girar_otra_vez-962"><span class="linenos">962</span></a><span class="sd">        &gt;&gt;&gt; self.girar_otra_vez(btn_girar, ruleta_dialog)</span>
</span><span id="JuegoWindow.girar_otra_vez-963"><a href="#JuegoWindow.girar_otra_vez-963"><span class="linenos">963</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.girar_otra_vez-964"><a href="#JuegoWindow.girar_otra_vez-964"><span class="linenos">964</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">contador_giros</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="JuegoWindow.girar_otra_vez-965"><a href="#JuegoWindow.girar_otra_vez-965"><span class="linenos">965</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">contador_giros</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="JuegoWindow.girar_otra_vez-966"><a href="#JuegoWindow.girar_otra_vez-966"><span class="linenos">966</span></a>            <span class="n">btn_girar</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="JuegoWindow.girar_otra_vez-967"><a href="#JuegoWindow.girar_otra_vez-967"><span class="linenos">967</span></a>
</span><span id="JuegoWindow.girar_otra_vez-968"><a href="#JuegoWindow.girar_otra_vez-968"><span class="linenos">968</span></a>        <span class="n">evento</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">evento_list</span><span class="p">)</span>  <span class="c1"># Seleccionar un nuevo evento</span>
</span><span id="JuegoWindow.girar_otra_vez-969"><a href="#JuegoWindow.girar_otra_vez-969"><span class="linenos">969</span></a>        <span class="n">dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="JuegoWindow.girar_otra_vez-970"><a href="#JuegoWindow.girar_otra_vez-970"><span class="linenos">970</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_ruleta</span><span class="p">(</span><span class="n">evento</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Permite girar la ruleta otra vez, con un máximo de 2 giros.</p>

<p>Este método incrementa el contador de giros y selecciona un nuevo evento de la lista de eventos. Si el número 
de giros alcanza 2, deshabilita el botón para girar nuevamente.</p>

<h2 id="parametros">Parámetros:</h2>

<p>btn_girar : QPushButton
    El botón para girar la ruleta que se deshabilitará si se alcanza el límite de giros.
dialog : QWidget
    La ventana de la ruleta que se debe cerrar después de girar nuevamente.</p>

<h2 id="ejemplos">Ejemplos:</h2>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">girar_otra_vez</span><span class="p">(</span><span class="n">btn_girar</span><span class="p">,</span> <span class="n">ruleta_dialog</span><span class="p">)</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="JuegoWindow.mostrar_ventana_mision" class="classattr">
                                        <input id="JuegoWindow.mostrar_ventana_mision-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">mostrar_ventana_mision</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">evento</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.mostrar_ventana_mision-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.mostrar_ventana_mision"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.mostrar_ventana_mision-973"><a href="#JuegoWindow.mostrar_ventana_mision-973"><span class="linenos"> 973</span></a>    <span class="k">def</span> <span class="nf">mostrar_ventana_mision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evento</span><span class="p">):</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-974"><a href="#JuegoWindow.mostrar_ventana_mision-974"><span class="linenos"> 974</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-975"><a href="#JuegoWindow.mostrar_ventana_mision-975"><span class="linenos"> 975</span></a><span class="sd">        Muestra la ventana de misión con opciones de victoria o derrota.</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-976"><a href="#JuegoWindow.mostrar_ventana_mision-976"><span class="linenos"> 976</span></a>
</span><span id="JuegoWindow.mostrar_ventana_mision-977"><a href="#JuegoWindow.mostrar_ventana_mision-977"><span class="linenos"> 977</span></a><span class="sd">        Este método crea una ventana de diálogo que muestra los detalles de la misión actual, incluyendo su nombre, </span>
</span><span id="JuegoWindow.mostrar_ventana_mision-978"><a href="#JuegoWindow.mostrar_ventana_mision-978"><span class="linenos"> 978</span></a><span class="sd">        descripción, condiciones y recompensa. También proporciona botones para aceptar la victoria o la derrota en </span>
</span><span id="JuegoWindow.mostrar_ventana_mision-979"><a href="#JuegoWindow.mostrar_ventana_mision-979"><span class="linenos"> 979</span></a><span class="sd">        la misión.</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-980"><a href="#JuegoWindow.mostrar_ventana_mision-980"><span class="linenos"> 980</span></a>
</span><span id="JuegoWindow.mostrar_ventana_mision-981"><a href="#JuegoWindow.mostrar_ventana_mision-981"><span class="linenos"> 981</span></a><span class="sd">        Parámetros:</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-982"><a href="#JuegoWindow.mostrar_ventana_mision-982"><span class="linenos"> 982</span></a><span class="sd">        -----------</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-983"><a href="#JuegoWindow.mostrar_ventana_mision-983"><span class="linenos"> 983</span></a><span class="sd">        evento : dict</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-984"><a href="#JuegoWindow.mostrar_ventana_mision-984"><span class="linenos"> 984</span></a><span class="sd">            Diccionario con los detalles del evento. Debe contener las claves &#39;nombre&#39;, &#39;descripcion&#39;, &#39;condiciones&#39;, </span>
</span><span id="JuegoWindow.mostrar_ventana_mision-985"><a href="#JuegoWindow.mostrar_ventana_mision-985"><span class="linenos"> 985</span></a><span class="sd">            y &#39;recompensa&#39; con la información de la misión.</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-986"><a href="#JuegoWindow.mostrar_ventana_mision-986"><span class="linenos"> 986</span></a>
</span><span id="JuegoWindow.mostrar_ventana_mision-987"><a href="#JuegoWindow.mostrar_ventana_mision-987"><span class="linenos"> 987</span></a><span class="sd">        Ejemplos:</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-988"><a href="#JuegoWindow.mostrar_ventana_mision-988"><span class="linenos"> 988</span></a><span class="sd">        ---------</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-989"><a href="#JuegoWindow.mostrar_ventana_mision-989"><span class="linenos"> 989</span></a><span class="sd">        &gt;&gt;&gt; self.mostrar_ventana_mision({&#39;nombre&#39;: &#39;Misión de Prueba&#39;, &#39;descripcion&#39;: &#39;Descripción de la misión&#39;, &#39;condiciones&#39;: &#39;Condiciones necesarias&#39;, &#39;recompensa&#39;: &#39;Recompensa obtenida&#39;})</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-990"><a href="#JuegoWindow.mostrar_ventana_mision-990"><span class="linenos"> 990</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-991"><a href="#JuegoWindow.mostrar_ventana_mision-991"><span class="linenos"> 991</span></a>        <span class="n">mision_dialog</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-992"><a href="#JuegoWindow.mostrar_ventana_mision-992"><span class="linenos"> 992</span></a>        <span class="n">mision_dialog</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Misión&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-993"><a href="#JuegoWindow.mostrar_ventana_mision-993"><span class="linenos"> 993</span></a>        <span class="n">mision_dialog</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-994"><a href="#JuegoWindow.mostrar_ventana_mision-994"><span class="linenos"> 994</span></a><span class="s2">        background-color: #f5f5dc; /* Color de fondo en caso de que la imagen no se cargue */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-995"><a href="#JuegoWindow.mostrar_ventana_mision-995"><span class="linenos"> 995</span></a><span class="s2">        color: #3e3e3e; /* Color del texto oscuro para buen contraste */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-996"><a href="#JuegoWindow.mostrar_ventana_mision-996"><span class="linenos"> 996</span></a><span class="s2">        border: 2px solid #8b4513; /* Borde marrón oscuro, como el pergamino envejecido */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-997"><a href="#JuegoWindow.mostrar_ventana_mision-997"><span class="linenos"> 997</span></a><span class="s2">        border-radius: 10px; /* Bordes redondeados */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-998"><a href="#JuegoWindow.mostrar_ventana_mision-998"><span class="linenos"> 998</span></a><span class="s2">        font-family: &#39;Times New Roman&#39;, serif; /* Fuente clásica que recuerda al papel antiguo */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-999"><a href="#JuegoWindow.mostrar_ventana_mision-999"><span class="linenos"> 999</span></a><span class="s2">        padding: 10px;</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1000"><a href="#JuegoWindow.mostrar_ventana_mision-1000"><span class="linenos">1000</span></a><span class="s2">        background-image: url(&#39;fondos/31254.jpg&#39;);  /* Imagen de fondo de pergamino */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1001"><a href="#JuegoWindow.mostrar_ventana_mision-1001"><span class="linenos">1001</span></a><span class="s2">        background-repeat: repeat;  /* Repetir la imagen de fondo */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1002"><a href="#JuegoWindow.mostrar_ventana_mision-1002"><span class="linenos">1002</span></a><span class="s2">        background-size: cover;  /* Asegura que la imagen cubra toda la pantalla */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1003"><a href="#JuegoWindow.mostrar_ventana_mision-1003"><span class="linenos">1003</span></a><span class="s2">        background-position: center;  /* Centra la imagen */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1004"><a href="#JuegoWindow.mostrar_ventana_mision-1004"><span class="linenos">1004</span></a><span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1005"><a href="#JuegoWindow.mostrar_ventana_mision-1005"><span class="linenos">1005</span></a>
</span><span id="JuegoWindow.mostrar_ventana_mision-1006"><a href="#JuegoWindow.mostrar_ventana_mision-1006"><span class="linenos">1006</span></a>        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1007"><a href="#JuegoWindow.mostrar_ventana_mision-1007"><span class="linenos">1007</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>  <span class="c1"># Agregar márgenes</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1008"><a href="#JuegoWindow.mostrar_ventana_mision-1008"><span class="linenos">1008</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>  <span class="c1"># Agregar espaciado</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1009"><a href="#JuegoWindow.mostrar_ventana_mision-1009"><span class="linenos">1009</span></a>
</span><span id="JuegoWindow.mostrar_ventana_mision-1010"><a href="#JuegoWindow.mostrar_ventana_mision-1010"><span class="linenos">1010</span></a>        <span class="n">sala_text</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1011"><a href="#JuegoWindow.mostrar_ventana_mision-1011"><span class="linenos">1011</span></a>        <span class="n">evento_info</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nombre: </span><span class="si">{</span><span class="n">evento</span><span class="p">[</span><span class="s1">&#39;nombre&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Descripción:</span><span class="se">\n</span><span class="s2"> </span><span class="si">{</span><span class="n">evento</span><span class="p">[</span><span class="s1">&#39;descripcion&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Condiciones:</span><span class="se">\n</span><span class="s2"> </span><span class="si">{</span><span class="n">evento</span><span class="p">[</span><span class="s1">&#39;condiciones&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Recompensa:</span><span class="se">\n</span><span class="s2"> </span><span class="si">{</span><span class="n">evento</span><span class="p">[</span><span class="s1">&#39;recompensa&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1012"><a href="#JuegoWindow.mostrar_ventana_mision-1012"><span class="linenos">1012</span></a>        <span class="n">evento_info</span><span class="o">.</span><span class="n">setWordWrap</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># Habilitar el ajuste de línea</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1013"><a href="#JuegoWindow.mostrar_ventana_mision-1013"><span class="linenos">1013</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">sala_text</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1014"><a href="#JuegoWindow.mostrar_ventana_mision-1014"><span class="linenos">1014</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">evento_info</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1015"><a href="#JuegoWindow.mostrar_ventana_mision-1015"><span class="linenos">1015</span></a>
</span><span id="JuegoWindow.mostrar_ventana_mision-1016"><a href="#JuegoWindow.mostrar_ventana_mision-1016"><span class="linenos">1016</span></a>        <span class="n">btn_victoria</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Victoria&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1017"><a href="#JuegoWindow.mostrar_ventana_mision-1017"><span class="linenos">1017</span></a>        <span class="n">btn_victoria</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1018"><a href="#JuegoWindow.mostrar_ventana_mision-1018"><span class="linenos">1018</span></a><span class="s2">            background-color: green; </span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1019"><a href="#JuegoWindow.mostrar_ventana_mision-1019"><span class="linenos">1019</span></a><span class="s2">            color: white; </span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1020"><a href="#JuegoWindow.mostrar_ventana_mision-1020"><span class="linenos">1020</span></a><span class="s2">            border: 2px solid #003300; /* Borde verde oscuro */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1021"><a href="#JuegoWindow.mostrar_ventana_mision-1021"><span class="linenos">1021</span></a><span class="s2">            border-radius: 5px; </span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1022"><a href="#JuegoWindow.mostrar_ventana_mision-1022"><span class="linenos">1022</span></a><span class="s2">            padding: 12px 20px; </span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1023"><a href="#JuegoWindow.mostrar_ventana_mision-1023"><span class="linenos">1023</span></a><span class="s2">            font-weight: bold; </span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1024"><a href="#JuegoWindow.mostrar_ventana_mision-1024"><span class="linenos">1024</span></a><span class="s2">            min-width: 120px; </span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1025"><a href="#JuegoWindow.mostrar_ventana_mision-1025"><span class="linenos">1025</span></a><span class="s2">            text-align: center; </span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1026"><a href="#JuegoWindow.mostrar_ventana_mision-1026"><span class="linenos">1026</span></a><span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1027"><a href="#JuegoWindow.mostrar_ventana_mision-1027"><span class="linenos">1027</span></a>        <span class="n">btn_derrota</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Derrota&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1028"><a href="#JuegoWindow.mostrar_ventana_mision-1028"><span class="linenos">1028</span></a>        <span class="n">btn_derrota</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1029"><a href="#JuegoWindow.mostrar_ventana_mision-1029"><span class="linenos">1029</span></a><span class="s2">            background-color: red; </span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1030"><a href="#JuegoWindow.mostrar_ventana_mision-1030"><span class="linenos">1030</span></a><span class="s2">            color: white; </span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1031"><a href="#JuegoWindow.mostrar_ventana_mision-1031"><span class="linenos">1031</span></a><span class="s2">            border: 2px solid #660000; /* Borde rojo oscuro */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1032"><a href="#JuegoWindow.mostrar_ventana_mision-1032"><span class="linenos">1032</span></a><span class="s2">            border-radius: 5px; </span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1033"><a href="#JuegoWindow.mostrar_ventana_mision-1033"><span class="linenos">1033</span></a><span class="s2">            padding: 12px 20px; </span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1034"><a href="#JuegoWindow.mostrar_ventana_mision-1034"><span class="linenos">1034</span></a><span class="s2">            font-weight: bold; </span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1035"><a href="#JuegoWindow.mostrar_ventana_mision-1035"><span class="linenos">1035</span></a><span class="s2">            min-width: 120px; </span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1036"><a href="#JuegoWindow.mostrar_ventana_mision-1036"><span class="linenos">1036</span></a><span class="s2">            text-align: center; </span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1037"><a href="#JuegoWindow.mostrar_ventana_mision-1037"><span class="linenos">1037</span></a><span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1038"><a href="#JuegoWindow.mostrar_ventana_mision-1038"><span class="linenos">1038</span></a>
</span><span id="JuegoWindow.mostrar_ventana_mision-1039"><a href="#JuegoWindow.mostrar_ventana_mision-1039"><span class="linenos">1039</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn_victoria</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1040"><a href="#JuegoWindow.mostrar_ventana_mision-1040"><span class="linenos">1040</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn_derrota</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1041"><a href="#JuegoWindow.mostrar_ventana_mision-1041"><span class="linenos">1041</span></a>
</span><span id="JuegoWindow.mostrar_ventana_mision-1042"><a href="#JuegoWindow.mostrar_ventana_mision-1042"><span class="linenos">1042</span></a>        <span class="n">mision_dialog</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1043"><a href="#JuegoWindow.mostrar_ventana_mision-1043"><span class="linenos">1043</span></a>        <span class="n">mision_dialog</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1044"><a href="#JuegoWindow.mostrar_ventana_mision-1044"><span class="linenos">1044</span></a>
</span><span id="JuegoWindow.mostrar_ventana_mision-1045"><a href="#JuegoWindow.mostrar_ventana_mision-1045"><span class="linenos">1045</span></a>        <span class="n">btn_victoria</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">victoria_mision</span><span class="p">(</span><span class="n">evento</span><span class="p">,</span> <span class="n">mision_dialog</span><span class="p">))</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1046"><a href="#JuegoWindow.mostrar_ventana_mision-1046"><span class="linenos">1046</span></a>        <span class="n">btn_derrota</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">derrota_mision</span><span class="p">(</span><span class="n">evento</span><span class="p">,</span> <span class="n">mision_dialog</span><span class="p">))</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1047"><a href="#JuegoWindow.mostrar_ventana_mision-1047"><span class="linenos">1047</span></a>
</span><span id="JuegoWindow.mostrar_ventana_mision-1048"><a href="#JuegoWindow.mostrar_ventana_mision-1048"><span class="linenos">1048</span></a>        <span class="c1"># Estilo para tabla_personajes</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1049"><a href="#JuegoWindow.mostrar_ventana_mision-1049"><span class="linenos">1049</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1050"><a href="#JuegoWindow.mostrar_ventana_mision-1050"><span class="linenos">1050</span></a><span class="s2">            background-color: #f5f5dc; /* Color de fondo en caso de que la imagen no se cargue */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1051"><a href="#JuegoWindow.mostrar_ventana_mision-1051"><span class="linenos">1051</span></a><span class="s2">        color: #3e3e3e; /* Color del texto oscuro para buen contraste */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1052"><a href="#JuegoWindow.mostrar_ventana_mision-1052"><span class="linenos">1052</span></a><span class="s2">        border: 2px solid #8b4513; /* Borde marrón oscuro, como el pergamino envejecido */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1053"><a href="#JuegoWindow.mostrar_ventana_mision-1053"><span class="linenos">1053</span></a><span class="s2">        border-radius: 10px; /* Bordes redondeados */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1054"><a href="#JuegoWindow.mostrar_ventana_mision-1054"><span class="linenos">1054</span></a><span class="s2">        font-family: &#39;Times New Roman&#39;, serif; /* Fuente clásica que recuerda al papel antiguo */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1055"><a href="#JuegoWindow.mostrar_ventana_mision-1055"><span class="linenos">1055</span></a><span class="s2">        padding: 10px;</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1056"><a href="#JuegoWindow.mostrar_ventana_mision-1056"><span class="linenos">1056</span></a><span class="s2">        background-image: url(&#39;fondos/31254.jpg&#39;);  /* Imagen de fondo de pergamino */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1057"><a href="#JuegoWindow.mostrar_ventana_mision-1057"><span class="linenos">1057</span></a><span class="s2">        background-repeat: repeat;  /* Repetir la imagen de fondo */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1058"><a href="#JuegoWindow.mostrar_ventana_mision-1058"><span class="linenos">1058</span></a><span class="s2">        background-size: cover;  /* Asegura que la imagen cubra toda la pantalla */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1059"><a href="#JuegoWindow.mostrar_ventana_mision-1059"><span class="linenos">1059</span></a><span class="s2">        background-position: center;  /* Centra la imagen */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1060"><a href="#JuegoWindow.mostrar_ventana_mision-1060"><span class="linenos">1060</span></a><span class="s2">            QTableWidget {</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1061"><a href="#JuegoWindow.mostrar_ventana_mision-1061"><span class="linenos">1061</span></a><span class="s2">                border: 2px solid red; /* Borde exterior rojo */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1062"><a href="#JuegoWindow.mostrar_ventana_mision-1062"><span class="linenos">1062</span></a><span class="s2">                border-radius: 5px; /* Esquinas redondeadas */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1063"><a href="#JuegoWindow.mostrar_ventana_mision-1063"><span class="linenos">1063</span></a><span class="s2">                padding: 5px; /* Espaciado interno */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1064"><a href="#JuegoWindow.mostrar_ventana_mision-1064"><span class="linenos">1064</span></a><span class="s2">            }</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1065"><a href="#JuegoWindow.mostrar_ventana_mision-1065"><span class="linenos">1065</span></a><span class="s2">            QHeaderView::section {</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1066"><a href="#JuegoWindow.mostrar_ventana_mision-1066"><span class="linenos">1066</span></a><span class="s2">                background-color: #DCE8F5; /* Color de fondo de las cabeceras */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1067"><a href="#JuegoWindow.mostrar_ventana_mision-1067"><span class="linenos">1067</span></a><span class="s2">                color: #000000; /* Color del texto en las cabeceras */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1068"><a href="#JuegoWindow.mostrar_ventana_mision-1068"><span class="linenos">1068</span></a><span class="s2">                padding: 10px; /* Espaciado interno de las cabeceras */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1069"><a href="#JuegoWindow.mostrar_ventana_mision-1069"><span class="linenos">1069</span></a><span class="s2">                border: 1px solid #a0a0a0; /* Borde de las cabeceras */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1070"><a href="#JuegoWindow.mostrar_ventana_mision-1070"><span class="linenos">1070</span></a><span class="s2">            }</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1071"><a href="#JuegoWindow.mostrar_ventana_mision-1071"><span class="linenos">1071</span></a><span class="s2">            QPushButton {</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1072"><a href="#JuegoWindow.mostrar_ventana_mision-1072"><span class="linenos">1072</span></a><span class="s2">                background-color: #FFD700; /* Color de fondo dorado */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1073"><a href="#JuegoWindow.mostrar_ventana_mision-1073"><span class="linenos">1073</span></a><span class="s2">                color: #000000; /* Color del texto */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1074"><a href="#JuegoWindow.mostrar_ventana_mision-1074"><span class="linenos">1074</span></a><span class="s2">                border: 2px solid #DAA520; /* Borde dorado oscuro */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1075"><a href="#JuegoWindow.mostrar_ventana_mision-1075"><span class="linenos">1075</span></a><span class="s2">                border-radius: 5px; /* Esquinas redondeadas */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1076"><a href="#JuegoWindow.mostrar_ventana_mision-1076"><span class="linenos">1076</span></a><span class="s2">                padding: 12px 20px; /* Espaciado interno del botón */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1077"><a href="#JuegoWindow.mostrar_ventana_mision-1077"><span class="linenos">1077</span></a><span class="s2">                font-weight: bold; /* Texto en negrita */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1078"><a href="#JuegoWindow.mostrar_ventana_mision-1078"><span class="linenos">1078</span></a><span class="s2">                min-width: 120px; /* Ancho mínimo del botón */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1079"><a href="#JuegoWindow.mostrar_ventana_mision-1079"><span class="linenos">1079</span></a><span class="s2">                text-align: center; /* Alinear el texto al centro */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1080"><a href="#JuegoWindow.mostrar_ventana_mision-1080"><span class="linenos">1080</span></a><span class="s2">            }</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1081"><a href="#JuegoWindow.mostrar_ventana_mision-1081"><span class="linenos">1081</span></a><span class="s2">            QPushButton:hover {</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1082"><a href="#JuegoWindow.mostrar_ventana_mision-1082"><span class="linenos">1082</span></a><span class="s2">                background-color: #FFC107; /* Color de fondo dorado al pasar el ratón */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1083"><a href="#JuegoWindow.mostrar_ventana_mision-1083"><span class="linenos">1083</span></a><span class="s2">            }</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1084"><a href="#JuegoWindow.mostrar_ventana_mision-1084"><span class="linenos">1084</span></a><span class="s2">            QPushButton:pressed {</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1085"><a href="#JuegoWindow.mostrar_ventana_mision-1085"><span class="linenos">1085</span></a><span class="s2">                background-color: #FFA000; /* Color de fondo dorado oscuro al presionar */</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1086"><a href="#JuegoWindow.mostrar_ventana_mision-1086"><span class="linenos">1086</span></a><span class="s2">            }</span>
</span><span id="JuegoWindow.mostrar_ventana_mision-1087"><a href="#JuegoWindow.mostrar_ventana_mision-1087"><span class="linenos">1087</span></a><span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Muestra la ventana de misión con opciones de victoria o derrota.</p>

<p>Este método crea una ventana de diálogo que muestra los detalles de la misión actual, incluyendo su nombre, 
descripción, condiciones y recompensa. También proporciona botones para aceptar la victoria o la derrota en 
la misión.</p>

<h2 id="parametros">Parámetros:</h2>

<p>evento : dict
    Diccionario con los detalles del evento. Debe contener las claves 'nombre', 'descripcion', 'condiciones', 
    y 'recompensa' con la información de la misión.</p>

<h2 id="ejemplos">Ejemplos:</h2>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">mostrar_ventana_mision</span><span class="p">({</span><span class="s1">&#39;nombre&#39;</span><span class="p">:</span> <span class="s1">&#39;Misión de Prueba&#39;</span><span class="p">,</span> <span class="s1">&#39;descripcion&#39;</span><span class="p">:</span> <span class="s1">&#39;Descripción de la misión&#39;</span><span class="p">,</span> <span class="s1">&#39;condiciones&#39;</span><span class="p">:</span> <span class="s1">&#39;Condiciones necesarias&#39;</span><span class="p">,</span> <span class="s1">&#39;recompensa&#39;</span><span class="p">:</span> <span class="s1">&#39;Recompensa obtenida&#39;</span><span class="p">})</span>
</code></pre>
</div>
</div>


                            </div>
                            <div id="JuegoWindow.victoria_mision" class="classattr">
                                        <input id="JuegoWindow.victoria_mision-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">victoria_mision</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">evento</span>, </span><span class="param"><span class="n">dialog</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.victoria_mision-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.victoria_mision"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.victoria_mision-1089"><a href="#JuegoWindow.victoria_mision-1089"><span class="linenos">1089</span></a>    <span class="k">def</span> <span class="nf">victoria_mision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evento</span><span class="p">,</span> <span class="n">dialog</span><span class="p">):</span>
</span><span id="JuegoWindow.victoria_mision-1090"><a href="#JuegoWindow.victoria_mision-1090"><span class="linenos">1090</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.victoria_mision-1091"><a href="#JuegoWindow.victoria_mision-1091"><span class="linenos">1091</span></a><span class="sd">        Maneja la victoria en la misión y guarda la recompensa en la base de datos.</span>
</span><span id="JuegoWindow.victoria_mision-1092"><a href="#JuegoWindow.victoria_mision-1092"><span class="linenos">1092</span></a>
</span><span id="JuegoWindow.victoria_mision-1093"><a href="#JuegoWindow.victoria_mision-1093"><span class="linenos">1093</span></a><span class="sd">        Este método se llama cuando el jugador completa exitosamente una misión. </span>
</span><span id="JuegoWindow.victoria_mision-1094"><a href="#JuegoWindow.victoria_mision-1094"><span class="linenos">1094</span></a><span class="sd">        Actualiza el documento correspondiente en la colección `PUNTOGUARDADO` </span>
</span><span id="JuegoWindow.victoria_mision-1095"><a href="#JuegoWindow.victoria_mision-1095"><span class="linenos">1095</span></a><span class="sd">        con la recompensa obtenida por el jugador. Luego, muestra un mensaje </span>
</span><span id="JuegoWindow.victoria_mision-1096"><a href="#JuegoWindow.victoria_mision-1096"><span class="linenos">1096</span></a><span class="sd">        de victoria con la recompensa.</span>
</span><span id="JuegoWindow.victoria_mision-1097"><a href="#JuegoWindow.victoria_mision-1097"><span class="linenos">1097</span></a>
</span><span id="JuegoWindow.victoria_mision-1098"><a href="#JuegoWindow.victoria_mision-1098"><span class="linenos">1098</span></a><span class="sd">        **Parametros**:</span>
</span><span id="JuegoWindow.victoria_mision-1099"><a href="#JuegoWindow.victoria_mision-1099"><span class="linenos">1099</span></a><span class="sd">        - `evento` (dict): Un diccionario con los detalles del evento de la misión ganada. </span>
</span><span id="JuegoWindow.victoria_mision-1100"><a href="#JuegoWindow.victoria_mision-1100"><span class="linenos">1100</span></a><span class="sd">          Ejemplo:</span>
</span><span id="JuegoWindow.victoria_mision-1101"><a href="#JuegoWindow.victoria_mision-1101"><span class="linenos">1101</span></a><span class="sd">          ```python</span>
</span><span id="JuegoWindow.victoria_mision-1102"><a href="#JuegoWindow.victoria_mision-1102"><span class="linenos">1102</span></a><span class="sd">          evento = {</span>
</span><span id="JuegoWindow.victoria_mision-1103"><a href="#JuegoWindow.victoria_mision-1103"><span class="linenos">1103</span></a><span class="sd">              &#39;nombre&#39;: &#39;Rescatar al aldeano&#39;,</span>
</span><span id="JuegoWindow.victoria_mision-1104"><a href="#JuegoWindow.victoria_mision-1104"><span class="linenos">1104</span></a><span class="sd">              &#39;descripcion&#39;: &#39;Has rescatado al aldeano perdido en el bosque.&#39;,</span>
</span><span id="JuegoWindow.victoria_mision-1105"><a href="#JuegoWindow.victoria_mision-1105"><span class="linenos">1105</span></a><span class="sd">              &#39;condiciones&#39;: &#39;Debes tener al menos 100 puntos de vida.&#39;,</span>
</span><span id="JuegoWindow.victoria_mision-1106"><a href="#JuegoWindow.victoria_mision-1106"><span class="linenos">1106</span></a><span class="sd">              &#39;recompensa&#39;: &#39;1000 monedas de oro&#39;</span>
</span><span id="JuegoWindow.victoria_mision-1107"><a href="#JuegoWindow.victoria_mision-1107"><span class="linenos">1107</span></a><span class="sd">          }</span>
</span><span id="JuegoWindow.victoria_mision-1108"><a href="#JuegoWindow.victoria_mision-1108"><span class="linenos">1108</span></a><span class="sd">          ```</span>
</span><span id="JuegoWindow.victoria_mision-1109"><a href="#JuegoWindow.victoria_mision-1109"><span class="linenos">1109</span></a><span class="sd">        - `dialog` (QWidget): La ventana de diálogo actual de la misión que se va a cerrar.</span>
</span><span id="JuegoWindow.victoria_mision-1110"><a href="#JuegoWindow.victoria_mision-1110"><span class="linenos">1110</span></a>
</span><span id="JuegoWindow.victoria_mision-1111"><a href="#JuegoWindow.victoria_mision-1111"><span class="linenos">1111</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow.victoria_mision-1112"><a href="#JuegoWindow.victoria_mision-1112"><span class="linenos">1112</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow.victoria_mision-1113"><a href="#JuegoWindow.victoria_mision-1113"><span class="linenos">1113</span></a><span class="sd">        self.victoria_mision(evento, mision_dialog)</span>
</span><span id="JuegoWindow.victoria_mision-1114"><a href="#JuegoWindow.victoria_mision-1114"><span class="linenos">1114</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow.victoria_mision-1115"><a href="#JuegoWindow.victoria_mision-1115"><span class="linenos">1115</span></a>
</span><span id="JuegoWindow.victoria_mision-1116"><a href="#JuegoWindow.victoria_mision-1116"><span class="linenos">1116</span></a><span class="sd">        **Exceptions**:</span>
</span><span id="JuegoWindow.victoria_mision-1117"><a href="#JuegoWindow.victoria_mision-1117"><span class="linenos">1117</span></a><span class="sd">        - Lanza `Exception` si ocurre un error al actualizar el documento en Firestore.</span>
</span><span id="JuegoWindow.victoria_mision-1118"><a href="#JuegoWindow.victoria_mision-1118"><span class="linenos">1118</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.victoria_mision-1119"><a href="#JuegoWindow.victoria_mision-1119"><span class="linenos">1119</span></a>        <span class="n">dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>  <span class="c1"># Cierra el diálogo de misión</span>
</span><span id="JuegoWindow.victoria_mision-1120"><a href="#JuegoWindow.victoria_mision-1120"><span class="linenos">1120</span></a>        <span class="n">recompensa</span> <span class="o">=</span> <span class="n">evento</span><span class="p">[</span><span class="s1">&#39;recompensa&#39;</span><span class="p">]</span>
</span><span id="JuegoWindow.victoria_mision-1121"><a href="#JuegoWindow.victoria_mision-1121"><span class="linenos">1121</span></a>        <span class="n">sala</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Sala Actual: &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.victoria_mision-1122"><a href="#JuegoWindow.victoria_mision-1122"><span class="linenos">1122</span></a>        <span class="n">doc_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;unico_</span><span class="si">{</span><span class="n">sala</span><span class="si">}</span><span class="s1">&#39;</span>  <span class="c1"># Nombre único del documento basado en la sala</span>
</span><span id="JuegoWindow.victoria_mision-1123"><a href="#JuegoWindow.victoria_mision-1123"><span class="linenos">1123</span></a>
</span><span id="JuegoWindow.victoria_mision-1124"><a href="#JuegoWindow.victoria_mision-1124"><span class="linenos">1124</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="JuegoWindow.victoria_mision-1125"><a href="#JuegoWindow.victoria_mision-1125"><span class="linenos">1125</span></a>            <span class="c1"># Actualiza el documento existente en la colección PUNTOGUARDADO</span>
</span><span id="JuegoWindow.victoria_mision-1126"><a href="#JuegoWindow.victoria_mision-1126"><span class="linenos">1126</span></a>            <span class="n">doc_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;PUNTOGUARDADO&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">doc_id</span><span class="p">)</span>
</span><span id="JuegoWindow.victoria_mision-1127"><a href="#JuegoWindow.victoria_mision-1127"><span class="linenos">1127</span></a>            <span class="n">doc_ref</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
</span><span id="JuegoWindow.victoria_mision-1128"><a href="#JuegoWindow.victoria_mision-1128"><span class="linenos">1128</span></a>                <span class="s1">&#39;recompensa&#39;</span><span class="p">:</span> <span class="n">recompensa</span>
</span><span id="JuegoWindow.victoria_mision-1129"><a href="#JuegoWindow.victoria_mision-1129"><span class="linenos">1129</span></a>            <span class="p">})</span>
</span><span id="JuegoWindow.victoria_mision-1130"><a href="#JuegoWindow.victoria_mision-1130"><span class="linenos">1130</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Victoria&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;¡Has ganado! Recompensa: </span><span class="si">{</span><span class="n">recompensa</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.victoria_mision-1131"><a href="#JuegoWindow.victoria_mision-1131"><span class="linenos">1131</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="JuegoWindow.victoria_mision-1132"><a href="#JuegoWindow.victoria_mision-1132"><span class="linenos">1132</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error de Actualización&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Ocurrió un error al guardar la recompensa: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Maneja la victoria en la misión y guarda la recompensa en la base de datos.</p>

<p>Este método se llama cuando el jugador completa exitosamente una misión. 
Actualiza el documento correspondiente en la colección <code>PUNTOGUARDADO</code> 
con la recompensa obtenida por el jugador. Luego, muestra un mensaje 
de victoria con la recompensa.</p>

<p><strong>Parametros</strong>:</p>

<ul>
<li><code>evento</code> (dict): Un diccionario con los detalles del evento de la misión ganada. 
Ejemplo:
<div class="pdoc-code codehilite">
<pre><span></span><code><span class="n">evento</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;nombre&#39;</span><span class="p">:</span> <span class="s1">&#39;Rescatar al aldeano&#39;</span><span class="p">,</span>
    <span class="s1">&#39;descripcion&#39;</span><span class="p">:</span> <span class="s1">&#39;Has rescatado al aldeano perdido en el bosque.&#39;</span><span class="p">,</span>
    <span class="s1">&#39;condiciones&#39;</span><span class="p">:</span> <span class="s1">&#39;Debes tener al menos 100 puntos de vida.&#39;</span><span class="p">,</span>
    <span class="s1">&#39;recompensa&#39;</span><span class="p">:</span> <span class="s1">&#39;1000 monedas de oro&#39;</span>
<span class="p">}</span>
</code></pre>
</div></li>
</ul>

<ul>
<li><code>dialog</code> (QWidget): La ventana de diálogo actual de la misión que se va a cerrar.</li>
</ul>

<p><strong>Ejemplo de uso</strong>:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="bp">self</span><span class="o">.</span><span class="n">victoria_mision</span><span class="p">(</span><span class="n">evento</span><span class="p">,</span> <span class="n">mision_dialog</span><span class="p">)</span>
</code></pre>
</div>

<p><strong>Exceptions</strong>:</p>

<ul>
<li>Lanza <code>Exception</code> si ocurre un error al actualizar el documento en Firestore.</li>
</ul>
</div>


                            </div>
                            <div id="JuegoWindow.derrota_mision" class="classattr">
                                        <input id="JuegoWindow.derrota_mision-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">derrota_mision</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">evento</span>, </span><span class="param"><span class="n">dialog</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.derrota_mision-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.derrota_mision"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.derrota_mision-1134"><a href="#JuegoWindow.derrota_mision-1134"><span class="linenos">1134</span></a>    <span class="k">def</span> <span class="nf">derrota_mision</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evento</span><span class="p">,</span> <span class="n">dialog</span><span class="p">):</span>
</span><span id="JuegoWindow.derrota_mision-1135"><a href="#JuegoWindow.derrota_mision-1135"><span class="linenos">1135</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.derrota_mision-1136"><a href="#JuegoWindow.derrota_mision-1136"><span class="linenos">1136</span></a><span class="sd">        Maneja la derrota en la misión y muestra la ventana de penalización.</span>
</span><span id="JuegoWindow.derrota_mision-1137"><a href="#JuegoWindow.derrota_mision-1137"><span class="linenos">1137</span></a>
</span><span id="JuegoWindow.derrota_mision-1138"><a href="#JuegoWindow.derrota_mision-1138"><span class="linenos">1138</span></a><span class="sd">        Este método se llama cuando el jugador falla en una misión. Cierra el diálogo</span>
</span><span id="JuegoWindow.derrota_mision-1139"><a href="#JuegoWindow.derrota_mision-1139"><span class="linenos">1139</span></a><span class="sd">        actual de la misión y muestra una ventana para seleccionar una penalización.</span>
</span><span id="JuegoWindow.derrota_mision-1140"><a href="#JuegoWindow.derrota_mision-1140"><span class="linenos">1140</span></a>
</span><span id="JuegoWindow.derrota_mision-1141"><a href="#JuegoWindow.derrota_mision-1141"><span class="linenos">1141</span></a><span class="sd">        **Parametros**:</span>
</span><span id="JuegoWindow.derrota_mision-1142"><a href="#JuegoWindow.derrota_mision-1142"><span class="linenos">1142</span></a><span class="sd">        - `evento` (dict): Un diccionario con los detalles del evento de la misión fallida. </span>
</span><span id="JuegoWindow.derrota_mision-1143"><a href="#JuegoWindow.derrota_mision-1143"><span class="linenos">1143</span></a><span class="sd">          Ejemplo:</span>
</span><span id="JuegoWindow.derrota_mision-1144"><a href="#JuegoWindow.derrota_mision-1144"><span class="linenos">1144</span></a><span class="sd">          ```python</span>
</span><span id="JuegoWindow.derrota_mision-1145"><a href="#JuegoWindow.derrota_mision-1145"><span class="linenos">1145</span></a><span class="sd">          evento = {</span>
</span><span id="JuegoWindow.derrota_mision-1146"><a href="#JuegoWindow.derrota_mision-1146"><span class="linenos">1146</span></a><span class="sd">              &#39;nombre&#39;: &#39;Rescatar al aldeano&#39;,</span>
</span><span id="JuegoWindow.derrota_mision-1147"><a href="#JuegoWindow.derrota_mision-1147"><span class="linenos">1147</span></a><span class="sd">              &#39;descripcion&#39;: &#39;No lograste rescatar al aldeano perdido en el bosque.&#39;,</span>
</span><span id="JuegoWindow.derrota_mision-1148"><a href="#JuegoWindow.derrota_mision-1148"><span class="linenos">1148</span></a><span class="sd">              &#39;condiciones&#39;: &#39;Debes tener al menos 100 puntos de vida.&#39;,</span>
</span><span id="JuegoWindow.derrota_mision-1149"><a href="#JuegoWindow.derrota_mision-1149"><span class="linenos">1149</span></a><span class="sd">              &#39;recompensa&#39;: &#39;1000 monedas de oro&#39;</span>
</span><span id="JuegoWindow.derrota_mision-1150"><a href="#JuegoWindow.derrota_mision-1150"><span class="linenos">1150</span></a><span class="sd">          }</span>
</span><span id="JuegoWindow.derrota_mision-1151"><a href="#JuegoWindow.derrota_mision-1151"><span class="linenos">1151</span></a><span class="sd">          ```</span>
</span><span id="JuegoWindow.derrota_mision-1152"><a href="#JuegoWindow.derrota_mision-1152"><span class="linenos">1152</span></a><span class="sd">        - `dialog` (QWidget): La ventana de diálogo actual de la misión que se va a cerrar.</span>
</span><span id="JuegoWindow.derrota_mision-1153"><a href="#JuegoWindow.derrota_mision-1153"><span class="linenos">1153</span></a>
</span><span id="JuegoWindow.derrota_mision-1154"><a href="#JuegoWindow.derrota_mision-1154"><span class="linenos">1154</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow.derrota_mision-1155"><a href="#JuegoWindow.derrota_mision-1155"><span class="linenos">1155</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow.derrota_mision-1156"><a href="#JuegoWindow.derrota_mision-1156"><span class="linenos">1156</span></a><span class="sd">        self.derrota_mision(evento, mision_dialog)</span>
</span><span id="JuegoWindow.derrota_mision-1157"><a href="#JuegoWindow.derrota_mision-1157"><span class="linenos">1157</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow.derrota_mision-1158"><a href="#JuegoWindow.derrota_mision-1158"><span class="linenos">1158</span></a>
</span><span id="JuegoWindow.derrota_mision-1159"><a href="#JuegoWindow.derrota_mision-1159"><span class="linenos">1159</span></a><span class="sd">        **Exceptions**:</span>
</span><span id="JuegoWindow.derrota_mision-1160"><a href="#JuegoWindow.derrota_mision-1160"><span class="linenos">1160</span></a><span class="sd">        - No se esperan excepciones, pero puede ocurrir un error en la carga de la penalización.</span>
</span><span id="JuegoWindow.derrota_mision-1161"><a href="#JuegoWindow.derrota_mision-1161"><span class="linenos">1161</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.derrota_mision-1162"><a href="#JuegoWindow.derrota_mision-1162"><span class="linenos">1162</span></a>        <span class="n">dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>  <span class="c1"># Cierra el diálogo de misión</span>
</span><span id="JuegoWindow.derrota_mision-1163"><a href="#JuegoWindow.derrota_mision-1163"><span class="linenos">1163</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mostrar_penalizacion</span><span class="p">()</span>  <span class="c1"># Muestra la ventana de penalización</span>
</span></pre></div>


            <div class="docstring"><p>Maneja la derrota en la misión y muestra la ventana de penalización.</p>

<p>Este método se llama cuando el jugador falla en una misión. Cierra el diálogo
actual de la misión y muestra una ventana para seleccionar una penalización.</p>

<p><strong>Parametros</strong>:</p>

<ul>
<li><code>evento</code> (dict): Un diccionario con los detalles del evento de la misión fallida. 
Ejemplo:
<div class="pdoc-code codehilite">
<pre><span></span><code><span class="n">evento</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;nombre&#39;</span><span class="p">:</span> <span class="s1">&#39;Rescatar al aldeano&#39;</span><span class="p">,</span>
    <span class="s1">&#39;descripcion&#39;</span><span class="p">:</span> <span class="s1">&#39;No lograste rescatar al aldeano perdido en el bosque.&#39;</span><span class="p">,</span>
    <span class="s1">&#39;condiciones&#39;</span><span class="p">:</span> <span class="s1">&#39;Debes tener al menos 100 puntos de vida.&#39;</span><span class="p">,</span>
    <span class="s1">&#39;recompensa&#39;</span><span class="p">:</span> <span class="s1">&#39;1000 monedas de oro&#39;</span>
<span class="p">}</span>
</code></pre>
</div></li>
</ul>

<ul>
<li><code>dialog</code> (QWidget): La ventana de diálogo actual de la misión que se va a cerrar.</li>
</ul>

<p><strong>Ejemplo de uso</strong>:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="bp">self</span><span class="o">.</span><span class="n">derrota_mision</span><span class="p">(</span><span class="n">evento</span><span class="p">,</span> <span class="n">mision_dialog</span><span class="p">)</span>
</code></pre>
</div>

<p><strong>Exceptions</strong>:</p>

<ul>
<li>No se esperan excepciones, pero puede ocurrir un error en la carga de la penalización.</li>
</ul>
</div>


                            </div>
                            <div id="JuegoWindow.mostrar_penalizacion" class="classattr">
                                        <input id="JuegoWindow.mostrar_penalizacion-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">mostrar_penalizacion</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.mostrar_penalizacion-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.mostrar_penalizacion"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.mostrar_penalizacion-1165"><a href="#JuegoWindow.mostrar_penalizacion-1165"><span class="linenos">1165</span></a>    <span class="k">def</span> <span class="nf">mostrar_penalizacion</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1166"><a href="#JuegoWindow.mostrar_penalizacion-1166"><span class="linenos">1166</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1167"><a href="#JuegoWindow.mostrar_penalizacion-1167"><span class="linenos">1167</span></a><span class="sd">        Muestra una ventana de penalización con una opción para seleccionar una penalización aleatoria.</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1168"><a href="#JuegoWindow.mostrar_penalizacion-1168"><span class="linenos">1168</span></a>
</span><span id="JuegoWindow.mostrar_penalizacion-1169"><a href="#JuegoWindow.mostrar_penalizacion-1169"><span class="linenos">1169</span></a><span class="sd">        Este método crea una ventana de diálogo que presenta una penalización aleatoria </span>
</span><span id="JuegoWindow.mostrar_penalizacion-1170"><a href="#JuegoWindow.mostrar_penalizacion-1170"><span class="linenos">1170</span></a><span class="sd">        de la base de datos. El jugador puede cerrar la ventana para guardar la penalización </span>
</span><span id="JuegoWindow.mostrar_penalizacion-1171"><a href="#JuegoWindow.mostrar_penalizacion-1171"><span class="linenos">1171</span></a><span class="sd">        en la base de datos.</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1172"><a href="#JuegoWindow.mostrar_penalizacion-1172"><span class="linenos">1172</span></a>
</span><span id="JuegoWindow.mostrar_penalizacion-1173"><a href="#JuegoWindow.mostrar_penalizacion-1173"><span class="linenos">1173</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1174"><a href="#JuegoWindow.mostrar_penalizacion-1174"><span class="linenos">1174</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1175"><a href="#JuegoWindow.mostrar_penalizacion-1175"><span class="linenos">1175</span></a><span class="sd">        self.mostrar_penalizacion()</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1176"><a href="#JuegoWindow.mostrar_penalizacion-1176"><span class="linenos">1176</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1177"><a href="#JuegoWindow.mostrar_penalizacion-1177"><span class="linenos">1177</span></a>
</span><span id="JuegoWindow.mostrar_penalizacion-1178"><a href="#JuegoWindow.mostrar_penalizacion-1178"><span class="linenos">1178</span></a><span class="sd">        **Exceptions**:</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1179"><a href="#JuegoWindow.mostrar_penalizacion-1179"><span class="linenos">1179</span></a><span class="sd">        - Lanza `QMessageBox.warning` si no hay penalizaciones disponibles en la base de datos.</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1180"><a href="#JuegoWindow.mostrar_penalizacion-1180"><span class="linenos">1180</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1181"><a href="#JuegoWindow.mostrar_penalizacion-1181"><span class="linenos">1181</span></a>        <span class="n">penalizacion_dialog</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1182"><a href="#JuegoWindow.mostrar_penalizacion-1182"><span class="linenos">1182</span></a>        <span class="n">penalizacion_dialog</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Penalización&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1183"><a href="#JuegoWindow.mostrar_penalizacion-1183"><span class="linenos">1183</span></a>        <span class="n">penalizacion_dialog</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1184"><a href="#JuegoWindow.mostrar_penalizacion-1184"><span class="linenos">1184</span></a><span class="s2">        background-color: #f5f5dc; /* Color de fondo en caso de que la imagen no se cargue */</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1185"><a href="#JuegoWindow.mostrar_penalizacion-1185"><span class="linenos">1185</span></a><span class="s2">        color: #3e3e3e; /* Color del texto oscuro para buen contraste */</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1186"><a href="#JuegoWindow.mostrar_penalizacion-1186"><span class="linenos">1186</span></a><span class="s2">        border: 2px solid #8b4513; /* Borde marrón oscuro, como el pergamino envejecido */</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1187"><a href="#JuegoWindow.mostrar_penalizacion-1187"><span class="linenos">1187</span></a><span class="s2">        border-radius: 10px; /* Bordes redondeados */</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1188"><a href="#JuegoWindow.mostrar_penalizacion-1188"><span class="linenos">1188</span></a><span class="s2">        font-family: &#39;Times New Roman&#39;, serif; /* Fuente clásica que recuerda al papel antiguo */</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1189"><a href="#JuegoWindow.mostrar_penalizacion-1189"><span class="linenos">1189</span></a><span class="s2">        padding: 10px;</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1190"><a href="#JuegoWindow.mostrar_penalizacion-1190"><span class="linenos">1190</span></a><span class="s2">        background-image: url(&#39;fondos/31254.jpg&#39;);  /* Imagen de fondo de pergamino */</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1191"><a href="#JuegoWindow.mostrar_penalizacion-1191"><span class="linenos">1191</span></a><span class="s2">        background-repeat: repeat;  /* Repetir la imagen de fondo */</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1192"><a href="#JuegoWindow.mostrar_penalizacion-1192"><span class="linenos">1192</span></a><span class="s2">        background-size: cover;  /* Asegura que la imagen cubra toda la pantalla */</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1193"><a href="#JuegoWindow.mostrar_penalizacion-1193"><span class="linenos">1193</span></a><span class="s2">        background-position: center;  /* Centra la imagen */</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1194"><a href="#JuegoWindow.mostrar_penalizacion-1194"><span class="linenos">1194</span></a><span class="s2">    &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1195"><a href="#JuegoWindow.mostrar_penalizacion-1195"><span class="linenos">1195</span></a>        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1196"><a href="#JuegoWindow.mostrar_penalizacion-1196"><span class="linenos">1196</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>  <span class="c1"># Agregar márgenes</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1197"><a href="#JuegoWindow.mostrar_penalizacion-1197"><span class="linenos">1197</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>  <span class="c1"># Agregar espaciado</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1198"><a href="#JuegoWindow.mostrar_penalizacion-1198"><span class="linenos">1198</span></a>
</span><span id="JuegoWindow.mostrar_penalizacion-1199"><a href="#JuegoWindow.mostrar_penalizacion-1199"><span class="linenos">1199</span></a>        <span class="n">sala_text</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sala Actual: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1200"><a href="#JuegoWindow.mostrar_penalizacion-1200"><span class="linenos">1200</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">sala_text</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1201"><a href="#JuegoWindow.mostrar_penalizacion-1201"><span class="linenos">1201</span></a>
</span><span id="JuegoWindow.mostrar_penalizacion-1202"><a href="#JuegoWindow.mostrar_penalizacion-1202"><span class="linenos">1202</span></a>        <span class="c1"># Rescatar las penalizaciones de la base de datos</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1203"><a href="#JuegoWindow.mostrar_penalizacion-1203"><span class="linenos">1203</span></a>        <span class="n">penalizaciones_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;penalizaciones&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1204"><a href="#JuegoWindow.mostrar_penalizacion-1204"><span class="linenos">1204</span></a>        <span class="n">penalizaciones</span> <span class="o">=</span> <span class="n">penalizaciones_ref</span><span class="o">.</span><span class="n">stream</span><span class="p">()</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1205"><a href="#JuegoWindow.mostrar_penalizacion-1205"><span class="linenos">1205</span></a>        <span class="n">penalizacion_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">penalizacion</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">penalizacion</span> <span class="ow">in</span> <span class="n">penalizaciones</span><span class="p">]</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1206"><a href="#JuegoWindow.mostrar_penalizacion-1206"><span class="linenos">1206</span></a>
</span><span id="JuegoWindow.mostrar_penalizacion-1207"><a href="#JuegoWindow.mostrar_penalizacion-1207"><span class="linenos">1207</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">penalizacion_list</span><span class="p">:</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1208"><a href="#JuegoWindow.mostrar_penalizacion-1208"><span class="linenos">1208</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Sin Penalizaciones&#39;</span><span class="p">,</span> <span class="s1">&#39;No hay penalizaciones disponibles en la base de datos.&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1209"><a href="#JuegoWindow.mostrar_penalizacion-1209"><span class="linenos">1209</span></a>            <span class="k">return</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1210"><a href="#JuegoWindow.mostrar_penalizacion-1210"><span class="linenos">1210</span></a>
</span><span id="JuegoWindow.mostrar_penalizacion-1211"><a href="#JuegoWindow.mostrar_penalizacion-1211"><span class="linenos">1211</span></a>        <span class="n">penalizacion</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">penalizacion_list</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1212"><a href="#JuegoWindow.mostrar_penalizacion-1212"><span class="linenos">1212</span></a>        <span class="n">penalizacion_info</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nombre: </span><span class="si">{</span><span class="n">penalizacion</span><span class="p">[</span><span class="s1">&#39;nombre&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Descripción: </span><span class="si">{</span><span class="n">penalizacion</span><span class="p">[</span><span class="s1">&#39;descripcion&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Efecto: </span><span class="si">{</span><span class="n">penalizacion</span><span class="p">[</span><span class="s1">&#39;efecto&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">Lanzamiento Dado: </span><span class="si">{</span><span class="n">penalizacion</span><span class="p">[</span><span class="s1">&#39;lanzamiento_dado&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1213"><a href="#JuegoWindow.mostrar_penalizacion-1213"><span class="linenos">1213</span></a>        <span class="n">penalizacion_info</span><span class="o">.</span><span class="n">setWordWrap</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># Habilitar el ajuste de línea</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1214"><a href="#JuegoWindow.mostrar_penalizacion-1214"><span class="linenos">1214</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">penalizacion_info</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1215"><a href="#JuegoWindow.mostrar_penalizacion-1215"><span class="linenos">1215</span></a>
</span><span id="JuegoWindow.mostrar_penalizacion-1216"><a href="#JuegoWindow.mostrar_penalizacion-1216"><span class="linenos">1216</span></a>        <span class="n">btn_cerrar</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Cerrar&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1217"><a href="#JuegoWindow.mostrar_penalizacion-1217"><span class="linenos">1217</span></a>        <span class="n">btn_cerrar</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;background-color: red; color: white;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1218"><a href="#JuegoWindow.mostrar_penalizacion-1218"><span class="linenos">1218</span></a>
</span><span id="JuegoWindow.mostrar_penalizacion-1219"><a href="#JuegoWindow.mostrar_penalizacion-1219"><span class="linenos">1219</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn_cerrar</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1220"><a href="#JuegoWindow.mostrar_penalizacion-1220"><span class="linenos">1220</span></a>
</span><span id="JuegoWindow.mostrar_penalizacion-1221"><a href="#JuegoWindow.mostrar_penalizacion-1221"><span class="linenos">1221</span></a>        <span class="n">penalizacion_dialog</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1222"><a href="#JuegoWindow.mostrar_penalizacion-1222"><span class="linenos">1222</span></a>        <span class="n">penalizacion_dialog</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="JuegoWindow.mostrar_penalizacion-1223"><a href="#JuegoWindow.mostrar_penalizacion-1223"><span class="linenos">1223</span></a>
</span><span id="JuegoWindow.mostrar_penalizacion-1224"><a href="#JuegoWindow.mostrar_penalizacion-1224"><span class="linenos">1224</span></a>        <span class="n">btn_cerrar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">guardar_penalizacion</span><span class="p">(</span><span class="n">penalizacion</span><span class="p">,</span> <span class="n">penalizacion_dialog</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>Muestra una ventana de penalización con una opción para seleccionar una penalización aleatoria.</p>

<p>Este método crea una ventana de diálogo que presenta una penalización aleatoria 
de la base de datos. El jugador puede cerrar la ventana para guardar la penalización 
en la base de datos.</p>

<p><strong>Ejemplo de uso</strong>:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="bp">self</span><span class="o">.</span><span class="n">mostrar_penalizacion</span><span class="p">()</span>
</code></pre>
</div>

<p><strong>Exceptions</strong>:</p>

<ul>
<li>Lanza <code>QMessageBox.warning</code> si no hay penalizaciones disponibles en la base de datos.</li>
</ul>
</div>


                            </div>
                            <div id="JuegoWindow.guardar_penalizacion" class="classattr">
                                        <input id="JuegoWindow.guardar_penalizacion-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">guardar_penalizacion</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">penalizacion</span>, </span><span class="param"><span class="n">dialog</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.guardar_penalizacion-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.guardar_penalizacion"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.guardar_penalizacion-1226"><a href="#JuegoWindow.guardar_penalizacion-1226"><span class="linenos">1226</span></a>    <span class="k">def</span> <span class="nf">guardar_penalizacion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">penalizacion</span><span class="p">,</span> <span class="n">dialog</span><span class="p">):</span>
</span><span id="JuegoWindow.guardar_penalizacion-1227"><a href="#JuegoWindow.guardar_penalizacion-1227"><span class="linenos">1227</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.guardar_penalizacion-1228"><a href="#JuegoWindow.guardar_penalizacion-1228"><span class="linenos">1228</span></a><span class="sd">        Guarda la penalización seleccionada en la base de datos.</span>
</span><span id="JuegoWindow.guardar_penalizacion-1229"><a href="#JuegoWindow.guardar_penalizacion-1229"><span class="linenos">1229</span></a>
</span><span id="JuegoWindow.guardar_penalizacion-1230"><a href="#JuegoWindow.guardar_penalizacion-1230"><span class="linenos">1230</span></a><span class="sd">        Este método actualiza el documento de `PUNTOGUARDADO` con la penalización seleccionada por el jugador.</span>
</span><span id="JuegoWindow.guardar_penalizacion-1231"><a href="#JuegoWindow.guardar_penalizacion-1231"><span class="linenos">1231</span></a>
</span><span id="JuegoWindow.guardar_penalizacion-1232"><a href="#JuegoWindow.guardar_penalizacion-1232"><span class="linenos">1232</span></a><span class="sd">        **Parametros**:</span>
</span><span id="JuegoWindow.guardar_penalizacion-1233"><a href="#JuegoWindow.guardar_penalizacion-1233"><span class="linenos">1233</span></a><span class="sd">        - `penalizacion` (dict): Un diccionario con los detalles de la penalización seleccionada. </span>
</span><span id="JuegoWindow.guardar_penalizacion-1234"><a href="#JuegoWindow.guardar_penalizacion-1234"><span class="linenos">1234</span></a><span class="sd">          Ejemplo:</span>
</span><span id="JuegoWindow.guardar_penalizacion-1235"><a href="#JuegoWindow.guardar_penalizacion-1235"><span class="linenos">1235</span></a><span class="sd">          ```python</span>
</span><span id="JuegoWindow.guardar_penalizacion-1236"><a href="#JuegoWindow.guardar_penalizacion-1236"><span class="linenos">1236</span></a><span class="sd">          penalizacion = {</span>
</span><span id="JuegoWindow.guardar_penalizacion-1237"><a href="#JuegoWindow.guardar_penalizacion-1237"><span class="linenos">1237</span></a><span class="sd">              &#39;nombre&#39;: &#39;Reducción de Puntos de Vida&#39;,</span>
</span><span id="JuegoWindow.guardar_penalizacion-1238"><a href="#JuegoWindow.guardar_penalizacion-1238"><span class="linenos">1238</span></a><span class="sd">              &#39;descripcion&#39;: &#39;Pierdes 50 puntos de vida.&#39;,</span>
</span><span id="JuegoWindow.guardar_penalizacion-1239"><a href="#JuegoWindow.guardar_penalizacion-1239"><span class="linenos">1239</span></a><span class="sd">              &#39;efecto&#39;: &#39;Reducir puntos de vida&#39;,</span>
</span><span id="JuegoWindow.guardar_penalizacion-1240"><a href="#JuegoWindow.guardar_penalizacion-1240"><span class="linenos">1240</span></a><span class="sd">              &#39;lanzamiento_dado&#39;: &#39;1d6&#39;</span>
</span><span id="JuegoWindow.guardar_penalizacion-1241"><a href="#JuegoWindow.guardar_penalizacion-1241"><span class="linenos">1241</span></a><span class="sd">          }</span>
</span><span id="JuegoWindow.guardar_penalizacion-1242"><a href="#JuegoWindow.guardar_penalizacion-1242"><span class="linenos">1242</span></a><span class="sd">          ```</span>
</span><span id="JuegoWindow.guardar_penalizacion-1243"><a href="#JuegoWindow.guardar_penalizacion-1243"><span class="linenos">1243</span></a><span class="sd">        - `dialog` (QWidget): La ventana de diálogo actual de penalización que se va a cerrar.</span>
</span><span id="JuegoWindow.guardar_penalizacion-1244"><a href="#JuegoWindow.guardar_penalizacion-1244"><span class="linenos">1244</span></a>
</span><span id="JuegoWindow.guardar_penalizacion-1245"><a href="#JuegoWindow.guardar_penalizacion-1245"><span class="linenos">1245</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow.guardar_penalizacion-1246"><a href="#JuegoWindow.guardar_penalizacion-1246"><span class="linenos">1246</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow.guardar_penalizacion-1247"><a href="#JuegoWindow.guardar_penalizacion-1247"><span class="linenos">1247</span></a><span class="sd">        self.guardar_penalizacion(penalizacion, penalizacion_dialog)</span>
</span><span id="JuegoWindow.guardar_penalizacion-1248"><a href="#JuegoWindow.guardar_penalizacion-1248"><span class="linenos">1248</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow.guardar_penalizacion-1249"><a href="#JuegoWindow.guardar_penalizacion-1249"><span class="linenos">1249</span></a>
</span><span id="JuegoWindow.guardar_penalizacion-1250"><a href="#JuegoWindow.guardar_penalizacion-1250"><span class="linenos">1250</span></a><span class="sd">        **Exceptions**:</span>
</span><span id="JuegoWindow.guardar_penalizacion-1251"><a href="#JuegoWindow.guardar_penalizacion-1251"><span class="linenos">1251</span></a><span class="sd">        - Lanza `Exception` si ocurre un error al actualizar el documento en Firestore.</span>
</span><span id="JuegoWindow.guardar_penalizacion-1252"><a href="#JuegoWindow.guardar_penalizacion-1252"><span class="linenos">1252</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.guardar_penalizacion-1253"><a href="#JuegoWindow.guardar_penalizacion-1253"><span class="linenos">1253</span></a>        <span class="n">dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span><span id="JuegoWindow.guardar_penalizacion-1254"><a href="#JuegoWindow.guardar_penalizacion-1254"><span class="linenos">1254</span></a>        <span class="n">sala</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Sala Actual: &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.guardar_penalizacion-1255"><a href="#JuegoWindow.guardar_penalizacion-1255"><span class="linenos">1255</span></a>        <span class="n">doc_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;unico_</span><span class="si">{</span><span class="n">sala</span><span class="si">}</span><span class="s1">&#39;</span>  <span class="c1"># Nombre único del documento basado en la sala</span>
</span><span id="JuegoWindow.guardar_penalizacion-1256"><a href="#JuegoWindow.guardar_penalizacion-1256"><span class="linenos">1256</span></a>
</span><span id="JuegoWindow.guardar_penalizacion-1257"><a href="#JuegoWindow.guardar_penalizacion-1257"><span class="linenos">1257</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="JuegoWindow.guardar_penalizacion-1258"><a href="#JuegoWindow.guardar_penalizacion-1258"><span class="linenos">1258</span></a>            <span class="c1"># Actualiza el documento existente en la colección PUNTOGUARDADO</span>
</span><span id="JuegoWindow.guardar_penalizacion-1259"><a href="#JuegoWindow.guardar_penalizacion-1259"><span class="linenos">1259</span></a>            <span class="n">doc_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;PUNTOGUARDADO&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">doc_id</span><span class="p">)</span>
</span><span id="JuegoWindow.guardar_penalizacion-1260"><a href="#JuegoWindow.guardar_penalizacion-1260"><span class="linenos">1260</span></a>            <span class="n">doc_ref</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
</span><span id="JuegoWindow.guardar_penalizacion-1261"><a href="#JuegoWindow.guardar_penalizacion-1261"><span class="linenos">1261</span></a>                <span class="s1">&#39;penalizacion&#39;</span><span class="p">:</span> <span class="n">penalizacion</span><span class="p">[</span><span class="s1">&#39;descripcion&#39;</span><span class="p">]</span>
</span><span id="JuegoWindow.guardar_penalizacion-1262"><a href="#JuegoWindow.guardar_penalizacion-1262"><span class="linenos">1262</span></a>            <span class="p">})</span>
</span><span id="JuegoWindow.guardar_penalizacion-1263"><a href="#JuegoWindow.guardar_penalizacion-1263"><span class="linenos">1263</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Penalización&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Penalización: </span><span class="si">{</span><span class="n">penalizacion</span><span class="p">[</span><span class="s2">&quot;descripcion&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.guardar_penalizacion-1264"><a href="#JuegoWindow.guardar_penalizacion-1264"><span class="linenos">1264</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="JuegoWindow.guardar_penalizacion-1265"><a href="#JuegoWindow.guardar_penalizacion-1265"><span class="linenos">1265</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error de Actualización&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Ocurrió un error al guardar la penalización: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Guarda la penalización seleccionada en la base de datos.</p>

<p>Este método actualiza el documento de <code>PUNTOGUARDADO</code> con la penalización seleccionada por el jugador.</p>

<p><strong>Parametros</strong>:</p>

<ul>
<li><code>penalizacion</code> (dict): Un diccionario con los detalles de la penalización seleccionada. 
Ejemplo:
<div class="pdoc-code codehilite">
<pre><span></span><code><span class="n">penalizacion</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;nombre&#39;</span><span class="p">:</span> <span class="s1">&#39;Reducción de Puntos de Vida&#39;</span><span class="p">,</span>
    <span class="s1">&#39;descripcion&#39;</span><span class="p">:</span> <span class="s1">&#39;Pierdes 50 puntos de vida.&#39;</span><span class="p">,</span>
    <span class="s1">&#39;efecto&#39;</span><span class="p">:</span> <span class="s1">&#39;Reducir puntos de vida&#39;</span><span class="p">,</span>
    <span class="s1">&#39;lanzamiento_dado&#39;</span><span class="p">:</span> <span class="s1">&#39;1d6&#39;</span>
<span class="p">}</span>
</code></pre>
</div></li>
</ul>

<ul>
<li><code>dialog</code> (QWidget): La ventana de diálogo actual de penalización que se va a cerrar.</li>
</ul>

<p><strong>Ejemplo de uso</strong>:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="bp">self</span><span class="o">.</span><span class="n">guardar_penalizacion</span><span class="p">(</span><span class="n">penalizacion</span><span class="p">,</span> <span class="n">penalizacion_dialog</span><span class="p">)</span>
</code></pre>
</div>

<p><strong>Exceptions</strong>:</p>

<ul>
<li>Lanza <code>Exception</code> si ocurre un error al actualizar el documento en Firestore.</li>
</ul>
</div>


                            </div>
                            <div id="JuegoWindow.send_text_to_vita" class="classattr">
                                        <input id="JuegoWindow.send_text_to_vita-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">send_text_to_vita</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.send_text_to_vita-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.send_text_to_vita"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.send_text_to_vita-1267"><a href="#JuegoWindow.send_text_to_vita-1267"><span class="linenos">1267</span></a>    <span class="k">def</span> <span class="nf">send_text_to_vita</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow.send_text_to_vita-1268"><a href="#JuegoWindow.send_text_to_vita-1268"><span class="linenos">1268</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.send_text_to_vita-1269"><a href="#JuegoWindow.send_text_to_vita-1269"><span class="linenos">1269</span></a><span class="sd">        Envía el texto del campo `game_edit` al `tex_vita` y limpia el campo de texto.</span>
</span><span id="JuegoWindow.send_text_to_vita-1270"><a href="#JuegoWindow.send_text_to_vita-1270"><span class="linenos">1270</span></a>
</span><span id="JuegoWindow.send_text_to_vita-1271"><a href="#JuegoWindow.send_text_to_vita-1271"><span class="linenos">1271</span></a><span class="sd">        Este método toma el texto escrito en el campo `game_edit`, lo añade al `tex_vita`, </span>
</span><span id="JuegoWindow.send_text_to_vita-1272"><a href="#JuegoWindow.send_text_to_vita-1272"><span class="linenos">1272</span></a><span class="sd">        y luego limpia `game_edit` para permitir la entrada de nuevo texto.</span>
</span><span id="JuegoWindow.send_text_to_vita-1273"><a href="#JuegoWindow.send_text_to_vita-1273"><span class="linenos">1273</span></a>
</span><span id="JuegoWindow.send_text_to_vita-1274"><a href="#JuegoWindow.send_text_to_vita-1274"><span class="linenos">1274</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow.send_text_to_vita-1275"><a href="#JuegoWindow.send_text_to_vita-1275"><span class="linenos">1275</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow.send_text_to_vita-1276"><a href="#JuegoWindow.send_text_to_vita-1276"><span class="linenos">1276</span></a><span class="sd">        self.send_text_to_vita()</span>
</span><span id="JuegoWindow.send_text_to_vita-1277"><a href="#JuegoWindow.send_text_to_vita-1277"><span class="linenos">1277</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow.send_text_to_vita-1278"><a href="#JuegoWindow.send_text_to_vita-1278"><span class="linenos">1278</span></a>
</span><span id="JuegoWindow.send_text_to_vita-1279"><a href="#JuegoWindow.send_text_to_vita-1279"><span class="linenos">1279</span></a><span class="sd">        **Exceptions**:</span>
</span><span id="JuegoWindow.send_text_to_vita-1280"><a href="#JuegoWindow.send_text_to_vita-1280"><span class="linenos">1280</span></a><span class="sd">        - No se esperan excepciones en este método.</span>
</span><span id="JuegoWindow.send_text_to_vita-1281"><a href="#JuegoWindow.send_text_to_vita-1281"><span class="linenos">1281</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.send_text_to_vita-1282"><a href="#JuegoWindow.send_text_to_vita-1282"><span class="linenos">1282</span></a>        <span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">game_edit</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">()</span>
</span><span id="JuegoWindow.send_text_to_vita-1283"><a href="#JuegoWindow.send_text_to_vita-1283"><span class="linenos">1283</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tex_vita</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</span><span id="JuegoWindow.send_text_to_vita-1284"><a href="#JuegoWindow.send_text_to_vita-1284"><span class="linenos">1284</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">game_edit</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Envía el texto del campo <code>game_edit</code> al <code>tex_vita</code> y limpia el campo de texto.</p>

<p>Este método toma el texto escrito en el campo <code>game_edit</code>, lo añade al <code>tex_vita</code>, 
y luego limpia <code>game_edit</code> para permitir la entrada de nuevo texto.</p>

<p><strong>Ejemplo de uso</strong>:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="bp">self</span><span class="o">.</span><span class="n">send_text_to_vita</span><span class="p">()</span>
</code></pre>
</div>

<p><strong>Exceptions</strong>:</p>

<ul>
<li>No se esperan excepciones en este método.</li>
</ul>
</div>


                            </div>
                            <div id="JuegoWindow.save_bitacora" class="classattr">
                                        <input id="JuegoWindow.save_bitacora-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">save_bitacora</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.save_bitacora-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.save_bitacora"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.save_bitacora-1287"><a href="#JuegoWindow.save_bitacora-1287"><span class="linenos">1287</span></a>    <span class="k">def</span> <span class="nf">save_bitacora</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow.save_bitacora-1288"><a href="#JuegoWindow.save_bitacora-1288"><span class="linenos">1288</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.save_bitacora-1289"><a href="#JuegoWindow.save_bitacora-1289"><span class="linenos">1289</span></a><span class="sd">        Guarda una nueva entrada en la bitácora y añade campos adicionales si ya existe.</span>
</span><span id="JuegoWindow.save_bitacora-1290"><a href="#JuegoWindow.save_bitacora-1290"><span class="linenos">1290</span></a>
</span><span id="JuegoWindow.save_bitacora-1291"><a href="#JuegoWindow.save_bitacora-1291"><span class="linenos">1291</span></a><span class="sd">        Este método guarda el texto actual de la bitácora en la base de datos. Si el documento</span>
</span><span id="JuegoWindow.save_bitacora-1292"><a href="#JuegoWindow.save_bitacora-1292"><span class="linenos">1292</span></a><span class="sd">        ya existe en la colección `PUNTOGUARDADO`, agrega un nuevo campo de texto numerado </span>
</span><span id="JuegoWindow.save_bitacora-1293"><a href="#JuegoWindow.save_bitacora-1293"><span class="linenos">1293</span></a><span class="sd">        (`texto1`, `texto2`, etc.). Si el documento no existe, crea uno nuevo con el primer campo </span>
</span><span id="JuegoWindow.save_bitacora-1294"><a href="#JuegoWindow.save_bitacora-1294"><span class="linenos">1294</span></a><span class="sd">        de texto llamado `texto`.</span>
</span><span id="JuegoWindow.save_bitacora-1295"><a href="#JuegoWindow.save_bitacora-1295"><span class="linenos">1295</span></a>
</span><span id="JuegoWindow.save_bitacora-1296"><a href="#JuegoWindow.save_bitacora-1296"><span class="linenos">1296</span></a><span class="sd">        **Pasos del método**:</span>
</span><span id="JuegoWindow.save_bitacora-1297"><a href="#JuegoWindow.save_bitacora-1297"><span class="linenos">1297</span></a><span class="sd">        1. Obtiene el nombre de la sala desde el widget `sala_name`.</span>
</span><span id="JuegoWindow.save_bitacora-1298"><a href="#JuegoWindow.save_bitacora-1298"><span class="linenos">1298</span></a><span class="sd">        2. Obtiene el texto de la bitácora desde el widget `tex_vita`.</span>
</span><span id="JuegoWindow.save_bitacora-1299"><a href="#JuegoWindow.save_bitacora-1299"><span class="linenos">1299</span></a><span class="sd">        3. Construye un ID único para el documento basado en el nombre de la sala.</span>
</span><span id="JuegoWindow.save_bitacora-1300"><a href="#JuegoWindow.save_bitacora-1300"><span class="linenos">1300</span></a><span class="sd">        4. Intenta recuperar el documento desde Firestore.</span>
</span><span id="JuegoWindow.save_bitacora-1301"><a href="#JuegoWindow.save_bitacora-1301"><span class="linenos">1301</span></a><span class="sd">        5. Si el documento existe, cuenta los campos existentes que comienzan con &#39;texto&#39; y añade un nuevo campo `textoN+1`.</span>
</span><span id="JuegoWindow.save_bitacora-1302"><a href="#JuegoWindow.save_bitacora-1302"><span class="linenos">1302</span></a><span class="sd">        6. Si el documento no existe, crea un nuevo campo llamado `texto`.</span>
</span><span id="JuegoWindow.save_bitacora-1303"><a href="#JuegoWindow.save_bitacora-1303"><span class="linenos">1303</span></a><span class="sd">        7. Muestra un mensaje de éxito al usuario y guarda el ID del documento para uso futuro.</span>
</span><span id="JuegoWindow.save_bitacora-1304"><a href="#JuegoWindow.save_bitacora-1304"><span class="linenos">1304</span></a><span class="sd">        8. Maneja cualquier excepción que pueda ocurrir durante el proceso de actualización.</span>
</span><span id="JuegoWindow.save_bitacora-1305"><a href="#JuegoWindow.save_bitacora-1305"><span class="linenos">1305</span></a>
</span><span id="JuegoWindow.save_bitacora-1306"><a href="#JuegoWindow.save_bitacora-1306"><span class="linenos">1306</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow.save_bitacora-1307"><a href="#JuegoWindow.save_bitacora-1307"><span class="linenos">1307</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow.save_bitacora-1308"><a href="#JuegoWindow.save_bitacora-1308"><span class="linenos">1308</span></a><span class="sd">        self.save_bitacora()</span>
</span><span id="JuegoWindow.save_bitacora-1309"><a href="#JuegoWindow.save_bitacora-1309"><span class="linenos">1309</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow.save_bitacora-1310"><a href="#JuegoWindow.save_bitacora-1310"><span class="linenos">1310</span></a>
</span><span id="JuegoWindow.save_bitacora-1311"><a href="#JuegoWindow.save_bitacora-1311"><span class="linenos">1311</span></a><span class="sd">        **Exceptions**:</span>
</span><span id="JuegoWindow.save_bitacora-1312"><a href="#JuegoWindow.save_bitacora-1312"><span class="linenos">1312</span></a><span class="sd">        - Lanza `Exception` si ocurre un error al actualizar el documento en Firestore.</span>
</span><span id="JuegoWindow.save_bitacora-1313"><a href="#JuegoWindow.save_bitacora-1313"><span class="linenos">1313</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.save_bitacora-1314"><a href="#JuegoWindow.save_bitacora-1314"><span class="linenos">1314</span></a>        <span class="n">sala</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Sala Actual: &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.save_bitacora-1315"><a href="#JuegoWindow.save_bitacora-1315"><span class="linenos">1315</span></a>        <span class="n">bitacora_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tex_vita</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">()</span>
</span><span id="JuegoWindow.save_bitacora-1316"><a href="#JuegoWindow.save_bitacora-1316"><span class="linenos">1316</span></a>        <span class="n">doc_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;unico_</span><span class="si">{</span><span class="n">sala</span><span class="si">}</span><span class="s1">&#39;</span>  <span class="c1"># Nombre único del documento basado en la sala</span>
</span><span id="JuegoWindow.save_bitacora-1317"><a href="#JuegoWindow.save_bitacora-1317"><span class="linenos">1317</span></a>
</span><span id="JuegoWindow.save_bitacora-1318"><a href="#JuegoWindow.save_bitacora-1318"><span class="linenos">1318</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="JuegoWindow.save_bitacora-1319"><a href="#JuegoWindow.save_bitacora-1319"><span class="linenos">1319</span></a>            <span class="c1"># Referencia al documento específico</span>
</span><span id="JuegoWindow.save_bitacora-1320"><a href="#JuegoWindow.save_bitacora-1320"><span class="linenos">1320</span></a>            <span class="n">doc_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;PUNTOGUARDADO&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">doc_id</span><span class="p">)</span>
</span><span id="JuegoWindow.save_bitacora-1321"><a href="#JuegoWindow.save_bitacora-1321"><span class="linenos">1321</span></a>            
</span><span id="JuegoWindow.save_bitacora-1322"><a href="#JuegoWindow.save_bitacora-1322"><span class="linenos">1322</span></a>            <span class="c1"># Recuperar el documento existente</span>
</span><span id="JuegoWindow.save_bitacora-1323"><a href="#JuegoWindow.save_bitacora-1323"><span class="linenos">1323</span></a>            <span class="n">doc</span> <span class="o">=</span> <span class="n">doc_ref</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</span><span id="JuegoWindow.save_bitacora-1324"><a href="#JuegoWindow.save_bitacora-1324"><span class="linenos">1324</span></a>
</span><span id="JuegoWindow.save_bitacora-1325"><a href="#JuegoWindow.save_bitacora-1325"><span class="linenos">1325</span></a>            <span class="k">if</span> <span class="n">doc</span><span class="o">.</span><span class="n">exists</span><span class="p">:</span>
</span><span id="JuegoWindow.save_bitacora-1326"><a href="#JuegoWindow.save_bitacora-1326"><span class="linenos">1326</span></a>                <span class="c1"># Documento existe, contar los campos existentes de &#39;texto&#39;</span>
</span><span id="JuegoWindow.save_bitacora-1327"><a href="#JuegoWindow.save_bitacora-1327"><span class="linenos">1327</span></a>                <span class="n">data</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</span><span id="JuegoWindow.save_bitacora-1328"><a href="#JuegoWindow.save_bitacora-1328"><span class="linenos">1328</span></a>                <span class="n">texto_count</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">if</span> <span class="n">key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;texto&#39;</span><span class="p">))</span>
</span><span id="JuegoWindow.save_bitacora-1329"><a href="#JuegoWindow.save_bitacora-1329"><span class="linenos">1329</span></a>                <span class="n">nuevo_campo</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;texto</span><span class="si">{</span><span class="n">texto_count</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s1">&#39;</span>
</span><span id="JuegoWindow.save_bitacora-1330"><a href="#JuegoWindow.save_bitacora-1330"><span class="linenos">1330</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="JuegoWindow.save_bitacora-1331"><a href="#JuegoWindow.save_bitacora-1331"><span class="linenos">1331</span></a>                <span class="c1"># Documento no existe, usar &#39;texto&#39; como primer campo</span>
</span><span id="JuegoWindow.save_bitacora-1332"><a href="#JuegoWindow.save_bitacora-1332"><span class="linenos">1332</span></a>                <span class="n">nuevo_campo</span> <span class="o">=</span> <span class="s1">&#39;texto&#39;</span>
</span><span id="JuegoWindow.save_bitacora-1333"><a href="#JuegoWindow.save_bitacora-1333"><span class="linenos">1333</span></a>            
</span><span id="JuegoWindow.save_bitacora-1334"><a href="#JuegoWindow.save_bitacora-1334"><span class="linenos">1334</span></a>            <span class="c1"># Actualizar el documento con el nuevo campo</span>
</span><span id="JuegoWindow.save_bitacora-1335"><a href="#JuegoWindow.save_bitacora-1335"><span class="linenos">1335</span></a>            <span class="n">doc_ref</span><span class="o">.</span><span class="n">set</span><span class="p">({</span>
</span><span id="JuegoWindow.save_bitacora-1336"><a href="#JuegoWindow.save_bitacora-1336"><span class="linenos">1336</span></a>                <span class="s1">&#39;sala&#39;</span><span class="p">:</span> <span class="n">sala</span><span class="p">,</span>
</span><span id="JuegoWindow.save_bitacora-1337"><a href="#JuegoWindow.save_bitacora-1337"><span class="linenos">1337</span></a>                <span class="n">nuevo_campo</span><span class="p">:</span> <span class="n">bitacora_text</span>
</span><span id="JuegoWindow.save_bitacora-1338"><a href="#JuegoWindow.save_bitacora-1338"><span class="linenos">1338</span></a>            <span class="p">},</span> <span class="n">merge</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  <span class="c1"># merge=True para no sobrescribir otros campos</span>
</span><span id="JuegoWindow.save_bitacora-1339"><a href="#JuegoWindow.save_bitacora-1339"><span class="linenos">1339</span></a>            
</span><span id="JuegoWindow.save_bitacora-1340"><a href="#JuegoWindow.save_bitacora-1340"><span class="linenos">1340</span></a>            <span class="c1"># Muestra un mensaje de éxito</span>
</span><span id="JuegoWindow.save_bitacora-1341"><a href="#JuegoWindow.save_bitacora-1341"><span class="linenos">1341</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Éxito&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Bitácora guardada exitosamente. Campo añadido: </span><span class="si">{</span><span class="n">nuevo_campo</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.save_bitacora-1342"><a href="#JuegoWindow.save_bitacora-1342"><span class="linenos">1342</span></a>            
</span><span id="JuegoWindow.save_bitacora-1343"><a href="#JuegoWindow.save_bitacora-1343"><span class="linenos">1343</span></a>            <span class="c1"># Imprime el ID del documento en la consola</span>
</span><span id="JuegoWindow.save_bitacora-1344"><a href="#JuegoWindow.save_bitacora-1344"><span class="linenos">1344</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;ID del documento: </span><span class="si">{</span><span class="n">doc_id</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.save_bitacora-1345"><a href="#JuegoWindow.save_bitacora-1345"><span class="linenos">1345</span></a>            
</span><span id="JuegoWindow.save_bitacora-1346"><a href="#JuegoWindow.save_bitacora-1346"><span class="linenos">1346</span></a>            <span class="c1"># Guarda el ID del documento para su uso futuro (opcional)</span>
</span><span id="JuegoWindow.save_bitacora-1347"><a href="#JuegoWindow.save_bitacora-1347"><span class="linenos">1347</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">last_doc_id</span> <span class="o">=</span> <span class="n">doc_id</span>
</span><span id="JuegoWindow.save_bitacora-1348"><a href="#JuegoWindow.save_bitacora-1348"><span class="linenos">1348</span></a>
</span><span id="JuegoWindow.save_bitacora-1349"><a href="#JuegoWindow.save_bitacora-1349"><span class="linenos">1349</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="JuegoWindow.save_bitacora-1350"><a href="#JuegoWindow.save_bitacora-1350"><span class="linenos">1350</span></a>            <span class="c1"># Manejo de errores en caso de que ocurra una excepción</span>
</span><span id="JuegoWindow.save_bitacora-1351"><a href="#JuegoWindow.save_bitacora-1351"><span class="linenos">1351</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;No se pudo guardar la bitácora: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.save_bitacora-1352"><a href="#JuegoWindow.save_bitacora-1352"><span class="linenos">1352</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Error al guardar la bitácora: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Guarda una nueva entrada en la bitácora y añade campos adicionales si ya existe.</p>

<p>Este método guarda el texto actual de la bitácora en la base de datos. Si el documento
ya existe en la colección <code>PUNTOGUARDADO</code>, agrega un nuevo campo de texto numerado 
(<code>texto1</code>, <code>texto2</code>, etc.). Si el documento no existe, crea uno nuevo con el primer campo 
de texto llamado <code>texto</code>.</p>

<p><strong>Pasos del método</strong>:</p>

<ol>
<li>Obtiene el nombre de la sala desde el widget <code>sala_name</code>.</li>
<li>Obtiene el texto de la bitácora desde el widget <code>tex_vita</code>.</li>
<li>Construye un ID único para el documento basado en el nombre de la sala.</li>
<li>Intenta recuperar el documento desde Firestore.</li>
<li>Si el documento existe, cuenta los campos existentes que comienzan con 'texto' y añade un nuevo campo <code>textoN+1</code>.</li>
<li>Si el documento no existe, crea un nuevo campo llamado <code>texto</code>.</li>
<li>Muestra un mensaje de éxito al usuario y guarda el ID del documento para uso futuro.</li>
<li>Maneja cualquier excepción que pueda ocurrir durante el proceso de actualización.</li>
</ol>

<p><strong>Ejemplo de uso</strong>:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="bp">self</span><span class="o">.</span><span class="n">save_bitacora</span><span class="p">()</span>
</code></pre>
</div>

<p><strong>Exceptions</strong>:</p>

<ul>
<li>Lanza <code>Exception</code> si ocurre un error al actualizar el documento en Firestore.</li>
</ul>
</div>


                            </div>
                            <div id="JuegoWindow.open_bitacora_history" class="classattr">
                                        <input id="JuegoWindow.open_bitacora_history-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">open_bitacora_history</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.open_bitacora_history-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.open_bitacora_history"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.open_bitacora_history-1355"><a href="#JuegoWindow.open_bitacora_history-1355"><span class="linenos">1355</span></a>    <span class="k">def</span> <span class="nf">open_bitacora_history</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow.open_bitacora_history-1356"><a href="#JuegoWindow.open_bitacora_history-1356"><span class="linenos">1356</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.open_bitacora_history-1357"><a href="#JuegoWindow.open_bitacora_history-1357"><span class="linenos">1357</span></a><span class="sd">        Abre una ventana con el historial de bitácoras.</span>
</span><span id="JuegoWindow.open_bitacora_history-1358"><a href="#JuegoWindow.open_bitacora_history-1358"><span class="linenos">1358</span></a>
</span><span id="JuegoWindow.open_bitacora_history-1359"><a href="#JuegoWindow.open_bitacora_history-1359"><span class="linenos">1359</span></a><span class="sd">        Este método muestra un diálogo con el historial de bitácoras para la sala actual. </span>
</span><span id="JuegoWindow.open_bitacora_history-1360"><a href="#JuegoWindow.open_bitacora_history-1360"><span class="linenos">1360</span></a><span class="sd">        Recupera la información del documento correspondiente en la colección `PUNTOGUARDADO` </span>
</span><span id="JuegoWindow.open_bitacora_history-1361"><a href="#JuegoWindow.open_bitacora_history-1361"><span class="linenos">1361</span></a><span class="sd">        y muestra los campos de texto almacenados en el documento, así como la recompensa </span>
</span><span id="JuegoWindow.open_bitacora_history-1362"><a href="#JuegoWindow.open_bitacora_history-1362"><span class="linenos">1362</span></a><span class="sd">        y la penalización. Si no hay bitácora disponible o ocurre un error, muestra un </span>
</span><span id="JuegoWindow.open_bitacora_history-1363"><a href="#JuegoWindow.open_bitacora_history-1363"><span class="linenos">1363</span></a><span class="sd">        mensaje de advertencia o error, respectivamente.</span>
</span><span id="JuegoWindow.open_bitacora_history-1364"><a href="#JuegoWindow.open_bitacora_history-1364"><span class="linenos">1364</span></a>
</span><span id="JuegoWindow.open_bitacora_history-1365"><a href="#JuegoWindow.open_bitacora_history-1365"><span class="linenos">1365</span></a><span class="sd">        **Pasos del método**:</span>
</span><span id="JuegoWindow.open_bitacora_history-1366"><a href="#JuegoWindow.open_bitacora_history-1366"><span class="linenos">1366</span></a><span class="sd">        1. Crea una nueva ventana de diálogo para mostrar el historial de bitácoras.</span>
</span><span id="JuegoWindow.open_bitacora_history-1367"><a href="#JuegoWindow.open_bitacora_history-1367"><span class="linenos">1367</span></a><span class="sd">        2. Configura el estilo del diálogo para imitar un pergamino antiguo.</span>
</span><span id="JuegoWindow.open_bitacora_history-1368"><a href="#JuegoWindow.open_bitacora_history-1368"><span class="linenos">1368</span></a><span class="sd">        3. Obtiene el nombre de la sala desde el widget `sala_name`.</span>
</span><span id="JuegoWindow.open_bitacora_history-1369"><a href="#JuegoWindow.open_bitacora_history-1369"><span class="linenos">1369</span></a><span class="sd">        4. Construye el ID del documento basado en el nombre de la sala.</span>
</span><span id="JuegoWindow.open_bitacora_history-1370"><a href="#JuegoWindow.open_bitacora_history-1370"><span class="linenos">1370</span></a><span class="sd">        5. Intenta recuperar el documento desde Firestore.</span>
</span><span id="JuegoWindow.open_bitacora_history-1371"><a href="#JuegoWindow.open_bitacora_history-1371"><span class="linenos">1371</span></a><span class="sd">        6. Si el documento existe, extrae y muestra la recompensa, penalización y los campos de texto.</span>
</span><span id="JuegoWindow.open_bitacora_history-1372"><a href="#JuegoWindow.open_bitacora_history-1372"><span class="linenos">1372</span></a><span class="sd">        7. Si el documento no existe, muestra un mensaje de advertencia y cierra el diálogo.</span>
</span><span id="JuegoWindow.open_bitacora_history-1373"><a href="#JuegoWindow.open_bitacora_history-1373"><span class="linenos">1373</span></a><span class="sd">        8. Maneja cualquier excepción que pueda ocurrir durante el proceso de recuperación.</span>
</span><span id="JuegoWindow.open_bitacora_history-1374"><a href="#JuegoWindow.open_bitacora_history-1374"><span class="linenos">1374</span></a><span class="sd">        9. Configura un botón para cerrar el diálogo.</span>
</span><span id="JuegoWindow.open_bitacora_history-1375"><a href="#JuegoWindow.open_bitacora_history-1375"><span class="linenos">1375</span></a>
</span><span id="JuegoWindow.open_bitacora_history-1376"><a href="#JuegoWindow.open_bitacora_history-1376"><span class="linenos">1376</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow.open_bitacora_history-1377"><a href="#JuegoWindow.open_bitacora_history-1377"><span class="linenos">1377</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow.open_bitacora_history-1378"><a href="#JuegoWindow.open_bitacora_history-1378"><span class="linenos">1378</span></a><span class="sd">        self.open_bitacora_history()</span>
</span><span id="JuegoWindow.open_bitacora_history-1379"><a href="#JuegoWindow.open_bitacora_history-1379"><span class="linenos">1379</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow.open_bitacora_history-1380"><a href="#JuegoWindow.open_bitacora_history-1380"><span class="linenos">1380</span></a>
</span><span id="JuegoWindow.open_bitacora_history-1381"><a href="#JuegoWindow.open_bitacora_history-1381"><span class="linenos">1381</span></a><span class="sd">        **Exceptions**:</span>
</span><span id="JuegoWindow.open_bitacora_history-1382"><a href="#JuegoWindow.open_bitacora_history-1382"><span class="linenos">1382</span></a><span class="sd">        - Lanza `QMessageBox.warning` si no hay bitácora disponible para la sala actual.</span>
</span><span id="JuegoWindow.open_bitacora_history-1383"><a href="#JuegoWindow.open_bitacora_history-1383"><span class="linenos">1383</span></a><span class="sd">        - Lanza `QMessageBox.critical` si ocurre un error al recuperar la bitácora desde Firestore.</span>
</span><span id="JuegoWindow.open_bitacora_history-1384"><a href="#JuegoWindow.open_bitacora_history-1384"><span class="linenos">1384</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.open_bitacora_history-1385"><a href="#JuegoWindow.open_bitacora_history-1385"><span class="linenos">1385</span></a>        <span class="n">historial_dialog</span> <span class="o">=</span> <span class="n">QWidget</span><span class="p">()</span>
</span><span id="JuegoWindow.open_bitacora_history-1386"><a href="#JuegoWindow.open_bitacora_history-1386"><span class="linenos">1386</span></a>        <span class="n">historial_dialog</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Historial de Bitácora&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow.open_bitacora_history-1387"><a href="#JuegoWindow.open_bitacora_history-1387"><span class="linenos">1387</span></a>
</span><span id="JuegoWindow.open_bitacora_history-1388"><a href="#JuegoWindow.open_bitacora_history-1388"><span class="linenos">1388</span></a>        <span class="c1"># Estilos para el diálogo</span>
</span><span id="JuegoWindow.open_bitacora_history-1389"><a href="#JuegoWindow.open_bitacora_history-1389"><span class="linenos">1389</span></a>        <span class="n">historial_dialog</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.open_bitacora_history-1390"><a href="#JuegoWindow.open_bitacora_history-1390"><span class="linenos">1390</span></a><span class="s2">        background-color: #f5f5dc; /* Color de fondo en caso de que la imagen no se cargue */</span>
</span><span id="JuegoWindow.open_bitacora_history-1391"><a href="#JuegoWindow.open_bitacora_history-1391"><span class="linenos">1391</span></a><span class="s2">        color: #3e3e3e; /* Color del texto oscuro para buen contraste */</span>
</span><span id="JuegoWindow.open_bitacora_history-1392"><a href="#JuegoWindow.open_bitacora_history-1392"><span class="linenos">1392</span></a><span class="s2">        border: 2px solid #8b4513; /* Borde marrón oscuro, como el pergamino envejecido */</span>
</span><span id="JuegoWindow.open_bitacora_history-1393"><a href="#JuegoWindow.open_bitacora_history-1393"><span class="linenos">1393</span></a><span class="s2">        border-radius: 10px; /* Bordes redondeados */</span>
</span><span id="JuegoWindow.open_bitacora_history-1394"><a href="#JuegoWindow.open_bitacora_history-1394"><span class="linenos">1394</span></a><span class="s2">        font-family: &#39;Times New Roman&#39;, serif; /* Fuente clásica que recuerda al papel antiguo */</span>
</span><span id="JuegoWindow.open_bitacora_history-1395"><a href="#JuegoWindow.open_bitacora_history-1395"><span class="linenos">1395</span></a><span class="s2">        padding: 10px;</span>
</span><span id="JuegoWindow.open_bitacora_history-1396"><a href="#JuegoWindow.open_bitacora_history-1396"><span class="linenos">1396</span></a><span class="s2">        background-image: url(&#39;fondos/31254.jpg&#39;);  /* Imagen de fondo de pergamino */</span>
</span><span id="JuegoWindow.open_bitacora_history-1397"><a href="#JuegoWindow.open_bitacora_history-1397"><span class="linenos">1397</span></a><span class="s2">        background-repeat: repeat;  /* Repetir la imagen de fondo */</span>
</span><span id="JuegoWindow.open_bitacora_history-1398"><a href="#JuegoWindow.open_bitacora_history-1398"><span class="linenos">1398</span></a><span class="s2">        background-size: cover;  /* Asegura que la imagen cubra toda la pantalla */</span>
</span><span id="JuegoWindow.open_bitacora_history-1399"><a href="#JuegoWindow.open_bitacora_history-1399"><span class="linenos">1399</span></a><span class="s2">        background-position: center;  /* Centra la imagen */</span>
</span><span id="JuegoWindow.open_bitacora_history-1400"><a href="#JuegoWindow.open_bitacora_history-1400"><span class="linenos">1400</span></a><span class="s2">    &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow.open_bitacora_history-1401"><a href="#JuegoWindow.open_bitacora_history-1401"><span class="linenos">1401</span></a>
</span><span id="JuegoWindow.open_bitacora_history-1402"><a href="#JuegoWindow.open_bitacora_history-1402"><span class="linenos">1402</span></a>        <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
</span><span id="JuegoWindow.open_bitacora_history-1403"><a href="#JuegoWindow.open_bitacora_history-1403"><span class="linenos">1403</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
</span><span id="JuegoWindow.open_bitacora_history-1404"><a href="#JuegoWindow.open_bitacora_history-1404"><span class="linenos">1404</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">setSpacing</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
</span><span id="JuegoWindow.open_bitacora_history-1405"><a href="#JuegoWindow.open_bitacora_history-1405"><span class="linenos">1405</span></a>
</span><span id="JuegoWindow.open_bitacora_history-1406"><a href="#JuegoWindow.open_bitacora_history-1406"><span class="linenos">1406</span></a>        <span class="c1"># Obtener el nombre de la sala del QLabel</span>
</span><span id="JuegoWindow.open_bitacora_history-1407"><a href="#JuegoWindow.open_bitacora_history-1407"><span class="linenos">1407</span></a>        <span class="n">nombre_sala</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sala_name</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;Sala Actual: &quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>  <span class="c1"># Obtener el texto del QLabel</span>
</span><span id="JuegoWindow.open_bitacora_history-1408"><a href="#JuegoWindow.open_bitacora_history-1408"><span class="linenos">1408</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Nombre de la sala: </span><span class="si">{</span><span class="n">nombre_sala</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># Mensaje de depuración</span>
</span><span id="JuegoWindow.open_bitacora_history-1409"><a href="#JuegoWindow.open_bitacora_history-1409"><span class="linenos">1409</span></a>
</span><span id="JuegoWindow.open_bitacora_history-1410"><a href="#JuegoWindow.open_bitacora_history-1410"><span class="linenos">1410</span></a>        <span class="c1"># Construir el ID único del documento</span>
</span><span id="JuegoWindow.open_bitacora_history-1411"><a href="#JuegoWindow.open_bitacora_history-1411"><span class="linenos">1411</span></a>        <span class="n">unique_nombre_sala</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;unico_</span><span class="si">{</span><span class="n">nombre_sala</span><span class="si">}</span><span class="s1">&#39;</span>  <span class="c1"># Asumiendo que el ID es único_ + nombre_sala</span>
</span><span id="JuegoWindow.open_bitacora_history-1412"><a href="#JuegoWindow.open_bitacora_history-1412"><span class="linenos">1412</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ID del documento: </span><span class="si">{</span><span class="n">unique_nombre_sala</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># Mensaje de depuración</span>
</span><span id="JuegoWindow.open_bitacora_history-1413"><a href="#JuegoWindow.open_bitacora_history-1413"><span class="linenos">1413</span></a>
</span><span id="JuegoWindow.open_bitacora_history-1414"><a href="#JuegoWindow.open_bitacora_history-1414"><span class="linenos">1414</span></a>        <span class="n">sala_text</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sala Actual: </span><span class="si">{</span><span class="n">nombre_sala</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow.open_bitacora_history-1415"><a href="#JuegoWindow.open_bitacora_history-1415"><span class="linenos">1415</span></a>        <span class="n">sala_text</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;font-size: 18px; font-weight: bold;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow.open_bitacora_history-1416"><a href="#JuegoWindow.open_bitacora_history-1416"><span class="linenos">1416</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">sala_text</span><span class="p">)</span>
</span><span id="JuegoWindow.open_bitacora_history-1417"><a href="#JuegoWindow.open_bitacora_history-1417"><span class="linenos">1417</span></a>
</span><span id="JuegoWindow.open_bitacora_history-1418"><a href="#JuegoWindow.open_bitacora_history-1418"><span class="linenos">1418</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="JuegoWindow.open_bitacora_history-1419"><a href="#JuegoWindow.open_bitacora_history-1419"><span class="linenos">1419</span></a>            <span class="c1"># Recuperar el documento usando `unique_nombre_sala` como ID</span>
</span><span id="JuegoWindow.open_bitacora_history-1420"><a href="#JuegoWindow.open_bitacora_history-1420"><span class="linenos">1420</span></a>            <span class="n">bitacora_doc_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;PUNTOGUARDADO&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">unique_nombre_sala</span><span class="p">)</span>
</span><span id="JuegoWindow.open_bitacora_history-1421"><a href="#JuegoWindow.open_bitacora_history-1421"><span class="linenos">1421</span></a>            <span class="n">bitacora_doc</span> <span class="o">=</span> <span class="n">bitacora_doc_ref</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
</span><span id="JuegoWindow.open_bitacora_history-1422"><a href="#JuegoWindow.open_bitacora_history-1422"><span class="linenos">1422</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Documento recuperado: </span><span class="si">{</span><span class="n">bitacora_doc</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># Mensaje de depuración</span>
</span><span id="JuegoWindow.open_bitacora_history-1423"><a href="#JuegoWindow.open_bitacora_history-1423"><span class="linenos">1423</span></a>
</span><span id="JuegoWindow.open_bitacora_history-1424"><a href="#JuegoWindow.open_bitacora_history-1424"><span class="linenos">1424</span></a>            <span class="k">if</span> <span class="n">bitacora_doc</span><span class="o">.</span><span class="n">exists</span><span class="p">:</span>
</span><span id="JuegoWindow.open_bitacora_history-1425"><a href="#JuegoWindow.open_bitacora_history-1425"><span class="linenos">1425</span></a>                <span class="n">bitacora_data</span> <span class="o">=</span> <span class="n">bitacora_doc</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</span><span id="JuegoWindow.open_bitacora_history-1426"><a href="#JuegoWindow.open_bitacora_history-1426"><span class="linenos">1426</span></a>                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Datos del documento: </span><span class="si">{</span><span class="n">bitacora_data</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># Mensaje de depuración</span>
</span><span id="JuegoWindow.open_bitacora_history-1427"><a href="#JuegoWindow.open_bitacora_history-1427"><span class="linenos">1427</span></a>                
</span><span id="JuegoWindow.open_bitacora_history-1428"><a href="#JuegoWindow.open_bitacora_history-1428"><span class="linenos">1428</span></a>                <span class="n">recompensa</span> <span class="o">=</span> <span class="n">bitacora_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;recompensa&#39;</span><span class="p">,</span> <span class="s1">&#39;N/A&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.open_bitacora_history-1429"><a href="#JuegoWindow.open_bitacora_history-1429"><span class="linenos">1429</span></a>                <span class="n">penalizacion</span> <span class="o">=</span> <span class="n">bitacora_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;penalizacion&#39;</span><span class="p">,</span> <span class="s1">&#39;N/A&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.open_bitacora_history-1430"><a href="#JuegoWindow.open_bitacora_history-1430"><span class="linenos">1430</span></a>                <span class="n">textos</span> <span class="o">=</span> <span class="p">[</span><span class="n">bitacora_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;texto</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">8</span><span class="p">)]</span>  <span class="c1"># Recupera texto1 a texto7</span>
</span><span id="JuegoWindow.open_bitacora_history-1431"><a href="#JuegoWindow.open_bitacora_history-1431"><span class="linenos">1431</span></a>
</span><span id="JuegoWindow.open_bitacora_history-1432"><a href="#JuegoWindow.open_bitacora_history-1432"><span class="linenos">1432</span></a>                <span class="n">bitacora_texts</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="JuegoWindow.open_bitacora_history-1433"><a href="#JuegoWindow.open_bitacora_history-1433"><span class="linenos">1433</span></a>                    <span class="sa">f</span><span class="s2">&quot;Recompensa: </span><span class="si">{</span><span class="n">recompensa</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="JuegoWindow.open_bitacora_history-1434"><a href="#JuegoWindow.open_bitacora_history-1434"><span class="linenos">1434</span></a>                    <span class="sa">f</span><span class="s2">&quot;Penalización: </span><span class="si">{</span><span class="n">penalizacion</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
</span><span id="JuegoWindow.open_bitacora_history-1435"><a href="#JuegoWindow.open_bitacora_history-1435"><span class="linenos">1435</span></a>                    <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">textos</span><span class="p">)</span>  <span class="c1"># Muestra todos los textos</span>
</span><span id="JuegoWindow.open_bitacora_history-1436"><a href="#JuegoWindow.open_bitacora_history-1436"><span class="linenos">1436</span></a>                <span class="p">]</span>
</span><span id="JuegoWindow.open_bitacora_history-1437"><a href="#JuegoWindow.open_bitacora_history-1437"><span class="linenos">1437</span></a>
</span><span id="JuegoWindow.open_bitacora_history-1438"><a href="#JuegoWindow.open_bitacora_history-1438"><span class="linenos">1438</span></a>                <span class="n">historial_info</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">bitacora_texts</span><span class="p">),</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow.open_bitacora_history-1439"><a href="#JuegoWindow.open_bitacora_history-1439"><span class="linenos">1439</span></a>                <span class="n">historial_info</span><span class="o">.</span><span class="n">setWordWrap</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</span><span id="JuegoWindow.open_bitacora_history-1440"><a href="#JuegoWindow.open_bitacora_history-1440"><span class="linenos">1440</span></a>                <span class="n">historial_info</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;font-size: 16px;&quot;</span><span class="p">)</span>  <span class="c1"># Tamaño de fuente para el texto</span>
</span><span id="JuegoWindow.open_bitacora_history-1441"><a href="#JuegoWindow.open_bitacora_history-1441"><span class="linenos">1441</span></a>                <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">historial_info</span><span class="p">)</span>
</span><span id="JuegoWindow.open_bitacora_history-1442"><a href="#JuegoWindow.open_bitacora_history-1442"><span class="linenos">1442</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="JuegoWindow.open_bitacora_history-1443"><a href="#JuegoWindow.open_bitacora_history-1443"><span class="linenos">1443</span></a>                <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Sin Bitácora&#39;</span><span class="p">,</span> <span class="s1">&#39;No hay bitácora disponible para esta sala en la base de datos.&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.open_bitacora_history-1444"><a href="#JuegoWindow.open_bitacora_history-1444"><span class="linenos">1444</span></a>                <span class="n">historial_dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>  <span class="c1"># Cierra el diálogo si no hay bitácora</span>
</span><span id="JuegoWindow.open_bitacora_history-1445"><a href="#JuegoWindow.open_bitacora_history-1445"><span class="linenos">1445</span></a>                <span class="k">return</span>
</span><span id="JuegoWindow.open_bitacora_history-1446"><a href="#JuegoWindow.open_bitacora_history-1446"><span class="linenos">1446</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="JuegoWindow.open_bitacora_history-1447"><a href="#JuegoWindow.open_bitacora_history-1447"><span class="linenos">1447</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Ocurrió un error al recuperar la bitácora: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.open_bitacora_history-1448"><a href="#JuegoWindow.open_bitacora_history-1448"><span class="linenos">1448</span></a>            <span class="n">historial_dialog</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>  <span class="c1"># Cierra el diálogo en caso de error</span>
</span><span id="JuegoWindow.open_bitacora_history-1449"><a href="#JuegoWindow.open_bitacora_history-1449"><span class="linenos">1449</span></a>            <span class="k">return</span>
</span><span id="JuegoWindow.open_bitacora_history-1450"><a href="#JuegoWindow.open_bitacora_history-1450"><span class="linenos">1450</span></a>
</span><span id="JuegoWindow.open_bitacora_history-1451"><a href="#JuegoWindow.open_bitacora_history-1451"><span class="linenos">1451</span></a>        <span class="n">btn_cerrar</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Cerrar&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</span><span id="JuegoWindow.open_bitacora_history-1452"><a href="#JuegoWindow.open_bitacora_history-1452"><span class="linenos">1452</span></a>        <span class="n">btn_cerrar</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.open_bitacora_history-1453"><a href="#JuegoWindow.open_bitacora_history-1453"><span class="linenos">1453</span></a><span class="s2">            background-color: #8b4513; /* Color marrón oscuro */</span>
</span><span id="JuegoWindow.open_bitacora_history-1454"><a href="#JuegoWindow.open_bitacora_history-1454"><span class="linenos">1454</span></a><span class="s2">            color: #f5f5dc; /* Color beige claro para el texto */</span>
</span><span id="JuegoWindow.open_bitacora_history-1455"><a href="#JuegoWindow.open_bitacora_history-1455"><span class="linenos">1455</span></a><span class="s2">            font-size: 14px; /* Tamaño de fuente del botón */</span>
</span><span id="JuegoWindow.open_bitacora_history-1456"><a href="#JuegoWindow.open_bitacora_history-1456"><span class="linenos">1456</span></a><span class="s2">            border: 2px solid #6a3e2f; /* Borde del botón */</span>
</span><span id="JuegoWindow.open_bitacora_history-1457"><a href="#JuegoWindow.open_bitacora_history-1457"><span class="linenos">1457</span></a><span class="s2">            border-radius: 5px; /* Bordes redondeados del botón */</span>
</span><span id="JuegoWindow.open_bitacora_history-1458"><a href="#JuegoWindow.open_bitacora_history-1458"><span class="linenos">1458</span></a><span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow.open_bitacora_history-1459"><a href="#JuegoWindow.open_bitacora_history-1459"><span class="linenos">1459</span></a>        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">btn_cerrar</span><span class="p">)</span>
</span><span id="JuegoWindow.open_bitacora_history-1460"><a href="#JuegoWindow.open_bitacora_history-1460"><span class="linenos">1460</span></a>
</span><span id="JuegoWindow.open_bitacora_history-1461"><a href="#JuegoWindow.open_bitacora_history-1461"><span class="linenos">1461</span></a>        <span class="n">historial_dialog</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
</span><span id="JuegoWindow.open_bitacora_history-1462"><a href="#JuegoWindow.open_bitacora_history-1462"><span class="linenos">1462</span></a>        <span class="n">historial_dialog</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">600</span><span class="p">,</span> <span class="mi">400</span><span class="p">)</span>  <span class="c1"># Establecer un tamaño inicial para el diálogo</span>
</span><span id="JuegoWindow.open_bitacora_history-1463"><a href="#JuegoWindow.open_bitacora_history-1463"><span class="linenos">1463</span></a>
</span><span id="JuegoWindow.open_bitacora_history-1464"><a href="#JuegoWindow.open_bitacora_history-1464"><span class="linenos">1464</span></a>        <span class="c1"># Mensaje de depuración para verificar antes de mostrar el diálogo</span>
</span><span id="JuegoWindow.open_bitacora_history-1465"><a href="#JuegoWindow.open_bitacora_history-1465"><span class="linenos">1465</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Mostrando el diálogo de historial&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow.open_bitacora_history-1466"><a href="#JuegoWindow.open_bitacora_history-1466"><span class="linenos">1466</span></a>
</span><span id="JuegoWindow.open_bitacora_history-1467"><a href="#JuegoWindow.open_bitacora_history-1467"><span class="linenos">1467</span></a>        <span class="n">historial_dialog</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</span><span id="JuegoWindow.open_bitacora_history-1468"><a href="#JuegoWindow.open_bitacora_history-1468"><span class="linenos">1468</span></a>
</span><span id="JuegoWindow.open_bitacora_history-1469"><a href="#JuegoWindow.open_bitacora_history-1469"><span class="linenos">1469</span></a>        <span class="n">btn_cerrar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Botón Cerrar clickeado&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">historial_dialog</span><span class="o">.</span><span class="n">close</span><span class="p">())</span>
</span></pre></div>


            <div class="docstring"><p>Abre una ventana con el historial de bitácoras.</p>

<p>Este método muestra un diálogo con el historial de bitácoras para la sala actual. 
Recupera la información del documento correspondiente en la colección <code>PUNTOGUARDADO</code> 
y muestra los campos de texto almacenados en el documento, así como la recompensa 
y la penalización. Si no hay bitácora disponible o ocurre un error, muestra un 
mensaje de advertencia o error, respectivamente.</p>

<p><strong>Pasos del método</strong>:</p>

<ol>
<li>Crea una nueva ventana de diálogo para mostrar el historial de bitácoras.</li>
<li>Configura el estilo del diálogo para imitar un pergamino antiguo.</li>
<li>Obtiene el nombre de la sala desde el widget <code>sala_name</code>.</li>
<li>Construye el ID del documento basado en el nombre de la sala.</li>
<li>Intenta recuperar el documento desde Firestore.</li>
<li>Si el documento existe, extrae y muestra la recompensa, penalización y los campos de texto.</li>
<li>Si el documento no existe, muestra un mensaje de advertencia y cierra el diálogo.</li>
<li>Maneja cualquier excepción que pueda ocurrir durante el proceso de recuperación.</li>
<li>Configura un botón para cerrar el diálogo.</li>
</ol>

<p><strong>Ejemplo de uso</strong>:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="bp">self</span><span class="o">.</span><span class="n">open_bitacora_history</span><span class="p">()</span>
</code></pre>
</div>

<p><strong>Exceptions</strong>:</p>

<ul>
<li>Lanza <code>QMessageBox.warning</code> si no hay bitácora disponible para la sala actual.</li>
<li>Lanza <code>QMessageBox.critical</code> si ocurre un error al recuperar la bitácora desde Firestore.</li>
</ul>
</div>


                            </div>
                            <div id="JuegoWindow.show_pagina_1" class="classattr">
                                        <input id="JuegoWindow.show_pagina_1-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">show_pagina_1</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.show_pagina_1-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.show_pagina_1"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.show_pagina_1-1472"><a href="#JuegoWindow.show_pagina_1-1472"><span class="linenos">1472</span></a>    <span class="k">def</span> <span class="nf">show_pagina_1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow.show_pagina_1-1473"><a href="#JuegoWindow.show_pagina_1-1473"><span class="linenos">1473</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.show_pagina_1-1474"><a href="#JuegoWindow.show_pagina_1-1474"><span class="linenos">1474</span></a><span class="sd">        Muestra la `pagina_1` en el `QStackedWidget`.</span>
</span><span id="JuegoWindow.show_pagina_1-1475"><a href="#JuegoWindow.show_pagina_1-1475"><span class="linenos">1475</span></a>
</span><span id="JuegoWindow.show_pagina_1-1476"><a href="#JuegoWindow.show_pagina_1-1476"><span class="linenos">1476</span></a><span class="sd">        Este método cambia la vista actual del `QStackedWidget` a la página de índice `pagina_1`.</span>
</span><span id="JuegoWindow.show_pagina_1-1477"><a href="#JuegoWindow.show_pagina_1-1477"><span class="linenos">1477</span></a>
</span><span id="JuegoWindow.show_pagina_1-1478"><a href="#JuegoWindow.show_pagina_1-1478"><span class="linenos">1478</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow.show_pagina_1-1479"><a href="#JuegoWindow.show_pagina_1-1479"><span class="linenos">1479</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow.show_pagina_1-1480"><a href="#JuegoWindow.show_pagina_1-1480"><span class="linenos">1480</span></a><span class="sd">        self.show_pagina_1()</span>
</span><span id="JuegoWindow.show_pagina_1-1481"><a href="#JuegoWindow.show_pagina_1-1481"><span class="linenos">1481</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow.show_pagina_1-1482"><a href="#JuegoWindow.show_pagina_1-1482"><span class="linenos">1482</span></a>
</span><span id="JuegoWindow.show_pagina_1-1483"><a href="#JuegoWindow.show_pagina_1-1483"><span class="linenos">1483</span></a><span class="sd">        **Notas**:</span>
</span><span id="JuegoWindow.show_pagina_1-1484"><a href="#JuegoWindow.show_pagina_1-1484"><span class="linenos">1484</span></a><span class="sd">        - Este método no recibe parámetros ni retorna valores.</span>
</span><span id="JuegoWindow.show_pagina_1-1485"><a href="#JuegoWindow.show_pagina_1-1485"><span class="linenos">1485</span></a><span class="sd">        - Asegúrate de que `pagina_1` esté correctamente añadida al `QStackedWidget` para que este método funcione.</span>
</span><span id="JuegoWindow.show_pagina_1-1486"><a href="#JuegoWindow.show_pagina_1-1486"><span class="linenos">1486</span></a>
</span><span id="JuegoWindow.show_pagina_1-1487"><a href="#JuegoWindow.show_pagina_1-1487"><span class="linenos">1487</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="JuegoWindow.show_pagina_1-1488"><a href="#JuegoWindow.show_pagina_1-1488"><span class="linenos">1488</span></a><span class="sd">        - `pagina_1` debe ser una de las páginas añadidas al `QStackedWidget`.</span>
</span><span id="JuegoWindow.show_pagina_1-1489"><a href="#JuegoWindow.show_pagina_1-1489"><span class="linenos">1489</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.show_pagina_1-1490"><a href="#JuegoWindow.show_pagina_1-1490"><span class="linenos">1490</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stackedWidget</span><span class="o">.</span><span class="n">setCurrentWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pagina_1</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Muestra la <code>pagina_1</code> en el <code>QStackedWidget</code>.</p>

<p>Este método cambia la vista actual del <code>QStackedWidget</code> a la página de índice <code>pagina_1</code>.</p>

<p><strong>Ejemplo de uso</strong>:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="bp">self</span><span class="o">.</span><span class="n">show_pagina_1</span><span class="p">()</span>
</code></pre>
</div>

<p><strong>Notas</strong>:</p>

<ul>
<li>Este método no recibe parámetros ni retorna valores.</li>
<li>Asegúrate de que <code>pagina_1</code> esté correctamente añadida al <code>QStackedWidget</code> para que este método funcione.</li>
</ul>

<p><strong>Errores Comunes</strong>:</p>

<ul>
<li><code>pagina_1</code> debe ser una de las páginas añadidas al <code>QStackedWidget</code>.</li>
</ul>
</div>


                            </div>
                            <div id="JuegoWindow.show_pagina_2" class="classattr">
                                        <input id="JuegoWindow.show_pagina_2-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">show_pagina_2</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.show_pagina_2-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.show_pagina_2"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.show_pagina_2-1493"><a href="#JuegoWindow.show_pagina_2-1493"><span class="linenos">1493</span></a>    <span class="k">def</span> <span class="nf">show_pagina_2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow.show_pagina_2-1494"><a href="#JuegoWindow.show_pagina_2-1494"><span class="linenos">1494</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.show_pagina_2-1495"><a href="#JuegoWindow.show_pagina_2-1495"><span class="linenos">1495</span></a><span class="sd">        Muestra la `pagina_2` en el `QStackedWidget` y conecta el botón `btn_crearM` al método `crear_nueva_mision`.</span>
</span><span id="JuegoWindow.show_pagina_2-1496"><a href="#JuegoWindow.show_pagina_2-1496"><span class="linenos">1496</span></a>
</span><span id="JuegoWindow.show_pagina_2-1497"><a href="#JuegoWindow.show_pagina_2-1497"><span class="linenos">1497</span></a><span class="sd">        Este método cambia la vista actual del `QStackedWidget` a la página de índice `pagina_2` y configura el botón </span>
</span><span id="JuegoWindow.show_pagina_2-1498"><a href="#JuegoWindow.show_pagina_2-1498"><span class="linenos">1498</span></a><span class="sd">        `btn_crearM` para que llame al método `crear_nueva_mision` cuando se haga clic en él.</span>
</span><span id="JuegoWindow.show_pagina_2-1499"><a href="#JuegoWindow.show_pagina_2-1499"><span class="linenos">1499</span></a>
</span><span id="JuegoWindow.show_pagina_2-1500"><a href="#JuegoWindow.show_pagina_2-1500"><span class="linenos">1500</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow.show_pagina_2-1501"><a href="#JuegoWindow.show_pagina_2-1501"><span class="linenos">1501</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow.show_pagina_2-1502"><a href="#JuegoWindow.show_pagina_2-1502"><span class="linenos">1502</span></a><span class="sd">        self.show_pagina_2()</span>
</span><span id="JuegoWindow.show_pagina_2-1503"><a href="#JuegoWindow.show_pagina_2-1503"><span class="linenos">1503</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow.show_pagina_2-1504"><a href="#JuegoWindow.show_pagina_2-1504"><span class="linenos">1504</span></a>
</span><span id="JuegoWindow.show_pagina_2-1505"><a href="#JuegoWindow.show_pagina_2-1505"><span class="linenos">1505</span></a><span class="sd">        **Notas**:</span>
</span><span id="JuegoWindow.show_pagina_2-1506"><a href="#JuegoWindow.show_pagina_2-1506"><span class="linenos">1506</span></a><span class="sd">        - Este método configura el evento de clic para `btn_crearM` para crear una nueva misión.</span>
</span><span id="JuegoWindow.show_pagina_2-1507"><a href="#JuegoWindow.show_pagina_2-1507"><span class="linenos">1507</span></a><span class="sd">        - Asegúrate de que `btn_crearM` y `crear_nueva_mision` estén definidos y configurados correctamente.</span>
</span><span id="JuegoWindow.show_pagina_2-1508"><a href="#JuegoWindow.show_pagina_2-1508"><span class="linenos">1508</span></a>
</span><span id="JuegoWindow.show_pagina_2-1509"><a href="#JuegoWindow.show_pagina_2-1509"><span class="linenos">1509</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="JuegoWindow.show_pagina_2-1510"><a href="#JuegoWindow.show_pagina_2-1510"><span class="linenos">1510</span></a><span class="sd">        - `btn_crearM` debe ser un botón válido en `pagina_2`.</span>
</span><span id="JuegoWindow.show_pagina_2-1511"><a href="#JuegoWindow.show_pagina_2-1511"><span class="linenos">1511</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.show_pagina_2-1512"><a href="#JuegoWindow.show_pagina_2-1512"><span class="linenos">1512</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stackedWidget</span><span class="o">.</span><span class="n">setCurrentWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pagina_2</span><span class="p">)</span>
</span><span id="JuegoWindow.show_pagina_2-1513"><a href="#JuegoWindow.show_pagina_2-1513"><span class="linenos">1513</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_crearM</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">crear_nueva_mision</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Muestra la <code>pagina_2</code> en el <code>QStackedWidget</code> y conecta el botón <code>btn_crearM</code> al método <code><a href="#JuegoWindow.crear_nueva_mision">crear_nueva_mision</a></code>.</p>

<p>Este método cambia la vista actual del <code>QStackedWidget</code> a la página de índice <code>pagina_2</code> y configura el botón 
<code>btn_crearM</code> para que llame al método <code><a href="#JuegoWindow.crear_nueva_mision">crear_nueva_mision</a></code> cuando se haga clic en él.</p>

<p><strong>Ejemplo de uso</strong>:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="bp">self</span><span class="o">.</span><span class="n">show_pagina_2</span><span class="p">()</span>
</code></pre>
</div>

<p><strong>Notas</strong>:</p>

<ul>
<li>Este método configura el evento de clic para <code>btn_crearM</code> para crear una nueva misión.</li>
<li>Asegúrate de que <code>btn_crearM</code> y <code><a href="#JuegoWindow.crear_nueva_mision">crear_nueva_mision</a></code> estén definidos y configurados correctamente.</li>
</ul>

<p><strong>Errores Comunes</strong>:</p>

<ul>
<li><code>btn_crearM</code> debe ser un botón válido en <code>pagina_2</code>.</li>
</ul>
</div>


                            </div>
                            <div id="JuegoWindow.crear_nueva_mision" class="classattr">
                                        <input id="JuegoWindow.crear_nueva_mision-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">crear_nueva_mision</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.crear_nueva_mision-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.crear_nueva_mision"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.crear_nueva_mision-1516"><a href="#JuegoWindow.crear_nueva_mision-1516"><span class="linenos">1516</span></a>    <span class="k">def</span> <span class="nf">crear_nueva_mision</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow.crear_nueva_mision-1517"><a href="#JuegoWindow.crear_nueva_mision-1517"><span class="linenos">1517</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.crear_nueva_mision-1518"><a href="#JuegoWindow.crear_nueva_mision-1518"><span class="linenos">1518</span></a><span class="sd">        Crea una nueva misión y la guarda en la colección `evento` en Firestore.</span>
</span><span id="JuegoWindow.crear_nueva_mision-1519"><a href="#JuegoWindow.crear_nueva_mision-1519"><span class="linenos">1519</span></a>
</span><span id="JuegoWindow.crear_nueva_mision-1520"><a href="#JuegoWindow.crear_nueva_mision-1520"><span class="linenos">1520</span></a><span class="sd">        Este método toma los datos de los campos de texto de la misión, los valida, y los guarda en la colección `evento`.</span>
</span><span id="JuegoWindow.crear_nueva_mision-1521"><a href="#JuegoWindow.crear_nueva_mision-1521"><span class="linenos">1521</span></a><span class="sd">        Luego, limpia los campos de entrada y muestra un mensaje de éxito.</span>
</span><span id="JuegoWindow.crear_nueva_mision-1522"><a href="#JuegoWindow.crear_nueva_mision-1522"><span class="linenos">1522</span></a>
</span><span id="JuegoWindow.crear_nueva_mision-1523"><a href="#JuegoWindow.crear_nueva_mision-1523"><span class="linenos">1523</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow.crear_nueva_mision-1524"><a href="#JuegoWindow.crear_nueva_mision-1524"><span class="linenos">1524</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow.crear_nueva_mision-1525"><a href="#JuegoWindow.crear_nueva_mision-1525"><span class="linenos">1525</span></a><span class="sd">        self.crear_nueva_mision()</span>
</span><span id="JuegoWindow.crear_nueva_mision-1526"><a href="#JuegoWindow.crear_nueva_mision-1526"><span class="linenos">1526</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow.crear_nueva_mision-1527"><a href="#JuegoWindow.crear_nueva_mision-1527"><span class="linenos">1527</span></a>
</span><span id="JuegoWindow.crear_nueva_mision-1528"><a href="#JuegoWindow.crear_nueva_mision-1528"><span class="linenos">1528</span></a><span class="sd">        **Manejo de Errores**:</span>
</span><span id="JuegoWindow.crear_nueva_mision-1529"><a href="#JuegoWindow.crear_nueva_mision-1529"><span class="linenos">1529</span></a><span class="sd">        - Muestra un mensaje de advertencia si algún campo está vacío.</span>
</span><span id="JuegoWindow.crear_nueva_mision-1530"><a href="#JuegoWindow.crear_nueva_mision-1530"><span class="linenos">1530</span></a><span class="sd">        - Muestra un mensaje de éxito cuando la misión se crea y se guarda correctamente.</span>
</span><span id="JuegoWindow.crear_nueva_mision-1531"><a href="#JuegoWindow.crear_nueva_mision-1531"><span class="linenos">1531</span></a><span class="sd">        - Maneja errores durante la adición de la misión a Firestore y muestra un mensaje de error si ocurre una excepción.</span>
</span><span id="JuegoWindow.crear_nueva_mision-1532"><a href="#JuegoWindow.crear_nueva_mision-1532"><span class="linenos">1532</span></a>
</span><span id="JuegoWindow.crear_nueva_mision-1533"><a href="#JuegoWindow.crear_nueva_mision-1533"><span class="linenos">1533</span></a><span class="sd">        **Notas**:</span>
</span><span id="JuegoWindow.crear_nueva_mision-1534"><a href="#JuegoWindow.crear_nueva_mision-1534"><span class="linenos">1534</span></a><span class="sd">        - `name_m`, `descrip_m`, `tex_condi`, y `recom_m` deben ser `QTextEdit` o widgets similares con texto que no esté vacío.</span>
</span><span id="JuegoWindow.crear_nueva_mision-1535"><a href="#JuegoWindow.crear_nueva_mision-1535"><span class="linenos">1535</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.crear_nueva_mision-1536"><a href="#JuegoWindow.crear_nueva_mision-1536"><span class="linenos">1536</span></a>        <span class="n">nombre</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">name_m</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">()</span>
</span><span id="JuegoWindow.crear_nueva_mision-1537"><a href="#JuegoWindow.crear_nueva_mision-1537"><span class="linenos">1537</span></a>        <span class="n">descripcion</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">descrip_m</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">()</span>
</span><span id="JuegoWindow.crear_nueva_mision-1538"><a href="#JuegoWindow.crear_nueva_mision-1538"><span class="linenos">1538</span></a>        <span class="n">condiciones</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tex_condi</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">()</span>
</span><span id="JuegoWindow.crear_nueva_mision-1539"><a href="#JuegoWindow.crear_nueva_mision-1539"><span class="linenos">1539</span></a>        <span class="n">recompensa</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">recom_m</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">()</span>
</span><span id="JuegoWindow.crear_nueva_mision-1540"><a href="#JuegoWindow.crear_nueva_mision-1540"><span class="linenos">1540</span></a>
</span><span id="JuegoWindow.crear_nueva_mision-1541"><a href="#JuegoWindow.crear_nueva_mision-1541"><span class="linenos">1541</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">nombre</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">descripcion</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">condiciones</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">recompensa</span><span class="p">:</span>
</span><span id="JuegoWindow.crear_nueva_mision-1542"><a href="#JuegoWindow.crear_nueva_mision-1542"><span class="linenos">1542</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Campos Vacíos&#39;</span><span class="p">,</span> <span class="s1">&#39;Por favor, completa todos los campos.&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.crear_nueva_mision-1543"><a href="#JuegoWindow.crear_nueva_mision-1543"><span class="linenos">1543</span></a>            <span class="k">return</span>
</span><span id="JuegoWindow.crear_nueva_mision-1544"><a href="#JuegoWindow.crear_nueva_mision-1544"><span class="linenos">1544</span></a>
</span><span id="JuegoWindow.crear_nueva_mision-1545"><a href="#JuegoWindow.crear_nueva_mision-1545"><span class="linenos">1545</span></a>        <span class="n">nueva_mision</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="JuegoWindow.crear_nueva_mision-1546"><a href="#JuegoWindow.crear_nueva_mision-1546"><span class="linenos">1546</span></a>            <span class="s1">&#39;nombre&#39;</span><span class="p">:</span> <span class="n">nombre</span><span class="p">,</span>
</span><span id="JuegoWindow.crear_nueva_mision-1547"><a href="#JuegoWindow.crear_nueva_mision-1547"><span class="linenos">1547</span></a>            <span class="s1">&#39;descripcion&#39;</span><span class="p">:</span> <span class="n">descripcion</span><span class="p">,</span>
</span><span id="JuegoWindow.crear_nueva_mision-1548"><a href="#JuegoWindow.crear_nueva_mision-1548"><span class="linenos">1548</span></a>            <span class="s1">&#39;condiciones&#39;</span><span class="p">:</span> <span class="n">condiciones</span><span class="p">,</span>
</span><span id="JuegoWindow.crear_nueva_mision-1549"><a href="#JuegoWindow.crear_nueva_mision-1549"><span class="linenos">1549</span></a>            <span class="s1">&#39;recompensa&#39;</span><span class="p">:</span> <span class="n">recompensa</span>
</span><span id="JuegoWindow.crear_nueva_mision-1550"><a href="#JuegoWindow.crear_nueva_mision-1550"><span class="linenos">1550</span></a>        <span class="p">}</span>
</span><span id="JuegoWindow.crear_nueva_mision-1551"><a href="#JuegoWindow.crear_nueva_mision-1551"><span class="linenos">1551</span></a>
</span><span id="JuegoWindow.crear_nueva_mision-1552"><a href="#JuegoWindow.crear_nueva_mision-1552"><span class="linenos">1552</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="JuegoWindow.crear_nueva_mision-1553"><a href="#JuegoWindow.crear_nueva_mision-1553"><span class="linenos">1553</span></a>            <span class="n">eventos_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;evento&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.crear_nueva_mision-1554"><a href="#JuegoWindow.crear_nueva_mision-1554"><span class="linenos">1554</span></a>            <span class="n">eventos_ref</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">nueva_mision</span><span class="p">)</span>
</span><span id="JuegoWindow.crear_nueva_mision-1555"><a href="#JuegoWindow.crear_nueva_mision-1555"><span class="linenos">1555</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">name_m</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="JuegoWindow.crear_nueva_mision-1556"><a href="#JuegoWindow.crear_nueva_mision-1556"><span class="linenos">1556</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">descrip_m</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="JuegoWindow.crear_nueva_mision-1557"><a href="#JuegoWindow.crear_nueva_mision-1557"><span class="linenos">1557</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tex_condi</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="JuegoWindow.crear_nueva_mision-1558"><a href="#JuegoWindow.crear_nueva_mision-1558"><span class="linenos">1558</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">recom_m</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="JuegoWindow.crear_nueva_mision-1559"><a href="#JuegoWindow.crear_nueva_mision-1559"><span class="linenos">1559</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Misión Creada&#39;</span><span class="p">,</span> <span class="s1">&#39;La nueva misión ha sido creada y guardada en la base de datos.&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.crear_nueva_mision-1560"><a href="#JuegoWindow.crear_nueva_mision-1560"><span class="linenos">1560</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="JuegoWindow.crear_nueva_mision-1561"><a href="#JuegoWindow.crear_nueva_mision-1561"><span class="linenos">1561</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error al Crear Misión&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;No se pudo crear la misión: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.crear_nueva_mision-1562"><a href="#JuegoWindow.crear_nueva_mision-1562"><span class="linenos">1562</span></a>
</span><span id="JuegoWindow.crear_nueva_mision-1563"><a href="#JuegoWindow.crear_nueva_mision-1563"><span class="linenos">1563</span></a>
</span><span id="JuegoWindow.crear_nueva_mision-1564"><a href="#JuegoWindow.crear_nueva_mision-1564"><span class="linenos">1564</span></a>            <span class="n">nueva_mision</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="JuegoWindow.crear_nueva_mision-1565"><a href="#JuegoWindow.crear_nueva_mision-1565"><span class="linenos">1565</span></a>                <span class="s1">&#39;nombre&#39;</span><span class="p">:</span> <span class="n">nombre</span><span class="p">,</span>
</span><span id="JuegoWindow.crear_nueva_mision-1566"><a href="#JuegoWindow.crear_nueva_mision-1566"><span class="linenos">1566</span></a>                <span class="s1">&#39;descripcion&#39;</span><span class="p">:</span> <span class="n">descripcion</span><span class="p">,</span>
</span><span id="JuegoWindow.crear_nueva_mision-1567"><a href="#JuegoWindow.crear_nueva_mision-1567"><span class="linenos">1567</span></a>                <span class="s1">&#39;condiciones&#39;</span><span class="p">:</span> <span class="n">condiciones</span><span class="p">,</span>
</span><span id="JuegoWindow.crear_nueva_mision-1568"><a href="#JuegoWindow.crear_nueva_mision-1568"><span class="linenos">1568</span></a>                <span class="s1">&#39;recompensa&#39;</span><span class="p">:</span> <span class="n">recompensa</span>
</span><span id="JuegoWindow.crear_nueva_mision-1569"><a href="#JuegoWindow.crear_nueva_mision-1569"><span class="linenos">1569</span></a>            <span class="p">}</span>
</span><span id="JuegoWindow.crear_nueva_mision-1570"><a href="#JuegoWindow.crear_nueva_mision-1570"><span class="linenos">1570</span></a>
</span><span id="JuegoWindow.crear_nueva_mision-1571"><a href="#JuegoWindow.crear_nueva_mision-1571"><span class="linenos">1571</span></a>            
</span><span id="JuegoWindow.crear_nueva_mision-1572"><a href="#JuegoWindow.crear_nueva_mision-1572"><span class="linenos">1572</span></a>            <span class="n">eventos_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;evento&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.crear_nueva_mision-1573"><a href="#JuegoWindow.crear_nueva_mision-1573"><span class="linenos">1573</span></a>            <span class="n">eventos_ref</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">nueva_mision</span><span class="p">)</span>
</span><span id="JuegoWindow.crear_nueva_mision-1574"><a href="#JuegoWindow.crear_nueva_mision-1574"><span class="linenos">1574</span></a>
</span><span id="JuegoWindow.crear_nueva_mision-1575"><a href="#JuegoWindow.crear_nueva_mision-1575"><span class="linenos">1575</span></a>            
</span><span id="JuegoWindow.crear_nueva_mision-1576"><a href="#JuegoWindow.crear_nueva_mision-1576"><span class="linenos">1576</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">name_m</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="JuegoWindow.crear_nueva_mision-1577"><a href="#JuegoWindow.crear_nueva_mision-1577"><span class="linenos">1577</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">descrip_m</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="JuegoWindow.crear_nueva_mision-1578"><a href="#JuegoWindow.crear_nueva_mision-1578"><span class="linenos">1578</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tex_condi</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="JuegoWindow.crear_nueva_mision-1579"><a href="#JuegoWindow.crear_nueva_mision-1579"><span class="linenos">1579</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">recom_m</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="JuegoWindow.crear_nueva_mision-1580"><a href="#JuegoWindow.crear_nueva_mision-1580"><span class="linenos">1580</span></a>
</span><span id="JuegoWindow.crear_nueva_mision-1581"><a href="#JuegoWindow.crear_nueva_mision-1581"><span class="linenos">1581</span></a>        
</span><span id="JuegoWindow.crear_nueva_mision-1582"><a href="#JuegoWindow.crear_nueva_mision-1582"><span class="linenos">1582</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Misión Creada&#39;</span><span class="p">,</span> <span class="s1">&#39;La nueva misión ha sido creada y guardada en la base de datos.&#39;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Crea una nueva misión y la guarda en la colección <code>evento</code> en Firestore.</p>

<p>Este método toma los datos de los campos de texto de la misión, los valida, y los guarda en la colección <code>evento</code>.
Luego, limpia los campos de entrada y muestra un mensaje de éxito.</p>

<p><strong>Ejemplo de uso</strong>:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="bp">self</span><span class="o">.</span><span class="n">crear_nueva_mision</span><span class="p">()</span>
</code></pre>
</div>

<p><strong>Manejo de Errores</strong>:</p>

<ul>
<li>Muestra un mensaje de advertencia si algún campo está vacío.</li>
<li>Muestra un mensaje de éxito cuando la misión se crea y se guarda correctamente.</li>
<li>Maneja errores durante la adición de la misión a Firestore y muestra un mensaje de error si ocurre una excepción.</li>
</ul>

<p><strong>Notas</strong>:</p>

<ul>
<li><code>name_m</code>, <code>descrip_m</code>, <code>tex_condi</code>, y <code>recom_m</code> deben ser <code>QTextEdit</code> o widgets similares con texto que no esté vacío.</li>
</ul>
</div>


                            </div>
                            <div id="JuegoWindow.show_pagina_4" class="classattr">
                                        <input id="JuegoWindow.show_pagina_4-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">show_pagina_4</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.show_pagina_4-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.show_pagina_4"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.show_pagina_4-1585"><a href="#JuegoWindow.show_pagina_4-1585"><span class="linenos">1585</span></a>    <span class="k">def</span> <span class="nf">show_pagina_4</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow.show_pagina_4-1586"><a href="#JuegoWindow.show_pagina_4-1586"><span class="linenos">1586</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.show_pagina_4-1587"><a href="#JuegoWindow.show_pagina_4-1587"><span class="linenos">1587</span></a><span class="sd">        Muestra la `pagina_4` en el `QStackedWidget` y agrega una tabla de personajes si no está agregada.</span>
</span><span id="JuegoWindow.show_pagina_4-1588"><a href="#JuegoWindow.show_pagina_4-1588"><span class="linenos">1588</span></a>
</span><span id="JuegoWindow.show_pagina_4-1589"><a href="#JuegoWindow.show_pagina_4-1589"><span class="linenos">1589</span></a><span class="sd">        Este método cambia la vista actual del `QStackedWidget` a la página de índice `pagina_4` y agrega la tabla de </span>
</span><span id="JuegoWindow.show_pagina_4-1590"><a href="#JuegoWindow.show_pagina_4-1590"><span class="linenos">1590</span></a><span class="sd">        personajes solo si aún no se ha agregado.</span>
</span><span id="JuegoWindow.show_pagina_4-1591"><a href="#JuegoWindow.show_pagina_4-1591"><span class="linenos">1591</span></a>
</span><span id="JuegoWindow.show_pagina_4-1592"><a href="#JuegoWindow.show_pagina_4-1592"><span class="linenos">1592</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow.show_pagina_4-1593"><a href="#JuegoWindow.show_pagina_4-1593"><span class="linenos">1593</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow.show_pagina_4-1594"><a href="#JuegoWindow.show_pagina_4-1594"><span class="linenos">1594</span></a><span class="sd">        self.show_pagina_4()</span>
</span><span id="JuegoWindow.show_pagina_4-1595"><a href="#JuegoWindow.show_pagina_4-1595"><span class="linenos">1595</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow.show_pagina_4-1596"><a href="#JuegoWindow.show_pagina_4-1596"><span class="linenos">1596</span></a>
</span><span id="JuegoWindow.show_pagina_4-1597"><a href="#JuegoWindow.show_pagina_4-1597"><span class="linenos">1597</span></a><span class="sd">        **Notas**:</span>
</span><span id="JuegoWindow.show_pagina_4-1598"><a href="#JuegoWindow.show_pagina_4-1598"><span class="linenos">1598</span></a><span class="sd">        - Asegúrate de que `pagina_4` esté correctamente añadida al `QStackedWidget`.</span>
</span><span id="JuegoWindow.show_pagina_4-1599"><a href="#JuegoWindow.show_pagina_4-1599"><span class="linenos">1599</span></a><span class="sd">        - `self.tabla_personajes_agregada` debe ser un atributo booleano inicializado en `False`.</span>
</span><span id="JuegoWindow.show_pagina_4-1600"><a href="#JuegoWindow.show_pagina_4-1600"><span class="linenos">1600</span></a>
</span><span id="JuegoWindow.show_pagina_4-1601"><a href="#JuegoWindow.show_pagina_4-1601"><span class="linenos">1601</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="JuegoWindow.show_pagina_4-1602"><a href="#JuegoWindow.show_pagina_4-1602"><span class="linenos">1602</span></a><span class="sd">        - La tabla de personajes debe ser añadida a un diseño de `pagina_4`.</span>
</span><span id="JuegoWindow.show_pagina_4-1603"><a href="#JuegoWindow.show_pagina_4-1603"><span class="linenos">1603</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.show_pagina_4-1604"><a href="#JuegoWindow.show_pagina_4-1604"><span class="linenos">1604</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stackedWidget</span><span class="o">.</span><span class="n">setCurrentWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pagina_4</span><span class="p">)</span>
</span><span id="JuegoWindow.show_pagina_4-1605"><a href="#JuegoWindow.show_pagina_4-1605"><span class="linenos">1605</span></a>
</span><span id="JuegoWindow.show_pagina_4-1606"><a href="#JuegoWindow.show_pagina_4-1606"><span class="linenos">1606</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes_agregada</span><span class="p">:</span>
</span><span id="JuegoWindow.show_pagina_4-1607"><a href="#JuegoWindow.show_pagina_4-1607"><span class="linenos">1607</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">agregar_tabla_personajes</span><span class="p">()</span>
</span><span id="JuegoWindow.show_pagina_4-1608"><a href="#JuegoWindow.show_pagina_4-1608"><span class="linenos">1608</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes_agregada</span> <span class="o">=</span> <span class="kc">True</span>
</span></pre></div>


            <div class="docstring"><p>Muestra la <code>pagina_4</code> en el <code>QStackedWidget</code> y agrega una tabla de personajes si no está agregada.</p>

<p>Este método cambia la vista actual del <code>QStackedWidget</code> a la página de índice <code>pagina_4</code> y agrega la tabla de 
personajes solo si aún no se ha agregado.</p>

<p><strong>Ejemplo de uso</strong>:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="bp">self</span><span class="o">.</span><span class="n">show_pagina_4</span><span class="p">()</span>
</code></pre>
</div>

<p><strong>Notas</strong>:</p>

<ul>
<li>Asegúrate de que <code>pagina_4</code> esté correctamente añadida al <code>QStackedWidget</code>.</li>
<li><code>self.tabla_personajes_agregada</code> debe ser un atributo booleano inicializado en <code>False</code>.</li>
</ul>

<p><strong>Errores Comunes</strong>:</p>

<ul>
<li>La tabla de personajes debe ser añadida a un diseño de <code>pagina_4</code>.</li>
</ul>
</div>


                            </div>
                            <div id="JuegoWindow.show_pagina_3" class="classattr">
                                        <input id="JuegoWindow.show_pagina_3-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">show_pagina_3</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.show_pagina_3-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.show_pagina_3"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.show_pagina_3-1611"><a href="#JuegoWindow.show_pagina_3-1611"><span class="linenos">1611</span></a>    <span class="k">def</span> <span class="nf">show_pagina_3</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow.show_pagina_3-1612"><a href="#JuegoWindow.show_pagina_3-1612"><span class="linenos">1612</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.show_pagina_3-1613"><a href="#JuegoWindow.show_pagina_3-1613"><span class="linenos">1613</span></a><span class="sd">        Muestra la `pagina_3` en el `QStackedWidget` y llama al método `cambio_etapa`.</span>
</span><span id="JuegoWindow.show_pagina_3-1614"><a href="#JuegoWindow.show_pagina_3-1614"><span class="linenos">1614</span></a>
</span><span id="JuegoWindow.show_pagina_3-1615"><a href="#JuegoWindow.show_pagina_3-1615"><span class="linenos">1615</span></a><span class="sd">        Este método cambia la vista actual del `QStackedWidget` a la página de índice `pagina_3` y realiza una </span>
</span><span id="JuegoWindow.show_pagina_3-1616"><a href="#JuegoWindow.show_pagina_3-1616"><span class="linenos">1616</span></a><span class="sd">        actualización basada en la selección del `comboBox_2`.</span>
</span><span id="JuegoWindow.show_pagina_3-1617"><a href="#JuegoWindow.show_pagina_3-1617"><span class="linenos">1617</span></a>
</span><span id="JuegoWindow.show_pagina_3-1618"><a href="#JuegoWindow.show_pagina_3-1618"><span class="linenos">1618</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow.show_pagina_3-1619"><a href="#JuegoWindow.show_pagina_3-1619"><span class="linenos">1619</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow.show_pagina_3-1620"><a href="#JuegoWindow.show_pagina_3-1620"><span class="linenos">1620</span></a><span class="sd">        self.show_pagina_3()</span>
</span><span id="JuegoWindow.show_pagina_3-1621"><a href="#JuegoWindow.show_pagina_3-1621"><span class="linenos">1621</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow.show_pagina_3-1622"><a href="#JuegoWindow.show_pagina_3-1622"><span class="linenos">1622</span></a>
</span><span id="JuegoWindow.show_pagina_3-1623"><a href="#JuegoWindow.show_pagina_3-1623"><span class="linenos">1623</span></a><span class="sd">        **Notas**:</span>
</span><span id="JuegoWindow.show_pagina_3-1624"><a href="#JuegoWindow.show_pagina_3-1624"><span class="linenos">1624</span></a><span class="sd">        - Asegúrate de que `pagina_3` esté correctamente añadida al `QStackedWidget`.</span>
</span><span id="JuegoWindow.show_pagina_3-1625"><a href="#JuegoWindow.show_pagina_3-1625"><span class="linenos">1625</span></a><span class="sd">        - `cambio_etapa` debe ser un método definido en la clase para manejar la selección del `comboBox_2`.</span>
</span><span id="JuegoWindow.show_pagina_3-1626"><a href="#JuegoWindow.show_pagina_3-1626"><span class="linenos">1626</span></a>
</span><span id="JuegoWindow.show_pagina_3-1627"><a href="#JuegoWindow.show_pagina_3-1627"><span class="linenos">1627</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="JuegoWindow.show_pagina_3-1628"><a href="#JuegoWindow.show_pagina_3-1628"><span class="linenos">1628</span></a><span class="sd">        - `comboBox_2` debe ser un widget `QComboBox` válido en `pagina_3`.</span>
</span><span id="JuegoWindow.show_pagina_3-1629"><a href="#JuegoWindow.show_pagina_3-1629"><span class="linenos">1629</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.show_pagina_3-1630"><a href="#JuegoWindow.show_pagina_3-1630"><span class="linenos">1630</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stackedWidget</span><span class="o">.</span><span class="n">setCurrentWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pagina_3</span><span class="p">)</span>
</span><span id="JuegoWindow.show_pagina_3-1631"><a href="#JuegoWindow.show_pagina_3-1631"><span class="linenos">1631</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cambio_etapa</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Muestra la <code>pagina_3</code> en el <code>QStackedWidget</code> y llama al método <code><a href="#JuegoWindow.cambio_etapa">cambio_etapa</a></code>.</p>

<p>Este método cambia la vista actual del <code>QStackedWidget</code> a la página de índice <code>pagina_3</code> y realiza una 
actualización basada en la selección del <code>comboBox_2</code>.</p>

<p><strong>Ejemplo de uso</strong>:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="bp">self</span><span class="o">.</span><span class="n">show_pagina_3</span><span class="p">()</span>
</code></pre>
</div>

<p><strong>Notas</strong>:</p>

<ul>
<li>Asegúrate de que <code>pagina_3</code> esté correctamente añadida al <code>QStackedWidget</code>.</li>
<li><code><a href="#JuegoWindow.cambio_etapa">cambio_etapa</a></code> debe ser un método definido en la clase para manejar la selección del <code>comboBox_2</code>.</li>
</ul>

<p><strong>Errores Comunes</strong>:</p>

<ul>
<li><code>comboBox_2</code> debe ser un widget <code>QComboBox</code> válido en <code>pagina_3</code>.</li>
</ul>
</div>


                            </div>
                            <div id="JuegoWindow.cambio_etapa" class="classattr">
                                        <input id="JuegoWindow.cambio_etapa-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">cambio_etapa</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.cambio_etapa-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.cambio_etapa"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.cambio_etapa-1633"><a href="#JuegoWindow.cambio_etapa-1633"><span class="linenos">1633</span></a>    <span class="k">def</span> <span class="nf">cambio_etapa</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow.cambio_etapa-1634"><a href="#JuegoWindow.cambio_etapa-1634"><span class="linenos">1634</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.cambio_etapa-1635"><a href="#JuegoWindow.cambio_etapa-1635"><span class="linenos">1635</span></a><span class="sd">        Actualiza la animación del QLabel `inicio_p` basado en la selección del `comboBox_2`.</span>
</span><span id="JuegoWindow.cambio_etapa-1636"><a href="#JuegoWindow.cambio_etapa-1636"><span class="linenos">1636</span></a>
</span><span id="JuegoWindow.cambio_etapa-1637"><a href="#JuegoWindow.cambio_etapa-1637"><span class="linenos">1637</span></a><span class="sd">        Este método obtiene el índice seleccionado en `comboBox_2`, detiene cualquier animación actual en `inicio_p`,</span>
</span><span id="JuegoWindow.cambio_etapa-1638"><a href="#JuegoWindow.cambio_etapa-1638"><span class="linenos">1638</span></a><span class="sd">        y establece una nueva animación basada en el índice seleccionado.</span>
</span><span id="JuegoWindow.cambio_etapa-1639"><a href="#JuegoWindow.cambio_etapa-1639"><span class="linenos">1639</span></a>
</span><span id="JuegoWindow.cambio_etapa-1640"><a href="#JuegoWindow.cambio_etapa-1640"><span class="linenos">1640</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow.cambio_etapa-1641"><a href="#JuegoWindow.cambio_etapa-1641"><span class="linenos">1641</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow.cambio_etapa-1642"><a href="#JuegoWindow.cambio_etapa-1642"><span class="linenos">1642</span></a><span class="sd">        self.cambio_etapa()</span>
</span><span id="JuegoWindow.cambio_etapa-1643"><a href="#JuegoWindow.cambio_etapa-1643"><span class="linenos">1643</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow.cambio_etapa-1644"><a href="#JuegoWindow.cambio_etapa-1644"><span class="linenos">1644</span></a>
</span><span id="JuegoWindow.cambio_etapa-1645"><a href="#JuegoWindow.cambio_etapa-1645"><span class="linenos">1645</span></a><span class="sd">        **Notas**:</span>
</span><span id="JuegoWindow.cambio_etapa-1646"><a href="#JuegoWindow.cambio_etapa-1646"><span class="linenos">1646</span></a><span class="sd">        - `comboBox_2` debe ser un widget `QComboBox` con varias opciones.</span>
</span><span id="JuegoWindow.cambio_etapa-1647"><a href="#JuegoWindow.cambio_etapa-1647"><span class="linenos">1647</span></a><span class="sd">        - `self.animations` debe ser un diccionario que mapea índices de `comboBox_2` a rutas de archivos GIF.</span>
</span><span id="JuegoWindow.cambio_etapa-1648"><a href="#JuegoWindow.cambio_etapa-1648"><span class="linenos">1648</span></a>
</span><span id="JuegoWindow.cambio_etapa-1649"><a href="#JuegoWindow.cambio_etapa-1649"><span class="linenos">1649</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="JuegoWindow.cambio_etapa-1650"><a href="#JuegoWindow.cambio_etapa-1650"><span class="linenos">1650</span></a><span class="sd">        - Asegúrate de que `self.animations` esté correctamente configurado con rutas válidas de archivos GIF.</span>
</span><span id="JuegoWindow.cambio_etapa-1651"><a href="#JuegoWindow.cambio_etapa-1651"><span class="linenos">1651</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.cambio_etapa-1652"><a href="#JuegoWindow.cambio_etapa-1652"><span class="linenos">1652</span></a>        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">comboBox_2</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">()</span>
</span><span id="JuegoWindow.cambio_etapa-1653"><a href="#JuegoWindow.cambio_etapa-1653"><span class="linenos">1653</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ComboBox index changed to: </span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># Mensaje de depuración</span>
</span><span id="JuegoWindow.cambio_etapa-1654"><a href="#JuegoWindow.cambio_etapa-1654"><span class="linenos">1654</span></a>
</span><span id="JuegoWindow.cambio_etapa-1655"><a href="#JuegoWindow.cambio_etapa-1655"><span class="linenos">1655</span></a>        <span class="c1"># Detiene cualquier animación actual en el QLabel</span>
</span><span id="JuegoWindow.cambio_etapa-1656"><a href="#JuegoWindow.cambio_etapa-1656"><span class="linenos">1656</span></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;movie&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">movie</span><span class="p">:</span>
</span><span id="JuegoWindow.cambio_etapa-1657"><a href="#JuegoWindow.cambio_etapa-1657"><span class="linenos">1657</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">movie</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</span><span id="JuegoWindow.cambio_etapa-1658"><a href="#JuegoWindow.cambio_etapa-1658"><span class="linenos">1658</span></a>        
</span><span id="JuegoWindow.cambio_etapa-1659"><a href="#JuegoWindow.cambio_etapa-1659"><span class="linenos">1659</span></a>        <span class="c1"># Establece el nuevo GIF basado en la selección del QComboBox_2</span>
</span><span id="JuegoWindow.cambio_etapa-1660"><a href="#JuegoWindow.cambio_etapa-1660"><span class="linenos">1660</span></a>        <span class="n">gif_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">animations</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
</span><span id="JuegoWindow.cambio_etapa-1661"><a href="#JuegoWindow.cambio_etapa-1661"><span class="linenos">1661</span></a>        <span class="k">if</span> <span class="n">gif_path</span><span class="p">:</span>
</span><span id="JuegoWindow.cambio_etapa-1662"><a href="#JuegoWindow.cambio_etapa-1662"><span class="linenos">1662</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Loading GIF: </span><span class="si">{</span><span class="n">gif_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># Mensaje de depuración</span>
</span><span id="JuegoWindow.cambio_etapa-1663"><a href="#JuegoWindow.cambio_etapa-1663"><span class="linenos">1663</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">movie</span> <span class="o">=</span> <span class="n">QMovie</span><span class="p">(</span><span class="n">gif_path</span><span class="p">)</span>
</span><span id="JuegoWindow.cambio_etapa-1664"><a href="#JuegoWindow.cambio_etapa-1664"><span class="linenos">1664</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">inicio_p</span><span class="o">.</span><span class="n">setMovie</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">movie</span><span class="p">)</span>
</span><span id="JuegoWindow.cambio_etapa-1665"><a href="#JuegoWindow.cambio_etapa-1665"><span class="linenos">1665</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">movie</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</span><span id="JuegoWindow.cambio_etapa-1666"><a href="#JuegoWindow.cambio_etapa-1666"><span class="linenos">1666</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="JuegoWindow.cambio_etapa-1667"><a href="#JuegoWindow.cambio_etapa-1667"><span class="linenos">1667</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">inicio_p</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Actualiza la animación del QLabel <code>inicio_p</code> basado en la selección del <code>comboBox_2</code>.</p>

<p>Este método obtiene el índice seleccionado en <code>comboBox_2</code>, detiene cualquier animación actual en <code>inicio_p</code>,
y establece una nueva animación basada en el índice seleccionado.</p>

<p><strong>Ejemplo de uso</strong>:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="bp">self</span><span class="o">.</span><span class="n">cambio_etapa</span><span class="p">()</span>
</code></pre>
</div>

<p><strong>Notas</strong>:</p>

<ul>
<li><code>comboBox_2</code> debe ser un widget <code>QComboBox</code> con varias opciones.</li>
<li><code>self.animations</code> debe ser un diccionario que mapea índices de <code>comboBox_2</code> a rutas de archivos GIF.</li>
</ul>

<p><strong>Errores Comunes</strong>:</p>

<ul>
<li>Asegúrate de que <code>self.animations</code> esté correctamente configurado con rutas válidas de archivos GIF.</li>
</ul>
</div>


                            </div>
                            <div id="JuegoWindow.show_pagina_5" class="classattr">
                                        <input id="JuegoWindow.show_pagina_5-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">show_pagina_5</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.show_pagina_5-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.show_pagina_5"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.show_pagina_5-1669"><a href="#JuegoWindow.show_pagina_5-1669"><span class="linenos">1669</span></a>    <span class="k">def</span> <span class="nf">show_pagina_5</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow.show_pagina_5-1670"><a href="#JuegoWindow.show_pagina_5-1670"><span class="linenos">1670</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.show_pagina_5-1671"><a href="#JuegoWindow.show_pagina_5-1671"><span class="linenos">1671</span></a><span class="sd">        Muestra la `pagina_5` en el `QStackedWidget`.</span>
</span><span id="JuegoWindow.show_pagina_5-1672"><a href="#JuegoWindow.show_pagina_5-1672"><span class="linenos">1672</span></a>
</span><span id="JuegoWindow.show_pagina_5-1673"><a href="#JuegoWindow.show_pagina_5-1673"><span class="linenos">1673</span></a><span class="sd">        Este método cambia la vista actual del `QStackedWidget` a la página de índice `pagina_5`.</span>
</span><span id="JuegoWindow.show_pagina_5-1674"><a href="#JuegoWindow.show_pagina_5-1674"><span class="linenos">1674</span></a>
</span><span id="JuegoWindow.show_pagina_5-1675"><a href="#JuegoWindow.show_pagina_5-1675"><span class="linenos">1675</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow.show_pagina_5-1676"><a href="#JuegoWindow.show_pagina_5-1676"><span class="linenos">1676</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow.show_pagina_5-1677"><a href="#JuegoWindow.show_pagina_5-1677"><span class="linenos">1677</span></a><span class="sd">        self.show_pagina_5()</span>
</span><span id="JuegoWindow.show_pagina_5-1678"><a href="#JuegoWindow.show_pagina_5-1678"><span class="linenos">1678</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow.show_pagina_5-1679"><a href="#JuegoWindow.show_pagina_5-1679"><span class="linenos">1679</span></a>
</span><span id="JuegoWindow.show_pagina_5-1680"><a href="#JuegoWindow.show_pagina_5-1680"><span class="linenos">1680</span></a><span class="sd">        **Notas**:</span>
</span><span id="JuegoWindow.show_pagina_5-1681"><a href="#JuegoWindow.show_pagina_5-1681"><span class="linenos">1681</span></a><span class="sd">        - Asegúrate de que `pagina_5` esté correctamente añadida al `QStackedWidget`.</span>
</span><span id="JuegoWindow.show_pagina_5-1682"><a href="#JuegoWindow.show_pagina_5-1682"><span class="linenos">1682</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.show_pagina_5-1683"><a href="#JuegoWindow.show_pagina_5-1683"><span class="linenos">1683</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">stackedWidget</span><span class="o">.</span><span class="n">setCurrentWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pagina_5</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Muestra la <code>pagina_5</code> en el <code>QStackedWidget</code>.</p>

<p>Este método cambia la vista actual del <code>QStackedWidget</code> a la página de índice <code>pagina_5</code>.</p>

<p><strong>Ejemplo de uso</strong>:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="bp">self</span><span class="o">.</span><span class="n">show_pagina_5</span><span class="p">()</span>
</code></pre>
</div>

<p><strong>Notas</strong>:</p>

<ul>
<li>Asegúrate de que <code>pagina_5</code> esté correctamente añadida al <code>QStackedWidget</code>.</li>
</ul>
</div>


                            </div>
                            <div id="JuegoWindow.agregar_tabla_personajes" class="classattr">
                                        <input id="JuegoWindow.agregar_tabla_personajes-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">agregar_tabla_personajes</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.agregar_tabla_personajes-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.agregar_tabla_personajes"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.agregar_tabla_personajes-1686"><a href="#JuegoWindow.agregar_tabla_personajes-1686"><span class="linenos">1686</span></a>    <span class="k">def</span> <span class="nf">agregar_tabla_personajes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1687"><a href="#JuegoWindow.agregar_tabla_personajes-1687"><span class="linenos">1687</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1688"><a href="#JuegoWindow.agregar_tabla_personajes-1688"><span class="linenos">1688</span></a><span class="sd">        Crea y agrega una tabla de personajes a `pagina_4`.</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1689"><a href="#JuegoWindow.agregar_tabla_personajes-1689"><span class="linenos">1689</span></a>
</span><span id="JuegoWindow.agregar_tabla_personajes-1690"><a href="#JuegoWindow.agregar_tabla_personajes-1690"><span class="linenos">1690</span></a><span class="sd">        Este método crea un `QTableWidget` con 7 columnas para mostrar detalles de personajes y los agrega a `pagina_4`.</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1691"><a href="#JuegoWindow.agregar_tabla_personajes-1691"><span class="linenos">1691</span></a><span class="sd">        También aplica un estilo a la tabla para que coincida con el diseño visual del resto de la aplicación.</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1692"><a href="#JuegoWindow.agregar_tabla_personajes-1692"><span class="linenos">1692</span></a>
</span><span id="JuegoWindow.agregar_tabla_personajes-1693"><a href="#JuegoWindow.agregar_tabla_personajes-1693"><span class="linenos">1693</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1694"><a href="#JuegoWindow.agregar_tabla_personajes-1694"><span class="linenos">1694</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1695"><a href="#JuegoWindow.agregar_tabla_personajes-1695"><span class="linenos">1695</span></a><span class="sd">        self.agregar_tabla_personajes()</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1696"><a href="#JuegoWindow.agregar_tabla_personajes-1696"><span class="linenos">1696</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1697"><a href="#JuegoWindow.agregar_tabla_personajes-1697"><span class="linenos">1697</span></a>
</span><span id="JuegoWindow.agregar_tabla_personajes-1698"><a href="#JuegoWindow.agregar_tabla_personajes-1698"><span class="linenos">1698</span></a><span class="sd">        **Notas**:</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1699"><a href="#JuegoWindow.agregar_tabla_personajes-1699"><span class="linenos">1699</span></a><span class="sd">        - Asegúrate de que `pagina_4` tenga un diseño adecuado para contener la tabla de personajes.</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1700"><a href="#JuegoWindow.agregar_tabla_personajes-1700"><span class="linenos">1700</span></a><span class="sd">        - `self.tabla_personajes_agregada` debe ser un atributo booleano inicializado en `False`.</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1701"><a href="#JuegoWindow.agregar_tabla_personajes-1701"><span class="linenos">1701</span></a>
</span><span id="JuegoWindow.agregar_tabla_personajes-1702"><a href="#JuegoWindow.agregar_tabla_personajes-1702"><span class="linenos">1702</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1703"><a href="#JuegoWindow.agregar_tabla_personajes-1703"><span class="linenos">1703</span></a><span class="sd">        - `self.tabla_personajes` debe ser una instancia de `QTableWidget`.</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1704"><a href="#JuegoWindow.agregar_tabla_personajes-1704"><span class="linenos">1704</span></a><span class="sd">        - Asegúrate de que `self.tabla_personajes` se haya configurado correctamente antes de añadirlo a `pagina_4`.</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1705"><a href="#JuegoWindow.agregar_tabla_personajes-1705"><span class="linenos">1705</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1706"><a href="#JuegoWindow.agregar_tabla_personajes-1706"><span class="linenos">1706</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span> <span class="o">=</span> <span class="n">QTableWidget</span><span class="p">()</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1707"><a href="#JuegoWindow.agregar_tabla_personajes-1707"><span class="linenos">1707</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setColumnCount</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1708"><a href="#JuegoWindow.agregar_tabla_personajes-1708"><span class="linenos">1708</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setHorizontalHeaderLabels</span><span class="p">([</span><span class="s2">&quot;Nombre&quot;</span><span class="p">,</span> <span class="s2">&quot;Nivel&quot;</span><span class="p">,</span> <span class="s2">&quot;Raza&quot;</span><span class="p">,</span> <span class="s2">&quot;Habilidades&quot;</span><span class="p">,</span> <span class="s2">&quot;Poderes&quot;</span><span class="p">,</span> <span class="s2">&quot;Equipamiento&quot;</span><span class="p">,</span> <span class="s2">&quot;Modificar&quot;</span><span class="p">])</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1709"><a href="#JuegoWindow.agregar_tabla_personajes-1709"><span class="linenos">1709</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">actualizar_tabla_personajes</span><span class="p">()</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1710"><a href="#JuegoWindow.agregar_tabla_personajes-1710"><span class="linenos">1710</span></a>
</span><span id="JuegoWindow.agregar_tabla_personajes-1711"><a href="#JuegoWindow.agregar_tabla_personajes-1711"><span class="linenos">1711</span></a>        <span class="c1"># Estilo para la tabla</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1712"><a href="#JuegoWindow.agregar_tabla_personajes-1712"><span class="linenos">1712</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1713"><a href="#JuegoWindow.agregar_tabla_personajes-1713"><span class="linenos">1713</span></a><span class="s2">            QTableWidget {</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1714"><a href="#JuegoWindow.agregar_tabla_personajes-1714"><span class="linenos">1714</span></a><span class="s2">                border: 2px solid red; /* Borde exterior rojo */</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1715"><a href="#JuegoWindow.agregar_tabla_personajes-1715"><span class="linenos">1715</span></a><span class="s2">                border-radius: 5px; /* Esquinas redondeadas */</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1716"><a href="#JuegoWindow.agregar_tabla_personajes-1716"><span class="linenos">1716</span></a><span class="s2">                padding: 5px; /* Espaciado interno */</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1717"><a href="#JuegoWindow.agregar_tabla_personajes-1717"><span class="linenos">1717</span></a><span class="s2">            }</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1718"><a href="#JuegoWindow.agregar_tabla_personajes-1718"><span class="linenos">1718</span></a><span class="s2">            QHeaderView::section {</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1719"><a href="#JuegoWindow.agregar_tabla_personajes-1719"><span class="linenos">1719</span></a><span class="s2">                background-color: #DCE8F5; /* Color de fondo de las cabeceras */</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1720"><a href="#JuegoWindow.agregar_tabla_personajes-1720"><span class="linenos">1720</span></a><span class="s2">                color: #000000; /* Color del texto en las cabeceras */</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1721"><a href="#JuegoWindow.agregar_tabla_personajes-1721"><span class="linenos">1721</span></a><span class="s2">                padding: 10px; /* Espaciado interno de las cabeceras */</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1722"><a href="#JuegoWindow.agregar_tabla_personajes-1722"><span class="linenos">1722</span></a><span class="s2">                border: 1px solid #a0a0a0; /* Borde de las cabeceras */</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1723"><a href="#JuegoWindow.agregar_tabla_personajes-1723"><span class="linenos">1723</span></a><span class="s2">            }</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1724"><a href="#JuegoWindow.agregar_tabla_personajes-1724"><span class="linenos">1724</span></a><span class="s2">            QPushButton {</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1725"><a href="#JuegoWindow.agregar_tabla_personajes-1725"><span class="linenos">1725</span></a><span class="s2">                background-color: #FFD700; /* Color de fondo dorado */</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1726"><a href="#JuegoWindow.agregar_tabla_personajes-1726"><span class="linenos">1726</span></a><span class="s2">                color: #000000; /* Color del texto */</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1727"><a href="#JuegoWindow.agregar_tabla_personajes-1727"><span class="linenos">1727</span></a><span class="s2">                border: 2px solid #DAA520; /* Borde dorado oscuro */</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1728"><a href="#JuegoWindow.agregar_tabla_personajes-1728"><span class="linenos">1728</span></a><span class="s2">                border-radius: 5px; /* Esquinas redondeadas */</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1729"><a href="#JuegoWindow.agregar_tabla_personajes-1729"><span class="linenos">1729</span></a><span class="s2">                padding: 12px 20px; /* Espaciado interno del botón */</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1730"><a href="#JuegoWindow.agregar_tabla_personajes-1730"><span class="linenos">1730</span></a><span class="s2">                font-weight: bold; /* Texto en negrita */</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1731"><a href="#JuegoWindow.agregar_tabla_personajes-1731"><span class="linenos">1731</span></a><span class="s2">                min-width: 120px; /* Ancho mínimo del botón */</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1732"><a href="#JuegoWindow.agregar_tabla_personajes-1732"><span class="linenos">1732</span></a><span class="s2">                text-align: center; /* Alinear el texto al centro */</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1733"><a href="#JuegoWindow.agregar_tabla_personajes-1733"><span class="linenos">1733</span></a><span class="s2">            }</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1734"><a href="#JuegoWindow.agregar_tabla_personajes-1734"><span class="linenos">1734</span></a><span class="s2">            QPushButton:hover {</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1735"><a href="#JuegoWindow.agregar_tabla_personajes-1735"><span class="linenos">1735</span></a><span class="s2">                background-color: #FFC107; /* Color de fondo dorado al pasar el ratón */</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1736"><a href="#JuegoWindow.agregar_tabla_personajes-1736"><span class="linenos">1736</span></a><span class="s2">            }</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1737"><a href="#JuegoWindow.agregar_tabla_personajes-1737"><span class="linenos">1737</span></a><span class="s2">            QPushButton:pressed {</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1738"><a href="#JuegoWindow.agregar_tabla_personajes-1738"><span class="linenos">1738</span></a><span class="s2">                background-color: #FFA000; /* Color de fondo dorado oscuro al presionar */</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1739"><a href="#JuegoWindow.agregar_tabla_personajes-1739"><span class="linenos">1739</span></a><span class="s2">            }</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1740"><a href="#JuegoWindow.agregar_tabla_personajes-1740"><span class="linenos">1740</span></a><span class="s2">        &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1741"><a href="#JuegoWindow.agregar_tabla_personajes-1741"><span class="linenos">1741</span></a>
</span><span id="JuegoWindow.agregar_tabla_personajes-1742"><a href="#JuegoWindow.agregar_tabla_personajes-1742"><span class="linenos">1742</span></a>        <span class="n">layout</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pagina_4</span><span class="o">.</span><span class="n">layout</span><span class="p">()</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1743"><a href="#JuegoWindow.agregar_tabla_personajes-1743"><span class="linenos">1743</span></a>        <span class="k">if</span> <span class="n">layout</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1744"><a href="#JuegoWindow.agregar_tabla_personajes-1744"><span class="linenos">1744</span></a>            <span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pagina_4</span><span class="p">)</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1745"><a href="#JuegoWindow.agregar_tabla_personajes-1745"><span class="linenos">1745</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">pagina_4</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1746"><a href="#JuegoWindow.agregar_tabla_personajes-1746"><span class="linenos">1746</span></a>        
</span><span id="JuegoWindow.agregar_tabla_personajes-1747"><a href="#JuegoWindow.agregar_tabla_personajes-1747"><span class="linenos">1747</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">layout</span><span class="p">,</span> <span class="n">QVBoxLayout</span><span class="p">):</span>
</span><span id="JuegoWindow.agregar_tabla_personajes-1748"><a href="#JuegoWindow.agregar_tabla_personajes-1748"><span class="linenos">1748</span></a>            <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Crea y agrega una tabla de personajes a <code>pagina_4</code>.</p>

<p>Este método crea un <code>QTableWidget</code> con 7 columnas para mostrar detalles de personajes y los agrega a <code>pagina_4</code>.
También aplica un estilo a la tabla para que coincida con el diseño visual del resto de la aplicación.</p>

<p><strong>Ejemplo de uso</strong>:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="bp">self</span><span class="o">.</span><span class="n">agregar_tabla_personajes</span><span class="p">()</span>
</code></pre>
</div>

<p><strong>Notas</strong>:</p>

<ul>
<li>Asegúrate de que <code>pagina_4</code> tenga un diseño adecuado para contener la tabla de personajes.</li>
<li><code>self.tabla_personajes_agregada</code> debe ser un atributo booleano inicializado en <code>False</code>.</li>
</ul>

<p><strong>Errores Comunes</strong>:</p>

<ul>
<li><code>self.tabla_personajes</code> debe ser una instancia de <code>QTableWidget</code>.</li>
<li>Asegúrate de que <code>self.tabla_personajes</code> se haya configurado correctamente antes de añadirlo a <code>pagina_4</code>.</li>
</ul>
</div>


                            </div>
                            <div id="JuegoWindow.actualizar_tabla_personajes" class="classattr">
                                        <input id="JuegoWindow.actualizar_tabla_personajes-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">actualizar_tabla_personajes</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.actualizar_tabla_personajes-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.actualizar_tabla_personajes"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.actualizar_tabla_personajes-1751"><a href="#JuegoWindow.actualizar_tabla_personajes-1751"><span class="linenos">1751</span></a>    <span class="k">def</span> <span class="nf">actualizar_tabla_personajes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1752"><a href="#JuegoWindow.actualizar_tabla_personajes-1752"><span class="linenos">1752</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1753"><a href="#JuegoWindow.actualizar_tabla_personajes-1753"><span class="linenos">1753</span></a><span class="sd">        Actualiza la tabla de personajes en `pagina_4` con datos de la colección `personajes` en Firestore.</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1754"><a href="#JuegoWindow.actualizar_tabla_personajes-1754"><span class="linenos">1754</span></a>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1755"><a href="#JuegoWindow.actualizar_tabla_personajes-1755"><span class="linenos">1755</span></a><span class="sd">        Este método recupera los datos de todos los personajes, los muestra en una tabla, y agrega un botón de modificación a cada fila.</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1756"><a href="#JuegoWindow.actualizar_tabla_personajes-1756"><span class="linenos">1756</span></a>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1757"><a href="#JuegoWindow.actualizar_tabla_personajes-1757"><span class="linenos">1757</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1758"><a href="#JuegoWindow.actualizar_tabla_personajes-1758"><span class="linenos">1758</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1759"><a href="#JuegoWindow.actualizar_tabla_personajes-1759"><span class="linenos">1759</span></a><span class="sd">        self.actualizar_tabla_personajes()</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1760"><a href="#JuegoWindow.actualizar_tabla_personajes-1760"><span class="linenos">1760</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1761"><a href="#JuegoWindow.actualizar_tabla_personajes-1761"><span class="linenos">1761</span></a>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1762"><a href="#JuegoWindow.actualizar_tabla_personajes-1762"><span class="linenos">1762</span></a><span class="sd">        **Notas**:</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1763"><a href="#JuegoWindow.actualizar_tabla_personajes-1763"><span class="linenos">1763</span></a><span class="sd">        - `self.tabla_personajes` debe ser un `QTableWidget` con 7 columnas: Nombre, Nivel, Raza, Habilidades, Poderes, Equipamiento, Modificar.</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1764"><a href="#JuegoWindow.actualizar_tabla_personajes-1764"><span class="linenos">1764</span></a><span class="sd">        - El campo `habilidades` se convierte de un diccionario a una cadena de texto en el formato `&quot;Habilidad: valor\n&quot;`.</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1765"><a href="#JuegoWindow.actualizar_tabla_personajes-1765"><span class="linenos">1765</span></a><span class="sd">        - El campo `poderes` también se convierte de un diccionario a una cadena de texto en el mismo formato.</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1766"><a href="#JuegoWindow.actualizar_tabla_personajes-1766"><span class="linenos">1766</span></a>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1767"><a href="#JuegoWindow.actualizar_tabla_personajes-1767"><span class="linenos">1767</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1768"><a href="#JuegoWindow.actualizar_tabla_personajes-1768"><span class="linenos">1768</span></a><span class="sd">        - Asegúrate de que `self.tabla_personajes` esté correctamente inicializado antes de llamar a este método.</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1769"><a href="#JuegoWindow.actualizar_tabla_personajes-1769"><span class="linenos">1769</span></a><span class="sd">        - Verifica que los datos en Firestore estén en el formato correcto.</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1770"><a href="#JuegoWindow.actualizar_tabla_personajes-1770"><span class="linenos">1770</span></a>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1771"><a href="#JuegoWindow.actualizar_tabla_personajes-1771"><span class="linenos">1771</span></a><span class="sd">        **Modificaciones**:</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1772"><a href="#JuegoWindow.actualizar_tabla_personajes-1772"><span class="linenos">1772</span></a><span class="sd">        - Asegúrate de que las habilidades y poderes estén en el formato adecuado para mostrarse en la tabla.</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1773"><a href="#JuegoWindow.actualizar_tabla_personajes-1773"><span class="linenos">1773</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1774"><a href="#JuegoWindow.actualizar_tabla_personajes-1774"><span class="linenos">1774</span></a>        <span class="n">personajes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">recuperar_personajes</span><span class="p">()</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1775"><a href="#JuegoWindow.actualizar_tabla_personajes-1775"><span class="linenos">1775</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">personajes</span><span class="p">))</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1776"><a href="#JuegoWindow.actualizar_tabla_personajes-1776"><span class="linenos">1776</span></a>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">personaje</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">personajes</span><span class="p">):</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1777"><a href="#JuegoWindow.actualizar_tabla_personajes-1777"><span class="linenos">1777</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nombre&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))))</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1778"><a href="#JuegoWindow.actualizar_tabla_personajes-1778"><span class="linenos">1778</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nivel&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))))</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1779"><a href="#JuegoWindow.actualizar_tabla_personajes-1779"><span class="linenos">1779</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;raza&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))))</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1780"><a href="#JuegoWindow.actualizar_tabla_personajes-1780"><span class="linenos">1780</span></a>            
</span><span id="JuegoWindow.actualizar_tabla_personajes-1781"><a href="#JuegoWindow.actualizar_tabla_personajes-1781"><span class="linenos">1781</span></a>            <span class="c1"># Mostrar habilidades como una cadena concatenada</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1782"><a href="#JuegoWindow.actualizar_tabla_personajes-1782"><span class="linenos">1782</span></a>            <span class="n">habilidades</span> <span class="o">=</span> <span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;habilidades&quot;</span><span class="p">,</span> <span class="p">{})</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1783"><a href="#JuegoWindow.actualizar_tabla_personajes-1783"><span class="linenos">1783</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">habilidades</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1784"><a href="#JuegoWindow.actualizar_tabla_personajes-1784"><span class="linenos">1784</span></a>                <span class="n">habilidades_texto</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">habilidades</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1785"><a href="#JuegoWindow.actualizar_tabla_personajes-1785"><span class="linenos">1785</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1786"><a href="#JuegoWindow.actualizar_tabla_personajes-1786"><span class="linenos">1786</span></a>                <span class="n">habilidades_texto</span> <span class="o">=</span> <span class="n">habilidades</span>  <span class="c1"># Asumimos que es una cadena ya formateada</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1787"><a href="#JuegoWindow.actualizar_tabla_personajes-1787"><span class="linenos">1787</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">habilidades_texto</span><span class="p">))</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1788"><a href="#JuegoWindow.actualizar_tabla_personajes-1788"><span class="linenos">1788</span></a>            
</span><span id="JuegoWindow.actualizar_tabla_personajes-1789"><a href="#JuegoWindow.actualizar_tabla_personajes-1789"><span class="linenos">1789</span></a>            <span class="c1"># Mostrar poderes como una cadena concatenada</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1790"><a href="#JuegoWindow.actualizar_tabla_personajes-1790"><span class="linenos">1790</span></a>            <span class="n">poderes</span> <span class="o">=</span> <span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;poderes&quot;</span><span class="p">,</span> <span class="p">{})</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1791"><a href="#JuegoWindow.actualizar_tabla_personajes-1791"><span class="linenos">1791</span></a>            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">poderes</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1792"><a href="#JuegoWindow.actualizar_tabla_personajes-1792"><span class="linenos">1792</span></a>                <span class="n">poderes_texto</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">poderes</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1793"><a href="#JuegoWindow.actualizar_tabla_personajes-1793"><span class="linenos">1793</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1794"><a href="#JuegoWindow.actualizar_tabla_personajes-1794"><span class="linenos">1794</span></a>                <span class="n">poderes_texto</span> <span class="o">=</span> <span class="n">poderes</span>  <span class="c1"># Asumimos que es una cadena ya formateada</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1795"><a href="#JuegoWindow.actualizar_tabla_personajes-1795"><span class="linenos">1795</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">poderes_texto</span><span class="p">))</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1796"><a href="#JuegoWindow.actualizar_tabla_personajes-1796"><span class="linenos">1796</span></a>            
</span><span id="JuegoWindow.actualizar_tabla_personajes-1797"><a href="#JuegoWindow.actualizar_tabla_personajes-1797"><span class="linenos">1797</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">personaje</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;equipamiento&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))))</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1798"><a href="#JuegoWindow.actualizar_tabla_personajes-1798"><span class="linenos">1798</span></a>            
</span><span id="JuegoWindow.actualizar_tabla_personajes-1799"><a href="#JuegoWindow.actualizar_tabla_personajes-1799"><span class="linenos">1799</span></a>            <span class="c1"># Añadir botón de modificar</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1800"><a href="#JuegoWindow.actualizar_tabla_personajes-1800"><span class="linenos">1800</span></a>            <span class="n">btn_modificar</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Modificar&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1801"><a href="#JuegoWindow.actualizar_tabla_personajes-1801"><span class="linenos">1801</span></a>            <span class="n">btn_modificar</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1802"><a href="#JuegoWindow.actualizar_tabla_personajes-1802"><span class="linenos">1802</span></a><span class="s2">                QPushButton {</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1803"><a href="#JuegoWindow.actualizar_tabla_personajes-1803"><span class="linenos">1803</span></a><span class="s2">                    background-color: #FFD700; /* Color de fondo dorado */</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1804"><a href="#JuegoWindow.actualizar_tabla_personajes-1804"><span class="linenos">1804</span></a><span class="s2">                    color: #000000; /* Color del texto */</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1805"><a href="#JuegoWindow.actualizar_tabla_personajes-1805"><span class="linenos">1805</span></a><span class="s2">                    border: 2px solid #DAA520; /* Borde dorado oscuro */</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1806"><a href="#JuegoWindow.actualizar_tabla_personajes-1806"><span class="linenos">1806</span></a><span class="s2">                    border-radius: 5px; /* Esquinas redondeadas */</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1807"><a href="#JuegoWindow.actualizar_tabla_personajes-1807"><span class="linenos">1807</span></a><span class="s2">                    padding: 12px 20px; /* Espaciado interno del botón */</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1808"><a href="#JuegoWindow.actualizar_tabla_personajes-1808"><span class="linenos">1808</span></a><span class="s2">                    font-weight: bold; /* Texto en negrita */</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1809"><a href="#JuegoWindow.actualizar_tabla_personajes-1809"><span class="linenos">1809</span></a><span class="s2">                    min-width: 120px; /* Ancho mínimo del botón */</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1810"><a href="#JuegoWindow.actualizar_tabla_personajes-1810"><span class="linenos">1810</span></a><span class="s2">                    text-align: center; /* Alinear el texto al centro */</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1811"><a href="#JuegoWindow.actualizar_tabla_personajes-1811"><span class="linenos">1811</span></a><span class="s2">                }</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1812"><a href="#JuegoWindow.actualizar_tabla_personajes-1812"><span class="linenos">1812</span></a><span class="s2">                QPushButton:hover {</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1813"><a href="#JuegoWindow.actualizar_tabla_personajes-1813"><span class="linenos">1813</span></a><span class="s2">                    background-color: #FFC107; /* Color de fondo dorado al pasar el ratón */</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1814"><a href="#JuegoWindow.actualizar_tabla_personajes-1814"><span class="linenos">1814</span></a><span class="s2">                }</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1815"><a href="#JuegoWindow.actualizar_tabla_personajes-1815"><span class="linenos">1815</span></a><span class="s2">                QPushButton:pressed {</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1816"><a href="#JuegoWindow.actualizar_tabla_personajes-1816"><span class="linenos">1816</span></a><span class="s2">                    background-color: #FFA000; /* Color de fondo dorado oscuro al presionar */</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1817"><a href="#JuegoWindow.actualizar_tabla_personajes-1817"><span class="linenos">1817</span></a><span class="s2">                }</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1818"><a href="#JuegoWindow.actualizar_tabla_personajes-1818"><span class="linenos">1818</span></a><span class="s2">            &quot;&quot;&quot;</span><span class="p">)</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1819"><a href="#JuegoWindow.actualizar_tabla_personajes-1819"><span class="linenos">1819</span></a>            <span class="n">btn_modificar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span> <span class="n">_</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="n">i</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">modificar_personaje</span><span class="p">(</span><span class="n">row</span><span class="p">))</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1820"><a href="#JuegoWindow.actualizar_tabla_personajes-1820"><span class="linenos">1820</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setCellWidget</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">btn_modificar</span><span class="p">)</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1821"><a href="#JuegoWindow.actualizar_tabla_personajes-1821"><span class="linenos">1821</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">setRowHeight</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>  <span class="c1"># Asegúrate de que haya suficiente altura para el botón</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1822"><a href="#JuegoWindow.actualizar_tabla_personajes-1822"><span class="linenos">1822</span></a>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1823"><a href="#JuegoWindow.actualizar_tabla_personajes-1823"><span class="linenos">1823</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">resizeColumnsToContents</span><span class="p">()</span>
</span><span id="JuegoWindow.actualizar_tabla_personajes-1824"><a href="#JuegoWindow.actualizar_tabla_personajes-1824"><span class="linenos">1824</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">horizontalHeader</span><span class="p">()</span><span class="o">.</span><span class="n">setSectionResizeMode</span><span class="p">(</span><span class="n">QHeaderView</span><span class="o">.</span><span class="n">Stretch</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Actualiza la tabla de personajes en <code>pagina_4</code> con datos de la colección <code>personajes</code> en Firestore.</p>

<pre><code>    Este método recupera los datos de todos los personajes, los muestra en una tabla, y agrega un botón de modificación a cada fila.

    **Ejemplo de uso**:
    &lt;div class="pdoc-code codehilite"&gt;
    &lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;actualizar_tabla_personajes&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;


    **Notas**:
    - `self.tabla_personajes` debe ser un `QTableWidget` con 7 columnas: Nombre, Nivel, Raza, Habilidades, Poderes, Equipamiento, Modificar.
    - El campo `habilidades` se convierte de un diccionario a una cadena de texto en el formato `"Habilidad: valor
</code></pre>

<p>"<code>.
        - El campo</code>poderes` también se convierte de un diccionario a una cadena de texto en el mismo formato.</p>

<pre><code>    **Errores Comunes**:
    - Asegúrate de que `self.tabla_personajes` esté correctamente inicializado antes de llamar a este método.
    - Verifica que los datos en Firestore estén en el formato correcto.

    **Modificaciones**:
    - Asegúrate de que las habilidades y poderes estén en el formato adecuado para mostrarse en la tabla.
</code></pre>
</div>


                            </div>
                            <div id="JuegoWindow.recuperar_personajes" class="classattr">
                                        <input id="JuegoWindow.recuperar_personajes-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">recuperar_personajes</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.recuperar_personajes-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.recuperar_personajes"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.recuperar_personajes-1828"><a href="#JuegoWindow.recuperar_personajes-1828"><span class="linenos">1828</span></a>    <span class="k">def</span> <span class="nf">recuperar_personajes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow.recuperar_personajes-1829"><a href="#JuegoWindow.recuperar_personajes-1829"><span class="linenos">1829</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.recuperar_personajes-1830"><a href="#JuegoWindow.recuperar_personajes-1830"><span class="linenos">1830</span></a><span class="sd">        Recupera todos los personajes de la colección `personajes` en Firestore.</span>
</span><span id="JuegoWindow.recuperar_personajes-1831"><a href="#JuegoWindow.recuperar_personajes-1831"><span class="linenos">1831</span></a>
</span><span id="JuegoWindow.recuperar_personajes-1832"><a href="#JuegoWindow.recuperar_personajes-1832"><span class="linenos">1832</span></a><span class="sd">        Este método recupera los documentos de personajes y devuelve una lista de diccionarios que representan los personajes.</span>
</span><span id="JuegoWindow.recuperar_personajes-1833"><a href="#JuegoWindow.recuperar_personajes-1833"><span class="linenos">1833</span></a>
</span><span id="JuegoWindow.recuperar_personajes-1834"><a href="#JuegoWindow.recuperar_personajes-1834"><span class="linenos">1834</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow.recuperar_personajes-1835"><a href="#JuegoWindow.recuperar_personajes-1835"><span class="linenos">1835</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow.recuperar_personajes-1836"><a href="#JuegoWindow.recuperar_personajes-1836"><span class="linenos">1836</span></a><span class="sd">        personajes = self.recuperar_personajes()</span>
</span><span id="JuegoWindow.recuperar_personajes-1837"><a href="#JuegoWindow.recuperar_personajes-1837"><span class="linenos">1837</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow.recuperar_personajes-1838"><a href="#JuegoWindow.recuperar_personajes-1838"><span class="linenos">1838</span></a>
</span><span id="JuegoWindow.recuperar_personajes-1839"><a href="#JuegoWindow.recuperar_personajes-1839"><span class="linenos">1839</span></a><span class="sd">        **Notas**:</span>
</span><span id="JuegoWindow.recuperar_personajes-1840"><a href="#JuegoWindow.recuperar_personajes-1840"><span class="linenos">1840</span></a><span class="sd">        - Cada diccionario incluye el ID del documento (`personaje[&#39;id&#39;]`) para futuras referencias.</span>
</span><span id="JuegoWindow.recuperar_personajes-1841"><a href="#JuegoWindow.recuperar_personajes-1841"><span class="linenos">1841</span></a><span class="sd">        - Asegúrate de que la colección `personajes` exista en Firestore y contenga documentos válidos.</span>
</span><span id="JuegoWindow.recuperar_personajes-1842"><a href="#JuegoWindow.recuperar_personajes-1842"><span class="linenos">1842</span></a>
</span><span id="JuegoWindow.recuperar_personajes-1843"><a href="#JuegoWindow.recuperar_personajes-1843"><span class="linenos">1843</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="JuegoWindow.recuperar_personajes-1844"><a href="#JuegoWindow.recuperar_personajes-1844"><span class="linenos">1844</span></a><span class="sd">        - Verifica la conexión a Firestore y que la colección `personajes` esté correctamente configurada.</span>
</span><span id="JuegoWindow.recuperar_personajes-1845"><a href="#JuegoWindow.recuperar_personajes-1845"><span class="linenos">1845</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.recuperar_personajes-1846"><a href="#JuegoWindow.recuperar_personajes-1846"><span class="linenos">1846</span></a>        <span class="n">personajes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="JuegoWindow.recuperar_personajes-1847"><a href="#JuegoWindow.recuperar_personajes-1847"><span class="linenos">1847</span></a>        <span class="n">docs</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s2">&quot;personajes&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">stream</span><span class="p">()</span>
</span><span id="JuegoWindow.recuperar_personajes-1848"><a href="#JuegoWindow.recuperar_personajes-1848"><span class="linenos">1848</span></a>        <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">docs</span><span class="p">:</span>
</span><span id="JuegoWindow.recuperar_personajes-1849"><a href="#JuegoWindow.recuperar_personajes-1849"><span class="linenos">1849</span></a>            <span class="n">personaje</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</span><span id="JuegoWindow.recuperar_personajes-1850"><a href="#JuegoWindow.recuperar_personajes-1850"><span class="linenos">1850</span></a>            <span class="n">personaje</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">id</span>  <span class="c1"># Agregar el ID del documento para futuras referencias</span>
</span><span id="JuegoWindow.recuperar_personajes-1851"><a href="#JuegoWindow.recuperar_personajes-1851"><span class="linenos">1851</span></a>            <span class="n">personajes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">personaje</span><span class="p">)</span>
</span><span id="JuegoWindow.recuperar_personajes-1852"><a href="#JuegoWindow.recuperar_personajes-1852"><span class="linenos">1852</span></a>        <span class="k">return</span> <span class="n">personajes</span>
</span></pre></div>


            <div class="docstring"><p>Recupera todos los personajes de la colección <code>personajes</code> en Firestore.</p>

<p>Este método recupera los documentos de personajes y devuelve una lista de diccionarios que representan los personajes.</p>

<p><strong>Ejemplo de uso</strong>:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="n">personajes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">recuperar_personajes</span><span class="p">()</span>
</code></pre>
</div>

<p><strong>Notas</strong>:</p>

<ul>
<li>Cada diccionario incluye el ID del documento (<code>personaje['id']</code>) para futuras referencias.</li>
<li>Asegúrate de que la colección <code>personajes</code> exista en Firestore y contenga documentos válidos.</li>
</ul>

<p><strong>Errores Comunes</strong>:</p>

<ul>
<li>Verifica la conexión a Firestore y que la colección <code>personajes</code> esté correctamente configurada.</li>
</ul>
</div>


                            </div>
                            <div id="JuegoWindow.modificar_personaje" class="classattr">
                                        <input id="JuegoWindow.modificar_personaje-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">modificar_personaje</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">row</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.modificar_personaje-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.modificar_personaje"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.modificar_personaje-1855"><a href="#JuegoWindow.modificar_personaje-1855"><span class="linenos">1855</span></a>    <span class="k">def</span> <span class="nf">modificar_personaje</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">row</span><span class="p">):</span>
</span><span id="JuegoWindow.modificar_personaje-1856"><a href="#JuegoWindow.modificar_personaje-1856"><span class="linenos">1856</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.modificar_personaje-1857"><a href="#JuegoWindow.modificar_personaje-1857"><span class="linenos">1857</span></a><span class="sd">        Modifica los datos del personaje en la fila seleccionada de la tabla y actualiza la base de datos.</span>
</span><span id="JuegoWindow.modificar_personaje-1858"><a href="#JuegoWindow.modificar_personaje-1858"><span class="linenos">1858</span></a>
</span><span id="JuegoWindow.modificar_personaje-1859"><a href="#JuegoWindow.modificar_personaje-1859"><span class="linenos">1859</span></a><span class="sd">        Este método obtiene los datos de la fila seleccionada, actualiza el personaje correspondiente en Firestore, </span>
</span><span id="JuegoWindow.modificar_personaje-1860"><a href="#JuegoWindow.modificar_personaje-1860"><span class="linenos">1860</span></a><span class="sd">        y muestra un mensaje de éxito.</span>
</span><span id="JuegoWindow.modificar_personaje-1861"><a href="#JuegoWindow.modificar_personaje-1861"><span class="linenos">1861</span></a>
</span><span id="JuegoWindow.modificar_personaje-1862"><a href="#JuegoWindow.modificar_personaje-1862"><span class="linenos">1862</span></a><span class="sd">        **Parámetros**:</span>
</span><span id="JuegoWindow.modificar_personaje-1863"><a href="#JuegoWindow.modificar_personaje-1863"><span class="linenos">1863</span></a><span class="sd">        - `row`: El índice de la fila seleccionada en la tabla de personajes.</span>
</span><span id="JuegoWindow.modificar_personaje-1864"><a href="#JuegoWindow.modificar_personaje-1864"><span class="linenos">1864</span></a>
</span><span id="JuegoWindow.modificar_personaje-1865"><a href="#JuegoWindow.modificar_personaje-1865"><span class="linenos">1865</span></a><span class="sd">        **Ejemplo de uso**:</span>
</span><span id="JuegoWindow.modificar_personaje-1866"><a href="#JuegoWindow.modificar_personaje-1866"><span class="linenos">1866</span></a><span class="sd">        ```python</span>
</span><span id="JuegoWindow.modificar_personaje-1867"><a href="#JuegoWindow.modificar_personaje-1867"><span class="linenos">1867</span></a><span class="sd">        self.modificar_personaje(row)</span>
</span><span id="JuegoWindow.modificar_personaje-1868"><a href="#JuegoWindow.modificar_personaje-1868"><span class="linenos">1868</span></a><span class="sd">        ```</span>
</span><span id="JuegoWindow.modificar_personaje-1869"><a href="#JuegoWindow.modificar_personaje-1869"><span class="linenos">1869</span></a>
</span><span id="JuegoWindow.modificar_personaje-1870"><a href="#JuegoWindow.modificar_personaje-1870"><span class="linenos">1870</span></a><span class="sd">        **Notas**:</span>
</span><span id="JuegoWindow.modificar_personaje-1871"><a href="#JuegoWindow.modificar_personaje-1871"><span class="linenos">1871</span></a><span class="sd">        - Asegúrate de que la fila seleccionada corresponda a un personaje válido.</span>
</span><span id="JuegoWindow.modificar_personaje-1872"><a href="#JuegoWindow.modificar_personaje-1872"><span class="linenos">1872</span></a><span class="sd">        - Actualiza los campos `nombre`, `nivel`, `raza`, `habilidades`, `poderes` y `equipamiento` en Firestore.</span>
</span><span id="JuegoWindow.modificar_personaje-1873"><a href="#JuegoWindow.modificar_personaje-1873"><span class="linenos">1873</span></a>
</span><span id="JuegoWindow.modificar_personaje-1874"><a href="#JuegoWindow.modificar_personaje-1874"><span class="linenos">1874</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="JuegoWindow.modificar_personaje-1875"><a href="#JuegoWindow.modificar_personaje-1875"><span class="linenos">1875</span></a><span class="sd">        - Verifica que `self.tabla_personajes` tenga datos válidos en la fila seleccionada.</span>
</span><span id="JuegoWindow.modificar_personaje-1876"><a href="#JuegoWindow.modificar_personaje-1876"><span class="linenos">1876</span></a><span class="sd">        - Asegúrate de que los datos en la base de datos estén en el formato correcto.</span>
</span><span id="JuegoWindow.modificar_personaje-1877"><a href="#JuegoWindow.modificar_personaje-1877"><span class="linenos">1877</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.modificar_personaje-1878"><a href="#JuegoWindow.modificar_personaje-1878"><span class="linenos">1878</span></a>        <span class="n">personaje_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">recuperar_personajes</span><span class="p">()[</span><span class="n">row</span><span class="p">][</span><span class="s1">&#39;id&#39;</span><span class="p">]</span>  <span class="c1"># Obtener el ID del personaje de la fila seleccionada</span>
</span><span id="JuegoWindow.modificar_personaje-1879"><a href="#JuegoWindow.modificar_personaje-1879"><span class="linenos">1879</span></a>        <span class="n">nombre</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
</span><span id="JuegoWindow.modificar_personaje-1880"><a href="#JuegoWindow.modificar_personaje-1880"><span class="linenos">1880</span></a>        <span class="n">nivel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
</span><span id="JuegoWindow.modificar_personaje-1881"><a href="#JuegoWindow.modificar_personaje-1881"><span class="linenos">1881</span></a>        <span class="n">raza</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
</span><span id="JuegoWindow.modificar_personaje-1882"><a href="#JuegoWindow.modificar_personaje-1882"><span class="linenos">1882</span></a>        <span class="n">habilidades</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
</span><span id="JuegoWindow.modificar_personaje-1883"><a href="#JuegoWindow.modificar_personaje-1883"><span class="linenos">1883</span></a>        <span class="n">poderes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
</span><span id="JuegoWindow.modificar_personaje-1884"><a href="#JuegoWindow.modificar_personaje-1884"><span class="linenos">1884</span></a>        <span class="n">equipamiento</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tabla_personajes</span><span class="o">.</span><span class="n">item</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
</span><span id="JuegoWindow.modificar_personaje-1885"><a href="#JuegoWindow.modificar_personaje-1885"><span class="linenos">1885</span></a>        
</span><span id="JuegoWindow.modificar_personaje-1886"><a href="#JuegoWindow.modificar_personaje-1886"><span class="linenos">1886</span></a>        <span class="c1"># Actualizar los datos en la base de datos</span>
</span><span id="JuegoWindow.modificar_personaje-1887"><a href="#JuegoWindow.modificar_personaje-1887"><span class="linenos">1887</span></a>        <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s2">&quot;personajes&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">document</span><span class="p">(</span><span class="n">personaje_id</span><span class="p">)</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
</span><span id="JuegoWindow.modificar_personaje-1888"><a href="#JuegoWindow.modificar_personaje-1888"><span class="linenos">1888</span></a>            <span class="s2">&quot;nombre&quot;</span><span class="p">:</span> <span class="n">nombre</span><span class="p">,</span>
</span><span id="JuegoWindow.modificar_personaje-1889"><a href="#JuegoWindow.modificar_personaje-1889"><span class="linenos">1889</span></a>            <span class="s2">&quot;nivel&quot;</span><span class="p">:</span> <span class="n">nivel</span><span class="p">,</span>
</span><span id="JuegoWindow.modificar_personaje-1890"><a href="#JuegoWindow.modificar_personaje-1890"><span class="linenos">1890</span></a>            <span class="s2">&quot;raza&quot;</span><span class="p">:</span> <span class="n">raza</span><span class="p">,</span>
</span><span id="JuegoWindow.modificar_personaje-1891"><a href="#JuegoWindow.modificar_personaje-1891"><span class="linenos">1891</span></a>            <span class="s2">&quot;habilidades&quot;</span><span class="p">:</span> <span class="n">habilidades</span><span class="p">,</span>
</span><span id="JuegoWindow.modificar_personaje-1892"><a href="#JuegoWindow.modificar_personaje-1892"><span class="linenos">1892</span></a>            <span class="s2">&quot;poderes&quot;</span><span class="p">:</span> <span class="n">poderes</span><span class="p">,</span>
</span><span id="JuegoWindow.modificar_personaje-1893"><a href="#JuegoWindow.modificar_personaje-1893"><span class="linenos">1893</span></a>            <span class="s2">&quot;equipamiento&quot;</span><span class="p">:</span> <span class="n">equipamiento</span>
</span><span id="JuegoWindow.modificar_personaje-1894"><a href="#JuegoWindow.modificar_personaje-1894"><span class="linenos">1894</span></a>        <span class="p">})</span>
</span><span id="JuegoWindow.modificar_personaje-1895"><a href="#JuegoWindow.modificar_personaje-1895"><span class="linenos">1895</span></a>
</span><span id="JuegoWindow.modificar_personaje-1896"><a href="#JuegoWindow.modificar_personaje-1896"><span class="linenos">1896</span></a>        <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Éxito&#39;</span><span class="p">,</span> <span class="s1">&#39;Personaje modificado exitosamente.&#39;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Modifica los datos del personaje en la fila seleccionada de la tabla y actualiza la base de datos.</p>

<p>Este método obtiene los datos de la fila seleccionada, actualiza el personaje correspondiente en Firestore, 
y muestra un mensaje de éxito.</p>

<p><strong>Parámetros</strong>:</p>

<ul>
<li><code>row</code>: El índice de la fila seleccionada en la tabla de personajes.</li>
</ul>

<p><strong>Ejemplo de uso</strong>:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="bp">self</span><span class="o">.</span><span class="n">modificar_personaje</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
</code></pre>
</div>

<p><strong>Notas</strong>:</p>

<ul>
<li>Asegúrate de que la fila seleccionada corresponda a un personaje válido.</li>
<li>Actualiza los campos <code>nombre</code>, <code>nivel</code>, <code>raza</code>, <code>habilidades</code>, <code>poderes</code> y <code>equipamiento</code> en Firestore.</li>
</ul>

<p><strong>Errores Comunes</strong>:</p>

<ul>
<li>Verifica que <code>self.tabla_personajes</code> tenga datos válidos en la fila seleccionada.</li>
<li>Asegúrate de que los datos en la base de datos estén en el formato correcto.</li>
</ul>
</div>


                            </div>
                            <div id="JuegoWindow.load_mission" class="classattr">
                                        <input id="JuegoWindow.load_mission-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">load_mission</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="JuegoWindow.load_mission-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#JuegoWindow.load_mission"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="JuegoWindow.load_mission-1901"><a href="#JuegoWindow.load_mission-1901"><span class="linenos">1901</span></a>    <span class="k">def</span> <span class="nf">load_mission</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="JuegoWindow.load_mission-1902"><a href="#JuegoWindow.load_mission-1902"><span class="linenos">1902</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="JuegoWindow.load_mission-1903"><a href="#JuegoWindow.load_mission-1903"><span class="linenos">1903</span></a><span class="sd">        Carga una misión de la colección &#39;Mision&#39; en Firestore y muestra los detalles en `tex_vita`.</span>
</span><span id="JuegoWindow.load_mission-1904"><a href="#JuegoWindow.load_mission-1904"><span class="linenos">1904</span></a>
</span><span id="JuegoWindow.load_mission-1905"><a href="#JuegoWindow.load_mission-1905"><span class="linenos">1905</span></a><span class="sd">        Este método busca una misión basada en el nombre proporcionado en `b_ms`, y si se encuentra, muestra los detalles en `tex_vita`.</span>
</span><span id="JuegoWindow.load_mission-1906"><a href="#JuegoWindow.load_mission-1906"><span class="linenos">1906</span></a>
</span><span id="JuegoWindow.load_mission-1907"><a href="#JuegoWindow.load_mission-1907"><span class="linenos">1907</span></a><span class="sd">        **Notas**:</span>
</span><span id="JuegoWindow.load_mission-1908"><a href="#JuegoWindow.load_mission-1908"><span class="linenos">1908</span></a><span class="sd">        - `self.b_ms` es un `QLineEdit` donde el usuario introduce el nombre de la misión.</span>
</span><span id="JuegoWindow.load_mission-1909"><a href="#JuegoWindow.load_mission-1909"><span class="linenos">1909</span></a><span class="sd">        - `self.tex_vita` es un `QTextBrowser` donde se muestran los detalles de la misión.</span>
</span><span id="JuegoWindow.load_mission-1910"><a href="#JuegoWindow.load_mission-1910"><span class="linenos">1910</span></a><span class="sd">        - Asegúrate de que `b_ms` tenga el nombre de una misión existente.</span>
</span><span id="JuegoWindow.load_mission-1911"><a href="#JuegoWindow.load_mission-1911"><span class="linenos">1911</span></a>
</span><span id="JuegoWindow.load_mission-1912"><a href="#JuegoWindow.load_mission-1912"><span class="linenos">1912</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="JuegoWindow.load_mission-1913"><a href="#JuegoWindow.load_mission-1913"><span class="linenos">1913</span></a><span class="sd">        - Verifica que `self.b_ms.text().strip()` no esté vacío.</span>
</span><span id="JuegoWindow.load_mission-1914"><a href="#JuegoWindow.load_mission-1914"><span class="linenos">1914</span></a><span class="sd">        - Asegúrate de que `tex_vita` esté correctamente inicializado y visible en la interfaz.</span>
</span><span id="JuegoWindow.load_mission-1915"><a href="#JuegoWindow.load_mission-1915"><span class="linenos">1915</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="JuegoWindow.load_mission-1916"><a href="#JuegoWindow.load_mission-1916"><span class="linenos">1916</span></a>        <span class="n">mission_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">b_ms</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="JuegoWindow.load_mission-1917"><a href="#JuegoWindow.load_mission-1917"><span class="linenos">1917</span></a>
</span><span id="JuegoWindow.load_mission-1918"><a href="#JuegoWindow.load_mission-1918"><span class="linenos">1918</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">mission_name</span><span class="p">:</span>
</span><span id="JuegoWindow.load_mission-1919"><a href="#JuegoWindow.load_mission-1919"><span class="linenos">1919</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Introduce el nombre de la misión.&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.load_mission-1920"><a href="#JuegoWindow.load_mission-1920"><span class="linenos">1920</span></a>            <span class="k">return</span>
</span><span id="JuegoWindow.load_mission-1921"><a href="#JuegoWindow.load_mission-1921"><span class="linenos">1921</span></a>
</span><span id="JuegoWindow.load_mission-1922"><a href="#JuegoWindow.load_mission-1922"><span class="linenos">1922</span></a>        <span class="n">misiones_ref</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;Mision&#39;</span><span class="p">)</span>
</span><span id="JuegoWindow.load_mission-1923"><a href="#JuegoWindow.load_mission-1923"><span class="linenos">1923</span></a>        <span class="n">query</span> <span class="o">=</span> <span class="n">misiones_ref</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="s1">&#39;nombre&#39;</span><span class="p">,</span> <span class="s1">&#39;==&#39;</span><span class="p">,</span> <span class="n">mission_name</span><span class="p">)</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="JuegoWindow.load_mission-1924"><a href="#JuegoWindow.load_mission-1924"><span class="linenos">1924</span></a>        <span class="n">results</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">stream</span><span class="p">()</span>
</span><span id="JuegoWindow.load_mission-1925"><a href="#JuegoWindow.load_mission-1925"><span class="linenos">1925</span></a>
</span><span id="JuegoWindow.load_mission-1926"><a href="#JuegoWindow.load_mission-1926"><span class="linenos">1926</span></a>        <span class="n">mission_found</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># Bandera para verificar si encontramos la misión</span>
</span><span id="JuegoWindow.load_mission-1927"><a href="#JuegoWindow.load_mission-1927"><span class="linenos">1927</span></a>        <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
</span><span id="JuegoWindow.load_mission-1928"><a href="#JuegoWindow.load_mission-1928"><span class="linenos">1928</span></a>            <span class="n">mision</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
</span><span id="JuegoWindow.load_mission-1929"><a href="#JuegoWindow.load_mission-1929"><span class="linenos">1929</span></a>            <span class="n">evento_texto</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;&#39;&#39;</span>
</span><span id="JuegoWindow.load_mission-1930"><a href="#JuegoWindow.load_mission-1930"><span class="linenos">1930</span></a><span class="s1">                &lt;b&gt;Misión:&lt;/b&gt; </span><span class="si">{</span><span class="n">mision</span><span class="p">[</span><span class="s2">&quot;nombre&quot;</span><span class="p">]</span><span class="si">}</span>
</span><span id="JuegoWindow.load_mission-1931"><a href="#JuegoWindow.load_mission-1931"><span class="linenos">1931</span></a><span class="s1">                &lt;br&gt;&lt;b&gt;Descripción:&lt;/b&gt; </span><span class="si">{</span><span class="n">mision</span><span class="p">[</span><span class="s2">&quot;descripcion&quot;</span><span class="p">]</span><span class="si">}</span>
</span><span id="JuegoWindow.load_mission-1932"><a href="#JuegoWindow.load_mission-1932"><span class="linenos">1932</span></a><span class="s1">                &lt;br&gt;&lt;b&gt;Recompensa:&lt;/b&gt; </span><span class="si">{</span><span class="n">mision</span><span class="p">[</span><span class="s2">&quot;recompensa&quot;</span><span class="p">]</span><span class="si">}</span>
</span><span id="JuegoWindow.load_mission-1933"><a href="#JuegoWindow.load_mission-1933"><span class="linenos">1933</span></a><span class="s1">            &#39;&#39;&#39;</span>
</span><span id="JuegoWindow.load_mission-1934"><a href="#JuegoWindow.load_mission-1934"><span class="linenos">1934</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">tex_vita</span><span class="o">.</span><span class="n">setHtml</span><span class="p">(</span><span class="n">evento_texto</span><span class="p">)</span>  <span class="c1"># Usar setHtml para formato mejorado</span>
</span><span id="JuegoWindow.load_mission-1935"><a href="#JuegoWindow.load_mission-1935"><span class="linenos">1935</span></a>            <span class="n">mission_found</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="JuegoWindow.load_mission-1936"><a href="#JuegoWindow.load_mission-1936"><span class="linenos">1936</span></a>            <span class="k">break</span>  <span class="c1"># Salir del bucle después de encontrar la misión</span>
</span><span id="JuegoWindow.load_mission-1937"><a href="#JuegoWindow.load_mission-1937"><span class="linenos">1937</span></a>
</span><span id="JuegoWindow.load_mission-1938"><a href="#JuegoWindow.load_mission-1938"><span class="linenos">1938</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">mission_found</span><span class="p">:</span>
</span><span id="JuegoWindow.load_mission-1939"><a href="#JuegoWindow.load_mission-1939"><span class="linenos">1939</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Misión no encontrada.&#39;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Carga una misión de la colección 'Mision' en Firestore y muestra los detalles en <code>tex_vita</code>.</p>

<p>Este método busca una misión basada en el nombre proporcionado en <code>b_ms</code>, y si se encuentra, muestra los detalles en <code>tex_vita</code>.</p>

<p><strong>Notas</strong>:</p>

<ul>
<li><code>self.b_ms</code> es un <code>QLineEdit</code> donde el usuario introduce el nombre de la misión.</li>
<li><code>self.tex_vita</code> es un <code>QTextBrowser</code> donde se muestran los detalles de la misión.</li>
<li>Asegúrate de que <code>b_ms</code> tenga el nombre de una misión existente.</li>
</ul>

<p><strong>Errores Comunes</strong>:</p>

<ul>
<li>Verifica que <code>self.b_ms.text().strip()</code> no esté vacío.</li>
<li>Asegúrate de que <code>tex_vita</code> esté correctamente inicializado y visible en la interfaz.</li>
</ul>
</div>


                            </div>
                            <div id="JuegoWindow.staticMetaObject" class="classattr">
                                <div class="attr variable">
            <span class="name">staticMetaObject</span>        =
<span class="default_value">PySide6.QtCore.QMetaObject(&#34;JuegoWindow&#34; inherits &#34;QMainWindow&#34;:
)</span>

        
    </div>
    <a class="headerlink" href="#JuegoWindow.staticMetaObject"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>ui_juego.Ui_MainWindow</dt>
                                <dd id="JuegoWindow.setupUi" class="function">setupUi</dd>
                <dd id="JuegoWindow.retranslateUi" class="function">retranslateUi</dd>

            </div>
            <div><dt>PySide6.QtWidgets.QMainWindow</dt>
                                <dd id="JuegoWindow.addDockWidget" class="function">addDockWidget</dd>
                <dd id="JuegoWindow.addToolBar" class="function">addToolBar</dd>
                <dd id="JuegoWindow.addToolBarBreak" class="function">addToolBarBreak</dd>
                <dd id="JuegoWindow.centralWidget" class="function">centralWidget</dd>
                <dd id="JuegoWindow.contextMenuEvent" class="function">contextMenuEvent</dd>
                <dd id="JuegoWindow.corner" class="function">corner</dd>
                <dd id="JuegoWindow.createPopupMenu" class="function">createPopupMenu</dd>
                <dd id="JuegoWindow.dockOptions" class="function">dockOptions</dd>
                <dd id="JuegoWindow.dockWidgetArea" class="function">dockWidgetArea</dd>
                <dd id="JuegoWindow.documentMode" class="function">documentMode</dd>
                <dd id="JuegoWindow.event" class="function">event</dd>
                <dd id="JuegoWindow.iconSize" class="function">iconSize</dd>
                <dd id="JuegoWindow.insertToolBar" class="function">insertToolBar</dd>
                <dd id="JuegoWindow.insertToolBarBreak" class="function">insertToolBarBreak</dd>
                <dd id="JuegoWindow.isAnimated" class="function">isAnimated</dd>
                <dd id="JuegoWindow.isDockNestingEnabled" class="function">isDockNestingEnabled</dd>
                <dd id="JuegoWindow.isSeparator" class="function">isSeparator</dd>
                <dd id="JuegoWindow.menuBar" class="function">menuBar</dd>
                <dd id="JuegoWindow.menuWidget" class="function">menuWidget</dd>
                <dd id="JuegoWindow.removeDockWidget" class="function">removeDockWidget</dd>
                <dd id="JuegoWindow.removeToolBar" class="function">removeToolBar</dd>
                <dd id="JuegoWindow.removeToolBarBreak" class="function">removeToolBarBreak</dd>
                <dd id="JuegoWindow.resizeDocks" class="function">resizeDocks</dd>
                <dd id="JuegoWindow.restoreDockWidget" class="function">restoreDockWidget</dd>
                <dd id="JuegoWindow.restoreState" class="function">restoreState</dd>
                <dd id="JuegoWindow.saveState" class="function">saveState</dd>
                <dd id="JuegoWindow.setAnimated" class="function">setAnimated</dd>
                <dd id="JuegoWindow.setCentralWidget" class="function">setCentralWidget</dd>
                <dd id="JuegoWindow.setCorner" class="function">setCorner</dd>
                <dd id="JuegoWindow.setDockNestingEnabled" class="function">setDockNestingEnabled</dd>
                <dd id="JuegoWindow.setDockOptions" class="function">setDockOptions</dd>
                <dd id="JuegoWindow.setDocumentMode" class="function">setDocumentMode</dd>
                <dd id="JuegoWindow.setIconSize" class="function">setIconSize</dd>
                <dd id="JuegoWindow.setMenuBar" class="function">setMenuBar</dd>
                <dd id="JuegoWindow.setMenuWidget" class="function">setMenuWidget</dd>
                <dd id="JuegoWindow.setStatusBar" class="function">setStatusBar</dd>
                <dd id="JuegoWindow.setTabPosition" class="function">setTabPosition</dd>
                <dd id="JuegoWindow.setTabShape" class="function">setTabShape</dd>
                <dd id="JuegoWindow.setToolButtonStyle" class="function">setToolButtonStyle</dd>
                <dd id="JuegoWindow.setUnifiedTitleAndToolBarOnMac" class="function">setUnifiedTitleAndToolBarOnMac</dd>
                <dd id="JuegoWindow.splitDockWidget" class="function">splitDockWidget</dd>
                <dd id="JuegoWindow.statusBar" class="function">statusBar</dd>
                <dd id="JuegoWindow.tabPosition" class="function">tabPosition</dd>
                <dd id="JuegoWindow.tabShape" class="function">tabShape</dd>
                <dd id="JuegoWindow.tabifiedDockWidgets" class="function">tabifiedDockWidgets</dd>
                <dd id="JuegoWindow.tabifyDockWidget" class="function">tabifyDockWidget</dd>
                <dd id="JuegoWindow.takeCentralWidget" class="function">takeCentralWidget</dd>
                <dd id="JuegoWindow.toolBarArea" class="function">toolBarArea</dd>
                <dd id="JuegoWindow.toolBarBreak" class="function">toolBarBreak</dd>
                <dd id="JuegoWindow.toolButtonStyle" class="function">toolButtonStyle</dd>
                <dd id="JuegoWindow.unifiedTitleAndToolBarOnMac" class="function">unifiedTitleAndToolBarOnMac</dd>
                <dd id="JuegoWindow.DockOption" class="class">DockOption</dd>
                <dd id="JuegoWindow.iconSizeChanged" class="function">iconSizeChanged</dd>
                <dd id="JuegoWindow.toolButtonStyleChanged" class="function">toolButtonStyleChanged</dd>
                <dd id="JuegoWindow.tabifiedDockWidgetActivated" class="function">tabifiedDockWidgetActivated</dd>

            </div>
            <div><dt>PySide6.QtWidgets.QWidget</dt>
                                <dd id="JuegoWindow.acceptDrops" class="function">acceptDrops</dd>
                <dd id="JuegoWindow.accessibleDescription" class="function">accessibleDescription</dd>
                <dd id="JuegoWindow.accessibleName" class="function">accessibleName</dd>
                <dd id="JuegoWindow.actionEvent" class="function">actionEvent</dd>
                <dd id="JuegoWindow.actions" class="function">actions</dd>
                <dd id="JuegoWindow.activateWindow" class="function">activateWindow</dd>
                <dd id="JuegoWindow.addAction" class="function">addAction</dd>
                <dd id="JuegoWindow.addActions" class="function">addActions</dd>
                <dd id="JuegoWindow.adjustSize" class="function">adjustSize</dd>
                <dd id="JuegoWindow.autoFillBackground" class="function">autoFillBackground</dd>
                <dd id="JuegoWindow.backgroundRole" class="function">backgroundRole</dd>
                <dd id="JuegoWindow.backingStore" class="function">backingStore</dd>
                <dd id="JuegoWindow.baseSize" class="function">baseSize</dd>
                <dd id="JuegoWindow.changeEvent" class="function">changeEvent</dd>
                <dd id="JuegoWindow.childAt" class="function">childAt</dd>
                <dd id="JuegoWindow.childrenRect" class="function">childrenRect</dd>
                <dd id="JuegoWindow.childrenRegion" class="function">childrenRegion</dd>
                <dd id="JuegoWindow.clearFocus" class="function">clearFocus</dd>
                <dd id="JuegoWindow.clearMask" class="function">clearMask</dd>
                <dd id="JuegoWindow.close" class="function">close</dd>
                <dd id="JuegoWindow.closeEvent" class="function">closeEvent</dd>
                <dd id="JuegoWindow.contentsMargins" class="function">contentsMargins</dd>
                <dd id="JuegoWindow.contentsRect" class="function">contentsRect</dd>
                <dd id="JuegoWindow.contextMenuPolicy" class="function">contextMenuPolicy</dd>
                <dd id="JuegoWindow.create" class="function">create</dd>
                <dd id="JuegoWindow.createWinId" class="function">createWinId</dd>
                <dd id="JuegoWindow.createWindowContainer" class="function">createWindowContainer</dd>
                <dd id="JuegoWindow.cursor" class="function">cursor</dd>
                <dd id="JuegoWindow.destroy" class="function">destroy</dd>
                <dd id="JuegoWindow.devType" class="function">devType</dd>
                <dd id="JuegoWindow.dragEnterEvent" class="function">dragEnterEvent</dd>
                <dd id="JuegoWindow.dragLeaveEvent" class="function">dragLeaveEvent</dd>
                <dd id="JuegoWindow.dragMoveEvent" class="function">dragMoveEvent</dd>
                <dd id="JuegoWindow.dropEvent" class="function">dropEvent</dd>
                <dd id="JuegoWindow.effectiveWinId" class="function">effectiveWinId</dd>
                <dd id="JuegoWindow.ensurePolished" class="function">ensurePolished</dd>
                <dd id="JuegoWindow.enterEvent" class="function">enterEvent</dd>
                <dd id="JuegoWindow.find" class="function">find</dd>
                <dd id="JuegoWindow.focusInEvent" class="function">focusInEvent</dd>
                <dd id="JuegoWindow.focusNextChild" class="function">focusNextChild</dd>
                <dd id="JuegoWindow.focusNextPrevChild" class="function">focusNextPrevChild</dd>
                <dd id="JuegoWindow.focusOutEvent" class="function">focusOutEvent</dd>
                <dd id="JuegoWindow.focusPolicy" class="function">focusPolicy</dd>
                <dd id="JuegoWindow.focusPreviousChild" class="function">focusPreviousChild</dd>
                <dd id="JuegoWindow.focusProxy" class="function">focusProxy</dd>
                <dd id="JuegoWindow.focusWidget" class="function">focusWidget</dd>
                <dd id="JuegoWindow.font" class="function">font</dd>
                <dd id="JuegoWindow.fontInfo" class="function">fontInfo</dd>
                <dd id="JuegoWindow.fontMetrics" class="function">fontMetrics</dd>
                <dd id="JuegoWindow.foregroundRole" class="function">foregroundRole</dd>
                <dd id="JuegoWindow.frameGeometry" class="function">frameGeometry</dd>
                <dd id="JuegoWindow.frameSize" class="function">frameSize</dd>
                <dd id="JuegoWindow.geometry" class="function">geometry</dd>
                <dd id="JuegoWindow.grab" class="function">grab</dd>
                <dd id="JuegoWindow.grabGesture" class="function">grabGesture</dd>
                <dd id="JuegoWindow.grabKeyboard" class="function">grabKeyboard</dd>
                <dd id="JuegoWindow.grabMouse" class="function">grabMouse</dd>
                <dd id="JuegoWindow.grabShortcut" class="function">grabShortcut</dd>
                <dd id="JuegoWindow.graphicsEffect" class="function">graphicsEffect</dd>
                <dd id="JuegoWindow.graphicsProxyWidget" class="function">graphicsProxyWidget</dd>
                <dd id="JuegoWindow.hasFocus" class="function">hasFocus</dd>
                <dd id="JuegoWindow.hasHeightForWidth" class="function">hasHeightForWidth</dd>
                <dd id="JuegoWindow.hasMouseTracking" class="function">hasMouseTracking</dd>
                <dd id="JuegoWindow.hasTabletTracking" class="function">hasTabletTracking</dd>
                <dd id="JuegoWindow.height" class="function">height</dd>
                <dd id="JuegoWindow.heightForWidth" class="function">heightForWidth</dd>
                <dd id="JuegoWindow.hide" class="function">hide</dd>
                <dd id="JuegoWindow.hideEvent" class="function">hideEvent</dd>
                <dd id="JuegoWindow.initPainter" class="function">initPainter</dd>
                <dd id="JuegoWindow.inputMethodEvent" class="function">inputMethodEvent</dd>
                <dd id="JuegoWindow.inputMethodHints" class="function">inputMethodHints</dd>
                <dd id="JuegoWindow.inputMethodQuery" class="function">inputMethodQuery</dd>
                <dd id="JuegoWindow.insertAction" class="function">insertAction</dd>
                <dd id="JuegoWindow.insertActions" class="function">insertActions</dd>
                <dd id="JuegoWindow.internalWinId" class="function">internalWinId</dd>
                <dd id="JuegoWindow.isActiveWindow" class="function">isActiveWindow</dd>
                <dd id="JuegoWindow.isAncestorOf" class="function">isAncestorOf</dd>
                <dd id="JuegoWindow.isEnabled" class="function">isEnabled</dd>
                <dd id="JuegoWindow.isEnabledTo" class="function">isEnabledTo</dd>
                <dd id="JuegoWindow.isFullScreen" class="function">isFullScreen</dd>
                <dd id="JuegoWindow.isHidden" class="function">isHidden</dd>
                <dd id="JuegoWindow.isLeftToRight" class="function">isLeftToRight</dd>
                <dd id="JuegoWindow.isMaximized" class="function">isMaximized</dd>
                <dd id="JuegoWindow.isMinimized" class="function">isMinimized</dd>
                <dd id="JuegoWindow.isModal" class="function">isModal</dd>
                <dd id="JuegoWindow.isRightToLeft" class="function">isRightToLeft</dd>
                <dd id="JuegoWindow.isTopLevel" class="function">isTopLevel</dd>
                <dd id="JuegoWindow.isVisible" class="function">isVisible</dd>
                <dd id="JuegoWindow.isVisibleTo" class="function">isVisibleTo</dd>
                <dd id="JuegoWindow.isWindow" class="function">isWindow</dd>
                <dd id="JuegoWindow.isWindowModified" class="function">isWindowModified</dd>
                <dd id="JuegoWindow.keyPressEvent" class="function">keyPressEvent</dd>
                <dd id="JuegoWindow.keyReleaseEvent" class="function">keyReleaseEvent</dd>
                <dd id="JuegoWindow.keyboardGrabber" class="function">keyboardGrabber</dd>
                <dd id="JuegoWindow.layout" class="function">layout</dd>
                <dd id="JuegoWindow.layoutDirection" class="function">layoutDirection</dd>
                <dd id="JuegoWindow.leaveEvent" class="function">leaveEvent</dd>
                <dd id="JuegoWindow.locale" class="function">locale</dd>
                <dd id="JuegoWindow.lower" class="function">lower</dd>
                <dd id="JuegoWindow.mapFrom" class="function">mapFrom</dd>
                <dd id="JuegoWindow.mapFromGlobal" class="function">mapFromGlobal</dd>
                <dd id="JuegoWindow.mapFromParent" class="function">mapFromParent</dd>
                <dd id="JuegoWindow.mapTo" class="function">mapTo</dd>
                <dd id="JuegoWindow.mapToGlobal" class="function">mapToGlobal</dd>
                <dd id="JuegoWindow.mapToParent" class="function">mapToParent</dd>
                <dd id="JuegoWindow.mask" class="function">mask</dd>
                <dd id="JuegoWindow.maximumHeight" class="function">maximumHeight</dd>
                <dd id="JuegoWindow.maximumSize" class="function">maximumSize</dd>
                <dd id="JuegoWindow.maximumWidth" class="function">maximumWidth</dd>
                <dd id="JuegoWindow.metric" class="function">metric</dd>
                <dd id="JuegoWindow.minimumHeight" class="function">minimumHeight</dd>
                <dd id="JuegoWindow.minimumSize" class="function">minimumSize</dd>
                <dd id="JuegoWindow.minimumSizeHint" class="function">minimumSizeHint</dd>
                <dd id="JuegoWindow.minimumWidth" class="function">minimumWidth</dd>
                <dd id="JuegoWindow.mouseDoubleClickEvent" class="function">mouseDoubleClickEvent</dd>
                <dd id="JuegoWindow.mouseGrabber" class="function">mouseGrabber</dd>
                <dd id="JuegoWindow.mouseMoveEvent" class="function">mouseMoveEvent</dd>
                <dd id="JuegoWindow.mousePressEvent" class="function">mousePressEvent</dd>
                <dd id="JuegoWindow.mouseReleaseEvent" class="function">mouseReleaseEvent</dd>
                <dd id="JuegoWindow.move" class="function">move</dd>
                <dd id="JuegoWindow.moveEvent" class="function">moveEvent</dd>
                <dd id="JuegoWindow.nativeEvent" class="function">nativeEvent</dd>
                <dd id="JuegoWindow.nativeParentWidget" class="function">nativeParentWidget</dd>
                <dd id="JuegoWindow.nextInFocusChain" class="function">nextInFocusChain</dd>
                <dd id="JuegoWindow.normalGeometry" class="function">normalGeometry</dd>
                <dd id="JuegoWindow.overrideWindowFlags" class="function">overrideWindowFlags</dd>
                <dd id="JuegoWindow.overrideWindowState" class="function">overrideWindowState</dd>
                <dd id="JuegoWindow.paintEngine" class="function">paintEngine</dd>
                <dd id="JuegoWindow.paintEvent" class="function">paintEvent</dd>
                <dd id="JuegoWindow.palette" class="function">palette</dd>
                <dd id="JuegoWindow.parentWidget" class="function">parentWidget</dd>
                <dd id="JuegoWindow.pos" class="function">pos</dd>
                <dd id="JuegoWindow.previousInFocusChain" class="function">previousInFocusChain</dd>
                <dd id="JuegoWindow.raise_" class="function">raise_</dd>
                <dd id="JuegoWindow.rect" class="function">rect</dd>
                <dd id="JuegoWindow.redirected" class="function">redirected</dd>
                <dd id="JuegoWindow.releaseKeyboard" class="function">releaseKeyboard</dd>
                <dd id="JuegoWindow.releaseMouse" class="function">releaseMouse</dd>
                <dd id="JuegoWindow.releaseShortcut" class="function">releaseShortcut</dd>
                <dd id="JuegoWindow.removeAction" class="function">removeAction</dd>
                <dd id="JuegoWindow.render" class="function">render</dd>
                <dd id="JuegoWindow.repaint" class="function">repaint</dd>
                <dd id="JuegoWindow.resize" class="function">resize</dd>
                <dd id="JuegoWindow.resizeEvent" class="function">resizeEvent</dd>
                <dd id="JuegoWindow.restoreGeometry" class="function">restoreGeometry</dd>
                <dd id="JuegoWindow.saveGeometry" class="function">saveGeometry</dd>
                <dd id="JuegoWindow.screen" class="function">screen</dd>
                <dd id="JuegoWindow.scroll" class="function">scroll</dd>
                <dd id="JuegoWindow.setAcceptDrops" class="function">setAcceptDrops</dd>
                <dd id="JuegoWindow.setAccessibleDescription" class="function">setAccessibleDescription</dd>
                <dd id="JuegoWindow.setAccessibleName" class="function">setAccessibleName</dd>
                <dd id="JuegoWindow.setAttribute" class="function">setAttribute</dd>
                <dd id="JuegoWindow.setAutoFillBackground" class="function">setAutoFillBackground</dd>
                <dd id="JuegoWindow.setBackgroundRole" class="function">setBackgroundRole</dd>
                <dd id="JuegoWindow.setBaseSize" class="function">setBaseSize</dd>
                <dd id="JuegoWindow.setContentsMargins" class="function">setContentsMargins</dd>
                <dd id="JuegoWindow.setContextMenuPolicy" class="function">setContextMenuPolicy</dd>
                <dd id="JuegoWindow.setCursor" class="function">setCursor</dd>
                <dd id="JuegoWindow.setDisabled" class="function">setDisabled</dd>
                <dd id="JuegoWindow.setEnabled" class="function">setEnabled</dd>
                <dd id="JuegoWindow.setFixedHeight" class="function">setFixedHeight</dd>
                <dd id="JuegoWindow.setFixedSize" class="function">setFixedSize</dd>
                <dd id="JuegoWindow.setFixedWidth" class="function">setFixedWidth</dd>
                <dd id="JuegoWindow.setFocus" class="function">setFocus</dd>
                <dd id="JuegoWindow.setFocusPolicy" class="function">setFocusPolicy</dd>
                <dd id="JuegoWindow.setFocusProxy" class="function">setFocusProxy</dd>
                <dd id="JuegoWindow.setFont" class="function">setFont</dd>
                <dd id="JuegoWindow.setForegroundRole" class="function">setForegroundRole</dd>
                <dd id="JuegoWindow.setGeometry" class="function">setGeometry</dd>
                <dd id="JuegoWindow.setGraphicsEffect" class="function">setGraphicsEffect</dd>
                <dd id="JuegoWindow.setHidden" class="function">setHidden</dd>
                <dd id="JuegoWindow.setInputMethodHints" class="function">setInputMethodHints</dd>
                <dd id="JuegoWindow.setLayout" class="function">setLayout</dd>
                <dd id="JuegoWindow.setLayoutDirection" class="function">setLayoutDirection</dd>
                <dd id="JuegoWindow.setLocale" class="function">setLocale</dd>
                <dd id="JuegoWindow.setMask" class="function">setMask</dd>
                <dd id="JuegoWindow.setMaximumHeight" class="function">setMaximumHeight</dd>
                <dd id="JuegoWindow.setMaximumSize" class="function">setMaximumSize</dd>
                <dd id="JuegoWindow.setMaximumWidth" class="function">setMaximumWidth</dd>
                <dd id="JuegoWindow.setMinimumHeight" class="function">setMinimumHeight</dd>
                <dd id="JuegoWindow.setMinimumSize" class="function">setMinimumSize</dd>
                <dd id="JuegoWindow.setMinimumWidth" class="function">setMinimumWidth</dd>
                <dd id="JuegoWindow.setMouseTracking" class="function">setMouseTracking</dd>
                <dd id="JuegoWindow.setPalette" class="function">setPalette</dd>
                <dd id="JuegoWindow.setParent" class="function">setParent</dd>
                <dd id="JuegoWindow.setScreen" class="function">setScreen</dd>
                <dd id="JuegoWindow.setShortcutAutoRepeat" class="function">setShortcutAutoRepeat</dd>
                <dd id="JuegoWindow.setShortcutEnabled" class="function">setShortcutEnabled</dd>
                <dd id="JuegoWindow.setSizeIncrement" class="function">setSizeIncrement</dd>
                <dd id="JuegoWindow.setSizePolicy" class="function">setSizePolicy</dd>
                <dd id="JuegoWindow.setStatusTip" class="function">setStatusTip</dd>
                <dd id="JuegoWindow.setStyle" class="function">setStyle</dd>
                <dd id="JuegoWindow.setStyleSheet" class="function">setStyleSheet</dd>
                <dd id="JuegoWindow.setTabOrder" class="function">setTabOrder</dd>
                <dd id="JuegoWindow.setTabletTracking" class="function">setTabletTracking</dd>
                <dd id="JuegoWindow.setToolTip" class="function">setToolTip</dd>
                <dd id="JuegoWindow.setToolTipDuration" class="function">setToolTipDuration</dd>
                <dd id="JuegoWindow.setUpdatesEnabled" class="function">setUpdatesEnabled</dd>
                <dd id="JuegoWindow.setVisible" class="function">setVisible</dd>
                <dd id="JuegoWindow.setWhatsThis" class="function">setWhatsThis</dd>
                <dd id="JuegoWindow.setWindowFilePath" class="function">setWindowFilePath</dd>
                <dd id="JuegoWindow.setWindowFlag" class="function">setWindowFlag</dd>
                <dd id="JuegoWindow.setWindowFlags" class="function">setWindowFlags</dd>
                <dd id="JuegoWindow.setWindowIcon" class="function">setWindowIcon</dd>
                <dd id="JuegoWindow.setWindowIconText" class="function">setWindowIconText</dd>
                <dd id="JuegoWindow.setWindowModality" class="function">setWindowModality</dd>
                <dd id="JuegoWindow.setWindowModified" class="function">setWindowModified</dd>
                <dd id="JuegoWindow.setWindowOpacity" class="function">setWindowOpacity</dd>
                <dd id="JuegoWindow.setWindowRole" class="function">setWindowRole</dd>
                <dd id="JuegoWindow.setWindowState" class="function">setWindowState</dd>
                <dd id="JuegoWindow.setWindowTitle" class="function">setWindowTitle</dd>
                <dd id="JuegoWindow.sharedPainter" class="function">sharedPainter</dd>
                <dd id="JuegoWindow.show" class="function">show</dd>
                <dd id="JuegoWindow.showEvent" class="function">showEvent</dd>
                <dd id="JuegoWindow.showFullScreen" class="function">showFullScreen</dd>
                <dd id="JuegoWindow.showMaximized" class="function">showMaximized</dd>
                <dd id="JuegoWindow.showMinimized" class="function">showMinimized</dd>
                <dd id="JuegoWindow.showNormal" class="function">showNormal</dd>
                <dd id="JuegoWindow.size" class="function">size</dd>
                <dd id="JuegoWindow.sizeHint" class="function">sizeHint</dd>
                <dd id="JuegoWindow.sizeIncrement" class="function">sizeIncrement</dd>
                <dd id="JuegoWindow.sizePolicy" class="function">sizePolicy</dd>
                <dd id="JuegoWindow.stackUnder" class="function">stackUnder</dd>
                <dd id="JuegoWindow.statusTip" class="function">statusTip</dd>
                <dd id="JuegoWindow.style" class="function">style</dd>
                <dd id="JuegoWindow.styleSheet" class="function">styleSheet</dd>
                <dd id="JuegoWindow.tabletEvent" class="function">tabletEvent</dd>
                <dd id="JuegoWindow.testAttribute" class="function">testAttribute</dd>
                <dd id="JuegoWindow.toolTip" class="function">toolTip</dd>
                <dd id="JuegoWindow.toolTipDuration" class="function">toolTipDuration</dd>
                <dd id="JuegoWindow.topLevelWidget" class="function">topLevelWidget</dd>
                <dd id="JuegoWindow.underMouse" class="function">underMouse</dd>
                <dd id="JuegoWindow.ungrabGesture" class="function">ungrabGesture</dd>
                <dd id="JuegoWindow.unsetCursor" class="function">unsetCursor</dd>
                <dd id="JuegoWindow.unsetLayoutDirection" class="function">unsetLayoutDirection</dd>
                <dd id="JuegoWindow.unsetLocale" class="function">unsetLocale</dd>
                <dd id="JuegoWindow.update" class="function">update</dd>
                <dd id="JuegoWindow.updateGeometry" class="function">updateGeometry</dd>
                <dd id="JuegoWindow.updateMicroFocus" class="function">updateMicroFocus</dd>
                <dd id="JuegoWindow.updatesEnabled" class="function">updatesEnabled</dd>
                <dd id="JuegoWindow.visibleRegion" class="function">visibleRegion</dd>
                <dd id="JuegoWindow.whatsThis" class="function">whatsThis</dd>
                <dd id="JuegoWindow.wheelEvent" class="function">wheelEvent</dd>
                <dd id="JuegoWindow.width" class="function">width</dd>
                <dd id="JuegoWindow.winId" class="function">winId</dd>
                <dd id="JuegoWindow.window" class="function">window</dd>
                <dd id="JuegoWindow.windowFilePath" class="function">windowFilePath</dd>
                <dd id="JuegoWindow.windowFlags" class="function">windowFlags</dd>
                <dd id="JuegoWindow.windowHandle" class="function">windowHandle</dd>
                <dd id="JuegoWindow.windowIcon" class="function">windowIcon</dd>
                <dd id="JuegoWindow.windowIconText" class="function">windowIconText</dd>
                <dd id="JuegoWindow.windowModality" class="function">windowModality</dd>
                <dd id="JuegoWindow.windowOpacity" class="function">windowOpacity</dd>
                <dd id="JuegoWindow.windowRole" class="function">windowRole</dd>
                <dd id="JuegoWindow.windowState" class="function">windowState</dd>
                <dd id="JuegoWindow.windowTitle" class="function">windowTitle</dd>
                <dd id="JuegoWindow.windowType" class="function">windowType</dd>
                <dd id="JuegoWindow.x" class="function">x</dd>
                <dd id="JuegoWindow.y" class="function">y</dd>
                <dd id="JuegoWindow.RenderFlag" class="class">RenderFlag</dd>
                <dd id="JuegoWindow.windowTitleChanged" class="function">windowTitleChanged</dd>
                <dd id="JuegoWindow.windowIconChanged" class="function">windowIconChanged</dd>
                <dd id="JuegoWindow.windowIconTextChanged" class="function">windowIconTextChanged</dd>
                <dd id="JuegoWindow.customContextMenuRequested" class="function">customContextMenuRequested</dd>

            </div>
            <div><dt>PySide6.QtCore.QObject</dt>
                                <dd id="JuegoWindow.blockSignals" class="function">blockSignals</dd>
                <dd id="JuegoWindow.childEvent" class="function">childEvent</dd>
                <dd id="JuegoWindow.children" class="function">children</dd>
                <dd id="JuegoWindow.connect" class="function">connect</dd>
                <dd id="JuegoWindow.connectNotify" class="function">connectNotify</dd>
                <dd id="JuegoWindow.customEvent" class="function">customEvent</dd>
                <dd id="JuegoWindow.deleteLater" class="function">deleteLater</dd>
                <dd id="JuegoWindow.disconnect" class="function">disconnect</dd>
                <dd id="JuegoWindow.disconnectNotify" class="function">disconnectNotify</dd>
                <dd id="JuegoWindow.dumpObjectInfo" class="function">dumpObjectInfo</dd>
                <dd id="JuegoWindow.dumpObjectTree" class="function">dumpObjectTree</dd>
                <dd id="JuegoWindow.dynamicPropertyNames" class="function">dynamicPropertyNames</dd>
                <dd id="JuegoWindow.emit" class="function">emit</dd>
                <dd id="JuegoWindow.eventFilter" class="function">eventFilter</dd>
                <dd id="JuegoWindow.findChild" class="function">findChild</dd>
                <dd id="JuegoWindow.findChildren" class="function">findChildren</dd>
                <dd id="JuegoWindow.inherits" class="function">inherits</dd>
                <dd id="JuegoWindow.installEventFilter" class="function">installEventFilter</dd>
                <dd id="JuegoWindow.isQuickItemType" class="function">isQuickItemType</dd>
                <dd id="JuegoWindow.isSignalConnected" class="function">isSignalConnected</dd>
                <dd id="JuegoWindow.isWidgetType" class="function">isWidgetType</dd>
                <dd id="JuegoWindow.isWindowType" class="function">isWindowType</dd>
                <dd id="JuegoWindow.killTimer" class="function">killTimer</dd>
                <dd id="JuegoWindow.metaObject" class="function">metaObject</dd>
                <dd id="JuegoWindow.moveToThread" class="function">moveToThread</dd>
                <dd id="JuegoWindow.objectName" class="function">objectName</dd>
                <dd id="JuegoWindow.parent" class="function">parent</dd>
                <dd id="JuegoWindow.property" class="function">property</dd>
                <dd id="JuegoWindow.receivers" class="function">receivers</dd>
                <dd id="JuegoWindow.removeEventFilter" class="function">removeEventFilter</dd>
                <dd id="JuegoWindow.sender" class="function">sender</dd>
                <dd id="JuegoWindow.senderSignalIndex" class="function">senderSignalIndex</dd>
                <dd id="JuegoWindow.setObjectName" class="function">setObjectName</dd>
                <dd id="JuegoWindow.setProperty" class="function">setProperty</dd>
                <dd id="JuegoWindow.signalsBlocked" class="function">signalsBlocked</dd>
                <dd id="JuegoWindow.startTimer" class="function">startTimer</dd>
                <dd id="JuegoWindow.thread" class="function">thread</dd>
                <dd id="JuegoWindow.timerEvent" class="function">timerEvent</dd>
                <dd id="JuegoWindow.tr" class="function">tr</dd>
                <dd id="JuegoWindow.destroyed" class="function">destroyed</dd>
                <dd id="JuegoWindow.objectNameChanged" class="function">objectNameChanged</dd>

            </div>
            <div><dt>PySide6.QtGui.QPaintDevice</dt>
                                <dd id="JuegoWindow.colorCount" class="function">colorCount</dd>
                <dd id="JuegoWindow.depth" class="function">depth</dd>
                <dd id="JuegoWindow.devicePixelRatio" class="function">devicePixelRatio</dd>
                <dd id="JuegoWindow.devicePixelRatioF" class="function">devicePixelRatioF</dd>
                <dd id="JuegoWindow.devicePixelRatioFScale" class="function">devicePixelRatioFScale</dd>
                <dd id="JuegoWindow.heightMM" class="function">heightMM</dd>
                <dd id="JuegoWindow.logicalDpiX" class="function">logicalDpiX</dd>
                <dd id="JuegoWindow.logicalDpiY" class="function">logicalDpiY</dd>
                <dd id="JuegoWindow.paintingActive" class="function">paintingActive</dd>
                <dd id="JuegoWindow.physicalDpiX" class="function">physicalDpiX</dd>
                <dd id="JuegoWindow.physicalDpiY" class="function">physicalDpiY</dd>
                <dd id="JuegoWindow.widthMM" class="function">widthMM</dd>
                <dd id="JuegoWindow.painters" class="variable">painters</dd>
                <dd id="JuegoWindow.PaintDeviceMetric" class="class">PaintDeviceMetric</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="DiceWindow">
                            <input id="DiceWindow-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">DiceWindow</span><wbr>(<span class="base">PySide6.QtWidgets.QWidget</span>):

                <label class="view-source-button" for="DiceWindow-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DiceWindow"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DiceWindow-1942"><a href="#DiceWindow-1942"><span class="linenos">1942</span></a><span class="k">class</span> <span class="nc">DiceWindow</span><span class="p">(</span><span class="n">QWidget</span><span class="p">):</span>
</span><span id="DiceWindow-1943"><a href="#DiceWindow-1943"><span class="linenos">1943</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DiceWindow-1944"><a href="#DiceWindow-1944"><span class="linenos">1944</span></a><span class="sd">    Ventana de la aplicación para lanzar dados de diferentes tipos.</span>
</span><span id="DiceWindow-1945"><a href="#DiceWindow-1945"><span class="linenos">1945</span></a>
</span><span id="DiceWindow-1946"><a href="#DiceWindow-1946"><span class="linenos">1946</span></a><span class="sd">    Esta clase define una ventana con botones para lanzar dados de varios tipos (D4, D6, D10, D12, D20) y muestra el resultado del lanzamiento en una etiqueta.</span>
</span><span id="DiceWindow-1947"><a href="#DiceWindow-1947"><span class="linenos">1947</span></a>
</span><span id="DiceWindow-1948"><a href="#DiceWindow-1948"><span class="linenos">1948</span></a><span class="sd">    **Atributos**:</span>
</span><span id="DiceWindow-1949"><a href="#DiceWindow-1949"><span class="linenos">1949</span></a><span class="sd">    - `title_label`: `QLabel` que muestra el título de la ventana.</span>
</span><span id="DiceWindow-1950"><a href="#DiceWindow-1950"><span class="linenos">1950</span></a><span class="sd">    - `label_result`: `QLabel` que muestra el resultado del lanzamiento del dado.</span>
</span><span id="DiceWindow-1951"><a href="#DiceWindow-1951"><span class="linenos">1951</span></a><span class="sd">    - `button_layout`: `QHBoxLayout` que organiza los botones para lanzar los dados.</span>
</span><span id="DiceWindow-1952"><a href="#DiceWindow-1952"><span class="linenos">1952</span></a><span class="sd">    - `btn_roll_d4`, `btn_roll_d6`, `btn_roll_d10`, `btn_roll_d12`, `btn_roll_d20`: `QPushButton` para lanzar dados de 4, 6, 10, 12 y 20 caras, respectivamente.</span>
</span><span id="DiceWindow-1953"><a href="#DiceWindow-1953"><span class="linenos">1953</span></a><span class="sd">    - `background_label`: `QLabel` que se utiliza para mostrar la imagen de fondo de la ventana.</span>
</span><span id="DiceWindow-1954"><a href="#DiceWindow-1954"><span class="linenos">1954</span></a>
</span><span id="DiceWindow-1955"><a href="#DiceWindow-1955"><span class="linenos">1955</span></a><span class="sd">    **Ejemplo de Uso**:</span>
</span><span id="DiceWindow-1956"><a href="#DiceWindow-1956"><span class="linenos">1956</span></a><span class="sd">    ```python</span>
</span><span id="DiceWindow-1957"><a href="#DiceWindow-1957"><span class="linenos">1957</span></a><span class="sd">    app = QApplication([])</span>
</span><span id="DiceWindow-1958"><a href="#DiceWindow-1958"><span class="linenos">1958</span></a><span class="sd">    dice_window = DiceWindow()</span>
</span><span id="DiceWindow-1959"><a href="#DiceWindow-1959"><span class="linenos">1959</span></a><span class="sd">    dice_window.show()</span>
</span><span id="DiceWindow-1960"><a href="#DiceWindow-1960"><span class="linenos">1960</span></a><span class="sd">    app.exec()</span>
</span><span id="DiceWindow-1961"><a href="#DiceWindow-1961"><span class="linenos">1961</span></a><span class="sd">    ```</span>
</span><span id="DiceWindow-1962"><a href="#DiceWindow-1962"><span class="linenos">1962</span></a>
</span><span id="DiceWindow-1963"><a href="#DiceWindow-1963"><span class="linenos">1963</span></a><span class="sd">    **Notas**:</span>
</span><span id="DiceWindow-1964"><a href="#DiceWindow-1964"><span class="linenos">1964</span></a><span class="sd">    - Asegúrate de tener las imágenes `dice_icon.png` y las imágenes de los dados en la carpeta correcta.</span>
</span><span id="DiceWindow-1965"><a href="#DiceWindow-1965"><span class="linenos">1965</span></a><span class="sd">    - La imagen de fondo debe estar en `fondos/31254.jpg`. Asegúrate de que el archivo exista en esa ruta.</span>
</span><span id="DiceWindow-1966"><a href="#DiceWindow-1966"><span class="linenos">1966</span></a>
</span><span id="DiceWindow-1967"><a href="#DiceWindow-1967"><span class="linenos">1967</span></a><span class="sd">    **Métodos**:</span>
</span><span id="DiceWindow-1968"><a href="#DiceWindow-1968"><span class="linenos">1968</span></a>
</span><span id="DiceWindow-1969"><a href="#DiceWindow-1969"><span class="linenos">1969</span></a><span class="sd">    - `__init__(self)`: Constructor de la clase. Configura la ventana, el diseño, los botones, y conecta las señales de los botones al método `roll_dice`.</span>
</span><span id="DiceWindow-1970"><a href="#DiceWindow-1970"><span class="linenos">1970</span></a>
</span><span id="DiceWindow-1971"><a href="#DiceWindow-1971"><span class="linenos">1971</span></a><span class="sd">        **Descripción**:</span>
</span><span id="DiceWindow-1972"><a href="#DiceWindow-1972"><span class="linenos">1972</span></a><span class="sd">        Inicializa la ventana principal de la aplicación de dados. Configura el título de la ventana, la geometría, el ícono y el fondo. Añade una etiqueta de título, una etiqueta para mostrar los resultados de los dados, y botones para lanzar los dados.</span>
</span><span id="DiceWindow-1973"><a href="#DiceWindow-1973"><span class="linenos">1973</span></a>
</span><span id="DiceWindow-1974"><a href="#DiceWindow-1974"><span class="linenos">1974</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="DiceWindow-1975"><a href="#DiceWindow-1975"><span class="linenos">1975</span></a><span class="sd">        No es necesario llamar a este método directamente. Se invoca automáticamente cuando se crea una instancia de `DiceWindow`.</span>
</span><span id="DiceWindow-1976"><a href="#DiceWindow-1976"><span class="linenos">1976</span></a>
</span><span id="DiceWindow-1977"><a href="#DiceWindow-1977"><span class="linenos">1977</span></a><span class="sd">    - `set_background(self, image_path)`: Configura una imagen de fondo para el widget.</span>
</span><span id="DiceWindow-1978"><a href="#DiceWindow-1978"><span class="linenos">1978</span></a>
</span><span id="DiceWindow-1979"><a href="#DiceWindow-1979"><span class="linenos">1979</span></a><span class="sd">        **Descripción**:</span>
</span><span id="DiceWindow-1980"><a href="#DiceWindow-1980"><span class="linenos">1980</span></a><span class="sd">        Configura una imagen de fondo en la ventana utilizando la ruta proporcionada. Ajusta la imagen para que cubra toda la ventana.</span>
</span><span id="DiceWindow-1981"><a href="#DiceWindow-1981"><span class="linenos">1981</span></a>
</span><span id="DiceWindow-1982"><a href="#DiceWindow-1982"><span class="linenos">1982</span></a><span class="sd">        **Parámetros**:</span>
</span><span id="DiceWindow-1983"><a href="#DiceWindow-1983"><span class="linenos">1983</span></a><span class="sd">        - `image_path` (`str`): Ruta de la imagen de fondo.</span>
</span><span id="DiceWindow-1984"><a href="#DiceWindow-1984"><span class="linenos">1984</span></a>
</span><span id="DiceWindow-1985"><a href="#DiceWindow-1985"><span class="linenos">1985</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="DiceWindow-1986"><a href="#DiceWindow-1986"><span class="linenos">1986</span></a><span class="sd">        ```python</span>
</span><span id="DiceWindow-1987"><a href="#DiceWindow-1987"><span class="linenos">1987</span></a><span class="sd">        self.set_background(&#39;fondos/31254.jpg&#39;)</span>
</span><span id="DiceWindow-1988"><a href="#DiceWindow-1988"><span class="linenos">1988</span></a><span class="sd">        ```</span>
</span><span id="DiceWindow-1989"><a href="#DiceWindow-1989"><span class="linenos">1989</span></a>
</span><span id="DiceWindow-1990"><a href="#DiceWindow-1990"><span class="linenos">1990</span></a><span class="sd">    - `resizeEvent(self, event)`: Ajusta el tamaño del fondo cuando la ventana cambia de tamaño.</span>
</span><span id="DiceWindow-1991"><a href="#DiceWindow-1991"><span class="linenos">1991</span></a>
</span><span id="DiceWindow-1992"><a href="#DiceWindow-1992"><span class="linenos">1992</span></a><span class="sd">        **Descripción**:</span>
</span><span id="DiceWindow-1993"><a href="#DiceWindow-1993"><span class="linenos">1993</span></a><span class="sd">        Maneja el evento de cambio de tamaño de la ventana para asegurarse de que la imagen de fondo se redimensiona correctamente.</span>
</span><span id="DiceWindow-1994"><a href="#DiceWindow-1994"><span class="linenos">1994</span></a>
</span><span id="DiceWindow-1995"><a href="#DiceWindow-1995"><span class="linenos">1995</span></a><span class="sd">        **Parámetros**:</span>
</span><span id="DiceWindow-1996"><a href="#DiceWindow-1996"><span class="linenos">1996</span></a><span class="sd">        - `event` (`QResizeEvent`): El evento de cambio de tamaño.</span>
</span><span id="DiceWindow-1997"><a href="#DiceWindow-1997"><span class="linenos">1997</span></a>
</span><span id="DiceWindow-1998"><a href="#DiceWindow-1998"><span class="linenos">1998</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="DiceWindow-1999"><a href="#DiceWindow-1999"><span class="linenos">1999</span></a><span class="sd">        Este método se llama automáticamente cuando la ventana cambia de tamaño, no es necesario invocar este método directamente.</span>
</span><span id="DiceWindow-2000"><a href="#DiceWindow-2000"><span class="linenos">2000</span></a>
</span><span id="DiceWindow-2001"><a href="#DiceWindow-2001"><span class="linenos">2001</span></a><span class="sd">    - `roll_dice(self, sides)`: Lanza un dado con el número de caras especificado y muestra el resultado.</span>
</span><span id="DiceWindow-2002"><a href="#DiceWindow-2002"><span class="linenos">2002</span></a>
</span><span id="DiceWindow-2003"><a href="#DiceWindow-2003"><span class="linenos">2003</span></a><span class="sd">        **Descripción**:</span>
</span><span id="DiceWindow-2004"><a href="#DiceWindow-2004"><span class="linenos">2004</span></a><span class="sd">        Lanza un dado con un número de caras dado (4, 6, 10, 12, o 20) y actualiza `label_result` con el número obtenido. Cambia el color del texto del resultado a azul (#007BFF).</span>
</span><span id="DiceWindow-2005"><a href="#DiceWindow-2005"><span class="linenos">2005</span></a>
</span><span id="DiceWindow-2006"><a href="#DiceWindow-2006"><span class="linenos">2006</span></a><span class="sd">        **Parámetros**:</span>
</span><span id="DiceWindow-2007"><a href="#DiceWindow-2007"><span class="linenos">2007</span></a><span class="sd">        - `sides` (`int`): Número de caras del dado (4, 6, 10, 12, 20).</span>
</span><span id="DiceWindow-2008"><a href="#DiceWindow-2008"><span class="linenos">2008</span></a>
</span><span id="DiceWindow-2009"><a href="#DiceWindow-2009"><span class="linenos">2009</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="DiceWindow-2010"><a href="#DiceWindow-2010"><span class="linenos">2010</span></a><span class="sd">        Este método se llama cuando se hace clic en uno de los botones de dados. No es necesario invocar este método directamente.</span>
</span><span id="DiceWindow-2011"><a href="#DiceWindow-2011"><span class="linenos">2011</span></a>
</span><span id="DiceWindow-2012"><a href="#DiceWindow-2012"><span class="linenos">2012</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="DiceWindow-2013"><a href="#DiceWindow-2013"><span class="linenos">2013</span></a><span class="sd">        ```python</span>
</span><span id="DiceWindow-2014"><a href="#DiceWindow-2014"><span class="linenos">2014</span></a><span class="sd">        self.roll_dice(6)  # Lanza un dado de 6 caras</span>
</span><span id="DiceWindow-2015"><a href="#DiceWindow-2015"><span class="linenos">2015</span></a><span class="sd">        ```</span>
</span><span id="DiceWindow-2016"><a href="#DiceWindow-2016"><span class="linenos">2016</span></a>
</span><span id="DiceWindow-2017"><a href="#DiceWindow-2017"><span class="linenos">2017</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="DiceWindow-2018"><a href="#DiceWindow-2018"><span class="linenos">2018</span></a>
</span><span id="DiceWindow-2019"><a href="#DiceWindow-2019"><span class="linenos">2019</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DiceWindow-2020"><a href="#DiceWindow-2020"><span class="linenos">2020</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">DiceWindow</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="DiceWindow-2021"><a href="#DiceWindow-2021"><span class="linenos">2021</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s1">&#39;¿SUERTE?&#39;</span><span class="p">)</span>
</span><span id="DiceWindow-2022"><a href="#DiceWindow-2022"><span class="linenos">2022</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
</span><span id="DiceWindow-2023"><a href="#DiceWindow-2023"><span class="linenos">2023</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowIcon</span><span class="p">(</span><span class="n">QIcon</span><span class="p">(</span><span class="s1">&#39;dice_icon.png&#39;</span><span class="p">))</span>  <span class="c1"># Agregar un icono para la ventana</span>
</span><span id="DiceWindow-2024"><a href="#DiceWindow-2024"><span class="linenos">2024</span></a>        
</span><span id="DiceWindow-2025"><a href="#DiceWindow-2025"><span class="linenos">2025</span></a>        <span class="c1"># Configurar el fondo</span>
</span><span id="DiceWindow-2026"><a href="#DiceWindow-2026"><span class="linenos">2026</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">set_background</span><span class="p">(</span><span class="s1">&#39;fondos/31254.jpg&#39;</span><span class="p">)</span>  <span class="c1"># Asegúrate de tener una imagen de fondo llamada &#39;fondos/31254.jpg&#39;</span>
</span><span id="DiceWindow-2027"><a href="#DiceWindow-2027"><span class="linenos">2027</span></a>        
</span><span id="DiceWindow-2028"><a href="#DiceWindow-2028"><span class="linenos">2028</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">layout</span> <span class="o">=</span> <span class="n">QVBoxLayout</span><span class="p">()</span>
</span><span id="DiceWindow-2029"><a href="#DiceWindow-2029"><span class="linenos">2029</span></a>        
</span><span id="DiceWindow-2030"><a href="#DiceWindow-2030"><span class="linenos">2030</span></a>        <span class="c1"># Título de la ventana</span>
</span><span id="DiceWindow-2031"><a href="#DiceWindow-2031"><span class="linenos">2031</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">title_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s1">&#39;¿MIEDO?&#39;</span><span class="p">)</span>
</span><span id="DiceWindow-2032"><a href="#DiceWindow-2032"><span class="linenos">2032</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">title_label</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignmentFlag</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>
</span><span id="DiceWindow-2033"><a href="#DiceWindow-2033"><span class="linenos">2033</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">title_label</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s1">&#39;font-size: 20px; font-weight: bold; color: #007BFF;&#39;</span><span class="p">)</span>
</span><span id="DiceWindow-2034"><a href="#DiceWindow-2034"><span class="linenos">2034</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">title_label</span><span class="p">)</span>
</span><span id="DiceWindow-2035"><a href="#DiceWindow-2035"><span class="linenos">2035</span></a>        
</span><span id="DiceWindow-2036"><a href="#DiceWindow-2036"><span class="linenos">2036</span></a>        <span class="c1"># Etiqueta de Resultado</span>
</span><span id="DiceWindow-2037"><a href="#DiceWindow-2037"><span class="linenos">2037</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">label_result</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="s1">&#39;DEBERIAS TENERLO: &#39;</span><span class="p">)</span>
</span><span id="DiceWindow-2038"><a href="#DiceWindow-2038"><span class="linenos">2038</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">label_result</span><span class="o">.</span><span class="n">setAlignment</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignmentFlag</span><span class="o">.</span><span class="n">AlignCenter</span><span class="p">)</span>
</span><span id="DiceWindow-2039"><a href="#DiceWindow-2039"><span class="linenos">2039</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">label_result</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s1">&#39;font-size: 18px; color: #333333;&#39;</span><span class="p">)</span>
</span><span id="DiceWindow-2040"><a href="#DiceWindow-2040"><span class="linenos">2040</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">label_result</span><span class="p">)</span>
</span><span id="DiceWindow-2041"><a href="#DiceWindow-2041"><span class="linenos">2041</span></a>        
</span><span id="DiceWindow-2042"><a href="#DiceWindow-2042"><span class="linenos">2042</span></a>        <span class="c1"># Diseño de Botones</span>
</span><span id="DiceWindow-2043"><a href="#DiceWindow-2043"><span class="linenos">2043</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">button_layout</span> <span class="o">=</span> <span class="n">QHBoxLayout</span><span class="p">()</span>
</span><span id="DiceWindow-2044"><a href="#DiceWindow-2044"><span class="linenos">2044</span></a>        
</span><span id="DiceWindow-2045"><a href="#DiceWindow-2045"><span class="linenos">2045</span></a>        <span class="c1"># Botones de Dados</span>
</span><span id="DiceWindow-2046"><a href="#DiceWindow-2046"><span class="linenos">2046</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d4</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s1">&#39;Roll D4&#39;</span><span class="p">)</span>
</span><span id="DiceWindow-2047"><a href="#DiceWindow-2047"><span class="linenos">2047</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d6</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s1">&#39;Roll D6&#39;</span><span class="p">)</span>
</span><span id="DiceWindow-2048"><a href="#DiceWindow-2048"><span class="linenos">2048</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d10</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s1">&#39;Roll D10&#39;</span><span class="p">)</span>
</span><span id="DiceWindow-2049"><a href="#DiceWindow-2049"><span class="linenos">2049</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d12</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s1">&#39;Roll D12&#39;</span><span class="p">)</span>
</span><span id="DiceWindow-2050"><a href="#DiceWindow-2050"><span class="linenos">2050</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d20</span> <span class="o">=</span> <span class="n">QPushButton</span><span class="p">(</span><span class="s1">&#39;Roll D20&#39;</span><span class="p">)</span>
</span><span id="DiceWindow-2051"><a href="#DiceWindow-2051"><span class="linenos">2051</span></a>        
</span><span id="DiceWindow-2052"><a href="#DiceWindow-2052"><span class="linenos">2052</span></a>        <span class="c1"># Agregar iconos a los botones</span>
</span><span id="DiceWindow-2053"><a href="#DiceWindow-2053"><span class="linenos">2053</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d4</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QIcon</span><span class="p">(</span><span class="s1">&#39;iconos/dados (1).png&#39;</span><span class="p">))</span>
</span><span id="DiceWindow-2054"><a href="#DiceWindow-2054"><span class="linenos">2054</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d6</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QIcon</span><span class="p">(</span><span class="s1">&#39;iconos/dados.png&#39;</span><span class="p">))</span>
</span><span id="DiceWindow-2055"><a href="#DiceWindow-2055"><span class="linenos">2055</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d10</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QIcon</span><span class="p">(</span><span class="s1">&#39;iconos/dado (3).png&#39;</span><span class="p">))</span>
</span><span id="DiceWindow-2056"><a href="#DiceWindow-2056"><span class="linenos">2056</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d12</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QIcon</span><span class="p">(</span><span class="s1">&#39;iconos/juego-de-rol (1).png&#39;</span><span class="p">))</span>
</span><span id="DiceWindow-2057"><a href="#DiceWindow-2057"><span class="linenos">2057</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d20</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QIcon</span><span class="p">(</span><span class="s1">&#39;iconos/dados-d20.png&#39;</span><span class="p">))</span>
</span><span id="DiceWindow-2058"><a href="#DiceWindow-2058"><span class="linenos">2058</span></a>        
</span><span id="DiceWindow-2059"><a href="#DiceWindow-2059"><span class="linenos">2059</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d4</span><span class="o">.</span><span class="n">setIconSize</span><span class="p">(</span><span class="n">QSize</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">))</span>
</span><span id="DiceWindow-2060"><a href="#DiceWindow-2060"><span class="linenos">2060</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d6</span><span class="o">.</span><span class="n">setIconSize</span><span class="p">(</span><span class="n">QSize</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">))</span>
</span><span id="DiceWindow-2061"><a href="#DiceWindow-2061"><span class="linenos">2061</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d10</span><span class="o">.</span><span class="n">setIconSize</span><span class="p">(</span><span class="n">QSize</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">))</span>
</span><span id="DiceWindow-2062"><a href="#DiceWindow-2062"><span class="linenos">2062</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d12</span><span class="o">.</span><span class="n">setIconSize</span><span class="p">(</span><span class="n">QSize</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">))</span>
</span><span id="DiceWindow-2063"><a href="#DiceWindow-2063"><span class="linenos">2063</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d20</span><span class="o">.</span><span class="n">setIconSize</span><span class="p">(</span><span class="n">QSize</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="mi">32</span><span class="p">))</span>
</span><span id="DiceWindow-2064"><a href="#DiceWindow-2064"><span class="linenos">2064</span></a>        
</span><span id="DiceWindow-2065"><a href="#DiceWindow-2065"><span class="linenos">2065</span></a>        <span class="c1"># Estilos para los botones</span>
</span><span id="DiceWindow-2066"><a href="#DiceWindow-2066"><span class="linenos">2066</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d4</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s1">&#39;background-color: #5BC0EB; color: white; font-size: 14px; border-radius: 8px; padding: 10px;&#39;</span><span class="p">)</span>
</span><span id="DiceWindow-2067"><a href="#DiceWindow-2067"><span class="linenos">2067</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d6</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s1">&#39;background-color: #51CF66; color: white; font-size: 14px; border-radius: 8px; padding: 10px;&#39;</span><span class="p">)</span>
</span><span id="DiceWindow-2068"><a href="#DiceWindow-2068"><span class="linenos">2068</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d10</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s1">&#39;background-color: #FFC107; color: white; font-size: 14px; border-radius: 8px; padding: 10px;&#39;</span><span class="p">)</span>
</span><span id="DiceWindow-2069"><a href="#DiceWindow-2069"><span class="linenos">2069</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d12</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s1">&#39;background-color: #6F42C1; color: white; font-size: 14px; border-radius: 8px; padding: 10px;&#39;</span><span class="p">)</span>
</span><span id="DiceWindow-2070"><a href="#DiceWindow-2070"><span class="linenos">2070</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d20</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s1">&#39;background-color: #FF6B6B; color: white; font-size: 14px; border-radius: 8px; padding: 10px;&#39;</span><span class="p">)</span>
</span><span id="DiceWindow-2071"><a href="#DiceWindow-2071"><span class="linenos">2071</span></a>        
</span><span id="DiceWindow-2072"><a href="#DiceWindow-2072"><span class="linenos">2072</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">button_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d4</span><span class="p">)</span>
</span><span id="DiceWindow-2073"><a href="#DiceWindow-2073"><span class="linenos">2073</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">button_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d6</span><span class="p">)</span>
</span><span id="DiceWindow-2074"><a href="#DiceWindow-2074"><span class="linenos">2074</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">button_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d10</span><span class="p">)</span>
</span><span id="DiceWindow-2075"><a href="#DiceWindow-2075"><span class="linenos">2075</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">button_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d12</span><span class="p">)</span>
</span><span id="DiceWindow-2076"><a href="#DiceWindow-2076"><span class="linenos">2076</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">button_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d20</span><span class="p">)</span>
</span><span id="DiceWindow-2077"><a href="#DiceWindow-2077"><span class="linenos">2077</span></a>        
</span><span id="DiceWindow-2078"><a href="#DiceWindow-2078"><span class="linenos">2078</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">button_layout</span><span class="p">)</span>
</span><span id="DiceWindow-2079"><a href="#DiceWindow-2079"><span class="linenos">2079</span></a>        
</span><span id="DiceWindow-2080"><a href="#DiceWindow-2080"><span class="linenos">2080</span></a>        <span class="c1"># Conectar botones con el método roll_dice</span>
</span><span id="DiceWindow-2081"><a href="#DiceWindow-2081"><span class="linenos">2081</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d4</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">roll_dice</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
</span><span id="DiceWindow-2082"><a href="#DiceWindow-2082"><span class="linenos">2082</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d6</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">roll_dice</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
</span><span id="DiceWindow-2083"><a href="#DiceWindow-2083"><span class="linenos">2083</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d10</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">roll_dice</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</span><span id="DiceWindow-2084"><a href="#DiceWindow-2084"><span class="linenos">2084</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d12</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">roll_dice</span><span class="p">(</span><span class="mi">12</span><span class="p">))</span>
</span><span id="DiceWindow-2085"><a href="#DiceWindow-2085"><span class="linenos">2085</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_roll_d20</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">roll_dice</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>
</span><span id="DiceWindow-2086"><a href="#DiceWindow-2086"><span class="linenos">2086</span></a>        
</span><span id="DiceWindow-2087"><a href="#DiceWindow-2087"><span class="linenos">2087</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">layout</span><span class="p">)</span>
</span><span id="DiceWindow-2088"><a href="#DiceWindow-2088"><span class="linenos">2088</span></a>    
</span><span id="DiceWindow-2089"><a href="#DiceWindow-2089"><span class="linenos">2089</span></a>    <span class="k">def</span> <span class="nf">set_background</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">image_path</span><span class="p">):</span>
</span><span id="DiceWindow-2090"><a href="#DiceWindow-2090"><span class="linenos">2090</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DiceWindow-2091"><a href="#DiceWindow-2091"><span class="linenos">2091</span></a><span class="sd">        Configura una imagen de fondo para el widget.</span>
</span><span id="DiceWindow-2092"><a href="#DiceWindow-2092"><span class="linenos">2092</span></a>
</span><span id="DiceWindow-2093"><a href="#DiceWindow-2093"><span class="linenos">2093</span></a><span class="sd">        **Parámetros**:</span>
</span><span id="DiceWindow-2094"><a href="#DiceWindow-2094"><span class="linenos">2094</span></a><span class="sd">        - `image_path` (`str`): Ruta de la imagen de fondo que se mostrará en la ventana.</span>
</span><span id="DiceWindow-2095"><a href="#DiceWindow-2095"><span class="linenos">2095</span></a>
</span><span id="DiceWindow-2096"><a href="#DiceWindow-2096"><span class="linenos">2096</span></a><span class="sd">        **Descripción**:</span>
</span><span id="DiceWindow-2097"><a href="#DiceWindow-2097"><span class="linenos">2097</span></a><span class="sd">        Crea un `QLabel` para mostrar una imagen de fondo en el widget. La imagen se ajusta al tamaño de la ventana y se coloca detrás de todos los demás widgets.</span>
</span><span id="DiceWindow-2098"><a href="#DiceWindow-2098"><span class="linenos">2098</span></a>
</span><span id="DiceWindow-2099"><a href="#DiceWindow-2099"><span class="linenos">2099</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="DiceWindow-2100"><a href="#DiceWindow-2100"><span class="linenos">2100</span></a><span class="sd">        ```python</span>
</span><span id="DiceWindow-2101"><a href="#DiceWindow-2101"><span class="linenos">2101</span></a><span class="sd">        self.set_background(&#39;fondos/31254.jpg&#39;)</span>
</span><span id="DiceWindow-2102"><a href="#DiceWindow-2102"><span class="linenos">2102</span></a><span class="sd">        ```</span>
</span><span id="DiceWindow-2103"><a href="#DiceWindow-2103"><span class="linenos">2103</span></a>
</span><span id="DiceWindow-2104"><a href="#DiceWindow-2104"><span class="linenos">2104</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="DiceWindow-2105"><a href="#DiceWindow-2105"><span class="linenos">2105</span></a><span class="sd">        - Verifica que el archivo de imagen exista en la ruta proporcionada.</span>
</span><span id="DiceWindow-2106"><a href="#DiceWindow-2106"><span class="linenos">2106</span></a><span class="sd">        - Asegúrate de que `image_path` sea una cadena de texto válida.</span>
</span><span id="DiceWindow-2107"><a href="#DiceWindow-2107"><span class="linenos">2107</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DiceWindow-2108"><a href="#DiceWindow-2108"><span class="linenos">2108</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="DiceWindow-2109"><a href="#DiceWindow-2109"><span class="linenos">2109</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background_label</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">QPixmap</span><span class="p">(</span><span class="n">image_path</span><span class="p">))</span>
</span><span id="DiceWindow-2110"><a href="#DiceWindow-2110"><span class="linenos">2110</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background_label</span><span class="o">.</span><span class="n">setScaledContents</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</span><span id="DiceWindow-2111"><a href="#DiceWindow-2111"><span class="linenos">2111</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background_label</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">())</span>
</span><span id="DiceWindow-2112"><a href="#DiceWindow-2112"><span class="linenos">2112</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background_label</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span><span id="DiceWindow-2113"><a href="#DiceWindow-2113"><span class="linenos">2113</span></a>
</span><span id="DiceWindow-2114"><a href="#DiceWindow-2114"><span class="linenos">2114</span></a>    <span class="k">def</span> <span class="nf">resizeEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span><span id="DiceWindow-2115"><a href="#DiceWindow-2115"><span class="linenos">2115</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DiceWindow-2116"><a href="#DiceWindow-2116"><span class="linenos">2116</span></a><span class="sd">        Ajusta el tamaño del fondo cuando la ventana cambia de tamaño.</span>
</span><span id="DiceWindow-2117"><a href="#DiceWindow-2117"><span class="linenos">2117</span></a>
</span><span id="DiceWindow-2118"><a href="#DiceWindow-2118"><span class="linenos">2118</span></a><span class="sd">        **Parámetros**:</span>
</span><span id="DiceWindow-2119"><a href="#DiceWindow-2119"><span class="linenos">2119</span></a><span class="sd">        - `event` (`QResizeEvent`): El evento de cambio de tamaño que indica cómo ha cambiado el tamaño de la ventana.</span>
</span><span id="DiceWindow-2120"><a href="#DiceWindow-2120"><span class="linenos">2120</span></a>
</span><span id="DiceWindow-2121"><a href="#DiceWindow-2121"><span class="linenos">2121</span></a><span class="sd">        **Descripción**:</span>
</span><span id="DiceWindow-2122"><a href="#DiceWindow-2122"><span class="linenos">2122</span></a><span class="sd">        Este método maneja el evento de cambio de tamaño para asegurarse de que la imagen de fondo se redimensione de acuerdo con el tamaño de la ventana.</span>
</span><span id="DiceWindow-2123"><a href="#DiceWindow-2123"><span class="linenos">2123</span></a>
</span><span id="DiceWindow-2124"><a href="#DiceWindow-2124"><span class="linenos">2124</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="DiceWindow-2125"><a href="#DiceWindow-2125"><span class="linenos">2125</span></a><span class="sd">        Este método es llamado automáticamente por el sistema cuando la ventana cambia de tamaño.</span>
</span><span id="DiceWindow-2126"><a href="#DiceWindow-2126"><span class="linenos">2126</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DiceWindow-2127"><a href="#DiceWindow-2127"><span class="linenos">2127</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background_label</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">())</span>
</span><span id="DiceWindow-2128"><a href="#DiceWindow-2128"><span class="linenos">2128</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">DiceWindow</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">resizeEvent</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span><span id="DiceWindow-2129"><a href="#DiceWindow-2129"><span class="linenos">2129</span></a>
</span><span id="DiceWindow-2130"><a href="#DiceWindow-2130"><span class="linenos">2130</span></a>    <span class="k">def</span> <span class="nf">roll_dice</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sides</span><span class="p">):</span>
</span><span id="DiceWindow-2131"><a href="#DiceWindow-2131"><span class="linenos">2131</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DiceWindow-2132"><a href="#DiceWindow-2132"><span class="linenos">2132</span></a><span class="sd">        Lanza un dado con el número de caras especificado y muestra el resultado.</span>
</span><span id="DiceWindow-2133"><a href="#DiceWindow-2133"><span class="linenos">2133</span></a>
</span><span id="DiceWindow-2134"><a href="#DiceWindow-2134"><span class="linenos">2134</span></a><span class="sd">        **Parámetros**:</span>
</span><span id="DiceWindow-2135"><a href="#DiceWindow-2135"><span class="linenos">2135</span></a><span class="sd">        - `sides` (`int`): Número de caras del dado (4, 6, 10, 12, 20).</span>
</span><span id="DiceWindow-2136"><a href="#DiceWindow-2136"><span class="linenos">2136</span></a>
</span><span id="DiceWindow-2137"><a href="#DiceWindow-2137"><span class="linenos">2137</span></a><span class="sd">        **Descripción**:</span>
</span><span id="DiceWindow-2138"><a href="#DiceWindow-2138"><span class="linenos">2138</span></a><span class="sd">        Genera un número aleatorio entre 1 y el número de caras del dado. Actualiza el texto de `label_result` para mostrar el resultado del lanzamiento.</span>
</span><span id="DiceWindow-2139"><a href="#DiceWindow-2139"><span class="linenos">2139</span></a>
</span><span id="DiceWindow-2140"><a href="#DiceWindow-2140"><span class="linenos">2140</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="DiceWindow-2141"><a href="#DiceWindow-2141"><span class="linenos">2141</span></a><span class="sd">        Este método es llamado cuando se hace clic en uno de los botones de dados.</span>
</span><span id="DiceWindow-2142"><a href="#DiceWindow-2142"><span class="linenos">2142</span></a>
</span><span id="DiceWindow-2143"><a href="#DiceWindow-2143"><span class="linenos">2143</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="DiceWindow-2144"><a href="#DiceWindow-2144"><span class="linenos">2144</span></a><span class="sd">        - Asegúrate de que `sides` sea uno de los valores válidos (4, 6, 10, 12, 20).</span>
</span><span id="DiceWindow-2145"><a href="#DiceWindow-2145"><span class="linenos">2145</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DiceWindow-2146"><a href="#DiceWindow-2146"><span class="linenos">2146</span></a>        <span class="n">result</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">sides</span><span class="p">)</span>
</span><span id="DiceWindow-2147"><a href="#DiceWindow-2147"><span class="linenos">2147</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">label_result</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Numero: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="DiceWindow-2148"><a href="#DiceWindow-2148"><span class="linenos">2148</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">label_result</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s1">&#39;font-size: 18px; color: #007BFF;&#39;</span><span class="p">)</span>  <span class="c1"># Cambio de color para el texto</span>
</span></pre></div>


            <div class="docstring"><p>Ventana de la aplicación para lanzar dados de diferentes tipos.</p>

<p>Esta clase define una ventana con botones para lanzar dados de varios tipos (D4, D6, D10, D12, D20) y muestra el resultado del lanzamiento en una etiqueta.</p>

<p><strong>Atributos</strong>:</p>

<ul>
<li><code><a href="#DiceWindow.title_label">title_label</a></code>: <code>QLabel</code> que muestra el título de la ventana.</li>
<li><code><a href="#DiceWindow.label_result">label_result</a></code>: <code>QLabel</code> que muestra el resultado del lanzamiento del dado.</li>
<li><code><a href="#DiceWindow.button_layout">button_layout</a></code>: <code>QHBoxLayout</code> que organiza los botones para lanzar los dados.</li>
<li><code><a href="#DiceWindow.btn_roll_d4">btn_roll_d4</a></code>, <code><a href="#DiceWindow.btn_roll_d6">btn_roll_d6</a></code>, <code><a href="#DiceWindow.btn_roll_d10">btn_roll_d10</a></code>, <code><a href="#DiceWindow.btn_roll_d12">btn_roll_d12</a></code>, <code><a href="#DiceWindow.btn_roll_d20">btn_roll_d20</a></code>: <code>QPushButton</code> para lanzar dados de 4, 6, 10, 12 y 20 caras, respectivamente.</li>
<li><code>background_label</code>: <code>QLabel</code> que se utiliza para mostrar la imagen de fondo de la ventana.</li>
</ul>

<p><strong>Ejemplo de Uso</strong>:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">([])</span>
<span class="n">dice_window</span> <span class="o">=</span> <span class="n">DiceWindow</span><span class="p">()</span>
<span class="n">dice_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">app</span><span class="o">.</span><span class="n">exec</span><span class="p">()</span>
</code></pre>
</div>

<p><strong>Notas</strong>:</p>

<ul>
<li>Asegúrate de tener las imágenes <code>dice_icon.png</code> y las imágenes de los dados en la carpeta correcta.</li>
<li>La imagen de fondo debe estar en <code>fondos/31254.jpg</code>. Asegúrate de que el archivo exista en esa ruta.</li>
</ul>

<p><strong>Métodos</strong>:</p>

<ul>
<li><p><code>__init__(self)</code>: Constructor de la clase. Configura la ventana, el diseño, los botones, y conecta las señales de los botones al método <code><a href="#DiceWindow.roll_dice">roll_dice</a></code>.</p>

<p><strong>Descripción</strong>:
Inicializa la ventana principal de la aplicación de dados. Configura el título de la ventana, la geometría, el ícono y el fondo. Añade una etiqueta de título, una etiqueta para mostrar los resultados de los dados, y botones para lanzar los dados.</p>

<p><strong>Ejemplo de Uso</strong>:
No es necesario llamar a este método directamente. Se invoca automáticamente cuando se crea una instancia de <code><a href="#DiceWindow">DiceWindow</a></code>.</p></li>
<li><p><code>set_background(self, image_path)</code>: Configura una imagen de fondo para el widget.</p>

<p><strong>Descripción</strong>:
Configura una imagen de fondo en la ventana utilizando la ruta proporcionada. Ajusta la imagen para que cubra toda la ventana.</p>

<p><strong>Parámetros</strong>:</p>

<ul>
<li><code>image_path</code> (<code>str</code>): Ruta de la imagen de fondo.</li>
</ul>

<p><strong>Ejemplo de Uso</strong>:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="bp">self</span><span class="o">.</span><span class="n">set_background</span><span class="p">(</span><span class="s1">&#39;fondos/31254.jpg&#39;</span><span class="p">)</span>
</code></pre>
</div></li>
<li><p><code>resizeEvent(self, event)</code>: Ajusta el tamaño del fondo cuando la ventana cambia de tamaño.</p>

<p><strong>Descripción</strong>:
Maneja el evento de cambio de tamaño de la ventana para asegurarse de que la imagen de fondo se redimensiona correctamente.</p>

<p><strong>Parámetros</strong>:</p>

<ul>
<li><code><a href="#DiceWindow.event">event</a></code> (<code>QResizeEvent</code>): El evento de cambio de tamaño.</li>
</ul>

<p><strong>Ejemplo de Uso</strong>:
Este método se llama automáticamente cuando la ventana cambia de tamaño, no es necesario invocar este método directamente.</p></li>
<li><p><code>roll_dice(self, sides)</code>: Lanza un dado con el número de caras especificado y muestra el resultado.</p>

<p><strong>Descripción</strong>:
Lanza un dado con un número de caras dado (4, 6, 10, 12, o 20) y actualiza <code><a href="#DiceWindow.label_result">label_result</a></code> con el número obtenido. Cambia el color del texto del resultado a azul (#007BFF).</p>

<p><strong>Parámetros</strong>:</p>

<ul>
<li><code>sides</code> (<code>int</code>): Número de caras del dado (4, 6, 10, 12, 20).</li>
</ul>

<p><strong>Ejemplo de Uso</strong>:
Este método se llama cuando se hace clic en uno de los botones de dados. No es necesario invocar este método directamente.</p>

<p><strong>Ejemplo de Uso</strong>:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="bp">self</span><span class="o">.</span><span class="n">roll_dice</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># Lanza un dado de 6 caras</span>
</code></pre>
</div></li>
</ul>
</div>


                            <div id="DiceWindow.layout" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">layout</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">unknown</span></span><span class="return-annotation">):</span></span>

        
    </div>
    <a class="headerlink" href="#DiceWindow.layout"></a>
    
    

                            </div>
                            <div id="DiceWindow.title_label" class="classattr">
                                <div class="attr variable">
            <span class="name">title_label</span>

        
    </div>
    <a class="headerlink" href="#DiceWindow.title_label"></a>
    
    

                            </div>
                            <div id="DiceWindow.label_result" class="classattr">
                                <div class="attr variable">
            <span class="name">label_result</span>

        
    </div>
    <a class="headerlink" href="#DiceWindow.label_result"></a>
    
    

                            </div>
                            <div id="DiceWindow.button_layout" class="classattr">
                                <div class="attr variable">
            <span class="name">button_layout</span>

        
    </div>
    <a class="headerlink" href="#DiceWindow.button_layout"></a>
    
    

                            </div>
                            <div id="DiceWindow.btn_roll_d4" class="classattr">
                                <div class="attr variable">
            <span class="name">btn_roll_d4</span>

        
    </div>
    <a class="headerlink" href="#DiceWindow.btn_roll_d4"></a>
    
    

                            </div>
                            <div id="DiceWindow.btn_roll_d6" class="classattr">
                                <div class="attr variable">
            <span class="name">btn_roll_d6</span>

        
    </div>
    <a class="headerlink" href="#DiceWindow.btn_roll_d6"></a>
    
    

                            </div>
                            <div id="DiceWindow.btn_roll_d10" class="classattr">
                                <div class="attr variable">
            <span class="name">btn_roll_d10</span>

        
    </div>
    <a class="headerlink" href="#DiceWindow.btn_roll_d10"></a>
    
    

                            </div>
                            <div id="DiceWindow.btn_roll_d12" class="classattr">
                                <div class="attr variable">
            <span class="name">btn_roll_d12</span>

        
    </div>
    <a class="headerlink" href="#DiceWindow.btn_roll_d12"></a>
    
    

                            </div>
                            <div id="DiceWindow.btn_roll_d20" class="classattr">
                                <div class="attr variable">
            <span class="name">btn_roll_d20</span>

        
    </div>
    <a class="headerlink" href="#DiceWindow.btn_roll_d20"></a>
    
    

                            </div>
                            <div id="DiceWindow.set_background" class="classattr">
                                        <input id="DiceWindow.set_background-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">set_background</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">image_path</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DiceWindow.set_background-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DiceWindow.set_background"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DiceWindow.set_background-2089"><a href="#DiceWindow.set_background-2089"><span class="linenos">2089</span></a>    <span class="k">def</span> <span class="nf">set_background</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">image_path</span><span class="p">):</span>
</span><span id="DiceWindow.set_background-2090"><a href="#DiceWindow.set_background-2090"><span class="linenos">2090</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DiceWindow.set_background-2091"><a href="#DiceWindow.set_background-2091"><span class="linenos">2091</span></a><span class="sd">        Configura una imagen de fondo para el widget.</span>
</span><span id="DiceWindow.set_background-2092"><a href="#DiceWindow.set_background-2092"><span class="linenos">2092</span></a>
</span><span id="DiceWindow.set_background-2093"><a href="#DiceWindow.set_background-2093"><span class="linenos">2093</span></a><span class="sd">        **Parámetros**:</span>
</span><span id="DiceWindow.set_background-2094"><a href="#DiceWindow.set_background-2094"><span class="linenos">2094</span></a><span class="sd">        - `image_path` (`str`): Ruta de la imagen de fondo que se mostrará en la ventana.</span>
</span><span id="DiceWindow.set_background-2095"><a href="#DiceWindow.set_background-2095"><span class="linenos">2095</span></a>
</span><span id="DiceWindow.set_background-2096"><a href="#DiceWindow.set_background-2096"><span class="linenos">2096</span></a><span class="sd">        **Descripción**:</span>
</span><span id="DiceWindow.set_background-2097"><a href="#DiceWindow.set_background-2097"><span class="linenos">2097</span></a><span class="sd">        Crea un `QLabel` para mostrar una imagen de fondo en el widget. La imagen se ajusta al tamaño de la ventana y se coloca detrás de todos los demás widgets.</span>
</span><span id="DiceWindow.set_background-2098"><a href="#DiceWindow.set_background-2098"><span class="linenos">2098</span></a>
</span><span id="DiceWindow.set_background-2099"><a href="#DiceWindow.set_background-2099"><span class="linenos">2099</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="DiceWindow.set_background-2100"><a href="#DiceWindow.set_background-2100"><span class="linenos">2100</span></a><span class="sd">        ```python</span>
</span><span id="DiceWindow.set_background-2101"><a href="#DiceWindow.set_background-2101"><span class="linenos">2101</span></a><span class="sd">        self.set_background(&#39;fondos/31254.jpg&#39;)</span>
</span><span id="DiceWindow.set_background-2102"><a href="#DiceWindow.set_background-2102"><span class="linenos">2102</span></a><span class="sd">        ```</span>
</span><span id="DiceWindow.set_background-2103"><a href="#DiceWindow.set_background-2103"><span class="linenos">2103</span></a>
</span><span id="DiceWindow.set_background-2104"><a href="#DiceWindow.set_background-2104"><span class="linenos">2104</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="DiceWindow.set_background-2105"><a href="#DiceWindow.set_background-2105"><span class="linenos">2105</span></a><span class="sd">        - Verifica que el archivo de imagen exista en la ruta proporcionada.</span>
</span><span id="DiceWindow.set_background-2106"><a href="#DiceWindow.set_background-2106"><span class="linenos">2106</span></a><span class="sd">        - Asegúrate de que `image_path` sea una cadena de texto válida.</span>
</span><span id="DiceWindow.set_background-2107"><a href="#DiceWindow.set_background-2107"><span class="linenos">2107</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DiceWindow.set_background-2108"><a href="#DiceWindow.set_background-2108"><span class="linenos">2108</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background_label</span> <span class="o">=</span> <span class="n">QLabel</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="DiceWindow.set_background-2109"><a href="#DiceWindow.set_background-2109"><span class="linenos">2109</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background_label</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">QPixmap</span><span class="p">(</span><span class="n">image_path</span><span class="p">))</span>
</span><span id="DiceWindow.set_background-2110"><a href="#DiceWindow.set_background-2110"><span class="linenos">2110</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background_label</span><span class="o">.</span><span class="n">setScaledContents</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</span><span id="DiceWindow.set_background-2111"><a href="#DiceWindow.set_background-2111"><span class="linenos">2111</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background_label</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">())</span>
</span><span id="DiceWindow.set_background-2112"><a href="#DiceWindow.set_background-2112"><span class="linenos">2112</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background_label</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Configura una imagen de fondo para el widget.</p>

<p><strong>Parámetros</strong>:</p>

<ul>
<li><code>image_path</code> (<code>str</code>): Ruta de la imagen de fondo que se mostrará en la ventana.</li>
</ul>

<p><strong>Descripción</strong>:
Crea un <code>QLabel</code> para mostrar una imagen de fondo en el widget. La imagen se ajusta al tamaño de la ventana y se coloca detrás de todos los demás widgets.</p>

<p><strong>Ejemplo de Uso</strong>:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="bp">self</span><span class="o">.</span><span class="n">set_background</span><span class="p">(</span><span class="s1">&#39;fondos/31254.jpg&#39;</span><span class="p">)</span>
</code></pre>
</div>

<p><strong>Errores Comunes</strong>:</p>

<ul>
<li>Verifica que el archivo de imagen exista en la ruta proporcionada.</li>
<li>Asegúrate de que <code>image_path</code> sea una cadena de texto válida.</li>
</ul>
</div>


                            </div>
                            <div id="DiceWindow.resizeEvent" class="classattr">
                                        <input id="DiceWindow.resizeEvent-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">resizeEvent</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">event</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DiceWindow.resizeEvent-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DiceWindow.resizeEvent"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DiceWindow.resizeEvent-2114"><a href="#DiceWindow.resizeEvent-2114"><span class="linenos">2114</span></a>    <span class="k">def</span> <span class="nf">resizeEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
</span><span id="DiceWindow.resizeEvent-2115"><a href="#DiceWindow.resizeEvent-2115"><span class="linenos">2115</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DiceWindow.resizeEvent-2116"><a href="#DiceWindow.resizeEvent-2116"><span class="linenos">2116</span></a><span class="sd">        Ajusta el tamaño del fondo cuando la ventana cambia de tamaño.</span>
</span><span id="DiceWindow.resizeEvent-2117"><a href="#DiceWindow.resizeEvent-2117"><span class="linenos">2117</span></a>
</span><span id="DiceWindow.resizeEvent-2118"><a href="#DiceWindow.resizeEvent-2118"><span class="linenos">2118</span></a><span class="sd">        **Parámetros**:</span>
</span><span id="DiceWindow.resizeEvent-2119"><a href="#DiceWindow.resizeEvent-2119"><span class="linenos">2119</span></a><span class="sd">        - `event` (`QResizeEvent`): El evento de cambio de tamaño que indica cómo ha cambiado el tamaño de la ventana.</span>
</span><span id="DiceWindow.resizeEvent-2120"><a href="#DiceWindow.resizeEvent-2120"><span class="linenos">2120</span></a>
</span><span id="DiceWindow.resizeEvent-2121"><a href="#DiceWindow.resizeEvent-2121"><span class="linenos">2121</span></a><span class="sd">        **Descripción**:</span>
</span><span id="DiceWindow.resizeEvent-2122"><a href="#DiceWindow.resizeEvent-2122"><span class="linenos">2122</span></a><span class="sd">        Este método maneja el evento de cambio de tamaño para asegurarse de que la imagen de fondo se redimensione de acuerdo con el tamaño de la ventana.</span>
</span><span id="DiceWindow.resizeEvent-2123"><a href="#DiceWindow.resizeEvent-2123"><span class="linenos">2123</span></a>
</span><span id="DiceWindow.resizeEvent-2124"><a href="#DiceWindow.resizeEvent-2124"><span class="linenos">2124</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="DiceWindow.resizeEvent-2125"><a href="#DiceWindow.resizeEvent-2125"><span class="linenos">2125</span></a><span class="sd">        Este método es llamado automáticamente por el sistema cuando la ventana cambia de tamaño.</span>
</span><span id="DiceWindow.resizeEvent-2126"><a href="#DiceWindow.resizeEvent-2126"><span class="linenos">2126</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DiceWindow.resizeEvent-2127"><a href="#DiceWindow.resizeEvent-2127"><span class="linenos">2127</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">background_label</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">())</span>
</span><span id="DiceWindow.resizeEvent-2128"><a href="#DiceWindow.resizeEvent-2128"><span class="linenos">2128</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">DiceWindow</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">resizeEvent</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Ajusta el tamaño del fondo cuando la ventana cambia de tamaño.</p>

<p><strong>Parámetros</strong>:</p>

<ul>
<li><code><a href="#DiceWindow.event">event</a></code> (<code>QResizeEvent</code>): El evento de cambio de tamaño que indica cómo ha cambiado el tamaño de la ventana.</li>
</ul>

<p><strong>Descripción</strong>:
Este método maneja el evento de cambio de tamaño para asegurarse de que la imagen de fondo se redimensione de acuerdo con el tamaño de la ventana.</p>

<p><strong>Ejemplo de Uso</strong>:
Este método es llamado automáticamente por el sistema cuando la ventana cambia de tamaño.</p>
</div>


                            </div>
                            <div id="DiceWindow.roll_dice" class="classattr">
                                        <input id="DiceWindow.roll_dice-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">roll_dice</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">sides</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DiceWindow.roll_dice-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DiceWindow.roll_dice"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DiceWindow.roll_dice-2130"><a href="#DiceWindow.roll_dice-2130"><span class="linenos">2130</span></a>    <span class="k">def</span> <span class="nf">roll_dice</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sides</span><span class="p">):</span>
</span><span id="DiceWindow.roll_dice-2131"><a href="#DiceWindow.roll_dice-2131"><span class="linenos">2131</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DiceWindow.roll_dice-2132"><a href="#DiceWindow.roll_dice-2132"><span class="linenos">2132</span></a><span class="sd">        Lanza un dado con el número de caras especificado y muestra el resultado.</span>
</span><span id="DiceWindow.roll_dice-2133"><a href="#DiceWindow.roll_dice-2133"><span class="linenos">2133</span></a>
</span><span id="DiceWindow.roll_dice-2134"><a href="#DiceWindow.roll_dice-2134"><span class="linenos">2134</span></a><span class="sd">        **Parámetros**:</span>
</span><span id="DiceWindow.roll_dice-2135"><a href="#DiceWindow.roll_dice-2135"><span class="linenos">2135</span></a><span class="sd">        - `sides` (`int`): Número de caras del dado (4, 6, 10, 12, 20).</span>
</span><span id="DiceWindow.roll_dice-2136"><a href="#DiceWindow.roll_dice-2136"><span class="linenos">2136</span></a>
</span><span id="DiceWindow.roll_dice-2137"><a href="#DiceWindow.roll_dice-2137"><span class="linenos">2137</span></a><span class="sd">        **Descripción**:</span>
</span><span id="DiceWindow.roll_dice-2138"><a href="#DiceWindow.roll_dice-2138"><span class="linenos">2138</span></a><span class="sd">        Genera un número aleatorio entre 1 y el número de caras del dado. Actualiza el texto de `label_result` para mostrar el resultado del lanzamiento.</span>
</span><span id="DiceWindow.roll_dice-2139"><a href="#DiceWindow.roll_dice-2139"><span class="linenos">2139</span></a>
</span><span id="DiceWindow.roll_dice-2140"><a href="#DiceWindow.roll_dice-2140"><span class="linenos">2140</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="DiceWindow.roll_dice-2141"><a href="#DiceWindow.roll_dice-2141"><span class="linenos">2141</span></a><span class="sd">        Este método es llamado cuando se hace clic en uno de los botones de dados.</span>
</span><span id="DiceWindow.roll_dice-2142"><a href="#DiceWindow.roll_dice-2142"><span class="linenos">2142</span></a>
</span><span id="DiceWindow.roll_dice-2143"><a href="#DiceWindow.roll_dice-2143"><span class="linenos">2143</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="DiceWindow.roll_dice-2144"><a href="#DiceWindow.roll_dice-2144"><span class="linenos">2144</span></a><span class="sd">        - Asegúrate de que `sides` sea uno de los valores válidos (4, 6, 10, 12, 20).</span>
</span><span id="DiceWindow.roll_dice-2145"><a href="#DiceWindow.roll_dice-2145"><span class="linenos">2145</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DiceWindow.roll_dice-2146"><a href="#DiceWindow.roll_dice-2146"><span class="linenos">2146</span></a>        <span class="n">result</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">sides</span><span class="p">)</span>
</span><span id="DiceWindow.roll_dice-2147"><a href="#DiceWindow.roll_dice-2147"><span class="linenos">2147</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">label_result</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Numero: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="DiceWindow.roll_dice-2148"><a href="#DiceWindow.roll_dice-2148"><span class="linenos">2148</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">label_result</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s1">&#39;font-size: 18px; color: #007BFF;&#39;</span><span class="p">)</span>  <span class="c1"># Cambio de color para el texto</span>
</span></pre></div>


            <div class="docstring"><p>Lanza un dado con el número de caras especificado y muestra el resultado.</p>

<p><strong>Parámetros</strong>:</p>

<ul>
<li><code>sides</code> (<code>int</code>): Número de caras del dado (4, 6, 10, 12, 20).</li>
</ul>

<p><strong>Descripción</strong>:
Genera un número aleatorio entre 1 y el número de caras del dado. Actualiza el texto de <code><a href="#DiceWindow.label_result">label_result</a></code> para mostrar el resultado del lanzamiento.</p>

<p><strong>Ejemplo de Uso</strong>:
Este método es llamado cuando se hace clic en uno de los botones de dados.</p>

<p><strong>Errores Comunes</strong>:</p>

<ul>
<li>Asegúrate de que <code>sides</code> sea uno de los valores válidos (4, 6, 10, 12, 20).</li>
</ul>
</div>


                            </div>
                            <div id="DiceWindow.staticMetaObject" class="classattr">
                                <div class="attr variable">
            <span class="name">staticMetaObject</span>        =
<span class="default_value">PySide6.QtCore.QMetaObject(&#34;DiceWindow&#34; inherits &#34;QWidget&#34;:
)</span>

        
    </div>
    <a class="headerlink" href="#DiceWindow.staticMetaObject"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>PySide6.QtWidgets.QWidget</dt>
                                <dd id="DiceWindow.acceptDrops" class="function">acceptDrops</dd>
                <dd id="DiceWindow.accessibleDescription" class="function">accessibleDescription</dd>
                <dd id="DiceWindow.accessibleName" class="function">accessibleName</dd>
                <dd id="DiceWindow.actionEvent" class="function">actionEvent</dd>
                <dd id="DiceWindow.actions" class="function">actions</dd>
                <dd id="DiceWindow.activateWindow" class="function">activateWindow</dd>
                <dd id="DiceWindow.addAction" class="function">addAction</dd>
                <dd id="DiceWindow.addActions" class="function">addActions</dd>
                <dd id="DiceWindow.adjustSize" class="function">adjustSize</dd>
                <dd id="DiceWindow.autoFillBackground" class="function">autoFillBackground</dd>
                <dd id="DiceWindow.backgroundRole" class="function">backgroundRole</dd>
                <dd id="DiceWindow.backingStore" class="function">backingStore</dd>
                <dd id="DiceWindow.baseSize" class="function">baseSize</dd>
                <dd id="DiceWindow.changeEvent" class="function">changeEvent</dd>
                <dd id="DiceWindow.childAt" class="function">childAt</dd>
                <dd id="DiceWindow.childrenRect" class="function">childrenRect</dd>
                <dd id="DiceWindow.childrenRegion" class="function">childrenRegion</dd>
                <dd id="DiceWindow.clearFocus" class="function">clearFocus</dd>
                <dd id="DiceWindow.clearMask" class="function">clearMask</dd>
                <dd id="DiceWindow.close" class="function">close</dd>
                <dd id="DiceWindow.closeEvent" class="function">closeEvent</dd>
                <dd id="DiceWindow.contentsMargins" class="function">contentsMargins</dd>
                <dd id="DiceWindow.contentsRect" class="function">contentsRect</dd>
                <dd id="DiceWindow.contextMenuEvent" class="function">contextMenuEvent</dd>
                <dd id="DiceWindow.contextMenuPolicy" class="function">contextMenuPolicy</dd>
                <dd id="DiceWindow.create" class="function">create</dd>
                <dd id="DiceWindow.createWinId" class="function">createWinId</dd>
                <dd id="DiceWindow.createWindowContainer" class="function">createWindowContainer</dd>
                <dd id="DiceWindow.cursor" class="function">cursor</dd>
                <dd id="DiceWindow.destroy" class="function">destroy</dd>
                <dd id="DiceWindow.devType" class="function">devType</dd>
                <dd id="DiceWindow.dragEnterEvent" class="function">dragEnterEvent</dd>
                <dd id="DiceWindow.dragLeaveEvent" class="function">dragLeaveEvent</dd>
                <dd id="DiceWindow.dragMoveEvent" class="function">dragMoveEvent</dd>
                <dd id="DiceWindow.dropEvent" class="function">dropEvent</dd>
                <dd id="DiceWindow.effectiveWinId" class="function">effectiveWinId</dd>
                <dd id="DiceWindow.ensurePolished" class="function">ensurePolished</dd>
                <dd id="DiceWindow.enterEvent" class="function">enterEvent</dd>
                <dd id="DiceWindow.event" class="function">event</dd>
                <dd id="DiceWindow.find" class="function">find</dd>
                <dd id="DiceWindow.focusInEvent" class="function">focusInEvent</dd>
                <dd id="DiceWindow.focusNextChild" class="function">focusNextChild</dd>
                <dd id="DiceWindow.focusNextPrevChild" class="function">focusNextPrevChild</dd>
                <dd id="DiceWindow.focusOutEvent" class="function">focusOutEvent</dd>
                <dd id="DiceWindow.focusPolicy" class="function">focusPolicy</dd>
                <dd id="DiceWindow.focusPreviousChild" class="function">focusPreviousChild</dd>
                <dd id="DiceWindow.focusProxy" class="function">focusProxy</dd>
                <dd id="DiceWindow.focusWidget" class="function">focusWidget</dd>
                <dd id="DiceWindow.font" class="function">font</dd>
                <dd id="DiceWindow.fontInfo" class="function">fontInfo</dd>
                <dd id="DiceWindow.fontMetrics" class="function">fontMetrics</dd>
                <dd id="DiceWindow.foregroundRole" class="function">foregroundRole</dd>
                <dd id="DiceWindow.frameGeometry" class="function">frameGeometry</dd>
                <dd id="DiceWindow.frameSize" class="function">frameSize</dd>
                <dd id="DiceWindow.geometry" class="function">geometry</dd>
                <dd id="DiceWindow.grab" class="function">grab</dd>
                <dd id="DiceWindow.grabGesture" class="function">grabGesture</dd>
                <dd id="DiceWindow.grabKeyboard" class="function">grabKeyboard</dd>
                <dd id="DiceWindow.grabMouse" class="function">grabMouse</dd>
                <dd id="DiceWindow.grabShortcut" class="function">grabShortcut</dd>
                <dd id="DiceWindow.graphicsEffect" class="function">graphicsEffect</dd>
                <dd id="DiceWindow.graphicsProxyWidget" class="function">graphicsProxyWidget</dd>
                <dd id="DiceWindow.hasFocus" class="function">hasFocus</dd>
                <dd id="DiceWindow.hasHeightForWidth" class="function">hasHeightForWidth</dd>
                <dd id="DiceWindow.hasMouseTracking" class="function">hasMouseTracking</dd>
                <dd id="DiceWindow.hasTabletTracking" class="function">hasTabletTracking</dd>
                <dd id="DiceWindow.height" class="function">height</dd>
                <dd id="DiceWindow.heightForWidth" class="function">heightForWidth</dd>
                <dd id="DiceWindow.hide" class="function">hide</dd>
                <dd id="DiceWindow.hideEvent" class="function">hideEvent</dd>
                <dd id="DiceWindow.initPainter" class="function">initPainter</dd>
                <dd id="DiceWindow.inputMethodEvent" class="function">inputMethodEvent</dd>
                <dd id="DiceWindow.inputMethodHints" class="function">inputMethodHints</dd>
                <dd id="DiceWindow.inputMethodQuery" class="function">inputMethodQuery</dd>
                <dd id="DiceWindow.insertAction" class="function">insertAction</dd>
                <dd id="DiceWindow.insertActions" class="function">insertActions</dd>
                <dd id="DiceWindow.internalWinId" class="function">internalWinId</dd>
                <dd id="DiceWindow.isActiveWindow" class="function">isActiveWindow</dd>
                <dd id="DiceWindow.isAncestorOf" class="function">isAncestorOf</dd>
                <dd id="DiceWindow.isEnabled" class="function">isEnabled</dd>
                <dd id="DiceWindow.isEnabledTo" class="function">isEnabledTo</dd>
                <dd id="DiceWindow.isFullScreen" class="function">isFullScreen</dd>
                <dd id="DiceWindow.isHidden" class="function">isHidden</dd>
                <dd id="DiceWindow.isLeftToRight" class="function">isLeftToRight</dd>
                <dd id="DiceWindow.isMaximized" class="function">isMaximized</dd>
                <dd id="DiceWindow.isMinimized" class="function">isMinimized</dd>
                <dd id="DiceWindow.isModal" class="function">isModal</dd>
                <dd id="DiceWindow.isRightToLeft" class="function">isRightToLeft</dd>
                <dd id="DiceWindow.isTopLevel" class="function">isTopLevel</dd>
                <dd id="DiceWindow.isVisible" class="function">isVisible</dd>
                <dd id="DiceWindow.isVisibleTo" class="function">isVisibleTo</dd>
                <dd id="DiceWindow.isWindow" class="function">isWindow</dd>
                <dd id="DiceWindow.isWindowModified" class="function">isWindowModified</dd>
                <dd id="DiceWindow.keyPressEvent" class="function">keyPressEvent</dd>
                <dd id="DiceWindow.keyReleaseEvent" class="function">keyReleaseEvent</dd>
                <dd id="DiceWindow.keyboardGrabber" class="function">keyboardGrabber</dd>
                <dd id="DiceWindow.layoutDirection" class="function">layoutDirection</dd>
                <dd id="DiceWindow.leaveEvent" class="function">leaveEvent</dd>
                <dd id="DiceWindow.locale" class="function">locale</dd>
                <dd id="DiceWindow.lower" class="function">lower</dd>
                <dd id="DiceWindow.mapFrom" class="function">mapFrom</dd>
                <dd id="DiceWindow.mapFromGlobal" class="function">mapFromGlobal</dd>
                <dd id="DiceWindow.mapFromParent" class="function">mapFromParent</dd>
                <dd id="DiceWindow.mapTo" class="function">mapTo</dd>
                <dd id="DiceWindow.mapToGlobal" class="function">mapToGlobal</dd>
                <dd id="DiceWindow.mapToParent" class="function">mapToParent</dd>
                <dd id="DiceWindow.mask" class="function">mask</dd>
                <dd id="DiceWindow.maximumHeight" class="function">maximumHeight</dd>
                <dd id="DiceWindow.maximumSize" class="function">maximumSize</dd>
                <dd id="DiceWindow.maximumWidth" class="function">maximumWidth</dd>
                <dd id="DiceWindow.metric" class="function">metric</dd>
                <dd id="DiceWindow.minimumHeight" class="function">minimumHeight</dd>
                <dd id="DiceWindow.minimumSize" class="function">minimumSize</dd>
                <dd id="DiceWindow.minimumSizeHint" class="function">minimumSizeHint</dd>
                <dd id="DiceWindow.minimumWidth" class="function">minimumWidth</dd>
                <dd id="DiceWindow.mouseDoubleClickEvent" class="function">mouseDoubleClickEvent</dd>
                <dd id="DiceWindow.mouseGrabber" class="function">mouseGrabber</dd>
                <dd id="DiceWindow.mouseMoveEvent" class="function">mouseMoveEvent</dd>
                <dd id="DiceWindow.mousePressEvent" class="function">mousePressEvent</dd>
                <dd id="DiceWindow.mouseReleaseEvent" class="function">mouseReleaseEvent</dd>
                <dd id="DiceWindow.move" class="function">move</dd>
                <dd id="DiceWindow.moveEvent" class="function">moveEvent</dd>
                <dd id="DiceWindow.nativeEvent" class="function">nativeEvent</dd>
                <dd id="DiceWindow.nativeParentWidget" class="function">nativeParentWidget</dd>
                <dd id="DiceWindow.nextInFocusChain" class="function">nextInFocusChain</dd>
                <dd id="DiceWindow.normalGeometry" class="function">normalGeometry</dd>
                <dd id="DiceWindow.overrideWindowFlags" class="function">overrideWindowFlags</dd>
                <dd id="DiceWindow.overrideWindowState" class="function">overrideWindowState</dd>
                <dd id="DiceWindow.paintEngine" class="function">paintEngine</dd>
                <dd id="DiceWindow.paintEvent" class="function">paintEvent</dd>
                <dd id="DiceWindow.palette" class="function">palette</dd>
                <dd id="DiceWindow.parentWidget" class="function">parentWidget</dd>
                <dd id="DiceWindow.pos" class="function">pos</dd>
                <dd id="DiceWindow.previousInFocusChain" class="function">previousInFocusChain</dd>
                <dd id="DiceWindow.raise_" class="function">raise_</dd>
                <dd id="DiceWindow.rect" class="function">rect</dd>
                <dd id="DiceWindow.redirected" class="function">redirected</dd>
                <dd id="DiceWindow.releaseKeyboard" class="function">releaseKeyboard</dd>
                <dd id="DiceWindow.releaseMouse" class="function">releaseMouse</dd>
                <dd id="DiceWindow.releaseShortcut" class="function">releaseShortcut</dd>
                <dd id="DiceWindow.removeAction" class="function">removeAction</dd>
                <dd id="DiceWindow.render" class="function">render</dd>
                <dd id="DiceWindow.repaint" class="function">repaint</dd>
                <dd id="DiceWindow.resize" class="function">resize</dd>
                <dd id="DiceWindow.restoreGeometry" class="function">restoreGeometry</dd>
                <dd id="DiceWindow.saveGeometry" class="function">saveGeometry</dd>
                <dd id="DiceWindow.screen" class="function">screen</dd>
                <dd id="DiceWindow.scroll" class="function">scroll</dd>
                <dd id="DiceWindow.setAcceptDrops" class="function">setAcceptDrops</dd>
                <dd id="DiceWindow.setAccessibleDescription" class="function">setAccessibleDescription</dd>
                <dd id="DiceWindow.setAccessibleName" class="function">setAccessibleName</dd>
                <dd id="DiceWindow.setAttribute" class="function">setAttribute</dd>
                <dd id="DiceWindow.setAutoFillBackground" class="function">setAutoFillBackground</dd>
                <dd id="DiceWindow.setBackgroundRole" class="function">setBackgroundRole</dd>
                <dd id="DiceWindow.setBaseSize" class="function">setBaseSize</dd>
                <dd id="DiceWindow.setContentsMargins" class="function">setContentsMargins</dd>
                <dd id="DiceWindow.setContextMenuPolicy" class="function">setContextMenuPolicy</dd>
                <dd id="DiceWindow.setCursor" class="function">setCursor</dd>
                <dd id="DiceWindow.setDisabled" class="function">setDisabled</dd>
                <dd id="DiceWindow.setEnabled" class="function">setEnabled</dd>
                <dd id="DiceWindow.setFixedHeight" class="function">setFixedHeight</dd>
                <dd id="DiceWindow.setFixedSize" class="function">setFixedSize</dd>
                <dd id="DiceWindow.setFixedWidth" class="function">setFixedWidth</dd>
                <dd id="DiceWindow.setFocus" class="function">setFocus</dd>
                <dd id="DiceWindow.setFocusPolicy" class="function">setFocusPolicy</dd>
                <dd id="DiceWindow.setFocusProxy" class="function">setFocusProxy</dd>
                <dd id="DiceWindow.setFont" class="function">setFont</dd>
                <dd id="DiceWindow.setForegroundRole" class="function">setForegroundRole</dd>
                <dd id="DiceWindow.setGeometry" class="function">setGeometry</dd>
                <dd id="DiceWindow.setGraphicsEffect" class="function">setGraphicsEffect</dd>
                <dd id="DiceWindow.setHidden" class="function">setHidden</dd>
                <dd id="DiceWindow.setInputMethodHints" class="function">setInputMethodHints</dd>
                <dd id="DiceWindow.setLayout" class="function">setLayout</dd>
                <dd id="DiceWindow.setLayoutDirection" class="function">setLayoutDirection</dd>
                <dd id="DiceWindow.setLocale" class="function">setLocale</dd>
                <dd id="DiceWindow.setMask" class="function">setMask</dd>
                <dd id="DiceWindow.setMaximumHeight" class="function">setMaximumHeight</dd>
                <dd id="DiceWindow.setMaximumSize" class="function">setMaximumSize</dd>
                <dd id="DiceWindow.setMaximumWidth" class="function">setMaximumWidth</dd>
                <dd id="DiceWindow.setMinimumHeight" class="function">setMinimumHeight</dd>
                <dd id="DiceWindow.setMinimumSize" class="function">setMinimumSize</dd>
                <dd id="DiceWindow.setMinimumWidth" class="function">setMinimumWidth</dd>
                <dd id="DiceWindow.setMouseTracking" class="function">setMouseTracking</dd>
                <dd id="DiceWindow.setPalette" class="function">setPalette</dd>
                <dd id="DiceWindow.setParent" class="function">setParent</dd>
                <dd id="DiceWindow.setScreen" class="function">setScreen</dd>
                <dd id="DiceWindow.setShortcutAutoRepeat" class="function">setShortcutAutoRepeat</dd>
                <dd id="DiceWindow.setShortcutEnabled" class="function">setShortcutEnabled</dd>
                <dd id="DiceWindow.setSizeIncrement" class="function">setSizeIncrement</dd>
                <dd id="DiceWindow.setSizePolicy" class="function">setSizePolicy</dd>
                <dd id="DiceWindow.setStatusTip" class="function">setStatusTip</dd>
                <dd id="DiceWindow.setStyle" class="function">setStyle</dd>
                <dd id="DiceWindow.setStyleSheet" class="function">setStyleSheet</dd>
                <dd id="DiceWindow.setTabOrder" class="function">setTabOrder</dd>
                <dd id="DiceWindow.setTabletTracking" class="function">setTabletTracking</dd>
                <dd id="DiceWindow.setToolTip" class="function">setToolTip</dd>
                <dd id="DiceWindow.setToolTipDuration" class="function">setToolTipDuration</dd>
                <dd id="DiceWindow.setUpdatesEnabled" class="function">setUpdatesEnabled</dd>
                <dd id="DiceWindow.setVisible" class="function">setVisible</dd>
                <dd id="DiceWindow.setWhatsThis" class="function">setWhatsThis</dd>
                <dd id="DiceWindow.setWindowFilePath" class="function">setWindowFilePath</dd>
                <dd id="DiceWindow.setWindowFlag" class="function">setWindowFlag</dd>
                <dd id="DiceWindow.setWindowFlags" class="function">setWindowFlags</dd>
                <dd id="DiceWindow.setWindowIcon" class="function">setWindowIcon</dd>
                <dd id="DiceWindow.setWindowIconText" class="function">setWindowIconText</dd>
                <dd id="DiceWindow.setWindowModality" class="function">setWindowModality</dd>
                <dd id="DiceWindow.setWindowModified" class="function">setWindowModified</dd>
                <dd id="DiceWindow.setWindowOpacity" class="function">setWindowOpacity</dd>
                <dd id="DiceWindow.setWindowRole" class="function">setWindowRole</dd>
                <dd id="DiceWindow.setWindowState" class="function">setWindowState</dd>
                <dd id="DiceWindow.setWindowTitle" class="function">setWindowTitle</dd>
                <dd id="DiceWindow.sharedPainter" class="function">sharedPainter</dd>
                <dd id="DiceWindow.show" class="function">show</dd>
                <dd id="DiceWindow.showEvent" class="function">showEvent</dd>
                <dd id="DiceWindow.showFullScreen" class="function">showFullScreen</dd>
                <dd id="DiceWindow.showMaximized" class="function">showMaximized</dd>
                <dd id="DiceWindow.showMinimized" class="function">showMinimized</dd>
                <dd id="DiceWindow.showNormal" class="function">showNormal</dd>
                <dd id="DiceWindow.size" class="function">size</dd>
                <dd id="DiceWindow.sizeHint" class="function">sizeHint</dd>
                <dd id="DiceWindow.sizeIncrement" class="function">sizeIncrement</dd>
                <dd id="DiceWindow.sizePolicy" class="function">sizePolicy</dd>
                <dd id="DiceWindow.stackUnder" class="function">stackUnder</dd>
                <dd id="DiceWindow.statusTip" class="function">statusTip</dd>
                <dd id="DiceWindow.style" class="function">style</dd>
                <dd id="DiceWindow.styleSheet" class="function">styleSheet</dd>
                <dd id="DiceWindow.tabletEvent" class="function">tabletEvent</dd>
                <dd id="DiceWindow.testAttribute" class="function">testAttribute</dd>
                <dd id="DiceWindow.toolTip" class="function">toolTip</dd>
                <dd id="DiceWindow.toolTipDuration" class="function">toolTipDuration</dd>
                <dd id="DiceWindow.topLevelWidget" class="function">topLevelWidget</dd>
                <dd id="DiceWindow.underMouse" class="function">underMouse</dd>
                <dd id="DiceWindow.ungrabGesture" class="function">ungrabGesture</dd>
                <dd id="DiceWindow.unsetCursor" class="function">unsetCursor</dd>
                <dd id="DiceWindow.unsetLayoutDirection" class="function">unsetLayoutDirection</dd>
                <dd id="DiceWindow.unsetLocale" class="function">unsetLocale</dd>
                <dd id="DiceWindow.update" class="function">update</dd>
                <dd id="DiceWindow.updateGeometry" class="function">updateGeometry</dd>
                <dd id="DiceWindow.updateMicroFocus" class="function">updateMicroFocus</dd>
                <dd id="DiceWindow.updatesEnabled" class="function">updatesEnabled</dd>
                <dd id="DiceWindow.visibleRegion" class="function">visibleRegion</dd>
                <dd id="DiceWindow.whatsThis" class="function">whatsThis</dd>
                <dd id="DiceWindow.wheelEvent" class="function">wheelEvent</dd>
                <dd id="DiceWindow.width" class="function">width</dd>
                <dd id="DiceWindow.winId" class="function">winId</dd>
                <dd id="DiceWindow.window" class="function">window</dd>
                <dd id="DiceWindow.windowFilePath" class="function">windowFilePath</dd>
                <dd id="DiceWindow.windowFlags" class="function">windowFlags</dd>
                <dd id="DiceWindow.windowHandle" class="function">windowHandle</dd>
                <dd id="DiceWindow.windowIcon" class="function">windowIcon</dd>
                <dd id="DiceWindow.windowIconText" class="function">windowIconText</dd>
                <dd id="DiceWindow.windowModality" class="function">windowModality</dd>
                <dd id="DiceWindow.windowOpacity" class="function">windowOpacity</dd>
                <dd id="DiceWindow.windowRole" class="function">windowRole</dd>
                <dd id="DiceWindow.windowState" class="function">windowState</dd>
                <dd id="DiceWindow.windowTitle" class="function">windowTitle</dd>
                <dd id="DiceWindow.windowType" class="function">windowType</dd>
                <dd id="DiceWindow.x" class="function">x</dd>
                <dd id="DiceWindow.y" class="function">y</dd>
                <dd id="DiceWindow.RenderFlag" class="class">RenderFlag</dd>
                <dd id="DiceWindow.windowTitleChanged" class="function">windowTitleChanged</dd>
                <dd id="DiceWindow.windowIconChanged" class="function">windowIconChanged</dd>
                <dd id="DiceWindow.windowIconTextChanged" class="function">windowIconTextChanged</dd>
                <dd id="DiceWindow.customContextMenuRequested" class="function">customContextMenuRequested</dd>

            </div>
            <div><dt>PySide6.QtCore.QObject</dt>
                                <dd id="DiceWindow.blockSignals" class="function">blockSignals</dd>
                <dd id="DiceWindow.childEvent" class="function">childEvent</dd>
                <dd id="DiceWindow.children" class="function">children</dd>
                <dd id="DiceWindow.connect" class="function">connect</dd>
                <dd id="DiceWindow.connectNotify" class="function">connectNotify</dd>
                <dd id="DiceWindow.customEvent" class="function">customEvent</dd>
                <dd id="DiceWindow.deleteLater" class="function">deleteLater</dd>
                <dd id="DiceWindow.disconnect" class="function">disconnect</dd>
                <dd id="DiceWindow.disconnectNotify" class="function">disconnectNotify</dd>
                <dd id="DiceWindow.dumpObjectInfo" class="function">dumpObjectInfo</dd>
                <dd id="DiceWindow.dumpObjectTree" class="function">dumpObjectTree</dd>
                <dd id="DiceWindow.dynamicPropertyNames" class="function">dynamicPropertyNames</dd>
                <dd id="DiceWindow.emit" class="function">emit</dd>
                <dd id="DiceWindow.eventFilter" class="function">eventFilter</dd>
                <dd id="DiceWindow.findChild" class="function">findChild</dd>
                <dd id="DiceWindow.findChildren" class="function">findChildren</dd>
                <dd id="DiceWindow.inherits" class="function">inherits</dd>
                <dd id="DiceWindow.installEventFilter" class="function">installEventFilter</dd>
                <dd id="DiceWindow.isQuickItemType" class="function">isQuickItemType</dd>
                <dd id="DiceWindow.isSignalConnected" class="function">isSignalConnected</dd>
                <dd id="DiceWindow.isWidgetType" class="function">isWidgetType</dd>
                <dd id="DiceWindow.isWindowType" class="function">isWindowType</dd>
                <dd id="DiceWindow.killTimer" class="function">killTimer</dd>
                <dd id="DiceWindow.metaObject" class="function">metaObject</dd>
                <dd id="DiceWindow.moveToThread" class="function">moveToThread</dd>
                <dd id="DiceWindow.objectName" class="function">objectName</dd>
                <dd id="DiceWindow.parent" class="function">parent</dd>
                <dd id="DiceWindow.property" class="function">property</dd>
                <dd id="DiceWindow.receivers" class="function">receivers</dd>
                <dd id="DiceWindow.removeEventFilter" class="function">removeEventFilter</dd>
                <dd id="DiceWindow.sender" class="function">sender</dd>
                <dd id="DiceWindow.senderSignalIndex" class="function">senderSignalIndex</dd>
                <dd id="DiceWindow.setObjectName" class="function">setObjectName</dd>
                <dd id="DiceWindow.setProperty" class="function">setProperty</dd>
                <dd id="DiceWindow.signalsBlocked" class="function">signalsBlocked</dd>
                <dd id="DiceWindow.startTimer" class="function">startTimer</dd>
                <dd id="DiceWindow.thread" class="function">thread</dd>
                <dd id="DiceWindow.timerEvent" class="function">timerEvent</dd>
                <dd id="DiceWindow.tr" class="function">tr</dd>
                <dd id="DiceWindow.destroyed" class="function">destroyed</dd>
                <dd id="DiceWindow.objectNameChanged" class="function">objectNameChanged</dd>

            </div>
            <div><dt>PySide6.QtGui.QPaintDevice</dt>
                                <dd id="DiceWindow.colorCount" class="function">colorCount</dd>
                <dd id="DiceWindow.depth" class="function">depth</dd>
                <dd id="DiceWindow.devicePixelRatio" class="function">devicePixelRatio</dd>
                <dd id="DiceWindow.devicePixelRatioF" class="function">devicePixelRatioF</dd>
                <dd id="DiceWindow.devicePixelRatioFScale" class="function">devicePixelRatioFScale</dd>
                <dd id="DiceWindow.heightMM" class="function">heightMM</dd>
                <dd id="DiceWindow.logicalDpiX" class="function">logicalDpiX</dd>
                <dd id="DiceWindow.logicalDpiY" class="function">logicalDpiY</dd>
                <dd id="DiceWindow.paintingActive" class="function">paintingActive</dd>
                <dd id="DiceWindow.physicalDpiX" class="function">physicalDpiX</dd>
                <dd id="DiceWindow.physicalDpiY" class="function">physicalDpiY</dd>
                <dd id="DiceWindow.widthMM" class="function">widthMM</dd>
                <dd id="DiceWindow.painters" class="variable">painters</dd>
                <dd id="DiceWindow.PaintDeviceMetric" class="class">PaintDeviceMetric</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="PersonajesWindow">
                            <input id="PersonajesWindow-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">PersonajesWindow</span><wbr>(<span class="base">PySide6.QtWidgets.QWidget</span>, <span class="base">ui_personajes.Ui_Formperso</span>):

                <label class="view-source-button" for="PersonajesWindow-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PersonajesWindow"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PersonajesWindow-2150"><a href="#PersonajesWindow-2150"><span class="linenos">2150</span></a><span class="k">class</span> <span class="nc">PersonajesWindow</span><span class="p">(</span><span class="n">QWidget</span><span class="p">,</span> <span class="n">Ui_Formperso</span><span class="p">):</span>
</span><span id="PersonajesWindow-2151"><a href="#PersonajesWindow-2151"><span class="linenos">2151</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="PersonajesWindow-2152"><a href="#PersonajesWindow-2152"><span class="linenos">2152</span></a><span class="sd">    Ventana para la gestión de personajes en el juego de rol.</span>
</span><span id="PersonajesWindow-2153"><a href="#PersonajesWindow-2153"><span class="linenos">2153</span></a>
</span><span id="PersonajesWindow-2154"><a href="#PersonajesWindow-2154"><span class="linenos">2154</span></a><span class="sd">    Esta clase define una ventana con un formulario para crear personajes. Permite ingresar información como el nombre del personaje, raza, habilidades, poderes, y equipamiento, y guarda estos datos en la colección &#39;personajes&#39; en Firestore.</span>
</span><span id="PersonajesWindow-2155"><a href="#PersonajesWindow-2155"><span class="linenos">2155</span></a>
</span><span id="PersonajesWindow-2156"><a href="#PersonajesWindow-2156"><span class="linenos">2156</span></a><span class="sd">    **Atributos**:</span>
</span><span id="PersonajesWindow-2157"><a href="#PersonajesWindow-2157"><span class="linenos">2157</span></a><span class="sd">    - `name_id`: `QLineEdit` para ingresar el nombre del personaje.</span>
</span><span id="PersonajesWindow-2158"><a href="#PersonajesWindow-2158"><span class="linenos">2158</span></a><span class="sd">    - `raza_box`: `QComboBox` para seleccionar la raza del personaje.</span>
</span><span id="PersonajesWindow-2159"><a href="#PersonajesWindow-2159"><span class="linenos">2159</span></a><span class="sd">    - `text_hb`: `QTextEdit` para ingresar las habilidades del personaje en formato &#39;Habilidad: valor&#39;.</span>
</span><span id="PersonajesWindow-2160"><a href="#PersonajesWindow-2160"><span class="linenos">2160</span></a><span class="sd">    - `tx_pd`: `QTextEdit` para ingresar los poderes del personaje en formato &#39;Poder: valor&#39;.</span>
</span><span id="PersonajesWindow-2161"><a href="#PersonajesWindow-2161"><span class="linenos">2161</span></a><span class="sd">    - `cc_eq`: `QComboBox` para seleccionar el equipamiento del personaje.</span>
</span><span id="PersonajesWindow-2162"><a href="#PersonajesWindow-2162"><span class="linenos">2162</span></a><span class="sd">    - `raza_line`: `QLineEdit` para ingresar una raza personalizada si la opción es seleccionada en `raza_box`.</span>
</span><span id="PersonajesWindow-2163"><a href="#PersonajesWindow-2163"><span class="linenos">2163</span></a><span class="sd">    - `li_equi`: `QLineEdit` para ingresar un equipamiento personalizado si la opción es seleccionada en `cc_eq`.</span>
</span><span id="PersonajesWindow-2164"><a href="#PersonajesWindow-2164"><span class="linenos">2164</span></a><span class="sd">    - `btn_guarp`: `QPushButton` para guardar el personaje.</span>
</span><span id="PersonajesWindow-2165"><a href="#PersonajesWindow-2165"><span class="linenos">2165</span></a><span class="sd">    - `btn_otro`: `QPushButton` para limpiar los campos del formulario.</span>
</span><span id="PersonajesWindow-2166"><a href="#PersonajesWindow-2166"><span class="linenos">2166</span></a>
</span><span id="PersonajesWindow-2167"><a href="#PersonajesWindow-2167"><span class="linenos">2167</span></a><span class="sd">    **Ejemplo de Uso**:</span>
</span><span id="PersonajesWindow-2168"><a href="#PersonajesWindow-2168"><span class="linenos">2168</span></a><span class="sd">    ```python</span>
</span><span id="PersonajesWindow-2169"><a href="#PersonajesWindow-2169"><span class="linenos">2169</span></a><span class="sd">    app = QApplication([])</span>
</span><span id="PersonajesWindow-2170"><a href="#PersonajesWindow-2170"><span class="linenos">2170</span></a><span class="sd">    personajes_window = PersonajesWindow()</span>
</span><span id="PersonajesWindow-2171"><a href="#PersonajesWindow-2171"><span class="linenos">2171</span></a><span class="sd">    personajes_window.show()</span>
</span><span id="PersonajesWindow-2172"><a href="#PersonajesWindow-2172"><span class="linenos">2172</span></a><span class="sd">    app.exec()</span>
</span><span id="PersonajesWindow-2173"><a href="#PersonajesWindow-2173"><span class="linenos">2173</span></a><span class="sd">    ```</span>
</span><span id="PersonajesWindow-2174"><a href="#PersonajesWindow-2174"><span class="linenos">2174</span></a>
</span><span id="PersonajesWindow-2175"><a href="#PersonajesWindow-2175"><span class="linenos">2175</span></a><span class="sd">    **Métodos**:</span>
</span><span id="PersonajesWindow-2176"><a href="#PersonajesWindow-2176"><span class="linenos">2176</span></a>
</span><span id="PersonajesWindow-2177"><a href="#PersonajesWindow-2177"><span class="linenos">2177</span></a><span class="sd">    - `__init__(self)`: Constructor de la clase. Configura el formulario y conecta los botones a los métodos correspondientes.</span>
</span><span id="PersonajesWindow-2178"><a href="#PersonajesWindow-2178"><span class="linenos">2178</span></a>
</span><span id="PersonajesWindow-2179"><a href="#PersonajesWindow-2179"><span class="linenos">2179</span></a><span class="sd">        **Descripción**:</span>
</span><span id="PersonajesWindow-2180"><a href="#PersonajesWindow-2180"><span class="linenos">2180</span></a><span class="sd">        Inicializa la ventana del formulario de personajes. Configura los botones para guardar el personaje y limpiar los campos del formulario.</span>
</span><span id="PersonajesWindow-2181"><a href="#PersonajesWindow-2181"><span class="linenos">2181</span></a>
</span><span id="PersonajesWindow-2182"><a href="#PersonajesWindow-2182"><span class="linenos">2182</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="PersonajesWindow-2183"><a href="#PersonajesWindow-2183"><span class="linenos">2183</span></a><span class="sd">        No es necesario llamar a este método directamente. Se invoca automáticamente cuando se crea una instancia de `PersonajesWindow`.</span>
</span><span id="PersonajesWindow-2184"><a href="#PersonajesWindow-2184"><span class="linenos">2184</span></a>
</span><span id="PersonajesWindow-2185"><a href="#PersonajesWindow-2185"><span class="linenos">2185</span></a><span class="sd">    - `validacion_campos(self, text, label)`: Valida que se ingrese un valor para un campo específico.</span>
</span><span id="PersonajesWindow-2186"><a href="#PersonajesWindow-2186"><span class="linenos">2186</span></a>
</span><span id="PersonajesWindow-2187"><a href="#PersonajesWindow-2187"><span class="linenos">2187</span></a><span class="sd">        **Descripción**:</span>
</span><span id="PersonajesWindow-2188"><a href="#PersonajesWindow-2188"><span class="linenos">2188</span></a><span class="sd">        Verifica que el campo de texto no esté vacío. Si está vacío, muestra un mensaje de advertencia.</span>
</span><span id="PersonajesWindow-2189"><a href="#PersonajesWindow-2189"><span class="linenos">2189</span></a>
</span><span id="PersonajesWindow-2190"><a href="#PersonajesWindow-2190"><span class="linenos">2190</span></a><span class="sd">        **Parámetros**:</span>
</span><span id="PersonajesWindow-2191"><a href="#PersonajesWindow-2191"><span class="linenos">2191</span></a><span class="sd">        - `text` (`str`): El texto ingresado en el campo.</span>
</span><span id="PersonajesWindow-2192"><a href="#PersonajesWindow-2192"><span class="linenos">2192</span></a><span class="sd">        - `label` (`str`): El nombre del campo para mostrar en el mensaje de advertencia.</span>
</span><span id="PersonajesWindow-2193"><a href="#PersonajesWindow-2193"><span class="linenos">2193</span></a>
</span><span id="PersonajesWindow-2194"><a href="#PersonajesWindow-2194"><span class="linenos">2194</span></a><span class="sd">        **Retorno**:</span>
</span><span id="PersonajesWindow-2195"><a href="#PersonajesWindow-2195"><span class="linenos">2195</span></a><span class="sd">        - `bool`: `True` si el campo no está vacío, `False` si está vacío.</span>
</span><span id="PersonajesWindow-2196"><a href="#PersonajesWindow-2196"><span class="linenos">2196</span></a>
</span><span id="PersonajesWindow-2197"><a href="#PersonajesWindow-2197"><span class="linenos">2197</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="PersonajesWindow-2198"><a href="#PersonajesWindow-2198"><span class="linenos">2198</span></a><span class="sd">        ```python</span>
</span><span id="PersonajesWindow-2199"><a href="#PersonajesWindow-2199"><span class="linenos">2199</span></a><span class="sd">        if not self.validacion_campos(self.name_id.text(), &#39;Nombre&#39;):</span>
</span><span id="PersonajesWindow-2200"><a href="#PersonajesWindow-2200"><span class="linenos">2200</span></a><span class="sd">            return</span>
</span><span id="PersonajesWindow-2201"><a href="#PersonajesWindow-2201"><span class="linenos">2201</span></a><span class="sd">        ```</span>
</span><span id="PersonajesWindow-2202"><a href="#PersonajesWindow-2202"><span class="linenos">2202</span></a>
</span><span id="PersonajesWindow-2203"><a href="#PersonajesWindow-2203"><span class="linenos">2203</span></a><span class="sd">    - `validar_habilidades(self, habilidades_text)`: Valida que se introduzcan dos habilidades válidas en formato &#39;Habilidad: valor&#39;.</span>
</span><span id="PersonajesWindow-2204"><a href="#PersonajesWindow-2204"><span class="linenos">2204</span></a>
</span><span id="PersonajesWindow-2205"><a href="#PersonajesWindow-2205"><span class="linenos">2205</span></a><span class="sd">        **Descripción**:</span>
</span><span id="PersonajesWindow-2206"><a href="#PersonajesWindow-2206"><span class="linenos">2206</span></a><span class="sd">        Valida que el texto de habilidades contenga exactamente dos habilidades en el formato correcto.</span>
</span><span id="PersonajesWindow-2207"><a href="#PersonajesWindow-2207"><span class="linenos">2207</span></a>
</span><span id="PersonajesWindow-2208"><a href="#PersonajesWindow-2208"><span class="linenos">2208</span></a><span class="sd">        **Parámetros**:</span>
</span><span id="PersonajesWindow-2209"><a href="#PersonajesWindow-2209"><span class="linenos">2209</span></a><span class="sd">        - `habilidades_text` (`str`): Texto con las habilidades en formato &#39;Habilidad: valor&#39;.</span>
</span><span id="PersonajesWindow-2210"><a href="#PersonajesWindow-2210"><span class="linenos">2210</span></a>
</span><span id="PersonajesWindow-2211"><a href="#PersonajesWindow-2211"><span class="linenos">2211</span></a><span class="sd">        **Retorno**:</span>
</span><span id="PersonajesWindow-2212"><a href="#PersonajesWindow-2212"><span class="linenos">2212</span></a><span class="sd">        - `dict` o `bool`: Un diccionario con habilidades si son válidas, `False` si no lo son.</span>
</span><span id="PersonajesWindow-2213"><a href="#PersonajesWindow-2213"><span class="linenos">2213</span></a>
</span><span id="PersonajesWindow-2214"><a href="#PersonajesWindow-2214"><span class="linenos">2214</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="PersonajesWindow-2215"><a href="#PersonajesWindow-2215"><span class="linenos">2215</span></a><span class="sd">        ```python</span>
</span><span id="PersonajesWindow-2216"><a href="#PersonajesWindow-2216"><span class="linenos">2216</span></a><span class="sd">        habilidades = self.validar_habilidades(self.text_hb.toPlainText())</span>
</span><span id="PersonajesWindow-2217"><a href="#PersonajesWindow-2217"><span class="linenos">2217</span></a><span class="sd">        if not habilidades:</span>
</span><span id="PersonajesWindow-2218"><a href="#PersonajesWindow-2218"><span class="linenos">2218</span></a><span class="sd">            QMessageBox.warning(self, &#39;Error&#39;, &#39;Introduce dos habilidades válidas.&#39;)</span>
</span><span id="PersonajesWindow-2219"><a href="#PersonajesWindow-2219"><span class="linenos">2219</span></a><span class="sd">            return</span>
</span><span id="PersonajesWindow-2220"><a href="#PersonajesWindow-2220"><span class="linenos">2220</span></a><span class="sd">        ```</span>
</span><span id="PersonajesWindow-2221"><a href="#PersonajesWindow-2221"><span class="linenos">2221</span></a>
</span><span id="PersonajesWindow-2222"><a href="#PersonajesWindow-2222"><span class="linenos">2222</span></a><span class="sd">    - `validar_poderes(self, poderes_text)`: Valida que se introduzcan dos poderes válidos en formato &#39;Poder: valor&#39;.</span>
</span><span id="PersonajesWindow-2223"><a href="#PersonajesWindow-2223"><span class="linenos">2223</span></a>
</span><span id="PersonajesWindow-2224"><a href="#PersonajesWindow-2224"><span class="linenos">2224</span></a><span class="sd">        **Descripción**:</span>
</span><span id="PersonajesWindow-2225"><a href="#PersonajesWindow-2225"><span class="linenos">2225</span></a><span class="sd">        Valida que el texto de poderes contenga exactamente dos poderes en el formato correcto.</span>
</span><span id="PersonajesWindow-2226"><a href="#PersonajesWindow-2226"><span class="linenos">2226</span></a>
</span><span id="PersonajesWindow-2227"><a href="#PersonajesWindow-2227"><span class="linenos">2227</span></a><span class="sd">        **Parámetros**:</span>
</span><span id="PersonajesWindow-2228"><a href="#PersonajesWindow-2228"><span class="linenos">2228</span></a><span class="sd">        - `poderes_text` (`str`): Texto con los poderes en formato &#39;Poder: valor&#39;.</span>
</span><span id="PersonajesWindow-2229"><a href="#PersonajesWindow-2229"><span class="linenos">2229</span></a>
</span><span id="PersonajesWindow-2230"><a href="#PersonajesWindow-2230"><span class="linenos">2230</span></a><span class="sd">        **Retorno**:</span>
</span><span id="PersonajesWindow-2231"><a href="#PersonajesWindow-2231"><span class="linenos">2231</span></a><span class="sd">        - `dict` o `bool`: Un diccionario con poderes si son válidos, `False` si no lo son.</span>
</span><span id="PersonajesWindow-2232"><a href="#PersonajesWindow-2232"><span class="linenos">2232</span></a>
</span><span id="PersonajesWindow-2233"><a href="#PersonajesWindow-2233"><span class="linenos">2233</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="PersonajesWindow-2234"><a href="#PersonajesWindow-2234"><span class="linenos">2234</span></a><span class="sd">        ```python</span>
</span><span id="PersonajesWindow-2235"><a href="#PersonajesWindow-2235"><span class="linenos">2235</span></a><span class="sd">        poderes = self.validar_poderes(self.tx_pd.toPlainText())</span>
</span><span id="PersonajesWindow-2236"><a href="#PersonajesWindow-2236"><span class="linenos">2236</span></a><span class="sd">        if not poderes:</span>
</span><span id="PersonajesWindow-2237"><a href="#PersonajesWindow-2237"><span class="linenos">2237</span></a><span class="sd">            QMessageBox.warning(self, &#39;Error&#39;, &#39;Introduce dos poderes válidos.&#39;)</span>
</span><span id="PersonajesWindow-2238"><a href="#PersonajesWindow-2238"><span class="linenos">2238</span></a><span class="sd">            return</span>
</span><span id="PersonajesWindow-2239"><a href="#PersonajesWindow-2239"><span class="linenos">2239</span></a><span class="sd">        ```</span>
</span><span id="PersonajesWindow-2240"><a href="#PersonajesWindow-2240"><span class="linenos">2240</span></a>
</span><span id="PersonajesWindow-2241"><a href="#PersonajesWindow-2241"><span class="linenos">2241</span></a><span class="sd">    - `guardar_p(self)`: Guarda los datos del personaje en Firestore y limpia los campos.</span>
</span><span id="PersonajesWindow-2242"><a href="#PersonajesWindow-2242"><span class="linenos">2242</span></a>
</span><span id="PersonajesWindow-2243"><a href="#PersonajesWindow-2243"><span class="linenos">2243</span></a><span class="sd">        **Descripción**:</span>
</span><span id="PersonajesWindow-2244"><a href="#PersonajesWindow-2244"><span class="linenos">2244</span></a><span class="sd">        Recolecta los datos del formulario, valida la información, y guarda el personaje en la colección &#39;personajes&#39; en Firestore. Luego, limpia los campos del formulario.</span>
</span><span id="PersonajesWindow-2245"><a href="#PersonajesWindow-2245"><span class="linenos">2245</span></a>
</span><span id="PersonajesWindow-2246"><a href="#PersonajesWindow-2246"><span class="linenos">2246</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="PersonajesWindow-2247"><a href="#PersonajesWindow-2247"><span class="linenos">2247</span></a><span class="sd">        Este método se llama cuando se hace clic en el botón de guardar.</span>
</span><span id="PersonajesWindow-2248"><a href="#PersonajesWindow-2248"><span class="linenos">2248</span></a>
</span><span id="PersonajesWindow-2249"><a href="#PersonajesWindow-2249"><span class="linenos">2249</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="PersonajesWindow-2250"><a href="#PersonajesWindow-2250"><span class="linenos">2250</span></a><span class="sd">        ```python</span>
</span><span id="PersonajesWindow-2251"><a href="#PersonajesWindow-2251"><span class="linenos">2251</span></a><span class="sd">        self.guardar_p()</span>
</span><span id="PersonajesWindow-2252"><a href="#PersonajesWindow-2252"><span class="linenos">2252</span></a><span class="sd">        ```</span>
</span><span id="PersonajesWindow-2253"><a href="#PersonajesWindow-2253"><span class="linenos">2253</span></a>
</span><span id="PersonajesWindow-2254"><a href="#PersonajesWindow-2254"><span class="linenos">2254</span></a><span class="sd">    - `limpiar_p(self)`: Limpia todos los campos del formulario para ingresar un nuevo personaje.</span>
</span><span id="PersonajesWindow-2255"><a href="#PersonajesWindow-2255"><span class="linenos">2255</span></a>
</span><span id="PersonajesWindow-2256"><a href="#PersonajesWindow-2256"><span class="linenos">2256</span></a><span class="sd">        **Descripción**:</span>
</span><span id="PersonajesWindow-2257"><a href="#PersonajesWindow-2257"><span class="linenos">2257</span></a><span class="sd">        Borra el contenido de todos los campos del formulario para preparar la ventana para ingresar un nuevo personaje.</span>
</span><span id="PersonajesWindow-2258"><a href="#PersonajesWindow-2258"><span class="linenos">2258</span></a>
</span><span id="PersonajesWindow-2259"><a href="#PersonajesWindow-2259"><span class="linenos">2259</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="PersonajesWindow-2260"><a href="#PersonajesWindow-2260"><span class="linenos">2260</span></a><span class="sd">        Este método se llama cuando se hace clic en el botón de limpiar.</span>
</span><span id="PersonajesWindow-2261"><a href="#PersonajesWindow-2261"><span class="linenos">2261</span></a>
</span><span id="PersonajesWindow-2262"><a href="#PersonajesWindow-2262"><span class="linenos">2262</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="PersonajesWindow-2263"><a href="#PersonajesWindow-2263"><span class="linenos">2263</span></a><span class="sd">        ```python</span>
</span><span id="PersonajesWindow-2264"><a href="#PersonajesWindow-2264"><span class="linenos">2264</span></a><span class="sd">        self.limpiar_p()</span>
</span><span id="PersonajesWindow-2265"><a href="#PersonajesWindow-2265"><span class="linenos">2265</span></a><span class="sd">        ```</span>
</span><span id="PersonajesWindow-2266"><a href="#PersonajesWindow-2266"><span class="linenos">2266</span></a>
</span><span id="PersonajesWindow-2267"><a href="#PersonajesWindow-2267"><span class="linenos">2267</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="PersonajesWindow-2268"><a href="#PersonajesWindow-2268"><span class="linenos">2268</span></a>
</span><span id="PersonajesWindow-2269"><a href="#PersonajesWindow-2269"><span class="linenos">2269</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="PersonajesWindow-2270"><a href="#PersonajesWindow-2270"><span class="linenos">2270</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">PersonajesWindow</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="PersonajesWindow-2271"><a href="#PersonajesWindow-2271"><span class="linenos">2271</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="PersonajesWindow-2272"><a href="#PersonajesWindow-2272"><span class="linenos">2272</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_guarp</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">guardar_p</span><span class="p">)</span>
</span><span id="PersonajesWindow-2273"><a href="#PersonajesWindow-2273"><span class="linenos">2273</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">btn_otro</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">limpiar_p</span><span class="p">)</span>
</span><span id="PersonajesWindow-2274"><a href="#PersonajesWindow-2274"><span class="linenos">2274</span></a>    
</span><span id="PersonajesWindow-2275"><a href="#PersonajesWindow-2275"><span class="linenos">2275</span></a>    <span class="k">def</span> <span class="nf">validacion_campos</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
</span><span id="PersonajesWindow-2276"><a href="#PersonajesWindow-2276"><span class="linenos">2276</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Validar que se ingrese un valor para un campo específico.&quot;&quot;&quot;</span>
</span><span id="PersonajesWindow-2277"><a href="#PersonajesWindow-2277"><span class="linenos">2277</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">text</span><span class="p">:</span>
</span><span id="PersonajesWindow-2278"><a href="#PersonajesWindow-2278"><span class="linenos">2278</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Introduce un valor para </span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>
</span><span id="PersonajesWindow-2279"><a href="#PersonajesWindow-2279"><span class="linenos">2279</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="PersonajesWindow-2280"><a href="#PersonajesWindow-2280"><span class="linenos">2280</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="PersonajesWindow-2281"><a href="#PersonajesWindow-2281"><span class="linenos">2281</span></a>    
</span><span id="PersonajesWindow-2282"><a href="#PersonajesWindow-2282"><span class="linenos">2282</span></a>    <span class="k">def</span> <span class="nf">validar_habilidades</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">habilidades_text</span><span class="p">):</span>
</span><span id="PersonajesWindow-2283"><a href="#PersonajesWindow-2283"><span class="linenos">2283</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Validar que se introduzcan dos habilidades válidas en formato &#39;Habilidad: valor&#39;.&quot;&quot;&quot;</span>
</span><span id="PersonajesWindow-2284"><a href="#PersonajesWindow-2284"><span class="linenos">2284</span></a>        <span class="n">habilidades</span> <span class="o">=</span> <span class="n">habilidades_text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="PersonajesWindow-2285"><a href="#PersonajesWindow-2285"><span class="linenos">2285</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">habilidades</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="PersonajesWindow-2286"><a href="#PersonajesWindow-2286"><span class="linenos">2286</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="PersonajesWindow-2287"><a href="#PersonajesWindow-2287"><span class="linenos">2287</span></a>        <span class="n">habilidades_dict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="PersonajesWindow-2288"><a href="#PersonajesWindow-2288"><span class="linenos">2288</span></a>        <span class="k">for</span> <span class="n">habilidad</span> <span class="ow">in</span> <span class="n">habilidades</span><span class="p">:</span>
</span><span id="PersonajesWindow-2289"><a href="#PersonajesWindow-2289"><span class="linenos">2289</span></a>            <span class="k">if</span> <span class="s1">&#39;:&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">habilidad</span><span class="p">:</span>
</span><span id="PersonajesWindow-2290"><a href="#PersonajesWindow-2290"><span class="linenos">2290</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="PersonajesWindow-2291"><a href="#PersonajesWindow-2291"><span class="linenos">2291</span></a>            <span class="n">name</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">habilidad</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
</span><span id="PersonajesWindow-2292"><a href="#PersonajesWindow-2292"><span class="linenos">2292</span></a>            <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">habilidades_dict</span><span class="p">:</span>
</span><span id="PersonajesWindow-2293"><a href="#PersonajesWindow-2293"><span class="linenos">2293</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="PersonajesWindow-2294"><a href="#PersonajesWindow-2294"><span class="linenos">2294</span></a>            <span class="n">habilidades_dict</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="PersonajesWindow-2295"><a href="#PersonajesWindow-2295"><span class="linenos">2295</span></a>        <span class="k">return</span> <span class="n">habilidades_dict</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">habilidades_dict</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span> <span class="k">else</span> <span class="kc">False</span>
</span><span id="PersonajesWindow-2296"><a href="#PersonajesWindow-2296"><span class="linenos">2296</span></a>    
</span><span id="PersonajesWindow-2297"><a href="#PersonajesWindow-2297"><span class="linenos">2297</span></a>    <span class="k">def</span> <span class="nf">validar_poderes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">poderes_text</span><span class="p">):</span>
</span><span id="PersonajesWindow-2298"><a href="#PersonajesWindow-2298"><span class="linenos">2298</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Validar que se introduzcan dos poderes válidos en formato &#39;Poder: valor&#39;.&quot;&quot;&quot;</span>
</span><span id="PersonajesWindow-2299"><a href="#PersonajesWindow-2299"><span class="linenos">2299</span></a>        <span class="n">poderes</span> <span class="o">=</span> <span class="n">poderes_text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="PersonajesWindow-2300"><a href="#PersonajesWindow-2300"><span class="linenos">2300</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">poderes</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="PersonajesWindow-2301"><a href="#PersonajesWindow-2301"><span class="linenos">2301</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="PersonajesWindow-2302"><a href="#PersonajesWindow-2302"><span class="linenos">2302</span></a>        <span class="n">poderes_dict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="PersonajesWindow-2303"><a href="#PersonajesWindow-2303"><span class="linenos">2303</span></a>        <span class="k">for</span> <span class="n">poder</span> <span class="ow">in</span> <span class="n">poderes</span><span class="p">:</span>
</span><span id="PersonajesWindow-2304"><a href="#PersonajesWindow-2304"><span class="linenos">2304</span></a>            <span class="k">if</span> <span class="s1">&#39;:&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">poder</span><span class="p">:</span>
</span><span id="PersonajesWindow-2305"><a href="#PersonajesWindow-2305"><span class="linenos">2305</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="PersonajesWindow-2306"><a href="#PersonajesWindow-2306"><span class="linenos">2306</span></a>            <span class="n">name</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">poder</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
</span><span id="PersonajesWindow-2307"><a href="#PersonajesWindow-2307"><span class="linenos">2307</span></a>            <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">poderes_dict</span><span class="p">:</span>
</span><span id="PersonajesWindow-2308"><a href="#PersonajesWindow-2308"><span class="linenos">2308</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="PersonajesWindow-2309"><a href="#PersonajesWindow-2309"><span class="linenos">2309</span></a>            <span class="n">poderes_dict</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="PersonajesWindow-2310"><a href="#PersonajesWindow-2310"><span class="linenos">2310</span></a>        <span class="k">return</span> <span class="n">poderes_dict</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">poderes_dict</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span> <span class="k">else</span> <span class="kc">False</span>
</span><span id="PersonajesWindow-2311"><a href="#PersonajesWindow-2311"><span class="linenos">2311</span></a>    
</span><span id="PersonajesWindow-2312"><a href="#PersonajesWindow-2312"><span class="linenos">2312</span></a>    <span class="k">def</span> <span class="nf">guardar_p</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="PersonajesWindow-2313"><a href="#PersonajesWindow-2313"><span class="linenos">2313</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Guardar los datos del personaje en Firestore y limpiar los campos.&quot;&quot;&quot;</span>
</span><span id="PersonajesWindow-2314"><a href="#PersonajesWindow-2314"><span class="linenos">2314</span></a>        <span class="n">nombre</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">name_id</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="PersonajesWindow-2315"><a href="#PersonajesWindow-2315"><span class="linenos">2315</span></a>        <span class="n">raza</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">raza_box</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="PersonajesWindow-2316"><a href="#PersonajesWindow-2316"><span class="linenos">2316</span></a>        <span class="n">habilidades_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_hb</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="PersonajesWindow-2317"><a href="#PersonajesWindow-2317"><span class="linenos">2317</span></a>        <span class="n">poderes_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tx_pd</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="PersonajesWindow-2318"><a href="#PersonajesWindow-2318"><span class="linenos">2318</span></a>        <span class="n">equipamiento</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cc_eq</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="PersonajesWindow-2319"><a href="#PersonajesWindow-2319"><span class="linenos">2319</span></a>        <span class="n">raza_custom</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">raza_line</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="PersonajesWindow-2320"><a href="#PersonajesWindow-2320"><span class="linenos">2320</span></a>        <span class="n">equipo_custom</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">li_equi</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="PersonajesWindow-2321"><a href="#PersonajesWindow-2321"><span class="linenos">2321</span></a>        
</span><span id="PersonajesWindow-2322"><a href="#PersonajesWindow-2322"><span class="linenos">2322</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">validacion_campos</span><span class="p">(</span><span class="n">nombre</span><span class="p">,</span> <span class="s1">&#39;Nombre&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">validacion_campos</span><span class="p">(</span><span class="n">raza</span><span class="p">,</span> <span class="s1">&#39;Raza&#39;</span><span class="p">):</span>
</span><span id="PersonajesWindow-2323"><a href="#PersonajesWindow-2323"><span class="linenos">2323</span></a>            <span class="k">return</span>
</span><span id="PersonajesWindow-2324"><a href="#PersonajesWindow-2324"><span class="linenos">2324</span></a>
</span><span id="PersonajesWindow-2325"><a href="#PersonajesWindow-2325"><span class="linenos">2325</span></a>        <span class="n">habilidades</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validar_habilidades</span><span class="p">(</span><span class="n">habilidades_text</span><span class="p">)</span>
</span><span id="PersonajesWindow-2326"><a href="#PersonajesWindow-2326"><span class="linenos">2326</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">habilidades</span><span class="p">:</span>
</span><span id="PersonajesWindow-2327"><a href="#PersonajesWindow-2327"><span class="linenos">2327</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Introduce dos habilidades válidas.&#39;</span><span class="p">)</span>
</span><span id="PersonajesWindow-2328"><a href="#PersonajesWindow-2328"><span class="linenos">2328</span></a>            <span class="k">return</span>
</span><span id="PersonajesWindow-2329"><a href="#PersonajesWindow-2329"><span class="linenos">2329</span></a>
</span><span id="PersonajesWindow-2330"><a href="#PersonajesWindow-2330"><span class="linenos">2330</span></a>        <span class="n">poderes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validar_poderes</span><span class="p">(</span><span class="n">poderes_text</span><span class="p">)</span>
</span><span id="PersonajesWindow-2331"><a href="#PersonajesWindow-2331"><span class="linenos">2331</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">poderes</span><span class="p">:</span>
</span><span id="PersonajesWindow-2332"><a href="#PersonajesWindow-2332"><span class="linenos">2332</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Introduce dos poderes válidos.&#39;</span><span class="p">)</span>
</span><span id="PersonajesWindow-2333"><a href="#PersonajesWindow-2333"><span class="linenos">2333</span></a>            <span class="k">return</span>
</span><span id="PersonajesWindow-2334"><a href="#PersonajesWindow-2334"><span class="linenos">2334</span></a>        
</span><span id="PersonajesWindow-2335"><a href="#PersonajesWindow-2335"><span class="linenos">2335</span></a>        <span class="k">if</span> <span class="n">raza_custom</span><span class="p">:</span>
</span><span id="PersonajesWindow-2336"><a href="#PersonajesWindow-2336"><span class="linenos">2336</span></a>            <span class="n">raza</span> <span class="o">=</span> <span class="n">raza_custom</span>
</span><span id="PersonajesWindow-2337"><a href="#PersonajesWindow-2337"><span class="linenos">2337</span></a>        
</span><span id="PersonajesWindow-2338"><a href="#PersonajesWindow-2338"><span class="linenos">2338</span></a>        <span class="k">if</span> <span class="n">equipo_custom</span><span class="p">:</span>
</span><span id="PersonajesWindow-2339"><a href="#PersonajesWindow-2339"><span class="linenos">2339</span></a>            <span class="n">equipamiento</span> <span class="o">=</span> <span class="n">equipo_custom</span>
</span><span id="PersonajesWindow-2340"><a href="#PersonajesWindow-2340"><span class="linenos">2340</span></a>
</span><span id="PersonajesWindow-2341"><a href="#PersonajesWindow-2341"><span class="linenos">2341</span></a>        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="PersonajesWindow-2342"><a href="#PersonajesWindow-2342"><span class="linenos">2342</span></a>            <span class="s1">&#39;nombre&#39;</span><span class="p">:</span> <span class="n">nombre</span><span class="p">,</span>
</span><span id="PersonajesWindow-2343"><a href="#PersonajesWindow-2343"><span class="linenos">2343</span></a>            <span class="s1">&#39;nivel&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span><span id="PersonajesWindow-2344"><a href="#PersonajesWindow-2344"><span class="linenos">2344</span></a>            <span class="s1">&#39;raza&#39;</span><span class="p">:</span> <span class="n">raza</span><span class="p">,</span>
</span><span id="PersonajesWindow-2345"><a href="#PersonajesWindow-2345"><span class="linenos">2345</span></a>            <span class="s1">&#39;habilidades&#39;</span><span class="p">:</span> <span class="n">habilidades</span><span class="p">,</span>
</span><span id="PersonajesWindow-2346"><a href="#PersonajesWindow-2346"><span class="linenos">2346</span></a>            <span class="s1">&#39;poderes&#39;</span><span class="p">:</span> <span class="n">poderes</span><span class="p">,</span>
</span><span id="PersonajesWindow-2347"><a href="#PersonajesWindow-2347"><span class="linenos">2347</span></a>            <span class="s1">&#39;equipamiento&#39;</span><span class="p">:</span> <span class="n">equipamiento</span><span class="p">,</span>
</span><span id="PersonajesWindow-2348"><a href="#PersonajesWindow-2348"><span class="linenos">2348</span></a>            <span class="s1">&#39;estado&#39;</span><span class="p">:</span> <span class="s1">&#39;vivo&#39;</span>
</span><span id="PersonajesWindow-2349"><a href="#PersonajesWindow-2349"><span class="linenos">2349</span></a>        <span class="p">}</span>
</span><span id="PersonajesWindow-2350"><a href="#PersonajesWindow-2350"><span class="linenos">2350</span></a>
</span><span id="PersonajesWindow-2351"><a href="#PersonajesWindow-2351"><span class="linenos">2351</span></a>        <span class="c1"># Guardar los datos en la colección &#39;personajes&#39;</span>
</span><span id="PersonajesWindow-2352"><a href="#PersonajesWindow-2352"><span class="linenos">2352</span></a>        <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;personajes&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="PersonajesWindow-2353"><a href="#PersonajesWindow-2353"><span class="linenos">2353</span></a>        <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Éxito&#39;</span><span class="p">,</span> <span class="s1">&#39;Personaje guardado exitosamente.&#39;</span><span class="p">)</span>
</span><span id="PersonajesWindow-2354"><a href="#PersonajesWindow-2354"><span class="linenos">2354</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">limpiar_p</span><span class="p">()</span>  <span class="c1"># Llamar al método de limpiar campos</span>
</span><span id="PersonajesWindow-2355"><a href="#PersonajesWindow-2355"><span class="linenos">2355</span></a>
</span><span id="PersonajesWindow-2356"><a href="#PersonajesWindow-2356"><span class="linenos">2356</span></a>    <span class="k">def</span> <span class="nf">limpiar_p</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="PersonajesWindow-2357"><a href="#PersonajesWindow-2357"><span class="linenos">2357</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Limpiar todos los campos del formulario para ingresar un nuevo personaje.&quot;&quot;&quot;</span>
</span><span id="PersonajesWindow-2358"><a href="#PersonajesWindow-2358"><span class="linenos">2358</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name_id</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="PersonajesWindow-2359"><a href="#PersonajesWindow-2359"><span class="linenos">2359</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">raza_box</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="PersonajesWindow-2360"><a href="#PersonajesWindow-2360"><span class="linenos">2360</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">text_hb</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="PersonajesWindow-2361"><a href="#PersonajesWindow-2361"><span class="linenos">2361</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tx_pd</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="PersonajesWindow-2362"><a href="#PersonajesWindow-2362"><span class="linenos">2362</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cc_eq</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="PersonajesWindow-2363"><a href="#PersonajesWindow-2363"><span class="linenos">2363</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">raza_line</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="PersonajesWindow-2364"><a href="#PersonajesWindow-2364"><span class="linenos">2364</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">li_equi</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Ventana para la gestión de personajes en el juego de rol.</p>

<p>Esta clase define una ventana con un formulario para crear personajes. Permite ingresar información como el nombre del personaje, raza, habilidades, poderes, y equipamiento, y guarda estos datos en la colección 'personajes' en Firestore.</p>

<p><strong>Atributos</strong>:</p>

<ul>
<li><code>name_id</code>: <code>QLineEdit</code> para ingresar el nombre del personaje.</li>
<li><code>raza_box</code>: <code>QComboBox</code> para seleccionar la raza del personaje.</li>
<li><code>text_hb</code>: <code>QTextEdit</code> para ingresar las habilidades del personaje en formato 'Habilidad: valor'.</li>
<li><code>tx_pd</code>: <code>QTextEdit</code> para ingresar los poderes del personaje en formato 'Poder: valor'.</li>
<li><code>cc_eq</code>: <code>QComboBox</code> para seleccionar el equipamiento del personaje.</li>
<li><code>raza_line</code>: <code>QLineEdit</code> para ingresar una raza personalizada si la opción es seleccionada en <code>raza_box</code>.</li>
<li><code>li_equi</code>: <code>QLineEdit</code> para ingresar un equipamiento personalizado si la opción es seleccionada en <code>cc_eq</code>.</li>
<li><code>btn_guarp</code>: <code>QPushButton</code> para guardar el personaje.</li>
<li><code>btn_otro</code>: <code>QPushButton</code> para limpiar los campos del formulario.</li>
</ul>

<p><strong>Ejemplo de Uso</strong>:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">([])</span>
<span class="n">personajes_window</span> <span class="o">=</span> <span class="n">PersonajesWindow</span><span class="p">()</span>
<span class="n">personajes_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">app</span><span class="o">.</span><span class="n">exec</span><span class="p">()</span>
</code></pre>
</div>

<p><strong>Métodos</strong>:</p>

<ul>
<li><p><code>__init__(self)</code>: Constructor de la clase. Configura el formulario y conecta los botones a los métodos correspondientes.</p>

<p><strong>Descripción</strong>:
Inicializa la ventana del formulario de personajes. Configura los botones para guardar el personaje y limpiar los campos del formulario.</p>

<p><strong>Ejemplo de Uso</strong>:
No es necesario llamar a este método directamente. Se invoca automáticamente cuando se crea una instancia de <code><a href="#PersonajesWindow">PersonajesWindow</a></code>.</p></li>
<li><p><code>validacion_campos(self, text, label)</code>: Valida que se ingrese un valor para un campo específico.</p>

<p><strong>Descripción</strong>:
Verifica que el campo de texto no esté vacío. Si está vacío, muestra un mensaje de advertencia.</p>

<p><strong>Parámetros</strong>:</p>

<ul>
<li><code>text</code> (<code>str</code>): El texto ingresado en el campo.</li>
<li><code>label</code> (<code>str</code>): El nombre del campo para mostrar en el mensaje de advertencia.</li>
</ul>

<p><strong>Retorno</strong>:</p>

<ul>
<li><code>bool</code>: <code>True</code> si el campo no está vacío, <code>False</code> si está vacío.</li>
</ul>

<p><strong>Ejemplo de Uso</strong>:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">validacion_campos</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name_id</span><span class="o">.</span><span class="n">text</span><span class="p">(),</span> <span class="s1">&#39;Nombre&#39;</span><span class="p">):</span>
    <span class="k">return</span>
</code></pre>
</div></li>
<li><p><code>validar_habilidades(self, habilidades_text)</code>: Valida que se introduzcan dos habilidades válidas en formato 'Habilidad: valor'.</p>

<p><strong>Descripción</strong>:
Valida que el texto de habilidades contenga exactamente dos habilidades en el formato correcto.</p>

<p><strong>Parámetros</strong>:</p>

<ul>
<li><code>habilidades_text</code> (<code>str</code>): Texto con las habilidades en formato 'Habilidad: valor'.</li>
</ul>

<p><strong>Retorno</strong>:</p>

<ul>
<li><code>dict</code> o <code>bool</code>: Un diccionario con habilidades si son válidas, <code>False</code> si no lo son.</li>
</ul>

<p><strong>Ejemplo de Uso</strong>:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="n">habilidades</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validar_habilidades</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">text_hb</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">())</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">habilidades</span><span class="p">:</span>
    <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Introduce dos habilidades válidas.&#39;</span><span class="p">)</span>
    <span class="k">return</span>
</code></pre>
</div></li>
<li><p><code>validar_poderes(self, poderes_text)</code>: Valida que se introduzcan dos poderes válidos en formato 'Poder: valor'.</p>

<p><strong>Descripción</strong>:
Valida que el texto de poderes contenga exactamente dos poderes en el formato correcto.</p>

<p><strong>Parámetros</strong>:</p>

<ul>
<li><code>poderes_text</code> (<code>str</code>): Texto con los poderes en formato 'Poder: valor'.</li>
</ul>

<p><strong>Retorno</strong>:</p>

<ul>
<li><code>dict</code> o <code>bool</code>: Un diccionario con poderes si son válidos, <code>False</code> si no lo son.</li>
</ul>

<p><strong>Ejemplo de Uso</strong>:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="n">poderes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validar_poderes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tx_pd</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">())</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">poderes</span><span class="p">:</span>
    <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Introduce dos poderes válidos.&#39;</span><span class="p">)</span>
    <span class="k">return</span>
</code></pre>
</div></li>
<li><p><code>guardar_p(self)</code>: Guarda los datos del personaje en Firestore y limpia los campos.</p>

<p><strong>Descripción</strong>:
Recolecta los datos del formulario, valida la información, y guarda el personaje en la colección 'personajes' en Firestore. Luego, limpia los campos del formulario.</p>

<p><strong>Ejemplo de Uso</strong>:
Este método se llama cuando se hace clic en el botón de guardar.</p>

<p><strong>Ejemplo de Uso</strong>:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="bp">self</span><span class="o">.</span><span class="n">guardar_p</span><span class="p">()</span>
</code></pre>
</div></li>
<li><p><code>limpiar_p(self)</code>: Limpia todos los campos del formulario para ingresar un nuevo personaje.</p>

<p><strong>Descripción</strong>:
Borra el contenido de todos los campos del formulario para preparar la ventana para ingresar un nuevo personaje.</p>

<p><strong>Ejemplo de Uso</strong>:
Este método se llama cuando se hace clic en el botón de limpiar.</p>

<p><strong>Ejemplo de Uso</strong>:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="bp">self</span><span class="o">.</span><span class="n">limpiar_p</span><span class="p">()</span>
</code></pre>
</div></li>
</ul>
</div>


                            <div id="PersonajesWindow.validacion_campos" class="classattr">
                                        <input id="PersonajesWindow.validacion_campos-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">validacion_campos</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">text</span>, </span><span class="param"><span class="n">label</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="PersonajesWindow.validacion_campos-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PersonajesWindow.validacion_campos"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PersonajesWindow.validacion_campos-2275"><a href="#PersonajesWindow.validacion_campos-2275"><span class="linenos">2275</span></a>    <span class="k">def</span> <span class="nf">validacion_campos</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
</span><span id="PersonajesWindow.validacion_campos-2276"><a href="#PersonajesWindow.validacion_campos-2276"><span class="linenos">2276</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Validar que se ingrese un valor para un campo específico.&quot;&quot;&quot;</span>
</span><span id="PersonajesWindow.validacion_campos-2277"><a href="#PersonajesWindow.validacion_campos-2277"><span class="linenos">2277</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">text</span><span class="p">:</span>
</span><span id="PersonajesWindow.validacion_campos-2278"><a href="#PersonajesWindow.validacion_campos-2278"><span class="linenos">2278</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Introduce un valor para </span><span class="si">{</span><span class="n">label</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>
</span><span id="PersonajesWindow.validacion_campos-2279"><a href="#PersonajesWindow.validacion_campos-2279"><span class="linenos">2279</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="PersonajesWindow.validacion_campos-2280"><a href="#PersonajesWindow.validacion_campos-2280"><span class="linenos">2280</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span></pre></div>


            <div class="docstring"><p>Validar que se ingrese un valor para un campo específico.</p>
</div>


                            </div>
                            <div id="PersonajesWindow.validar_habilidades" class="classattr">
                                        <input id="PersonajesWindow.validar_habilidades-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">validar_habilidades</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">habilidades_text</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="PersonajesWindow.validar_habilidades-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PersonajesWindow.validar_habilidades"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PersonajesWindow.validar_habilidades-2282"><a href="#PersonajesWindow.validar_habilidades-2282"><span class="linenos">2282</span></a>    <span class="k">def</span> <span class="nf">validar_habilidades</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">habilidades_text</span><span class="p">):</span>
</span><span id="PersonajesWindow.validar_habilidades-2283"><a href="#PersonajesWindow.validar_habilidades-2283"><span class="linenos">2283</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Validar que se introduzcan dos habilidades válidas en formato &#39;Habilidad: valor&#39;.&quot;&quot;&quot;</span>
</span><span id="PersonajesWindow.validar_habilidades-2284"><a href="#PersonajesWindow.validar_habilidades-2284"><span class="linenos">2284</span></a>        <span class="n">habilidades</span> <span class="o">=</span> <span class="n">habilidades_text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="PersonajesWindow.validar_habilidades-2285"><a href="#PersonajesWindow.validar_habilidades-2285"><span class="linenos">2285</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">habilidades</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="PersonajesWindow.validar_habilidades-2286"><a href="#PersonajesWindow.validar_habilidades-2286"><span class="linenos">2286</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="PersonajesWindow.validar_habilidades-2287"><a href="#PersonajesWindow.validar_habilidades-2287"><span class="linenos">2287</span></a>        <span class="n">habilidades_dict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="PersonajesWindow.validar_habilidades-2288"><a href="#PersonajesWindow.validar_habilidades-2288"><span class="linenos">2288</span></a>        <span class="k">for</span> <span class="n">habilidad</span> <span class="ow">in</span> <span class="n">habilidades</span><span class="p">:</span>
</span><span id="PersonajesWindow.validar_habilidades-2289"><a href="#PersonajesWindow.validar_habilidades-2289"><span class="linenos">2289</span></a>            <span class="k">if</span> <span class="s1">&#39;:&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">habilidad</span><span class="p">:</span>
</span><span id="PersonajesWindow.validar_habilidades-2290"><a href="#PersonajesWindow.validar_habilidades-2290"><span class="linenos">2290</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="PersonajesWindow.validar_habilidades-2291"><a href="#PersonajesWindow.validar_habilidades-2291"><span class="linenos">2291</span></a>            <span class="n">name</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">habilidad</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
</span><span id="PersonajesWindow.validar_habilidades-2292"><a href="#PersonajesWindow.validar_habilidades-2292"><span class="linenos">2292</span></a>            <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">habilidades_dict</span><span class="p">:</span>
</span><span id="PersonajesWindow.validar_habilidades-2293"><a href="#PersonajesWindow.validar_habilidades-2293"><span class="linenos">2293</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="PersonajesWindow.validar_habilidades-2294"><a href="#PersonajesWindow.validar_habilidades-2294"><span class="linenos">2294</span></a>            <span class="n">habilidades_dict</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="PersonajesWindow.validar_habilidades-2295"><a href="#PersonajesWindow.validar_habilidades-2295"><span class="linenos">2295</span></a>        <span class="k">return</span> <span class="n">habilidades_dict</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">habilidades_dict</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span> <span class="k">else</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>Validar que se introduzcan dos habilidades válidas en formato 'Habilidad: valor'.</p>
</div>


                            </div>
                            <div id="PersonajesWindow.validar_poderes" class="classattr">
                                        <input id="PersonajesWindow.validar_poderes-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">validar_poderes</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">poderes_text</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="PersonajesWindow.validar_poderes-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PersonajesWindow.validar_poderes"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PersonajesWindow.validar_poderes-2297"><a href="#PersonajesWindow.validar_poderes-2297"><span class="linenos">2297</span></a>    <span class="k">def</span> <span class="nf">validar_poderes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">poderes_text</span><span class="p">):</span>
</span><span id="PersonajesWindow.validar_poderes-2298"><a href="#PersonajesWindow.validar_poderes-2298"><span class="linenos">2298</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Validar que se introduzcan dos poderes válidos en formato &#39;Poder: valor&#39;.&quot;&quot;&quot;</span>
</span><span id="PersonajesWindow.validar_poderes-2299"><a href="#PersonajesWindow.validar_poderes-2299"><span class="linenos">2299</span></a>        <span class="n">poderes</span> <span class="o">=</span> <span class="n">poderes_text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="PersonajesWindow.validar_poderes-2300"><a href="#PersonajesWindow.validar_poderes-2300"><span class="linenos">2300</span></a>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">poderes</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
</span><span id="PersonajesWindow.validar_poderes-2301"><a href="#PersonajesWindow.validar_poderes-2301"><span class="linenos">2301</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="PersonajesWindow.validar_poderes-2302"><a href="#PersonajesWindow.validar_poderes-2302"><span class="linenos">2302</span></a>        <span class="n">poderes_dict</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="PersonajesWindow.validar_poderes-2303"><a href="#PersonajesWindow.validar_poderes-2303"><span class="linenos">2303</span></a>        <span class="k">for</span> <span class="n">poder</span> <span class="ow">in</span> <span class="n">poderes</span><span class="p">:</span>
</span><span id="PersonajesWindow.validar_poderes-2304"><a href="#PersonajesWindow.validar_poderes-2304"><span class="linenos">2304</span></a>            <span class="k">if</span> <span class="s1">&#39;:&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">poder</span><span class="p">:</span>
</span><span id="PersonajesWindow.validar_poderes-2305"><a href="#PersonajesWindow.validar_poderes-2305"><span class="linenos">2305</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="PersonajesWindow.validar_poderes-2306"><a href="#PersonajesWindow.validar_poderes-2306"><span class="linenos">2306</span></a>            <span class="n">name</span><span class="p">,</span> <span class="n">value</span> <span class="o">=</span> <span class="n">poder</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
</span><span id="PersonajesWindow.validar_poderes-2307"><a href="#PersonajesWindow.validar_poderes-2307"><span class="linenos">2307</span></a>            <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">poderes_dict</span><span class="p">:</span>
</span><span id="PersonajesWindow.validar_poderes-2308"><a href="#PersonajesWindow.validar_poderes-2308"><span class="linenos">2308</span></a>                <span class="k">return</span> <span class="kc">False</span>
</span><span id="PersonajesWindow.validar_poderes-2309"><a href="#PersonajesWindow.validar_poderes-2309"><span class="linenos">2309</span></a>            <span class="n">poderes_dict</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="PersonajesWindow.validar_poderes-2310"><a href="#PersonajesWindow.validar_poderes-2310"><span class="linenos">2310</span></a>        <span class="k">return</span> <span class="n">poderes_dict</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">poderes_dict</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span> <span class="k">else</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>Validar que se introduzcan dos poderes válidos en formato 'Poder: valor'.</p>
</div>


                            </div>
                            <div id="PersonajesWindow.guardar_p" class="classattr">
                                        <input id="PersonajesWindow.guardar_p-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">guardar_p</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="PersonajesWindow.guardar_p-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PersonajesWindow.guardar_p"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PersonajesWindow.guardar_p-2312"><a href="#PersonajesWindow.guardar_p-2312"><span class="linenos">2312</span></a>    <span class="k">def</span> <span class="nf">guardar_p</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="PersonajesWindow.guardar_p-2313"><a href="#PersonajesWindow.guardar_p-2313"><span class="linenos">2313</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Guardar los datos del personaje en Firestore y limpiar los campos.&quot;&quot;&quot;</span>
</span><span id="PersonajesWindow.guardar_p-2314"><a href="#PersonajesWindow.guardar_p-2314"><span class="linenos">2314</span></a>        <span class="n">nombre</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">name_id</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="PersonajesWindow.guardar_p-2315"><a href="#PersonajesWindow.guardar_p-2315"><span class="linenos">2315</span></a>        <span class="n">raza</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">raza_box</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="PersonajesWindow.guardar_p-2316"><a href="#PersonajesWindow.guardar_p-2316"><span class="linenos">2316</span></a>        <span class="n">habilidades_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">text_hb</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="PersonajesWindow.guardar_p-2317"><a href="#PersonajesWindow.guardar_p-2317"><span class="linenos">2317</span></a>        <span class="n">poderes_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tx_pd</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="PersonajesWindow.guardar_p-2318"><a href="#PersonajesWindow.guardar_p-2318"><span class="linenos">2318</span></a>        <span class="n">equipamiento</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cc_eq</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="PersonajesWindow.guardar_p-2319"><a href="#PersonajesWindow.guardar_p-2319"><span class="linenos">2319</span></a>        <span class="n">raza_custom</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">raza_line</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="PersonajesWindow.guardar_p-2320"><a href="#PersonajesWindow.guardar_p-2320"><span class="linenos">2320</span></a>        <span class="n">equipo_custom</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">li_equi</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span id="PersonajesWindow.guardar_p-2321"><a href="#PersonajesWindow.guardar_p-2321"><span class="linenos">2321</span></a>        
</span><span id="PersonajesWindow.guardar_p-2322"><a href="#PersonajesWindow.guardar_p-2322"><span class="linenos">2322</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">validacion_campos</span><span class="p">(</span><span class="n">nombre</span><span class="p">,</span> <span class="s1">&#39;Nombre&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">validacion_campos</span><span class="p">(</span><span class="n">raza</span><span class="p">,</span> <span class="s1">&#39;Raza&#39;</span><span class="p">):</span>
</span><span id="PersonajesWindow.guardar_p-2323"><a href="#PersonajesWindow.guardar_p-2323"><span class="linenos">2323</span></a>            <span class="k">return</span>
</span><span id="PersonajesWindow.guardar_p-2324"><a href="#PersonajesWindow.guardar_p-2324"><span class="linenos">2324</span></a>
</span><span id="PersonajesWindow.guardar_p-2325"><a href="#PersonajesWindow.guardar_p-2325"><span class="linenos">2325</span></a>        <span class="n">habilidades</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validar_habilidades</span><span class="p">(</span><span class="n">habilidades_text</span><span class="p">)</span>
</span><span id="PersonajesWindow.guardar_p-2326"><a href="#PersonajesWindow.guardar_p-2326"><span class="linenos">2326</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">habilidades</span><span class="p">:</span>
</span><span id="PersonajesWindow.guardar_p-2327"><a href="#PersonajesWindow.guardar_p-2327"><span class="linenos">2327</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Introduce dos habilidades válidas.&#39;</span><span class="p">)</span>
</span><span id="PersonajesWindow.guardar_p-2328"><a href="#PersonajesWindow.guardar_p-2328"><span class="linenos">2328</span></a>            <span class="k">return</span>
</span><span id="PersonajesWindow.guardar_p-2329"><a href="#PersonajesWindow.guardar_p-2329"><span class="linenos">2329</span></a>
</span><span id="PersonajesWindow.guardar_p-2330"><a href="#PersonajesWindow.guardar_p-2330"><span class="linenos">2330</span></a>        <span class="n">poderes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">validar_poderes</span><span class="p">(</span><span class="n">poderes_text</span><span class="p">)</span>
</span><span id="PersonajesWindow.guardar_p-2331"><a href="#PersonajesWindow.guardar_p-2331"><span class="linenos">2331</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">poderes</span><span class="p">:</span>
</span><span id="PersonajesWindow.guardar_p-2332"><a href="#PersonajesWindow.guardar_p-2332"><span class="linenos">2332</span></a>            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Error&#39;</span><span class="p">,</span> <span class="s1">&#39;Introduce dos poderes válidos.&#39;</span><span class="p">)</span>
</span><span id="PersonajesWindow.guardar_p-2333"><a href="#PersonajesWindow.guardar_p-2333"><span class="linenos">2333</span></a>            <span class="k">return</span>
</span><span id="PersonajesWindow.guardar_p-2334"><a href="#PersonajesWindow.guardar_p-2334"><span class="linenos">2334</span></a>        
</span><span id="PersonajesWindow.guardar_p-2335"><a href="#PersonajesWindow.guardar_p-2335"><span class="linenos">2335</span></a>        <span class="k">if</span> <span class="n">raza_custom</span><span class="p">:</span>
</span><span id="PersonajesWindow.guardar_p-2336"><a href="#PersonajesWindow.guardar_p-2336"><span class="linenos">2336</span></a>            <span class="n">raza</span> <span class="o">=</span> <span class="n">raza_custom</span>
</span><span id="PersonajesWindow.guardar_p-2337"><a href="#PersonajesWindow.guardar_p-2337"><span class="linenos">2337</span></a>        
</span><span id="PersonajesWindow.guardar_p-2338"><a href="#PersonajesWindow.guardar_p-2338"><span class="linenos">2338</span></a>        <span class="k">if</span> <span class="n">equipo_custom</span><span class="p">:</span>
</span><span id="PersonajesWindow.guardar_p-2339"><a href="#PersonajesWindow.guardar_p-2339"><span class="linenos">2339</span></a>            <span class="n">equipamiento</span> <span class="o">=</span> <span class="n">equipo_custom</span>
</span><span id="PersonajesWindow.guardar_p-2340"><a href="#PersonajesWindow.guardar_p-2340"><span class="linenos">2340</span></a>
</span><span id="PersonajesWindow.guardar_p-2341"><a href="#PersonajesWindow.guardar_p-2341"><span class="linenos">2341</span></a>        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="PersonajesWindow.guardar_p-2342"><a href="#PersonajesWindow.guardar_p-2342"><span class="linenos">2342</span></a>            <span class="s1">&#39;nombre&#39;</span><span class="p">:</span> <span class="n">nombre</span><span class="p">,</span>
</span><span id="PersonajesWindow.guardar_p-2343"><a href="#PersonajesWindow.guardar_p-2343"><span class="linenos">2343</span></a>            <span class="s1">&#39;nivel&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span><span id="PersonajesWindow.guardar_p-2344"><a href="#PersonajesWindow.guardar_p-2344"><span class="linenos">2344</span></a>            <span class="s1">&#39;raza&#39;</span><span class="p">:</span> <span class="n">raza</span><span class="p">,</span>
</span><span id="PersonajesWindow.guardar_p-2345"><a href="#PersonajesWindow.guardar_p-2345"><span class="linenos">2345</span></a>            <span class="s1">&#39;habilidades&#39;</span><span class="p">:</span> <span class="n">habilidades</span><span class="p">,</span>
</span><span id="PersonajesWindow.guardar_p-2346"><a href="#PersonajesWindow.guardar_p-2346"><span class="linenos">2346</span></a>            <span class="s1">&#39;poderes&#39;</span><span class="p">:</span> <span class="n">poderes</span><span class="p">,</span>
</span><span id="PersonajesWindow.guardar_p-2347"><a href="#PersonajesWindow.guardar_p-2347"><span class="linenos">2347</span></a>            <span class="s1">&#39;equipamiento&#39;</span><span class="p">:</span> <span class="n">equipamiento</span><span class="p">,</span>
</span><span id="PersonajesWindow.guardar_p-2348"><a href="#PersonajesWindow.guardar_p-2348"><span class="linenos">2348</span></a>            <span class="s1">&#39;estado&#39;</span><span class="p">:</span> <span class="s1">&#39;vivo&#39;</span>
</span><span id="PersonajesWindow.guardar_p-2349"><a href="#PersonajesWindow.guardar_p-2349"><span class="linenos">2349</span></a>        <span class="p">}</span>
</span><span id="PersonajesWindow.guardar_p-2350"><a href="#PersonajesWindow.guardar_p-2350"><span class="linenos">2350</span></a>
</span><span id="PersonajesWindow.guardar_p-2351"><a href="#PersonajesWindow.guardar_p-2351"><span class="linenos">2351</span></a>        <span class="c1"># Guardar los datos en la colección &#39;personajes&#39;</span>
</span><span id="PersonajesWindow.guardar_p-2352"><a href="#PersonajesWindow.guardar_p-2352"><span class="linenos">2352</span></a>        <span class="n">db</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;personajes&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="PersonajesWindow.guardar_p-2353"><a href="#PersonajesWindow.guardar_p-2353"><span class="linenos">2353</span></a>        <span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;Éxito&#39;</span><span class="p">,</span> <span class="s1">&#39;Personaje guardado exitosamente.&#39;</span><span class="p">)</span>
</span><span id="PersonajesWindow.guardar_p-2354"><a href="#PersonajesWindow.guardar_p-2354"><span class="linenos">2354</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">limpiar_p</span><span class="p">()</span>  <span class="c1"># Llamar al método de limpiar campos</span>
</span></pre></div>


            <div class="docstring"><p>Guardar los datos del personaje en Firestore y limpiar los campos.</p>
</div>


                            </div>
                            <div id="PersonajesWindow.limpiar_p" class="classattr">
                                        <input id="PersonajesWindow.limpiar_p-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">limpiar_p</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="PersonajesWindow.limpiar_p-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#PersonajesWindow.limpiar_p"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="PersonajesWindow.limpiar_p-2356"><a href="#PersonajesWindow.limpiar_p-2356"><span class="linenos">2356</span></a>    <span class="k">def</span> <span class="nf">limpiar_p</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="PersonajesWindow.limpiar_p-2357"><a href="#PersonajesWindow.limpiar_p-2357"><span class="linenos">2357</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Limpiar todos los campos del formulario para ingresar un nuevo personaje.&quot;&quot;&quot;</span>
</span><span id="PersonajesWindow.limpiar_p-2358"><a href="#PersonajesWindow.limpiar_p-2358"><span class="linenos">2358</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name_id</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="PersonajesWindow.limpiar_p-2359"><a href="#PersonajesWindow.limpiar_p-2359"><span class="linenos">2359</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">raza_box</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="PersonajesWindow.limpiar_p-2360"><a href="#PersonajesWindow.limpiar_p-2360"><span class="linenos">2360</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">text_hb</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="PersonajesWindow.limpiar_p-2361"><a href="#PersonajesWindow.limpiar_p-2361"><span class="linenos">2361</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">tx_pd</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="PersonajesWindow.limpiar_p-2362"><a href="#PersonajesWindow.limpiar_p-2362"><span class="linenos">2362</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cc_eq</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="PersonajesWindow.limpiar_p-2363"><a href="#PersonajesWindow.limpiar_p-2363"><span class="linenos">2363</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">raza_line</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span><span id="PersonajesWindow.limpiar_p-2364"><a href="#PersonajesWindow.limpiar_p-2364"><span class="linenos">2364</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">li_equi</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Limpiar todos los campos del formulario para ingresar un nuevo personaje.</p>
</div>


                            </div>
                            <div id="PersonajesWindow.staticMetaObject" class="classattr">
                                <div class="attr variable">
            <span class="name">staticMetaObject</span>        =
<span class="default_value">PySide6.QtCore.QMetaObject(&#34;PersonajesWindow&#34; inherits &#34;QWidget&#34;:
)</span>

        
    </div>
    <a class="headerlink" href="#PersonajesWindow.staticMetaObject"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>ui_personajes.Ui_Formperso</dt>
                                <dd id="PersonajesWindow.setupUi" class="function">setupUi</dd>
                <dd id="PersonajesWindow.retranslateUi" class="function">retranslateUi</dd>

            </div>
            <div><dt>PySide6.QtWidgets.QWidget</dt>
                                <dd id="PersonajesWindow.acceptDrops" class="function">acceptDrops</dd>
                <dd id="PersonajesWindow.accessibleDescription" class="function">accessibleDescription</dd>
                <dd id="PersonajesWindow.accessibleName" class="function">accessibleName</dd>
                <dd id="PersonajesWindow.actionEvent" class="function">actionEvent</dd>
                <dd id="PersonajesWindow.actions" class="function">actions</dd>
                <dd id="PersonajesWindow.activateWindow" class="function">activateWindow</dd>
                <dd id="PersonajesWindow.addAction" class="function">addAction</dd>
                <dd id="PersonajesWindow.addActions" class="function">addActions</dd>
                <dd id="PersonajesWindow.adjustSize" class="function">adjustSize</dd>
                <dd id="PersonajesWindow.autoFillBackground" class="function">autoFillBackground</dd>
                <dd id="PersonajesWindow.backgroundRole" class="function">backgroundRole</dd>
                <dd id="PersonajesWindow.backingStore" class="function">backingStore</dd>
                <dd id="PersonajesWindow.baseSize" class="function">baseSize</dd>
                <dd id="PersonajesWindow.changeEvent" class="function">changeEvent</dd>
                <dd id="PersonajesWindow.childAt" class="function">childAt</dd>
                <dd id="PersonajesWindow.childrenRect" class="function">childrenRect</dd>
                <dd id="PersonajesWindow.childrenRegion" class="function">childrenRegion</dd>
                <dd id="PersonajesWindow.clearFocus" class="function">clearFocus</dd>
                <dd id="PersonajesWindow.clearMask" class="function">clearMask</dd>
                <dd id="PersonajesWindow.close" class="function">close</dd>
                <dd id="PersonajesWindow.closeEvent" class="function">closeEvent</dd>
                <dd id="PersonajesWindow.contentsMargins" class="function">contentsMargins</dd>
                <dd id="PersonajesWindow.contentsRect" class="function">contentsRect</dd>
                <dd id="PersonajesWindow.contextMenuEvent" class="function">contextMenuEvent</dd>
                <dd id="PersonajesWindow.contextMenuPolicy" class="function">contextMenuPolicy</dd>
                <dd id="PersonajesWindow.create" class="function">create</dd>
                <dd id="PersonajesWindow.createWinId" class="function">createWinId</dd>
                <dd id="PersonajesWindow.createWindowContainer" class="function">createWindowContainer</dd>
                <dd id="PersonajesWindow.cursor" class="function">cursor</dd>
                <dd id="PersonajesWindow.destroy" class="function">destroy</dd>
                <dd id="PersonajesWindow.devType" class="function">devType</dd>
                <dd id="PersonajesWindow.dragEnterEvent" class="function">dragEnterEvent</dd>
                <dd id="PersonajesWindow.dragLeaveEvent" class="function">dragLeaveEvent</dd>
                <dd id="PersonajesWindow.dragMoveEvent" class="function">dragMoveEvent</dd>
                <dd id="PersonajesWindow.dropEvent" class="function">dropEvent</dd>
                <dd id="PersonajesWindow.effectiveWinId" class="function">effectiveWinId</dd>
                <dd id="PersonajesWindow.ensurePolished" class="function">ensurePolished</dd>
                <dd id="PersonajesWindow.enterEvent" class="function">enterEvent</dd>
                <dd id="PersonajesWindow.event" class="function">event</dd>
                <dd id="PersonajesWindow.find" class="function">find</dd>
                <dd id="PersonajesWindow.focusInEvent" class="function">focusInEvent</dd>
                <dd id="PersonajesWindow.focusNextChild" class="function">focusNextChild</dd>
                <dd id="PersonajesWindow.focusNextPrevChild" class="function">focusNextPrevChild</dd>
                <dd id="PersonajesWindow.focusOutEvent" class="function">focusOutEvent</dd>
                <dd id="PersonajesWindow.focusPolicy" class="function">focusPolicy</dd>
                <dd id="PersonajesWindow.focusPreviousChild" class="function">focusPreviousChild</dd>
                <dd id="PersonajesWindow.focusProxy" class="function">focusProxy</dd>
                <dd id="PersonajesWindow.focusWidget" class="function">focusWidget</dd>
                <dd id="PersonajesWindow.font" class="function">font</dd>
                <dd id="PersonajesWindow.fontInfo" class="function">fontInfo</dd>
                <dd id="PersonajesWindow.fontMetrics" class="function">fontMetrics</dd>
                <dd id="PersonajesWindow.foregroundRole" class="function">foregroundRole</dd>
                <dd id="PersonajesWindow.frameGeometry" class="function">frameGeometry</dd>
                <dd id="PersonajesWindow.frameSize" class="function">frameSize</dd>
                <dd id="PersonajesWindow.geometry" class="function">geometry</dd>
                <dd id="PersonajesWindow.grab" class="function">grab</dd>
                <dd id="PersonajesWindow.grabGesture" class="function">grabGesture</dd>
                <dd id="PersonajesWindow.grabKeyboard" class="function">grabKeyboard</dd>
                <dd id="PersonajesWindow.grabMouse" class="function">grabMouse</dd>
                <dd id="PersonajesWindow.grabShortcut" class="function">grabShortcut</dd>
                <dd id="PersonajesWindow.graphicsEffect" class="function">graphicsEffect</dd>
                <dd id="PersonajesWindow.graphicsProxyWidget" class="function">graphicsProxyWidget</dd>
                <dd id="PersonajesWindow.hasFocus" class="function">hasFocus</dd>
                <dd id="PersonajesWindow.hasHeightForWidth" class="function">hasHeightForWidth</dd>
                <dd id="PersonajesWindow.hasMouseTracking" class="function">hasMouseTracking</dd>
                <dd id="PersonajesWindow.hasTabletTracking" class="function">hasTabletTracking</dd>
                <dd id="PersonajesWindow.height" class="function">height</dd>
                <dd id="PersonajesWindow.heightForWidth" class="function">heightForWidth</dd>
                <dd id="PersonajesWindow.hide" class="function">hide</dd>
                <dd id="PersonajesWindow.hideEvent" class="function">hideEvent</dd>
                <dd id="PersonajesWindow.initPainter" class="function">initPainter</dd>
                <dd id="PersonajesWindow.inputMethodEvent" class="function">inputMethodEvent</dd>
                <dd id="PersonajesWindow.inputMethodHints" class="function">inputMethodHints</dd>
                <dd id="PersonajesWindow.inputMethodQuery" class="function">inputMethodQuery</dd>
                <dd id="PersonajesWindow.insertAction" class="function">insertAction</dd>
                <dd id="PersonajesWindow.insertActions" class="function">insertActions</dd>
                <dd id="PersonajesWindow.internalWinId" class="function">internalWinId</dd>
                <dd id="PersonajesWindow.isActiveWindow" class="function">isActiveWindow</dd>
                <dd id="PersonajesWindow.isAncestorOf" class="function">isAncestorOf</dd>
                <dd id="PersonajesWindow.isEnabled" class="function">isEnabled</dd>
                <dd id="PersonajesWindow.isEnabledTo" class="function">isEnabledTo</dd>
                <dd id="PersonajesWindow.isFullScreen" class="function">isFullScreen</dd>
                <dd id="PersonajesWindow.isHidden" class="function">isHidden</dd>
                <dd id="PersonajesWindow.isLeftToRight" class="function">isLeftToRight</dd>
                <dd id="PersonajesWindow.isMaximized" class="function">isMaximized</dd>
                <dd id="PersonajesWindow.isMinimized" class="function">isMinimized</dd>
                <dd id="PersonajesWindow.isModal" class="function">isModal</dd>
                <dd id="PersonajesWindow.isRightToLeft" class="function">isRightToLeft</dd>
                <dd id="PersonajesWindow.isTopLevel" class="function">isTopLevel</dd>
                <dd id="PersonajesWindow.isVisible" class="function">isVisible</dd>
                <dd id="PersonajesWindow.isVisibleTo" class="function">isVisibleTo</dd>
                <dd id="PersonajesWindow.isWindow" class="function">isWindow</dd>
                <dd id="PersonajesWindow.isWindowModified" class="function">isWindowModified</dd>
                <dd id="PersonajesWindow.keyPressEvent" class="function">keyPressEvent</dd>
                <dd id="PersonajesWindow.keyReleaseEvent" class="function">keyReleaseEvent</dd>
                <dd id="PersonajesWindow.keyboardGrabber" class="function">keyboardGrabber</dd>
                <dd id="PersonajesWindow.layout" class="function">layout</dd>
                <dd id="PersonajesWindow.layoutDirection" class="function">layoutDirection</dd>
                <dd id="PersonajesWindow.leaveEvent" class="function">leaveEvent</dd>
                <dd id="PersonajesWindow.locale" class="function">locale</dd>
                <dd id="PersonajesWindow.lower" class="function">lower</dd>
                <dd id="PersonajesWindow.mapFrom" class="function">mapFrom</dd>
                <dd id="PersonajesWindow.mapFromGlobal" class="function">mapFromGlobal</dd>
                <dd id="PersonajesWindow.mapFromParent" class="function">mapFromParent</dd>
                <dd id="PersonajesWindow.mapTo" class="function">mapTo</dd>
                <dd id="PersonajesWindow.mapToGlobal" class="function">mapToGlobal</dd>
                <dd id="PersonajesWindow.mapToParent" class="function">mapToParent</dd>
                <dd id="PersonajesWindow.mask" class="function">mask</dd>
                <dd id="PersonajesWindow.maximumHeight" class="function">maximumHeight</dd>
                <dd id="PersonajesWindow.maximumSize" class="function">maximumSize</dd>
                <dd id="PersonajesWindow.maximumWidth" class="function">maximumWidth</dd>
                <dd id="PersonajesWindow.metric" class="function">metric</dd>
                <dd id="PersonajesWindow.minimumHeight" class="function">minimumHeight</dd>
                <dd id="PersonajesWindow.minimumSize" class="function">minimumSize</dd>
                <dd id="PersonajesWindow.minimumSizeHint" class="function">minimumSizeHint</dd>
                <dd id="PersonajesWindow.minimumWidth" class="function">minimumWidth</dd>
                <dd id="PersonajesWindow.mouseDoubleClickEvent" class="function">mouseDoubleClickEvent</dd>
                <dd id="PersonajesWindow.mouseGrabber" class="function">mouseGrabber</dd>
                <dd id="PersonajesWindow.mouseMoveEvent" class="function">mouseMoveEvent</dd>
                <dd id="PersonajesWindow.mousePressEvent" class="function">mousePressEvent</dd>
                <dd id="PersonajesWindow.mouseReleaseEvent" class="function">mouseReleaseEvent</dd>
                <dd id="PersonajesWindow.move" class="function">move</dd>
                <dd id="PersonajesWindow.moveEvent" class="function">moveEvent</dd>
                <dd id="PersonajesWindow.nativeEvent" class="function">nativeEvent</dd>
                <dd id="PersonajesWindow.nativeParentWidget" class="function">nativeParentWidget</dd>
                <dd id="PersonajesWindow.nextInFocusChain" class="function">nextInFocusChain</dd>
                <dd id="PersonajesWindow.normalGeometry" class="function">normalGeometry</dd>
                <dd id="PersonajesWindow.overrideWindowFlags" class="function">overrideWindowFlags</dd>
                <dd id="PersonajesWindow.overrideWindowState" class="function">overrideWindowState</dd>
                <dd id="PersonajesWindow.paintEngine" class="function">paintEngine</dd>
                <dd id="PersonajesWindow.paintEvent" class="function">paintEvent</dd>
                <dd id="PersonajesWindow.palette" class="function">palette</dd>
                <dd id="PersonajesWindow.parentWidget" class="function">parentWidget</dd>
                <dd id="PersonajesWindow.pos" class="function">pos</dd>
                <dd id="PersonajesWindow.previousInFocusChain" class="function">previousInFocusChain</dd>
                <dd id="PersonajesWindow.raise_" class="function">raise_</dd>
                <dd id="PersonajesWindow.rect" class="function">rect</dd>
                <dd id="PersonajesWindow.redirected" class="function">redirected</dd>
                <dd id="PersonajesWindow.releaseKeyboard" class="function">releaseKeyboard</dd>
                <dd id="PersonajesWindow.releaseMouse" class="function">releaseMouse</dd>
                <dd id="PersonajesWindow.releaseShortcut" class="function">releaseShortcut</dd>
                <dd id="PersonajesWindow.removeAction" class="function">removeAction</dd>
                <dd id="PersonajesWindow.render" class="function">render</dd>
                <dd id="PersonajesWindow.repaint" class="function">repaint</dd>
                <dd id="PersonajesWindow.resize" class="function">resize</dd>
                <dd id="PersonajesWindow.resizeEvent" class="function">resizeEvent</dd>
                <dd id="PersonajesWindow.restoreGeometry" class="function">restoreGeometry</dd>
                <dd id="PersonajesWindow.saveGeometry" class="function">saveGeometry</dd>
                <dd id="PersonajesWindow.screen" class="function">screen</dd>
                <dd id="PersonajesWindow.scroll" class="function">scroll</dd>
                <dd id="PersonajesWindow.setAcceptDrops" class="function">setAcceptDrops</dd>
                <dd id="PersonajesWindow.setAccessibleDescription" class="function">setAccessibleDescription</dd>
                <dd id="PersonajesWindow.setAccessibleName" class="function">setAccessibleName</dd>
                <dd id="PersonajesWindow.setAttribute" class="function">setAttribute</dd>
                <dd id="PersonajesWindow.setAutoFillBackground" class="function">setAutoFillBackground</dd>
                <dd id="PersonajesWindow.setBackgroundRole" class="function">setBackgroundRole</dd>
                <dd id="PersonajesWindow.setBaseSize" class="function">setBaseSize</dd>
                <dd id="PersonajesWindow.setContentsMargins" class="function">setContentsMargins</dd>
                <dd id="PersonajesWindow.setContextMenuPolicy" class="function">setContextMenuPolicy</dd>
                <dd id="PersonajesWindow.setCursor" class="function">setCursor</dd>
                <dd id="PersonajesWindow.setDisabled" class="function">setDisabled</dd>
                <dd id="PersonajesWindow.setEnabled" class="function">setEnabled</dd>
                <dd id="PersonajesWindow.setFixedHeight" class="function">setFixedHeight</dd>
                <dd id="PersonajesWindow.setFixedSize" class="function">setFixedSize</dd>
                <dd id="PersonajesWindow.setFixedWidth" class="function">setFixedWidth</dd>
                <dd id="PersonajesWindow.setFocus" class="function">setFocus</dd>
                <dd id="PersonajesWindow.setFocusPolicy" class="function">setFocusPolicy</dd>
                <dd id="PersonajesWindow.setFocusProxy" class="function">setFocusProxy</dd>
                <dd id="PersonajesWindow.setFont" class="function">setFont</dd>
                <dd id="PersonajesWindow.setForegroundRole" class="function">setForegroundRole</dd>
                <dd id="PersonajesWindow.setGeometry" class="function">setGeometry</dd>
                <dd id="PersonajesWindow.setGraphicsEffect" class="function">setGraphicsEffect</dd>
                <dd id="PersonajesWindow.setHidden" class="function">setHidden</dd>
                <dd id="PersonajesWindow.setInputMethodHints" class="function">setInputMethodHints</dd>
                <dd id="PersonajesWindow.setLayout" class="function">setLayout</dd>
                <dd id="PersonajesWindow.setLayoutDirection" class="function">setLayoutDirection</dd>
                <dd id="PersonajesWindow.setLocale" class="function">setLocale</dd>
                <dd id="PersonajesWindow.setMask" class="function">setMask</dd>
                <dd id="PersonajesWindow.setMaximumHeight" class="function">setMaximumHeight</dd>
                <dd id="PersonajesWindow.setMaximumSize" class="function">setMaximumSize</dd>
                <dd id="PersonajesWindow.setMaximumWidth" class="function">setMaximumWidth</dd>
                <dd id="PersonajesWindow.setMinimumHeight" class="function">setMinimumHeight</dd>
                <dd id="PersonajesWindow.setMinimumSize" class="function">setMinimumSize</dd>
                <dd id="PersonajesWindow.setMinimumWidth" class="function">setMinimumWidth</dd>
                <dd id="PersonajesWindow.setMouseTracking" class="function">setMouseTracking</dd>
                <dd id="PersonajesWindow.setPalette" class="function">setPalette</dd>
                <dd id="PersonajesWindow.setParent" class="function">setParent</dd>
                <dd id="PersonajesWindow.setScreen" class="function">setScreen</dd>
                <dd id="PersonajesWindow.setShortcutAutoRepeat" class="function">setShortcutAutoRepeat</dd>
                <dd id="PersonajesWindow.setShortcutEnabled" class="function">setShortcutEnabled</dd>
                <dd id="PersonajesWindow.setSizeIncrement" class="function">setSizeIncrement</dd>
                <dd id="PersonajesWindow.setSizePolicy" class="function">setSizePolicy</dd>
                <dd id="PersonajesWindow.setStatusTip" class="function">setStatusTip</dd>
                <dd id="PersonajesWindow.setStyle" class="function">setStyle</dd>
                <dd id="PersonajesWindow.setStyleSheet" class="function">setStyleSheet</dd>
                <dd id="PersonajesWindow.setTabOrder" class="function">setTabOrder</dd>
                <dd id="PersonajesWindow.setTabletTracking" class="function">setTabletTracking</dd>
                <dd id="PersonajesWindow.setToolTip" class="function">setToolTip</dd>
                <dd id="PersonajesWindow.setToolTipDuration" class="function">setToolTipDuration</dd>
                <dd id="PersonajesWindow.setUpdatesEnabled" class="function">setUpdatesEnabled</dd>
                <dd id="PersonajesWindow.setVisible" class="function">setVisible</dd>
                <dd id="PersonajesWindow.setWhatsThis" class="function">setWhatsThis</dd>
                <dd id="PersonajesWindow.setWindowFilePath" class="function">setWindowFilePath</dd>
                <dd id="PersonajesWindow.setWindowFlag" class="function">setWindowFlag</dd>
                <dd id="PersonajesWindow.setWindowFlags" class="function">setWindowFlags</dd>
                <dd id="PersonajesWindow.setWindowIcon" class="function">setWindowIcon</dd>
                <dd id="PersonajesWindow.setWindowIconText" class="function">setWindowIconText</dd>
                <dd id="PersonajesWindow.setWindowModality" class="function">setWindowModality</dd>
                <dd id="PersonajesWindow.setWindowModified" class="function">setWindowModified</dd>
                <dd id="PersonajesWindow.setWindowOpacity" class="function">setWindowOpacity</dd>
                <dd id="PersonajesWindow.setWindowRole" class="function">setWindowRole</dd>
                <dd id="PersonajesWindow.setWindowState" class="function">setWindowState</dd>
                <dd id="PersonajesWindow.setWindowTitle" class="function">setWindowTitle</dd>
                <dd id="PersonajesWindow.sharedPainter" class="function">sharedPainter</dd>
                <dd id="PersonajesWindow.show" class="function">show</dd>
                <dd id="PersonajesWindow.showEvent" class="function">showEvent</dd>
                <dd id="PersonajesWindow.showFullScreen" class="function">showFullScreen</dd>
                <dd id="PersonajesWindow.showMaximized" class="function">showMaximized</dd>
                <dd id="PersonajesWindow.showMinimized" class="function">showMinimized</dd>
                <dd id="PersonajesWindow.showNormal" class="function">showNormal</dd>
                <dd id="PersonajesWindow.size" class="function">size</dd>
                <dd id="PersonajesWindow.sizeHint" class="function">sizeHint</dd>
                <dd id="PersonajesWindow.sizeIncrement" class="function">sizeIncrement</dd>
                <dd id="PersonajesWindow.sizePolicy" class="function">sizePolicy</dd>
                <dd id="PersonajesWindow.stackUnder" class="function">stackUnder</dd>
                <dd id="PersonajesWindow.statusTip" class="function">statusTip</dd>
                <dd id="PersonajesWindow.style" class="function">style</dd>
                <dd id="PersonajesWindow.styleSheet" class="function">styleSheet</dd>
                <dd id="PersonajesWindow.tabletEvent" class="function">tabletEvent</dd>
                <dd id="PersonajesWindow.testAttribute" class="function">testAttribute</dd>
                <dd id="PersonajesWindow.toolTip" class="function">toolTip</dd>
                <dd id="PersonajesWindow.toolTipDuration" class="function">toolTipDuration</dd>
                <dd id="PersonajesWindow.topLevelWidget" class="function">topLevelWidget</dd>
                <dd id="PersonajesWindow.underMouse" class="function">underMouse</dd>
                <dd id="PersonajesWindow.ungrabGesture" class="function">ungrabGesture</dd>
                <dd id="PersonajesWindow.unsetCursor" class="function">unsetCursor</dd>
                <dd id="PersonajesWindow.unsetLayoutDirection" class="function">unsetLayoutDirection</dd>
                <dd id="PersonajesWindow.unsetLocale" class="function">unsetLocale</dd>
                <dd id="PersonajesWindow.update" class="function">update</dd>
                <dd id="PersonajesWindow.updateGeometry" class="function">updateGeometry</dd>
                <dd id="PersonajesWindow.updateMicroFocus" class="function">updateMicroFocus</dd>
                <dd id="PersonajesWindow.updatesEnabled" class="function">updatesEnabled</dd>
                <dd id="PersonajesWindow.visibleRegion" class="function">visibleRegion</dd>
                <dd id="PersonajesWindow.whatsThis" class="function">whatsThis</dd>
                <dd id="PersonajesWindow.wheelEvent" class="function">wheelEvent</dd>
                <dd id="PersonajesWindow.width" class="function">width</dd>
                <dd id="PersonajesWindow.winId" class="function">winId</dd>
                <dd id="PersonajesWindow.window" class="function">window</dd>
                <dd id="PersonajesWindow.windowFilePath" class="function">windowFilePath</dd>
                <dd id="PersonajesWindow.windowFlags" class="function">windowFlags</dd>
                <dd id="PersonajesWindow.windowHandle" class="function">windowHandle</dd>
                <dd id="PersonajesWindow.windowIcon" class="function">windowIcon</dd>
                <dd id="PersonajesWindow.windowIconText" class="function">windowIconText</dd>
                <dd id="PersonajesWindow.windowModality" class="function">windowModality</dd>
                <dd id="PersonajesWindow.windowOpacity" class="function">windowOpacity</dd>
                <dd id="PersonajesWindow.windowRole" class="function">windowRole</dd>
                <dd id="PersonajesWindow.windowState" class="function">windowState</dd>
                <dd id="PersonajesWindow.windowTitle" class="function">windowTitle</dd>
                <dd id="PersonajesWindow.windowType" class="function">windowType</dd>
                <dd id="PersonajesWindow.x" class="function">x</dd>
                <dd id="PersonajesWindow.y" class="function">y</dd>
                <dd id="PersonajesWindow.RenderFlag" class="class">RenderFlag</dd>
                <dd id="PersonajesWindow.windowTitleChanged" class="function">windowTitleChanged</dd>
                <dd id="PersonajesWindow.windowIconChanged" class="function">windowIconChanged</dd>
                <dd id="PersonajesWindow.windowIconTextChanged" class="function">windowIconTextChanged</dd>
                <dd id="PersonajesWindow.customContextMenuRequested" class="function">customContextMenuRequested</dd>

            </div>
            <div><dt>PySide6.QtCore.QObject</dt>
                                <dd id="PersonajesWindow.blockSignals" class="function">blockSignals</dd>
                <dd id="PersonajesWindow.childEvent" class="function">childEvent</dd>
                <dd id="PersonajesWindow.children" class="function">children</dd>
                <dd id="PersonajesWindow.connect" class="function">connect</dd>
                <dd id="PersonajesWindow.connectNotify" class="function">connectNotify</dd>
                <dd id="PersonajesWindow.customEvent" class="function">customEvent</dd>
                <dd id="PersonajesWindow.deleteLater" class="function">deleteLater</dd>
                <dd id="PersonajesWindow.disconnect" class="function">disconnect</dd>
                <dd id="PersonajesWindow.disconnectNotify" class="function">disconnectNotify</dd>
                <dd id="PersonajesWindow.dumpObjectInfo" class="function">dumpObjectInfo</dd>
                <dd id="PersonajesWindow.dumpObjectTree" class="function">dumpObjectTree</dd>
                <dd id="PersonajesWindow.dynamicPropertyNames" class="function">dynamicPropertyNames</dd>
                <dd id="PersonajesWindow.emit" class="function">emit</dd>
                <dd id="PersonajesWindow.eventFilter" class="function">eventFilter</dd>
                <dd id="PersonajesWindow.findChild" class="function">findChild</dd>
                <dd id="PersonajesWindow.findChildren" class="function">findChildren</dd>
                <dd id="PersonajesWindow.inherits" class="function">inherits</dd>
                <dd id="PersonajesWindow.installEventFilter" class="function">installEventFilter</dd>
                <dd id="PersonajesWindow.isQuickItemType" class="function">isQuickItemType</dd>
                <dd id="PersonajesWindow.isSignalConnected" class="function">isSignalConnected</dd>
                <dd id="PersonajesWindow.isWidgetType" class="function">isWidgetType</dd>
                <dd id="PersonajesWindow.isWindowType" class="function">isWindowType</dd>
                <dd id="PersonajesWindow.killTimer" class="function">killTimer</dd>
                <dd id="PersonajesWindow.metaObject" class="function">metaObject</dd>
                <dd id="PersonajesWindow.moveToThread" class="function">moveToThread</dd>
                <dd id="PersonajesWindow.objectName" class="function">objectName</dd>
                <dd id="PersonajesWindow.parent" class="function">parent</dd>
                <dd id="PersonajesWindow.property" class="function">property</dd>
                <dd id="PersonajesWindow.receivers" class="function">receivers</dd>
                <dd id="PersonajesWindow.removeEventFilter" class="function">removeEventFilter</dd>
                <dd id="PersonajesWindow.sender" class="function">sender</dd>
                <dd id="PersonajesWindow.senderSignalIndex" class="function">senderSignalIndex</dd>
                <dd id="PersonajesWindow.setObjectName" class="function">setObjectName</dd>
                <dd id="PersonajesWindow.setProperty" class="function">setProperty</dd>
                <dd id="PersonajesWindow.signalsBlocked" class="function">signalsBlocked</dd>
                <dd id="PersonajesWindow.startTimer" class="function">startTimer</dd>
                <dd id="PersonajesWindow.thread" class="function">thread</dd>
                <dd id="PersonajesWindow.timerEvent" class="function">timerEvent</dd>
                <dd id="PersonajesWindow.tr" class="function">tr</dd>
                <dd id="PersonajesWindow.destroyed" class="function">destroyed</dd>
                <dd id="PersonajesWindow.objectNameChanged" class="function">objectNameChanged</dd>

            </div>
            <div><dt>PySide6.QtGui.QPaintDevice</dt>
                                <dd id="PersonajesWindow.colorCount" class="function">colorCount</dd>
                <dd id="PersonajesWindow.depth" class="function">depth</dd>
                <dd id="PersonajesWindow.devicePixelRatio" class="function">devicePixelRatio</dd>
                <dd id="PersonajesWindow.devicePixelRatioF" class="function">devicePixelRatioF</dd>
                <dd id="PersonajesWindow.devicePixelRatioFScale" class="function">devicePixelRatioFScale</dd>
                <dd id="PersonajesWindow.heightMM" class="function">heightMM</dd>
                <dd id="PersonajesWindow.logicalDpiX" class="function">logicalDpiX</dd>
                <dd id="PersonajesWindow.logicalDpiY" class="function">logicalDpiY</dd>
                <dd id="PersonajesWindow.paintingActive" class="function">paintingActive</dd>
                <dd id="PersonajesWindow.physicalDpiX" class="function">physicalDpiX</dd>
                <dd id="PersonajesWindow.physicalDpiY" class="function">physicalDpiY</dd>
                <dd id="PersonajesWindow.widthMM" class="function">widthMM</dd>
                <dd id="PersonajesWindow.painters" class="variable">painters</dd>
                <dd id="PersonajesWindow.PaintDeviceMetric" class="class">PaintDeviceMetric</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="CargandoWindow">
                            <input id="CargandoWindow-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">CargandoWindow</span><wbr>(<span class="base">PySide6.QtWidgets.QWidget</span>, <span class="base">ui_cargando.Ui_Formcarga</span>):

                <label class="view-source-button" for="CargandoWindow-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#CargandoWindow"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="CargandoWindow-2366"><a href="#CargandoWindow-2366"><span class="linenos">2366</span></a><span class="k">class</span> <span class="nc">CargandoWindow</span><span class="p">(</span><span class="n">QWidget</span><span class="p">,</span> <span class="n">Ui_Formcarga</span><span class="p">):</span>
</span><span id="CargandoWindow-2367"><a href="#CargandoWindow-2367"><span class="linenos">2367</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="CargandoWindow-2368"><a href="#CargandoWindow-2368"><span class="linenos">2368</span></a><span class="sd">    Ventana para mostrar una barra de progreso durante el proceso de carga.</span>
</span><span id="CargandoWindow-2369"><a href="#CargandoWindow-2369"><span class="linenos">2369</span></a>
</span><span id="CargandoWindow-2370"><a href="#CargandoWindow-2370"><span class="linenos">2370</span></a><span class="sd">    Esta clase define una ventana con una barra de progreso para mostrar el estado de carga.</span>
</span><span id="CargandoWindow-2371"><a href="#CargandoWindow-2371"><span class="linenos">2371</span></a>
</span><span id="CargandoWindow-2372"><a href="#CargandoWindow-2372"><span class="linenos">2372</span></a><span class="sd">    **Atributos**:</span>
</span><span id="CargandoWindow-2373"><a href="#CargandoWindow-2373"><span class="linenos">2373</span></a><span class="sd">    - `barra_cargado`: `QProgressBar` que muestra el progreso de la carga.</span>
</span><span id="CargandoWindow-2374"><a href="#CargandoWindow-2374"><span class="linenos">2374</span></a>
</span><span id="CargandoWindow-2375"><a href="#CargandoWindow-2375"><span class="linenos">2375</span></a><span class="sd">    **Ejemplo de Uso**:</span>
</span><span id="CargandoWindow-2376"><a href="#CargandoWindow-2376"><span class="linenos">2376</span></a><span class="sd">    ```python</span>
</span><span id="CargandoWindow-2377"><a href="#CargandoWindow-2377"><span class="linenos">2377</span></a><span class="sd">    app = QApplication([])</span>
</span><span id="CargandoWindow-2378"><a href="#CargandoWindow-2378"><span class="linenos">2378</span></a><span class="sd">    cargando_window = CargandoWindow()</span>
</span><span id="CargandoWindow-2379"><a href="#CargandoWindow-2379"><span class="linenos">2379</span></a><span class="sd">    cargando_window.show()</span>
</span><span id="CargandoWindow-2380"><a href="#CargandoWindow-2380"><span class="linenos">2380</span></a><span class="sd">    app.exec()</span>
</span><span id="CargandoWindow-2381"><a href="#CargandoWindow-2381"><span class="linenos">2381</span></a><span class="sd">    ```</span>
</span><span id="CargandoWindow-2382"><a href="#CargandoWindow-2382"><span class="linenos">2382</span></a>
</span><span id="CargandoWindow-2383"><a href="#CargandoWindow-2383"><span class="linenos">2383</span></a><span class="sd">    **Métodos**:</span>
</span><span id="CargandoWindow-2384"><a href="#CargandoWindow-2384"><span class="linenos">2384</span></a>
</span><span id="CargandoWindow-2385"><a href="#CargandoWindow-2385"><span class="linenos">2385</span></a><span class="sd">    - `__init__(self)`: Constructor de la clase. Configura la barra de progreso y verifica que exista en la UI.</span>
</span><span id="CargandoWindow-2386"><a href="#CargandoWindow-2386"><span class="linenos">2386</span></a>
</span><span id="CargandoWindow-2387"><a href="#CargandoWindow-2387"><span class="linenos">2387</span></a><span class="sd">        **Descripción**:</span>
</span><span id="CargandoWindow-2388"><a href="#CargandoWindow-2388"><span class="linenos">2388</span></a><span class="sd">        Inicializa la ventana de carga y asegura que la barra de progreso esté correctamente configurada.</span>
</span><span id="CargandoWindow-2389"><a href="#CargandoWindow-2389"><span class="linenos">2389</span></a>
</span><span id="CargandoWindow-2390"><a href="#CargandoWindow-2390"><span class="linenos">2390</span></a><span class="sd">        **Ejemplo de Uso**:</span>
</span><span id="CargandoWindow-2391"><a href="#CargandoWindow-2391"><span class="linenos">2391</span></a><span class="sd">        No es necesario llamar a este método directamente. Se invoca automáticamente cuando se crea una instancia de `CargandoWindow`.</span>
</span><span id="CargandoWindow-2392"><a href="#CargandoWindow-2392"><span class="linenos">2392</span></a>
</span><span id="CargandoWindow-2393"><a href="#CargandoWindow-2393"><span class="linenos">2393</span></a><span class="sd">        **Errores Comunes**:</span>
</span><span id="CargandoWindow-2394"><a href="#CargandoWindow-2394"><span class="linenos">2394</span></a><span class="sd">        - Asegúrate de que `barra_cargado` esté presente en el archivo de UI y se llame correctamente.</span>
</span><span id="CargandoWindow-2395"><a href="#CargandoWindow-2395"><span class="linenos">2395</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="CargandoWindow-2396"><a href="#CargandoWindow-2396"><span class="linenos">2396</span></a>
</span><span id="CargandoWindow-2397"><a href="#CargandoWindow-2397"><span class="linenos">2397</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="CargandoWindow-2398"><a href="#CargandoWindow-2398"><span class="linenos">2398</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">CargandoWindow</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
</span><span id="CargandoWindow-2399"><a href="#CargandoWindow-2399"><span class="linenos">2399</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span><span id="CargandoWindow-2400"><a href="#CargandoWindow-2400"><span class="linenos">2400</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">barra_cargado</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">findChild</span><span class="p">(</span><span class="n">QProgressBar</span><span class="p">,</span> <span class="s1">&#39;barra_cargado&#39;</span><span class="p">)</span>
</span><span id="CargandoWindow-2401"><a href="#CargandoWindow-2401"><span class="linenos">2401</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">barra_cargado</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="CargandoWindow-2402"><a href="#CargandoWindow-2402"><span class="linenos">2402</span></a>            <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">(</span><span class="s2">&quot;QProgressBar &#39;barra_cargado&#39; no se encontró en la UI.&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Ventana para mostrar una barra de progreso durante el proceso de carga.</p>

<p>Esta clase define una ventana con una barra de progreso para mostrar el estado de carga.</p>

<p><strong>Atributos</strong>:</p>

<ul>
<li><code><a href="#CargandoWindow.barra_cargado">barra_cargado</a></code>: <code>QProgressBar</code> que muestra el progreso de la carga.</li>
</ul>

<p><strong>Ejemplo de Uso</strong>:</p>

<div class="pdoc-code codehilite">
<pre><span></span><code><span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">([])</span>
<span class="n">cargando_window</span> <span class="o">=</span> <span class="n">CargandoWindow</span><span class="p">()</span>
<span class="n">cargando_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">app</span><span class="o">.</span><span class="n">exec</span><span class="p">()</span>
</code></pre>
</div>

<p><strong>Métodos</strong>:</p>

<ul>
<li><p><code>__init__(self)</code>: Constructor de la clase. Configura la barra de progreso y verifica que exista en la UI.</p>

<p><strong>Descripción</strong>:
Inicializa la ventana de carga y asegura que la barra de progreso esté correctamente configurada.</p>

<p><strong>Ejemplo de Uso</strong>:
No es necesario llamar a este método directamente. Se invoca automáticamente cuando se crea una instancia de <code><a href="#CargandoWindow">CargandoWindow</a></code>.</p>

<p><strong>Errores Comunes</strong>:</p>

<ul>
<li>Asegúrate de que <code><a href="#CargandoWindow.barra_cargado">barra_cargado</a></code> esté presente en el archivo de UI y se llame correctamente.</li>
</ul></li>
</ul>
</div>


                            <div id="CargandoWindow.barra_cargado" class="classattr">
                                <div class="attr variable">
            <span class="name">barra_cargado</span>

        
    </div>
    <a class="headerlink" href="#CargandoWindow.barra_cargado"></a>
    
    

                            </div>
                            <div id="CargandoWindow.staticMetaObject" class="classattr">
                                <div class="attr variable">
            <span class="name">staticMetaObject</span>        =
<span class="default_value">PySide6.QtCore.QMetaObject(&#34;CargandoWindow&#34; inherits &#34;QWidget&#34;:
)</span>

        
    </div>
    <a class="headerlink" href="#CargandoWindow.staticMetaObject"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>ui_cargando.Ui_Formcarga</dt>
                                <dd id="CargandoWindow.setupUi" class="function">setupUi</dd>
                <dd id="CargandoWindow.retranslateUi" class="function">retranslateUi</dd>

            </div>
            <div><dt>PySide6.QtWidgets.QWidget</dt>
                                <dd id="CargandoWindow.acceptDrops" class="function">acceptDrops</dd>
                <dd id="CargandoWindow.accessibleDescription" class="function">accessibleDescription</dd>
                <dd id="CargandoWindow.accessibleName" class="function">accessibleName</dd>
                <dd id="CargandoWindow.actionEvent" class="function">actionEvent</dd>
                <dd id="CargandoWindow.actions" class="function">actions</dd>
                <dd id="CargandoWindow.activateWindow" class="function">activateWindow</dd>
                <dd id="CargandoWindow.addAction" class="function">addAction</dd>
                <dd id="CargandoWindow.addActions" class="function">addActions</dd>
                <dd id="CargandoWindow.adjustSize" class="function">adjustSize</dd>
                <dd id="CargandoWindow.autoFillBackground" class="function">autoFillBackground</dd>
                <dd id="CargandoWindow.backgroundRole" class="function">backgroundRole</dd>
                <dd id="CargandoWindow.backingStore" class="function">backingStore</dd>
                <dd id="CargandoWindow.baseSize" class="function">baseSize</dd>
                <dd id="CargandoWindow.changeEvent" class="function">changeEvent</dd>
                <dd id="CargandoWindow.childAt" class="function">childAt</dd>
                <dd id="CargandoWindow.childrenRect" class="function">childrenRect</dd>
                <dd id="CargandoWindow.childrenRegion" class="function">childrenRegion</dd>
                <dd id="CargandoWindow.clearFocus" class="function">clearFocus</dd>
                <dd id="CargandoWindow.clearMask" class="function">clearMask</dd>
                <dd id="CargandoWindow.close" class="function">close</dd>
                <dd id="CargandoWindow.closeEvent" class="function">closeEvent</dd>
                <dd id="CargandoWindow.contentsMargins" class="function">contentsMargins</dd>
                <dd id="CargandoWindow.contentsRect" class="function">contentsRect</dd>
                <dd id="CargandoWindow.contextMenuEvent" class="function">contextMenuEvent</dd>
                <dd id="CargandoWindow.contextMenuPolicy" class="function">contextMenuPolicy</dd>
                <dd id="CargandoWindow.create" class="function">create</dd>
                <dd id="CargandoWindow.createWinId" class="function">createWinId</dd>
                <dd id="CargandoWindow.createWindowContainer" class="function">createWindowContainer</dd>
                <dd id="CargandoWindow.cursor" class="function">cursor</dd>
                <dd id="CargandoWindow.destroy" class="function">destroy</dd>
                <dd id="CargandoWindow.devType" class="function">devType</dd>
                <dd id="CargandoWindow.dragEnterEvent" class="function">dragEnterEvent</dd>
                <dd id="CargandoWindow.dragLeaveEvent" class="function">dragLeaveEvent</dd>
                <dd id="CargandoWindow.dragMoveEvent" class="function">dragMoveEvent</dd>
                <dd id="CargandoWindow.dropEvent" class="function">dropEvent</dd>
                <dd id="CargandoWindow.effectiveWinId" class="function">effectiveWinId</dd>
                <dd id="CargandoWindow.ensurePolished" class="function">ensurePolished</dd>
                <dd id="CargandoWindow.enterEvent" class="function">enterEvent</dd>
                <dd id="CargandoWindow.event" class="function">event</dd>
                <dd id="CargandoWindow.find" class="function">find</dd>
                <dd id="CargandoWindow.focusInEvent" class="function">focusInEvent</dd>
                <dd id="CargandoWindow.focusNextChild" class="function">focusNextChild</dd>
                <dd id="CargandoWindow.focusNextPrevChild" class="function">focusNextPrevChild</dd>
                <dd id="CargandoWindow.focusOutEvent" class="function">focusOutEvent</dd>
                <dd id="CargandoWindow.focusPolicy" class="function">focusPolicy</dd>
                <dd id="CargandoWindow.focusPreviousChild" class="function">focusPreviousChild</dd>
                <dd id="CargandoWindow.focusProxy" class="function">focusProxy</dd>
                <dd id="CargandoWindow.focusWidget" class="function">focusWidget</dd>
                <dd id="CargandoWindow.font" class="function">font</dd>
                <dd id="CargandoWindow.fontInfo" class="function">fontInfo</dd>
                <dd id="CargandoWindow.fontMetrics" class="function">fontMetrics</dd>
                <dd id="CargandoWindow.foregroundRole" class="function">foregroundRole</dd>
                <dd id="CargandoWindow.frameGeometry" class="function">frameGeometry</dd>
                <dd id="CargandoWindow.frameSize" class="function">frameSize</dd>
                <dd id="CargandoWindow.geometry" class="function">geometry</dd>
                <dd id="CargandoWindow.grab" class="function">grab</dd>
                <dd id="CargandoWindow.grabGesture" class="function">grabGesture</dd>
                <dd id="CargandoWindow.grabKeyboard" class="function">grabKeyboard</dd>
                <dd id="CargandoWindow.grabMouse" class="function">grabMouse</dd>
                <dd id="CargandoWindow.grabShortcut" class="function">grabShortcut</dd>
                <dd id="CargandoWindow.graphicsEffect" class="function">graphicsEffect</dd>
                <dd id="CargandoWindow.graphicsProxyWidget" class="function">graphicsProxyWidget</dd>
                <dd id="CargandoWindow.hasFocus" class="function">hasFocus</dd>
                <dd id="CargandoWindow.hasHeightForWidth" class="function">hasHeightForWidth</dd>
                <dd id="CargandoWindow.hasMouseTracking" class="function">hasMouseTracking</dd>
                <dd id="CargandoWindow.hasTabletTracking" class="function">hasTabletTracking</dd>
                <dd id="CargandoWindow.height" class="function">height</dd>
                <dd id="CargandoWindow.heightForWidth" class="function">heightForWidth</dd>
                <dd id="CargandoWindow.hide" class="function">hide</dd>
                <dd id="CargandoWindow.hideEvent" class="function">hideEvent</dd>
                <dd id="CargandoWindow.initPainter" class="function">initPainter</dd>
                <dd id="CargandoWindow.inputMethodEvent" class="function">inputMethodEvent</dd>
                <dd id="CargandoWindow.inputMethodHints" class="function">inputMethodHints</dd>
                <dd id="CargandoWindow.inputMethodQuery" class="function">inputMethodQuery</dd>
                <dd id="CargandoWindow.insertAction" class="function">insertAction</dd>
                <dd id="CargandoWindow.insertActions" class="function">insertActions</dd>
                <dd id="CargandoWindow.internalWinId" class="function">internalWinId</dd>
                <dd id="CargandoWindow.isActiveWindow" class="function">isActiveWindow</dd>
                <dd id="CargandoWindow.isAncestorOf" class="function">isAncestorOf</dd>
                <dd id="CargandoWindow.isEnabled" class="function">isEnabled</dd>
                <dd id="CargandoWindow.isEnabledTo" class="function">isEnabledTo</dd>
                <dd id="CargandoWindow.isFullScreen" class="function">isFullScreen</dd>
                <dd id="CargandoWindow.isHidden" class="function">isHidden</dd>
                <dd id="CargandoWindow.isLeftToRight" class="function">isLeftToRight</dd>
                <dd id="CargandoWindow.isMaximized" class="function">isMaximized</dd>
                <dd id="CargandoWindow.isMinimized" class="function">isMinimized</dd>
                <dd id="CargandoWindow.isModal" class="function">isModal</dd>
                <dd id="CargandoWindow.isRightToLeft" class="function">isRightToLeft</dd>
                <dd id="CargandoWindow.isTopLevel" class="function">isTopLevel</dd>
                <dd id="CargandoWindow.isVisible" class="function">isVisible</dd>
                <dd id="CargandoWindow.isVisibleTo" class="function">isVisibleTo</dd>
                <dd id="CargandoWindow.isWindow" class="function">isWindow</dd>
                <dd id="CargandoWindow.isWindowModified" class="function">isWindowModified</dd>
                <dd id="CargandoWindow.keyPressEvent" class="function">keyPressEvent</dd>
                <dd id="CargandoWindow.keyReleaseEvent" class="function">keyReleaseEvent</dd>
                <dd id="CargandoWindow.keyboardGrabber" class="function">keyboardGrabber</dd>
                <dd id="CargandoWindow.layout" class="function">layout</dd>
                <dd id="CargandoWindow.layoutDirection" class="function">layoutDirection</dd>
                <dd id="CargandoWindow.leaveEvent" class="function">leaveEvent</dd>
                <dd id="CargandoWindow.locale" class="function">locale</dd>
                <dd id="CargandoWindow.lower" class="function">lower</dd>
                <dd id="CargandoWindow.mapFrom" class="function">mapFrom</dd>
                <dd id="CargandoWindow.mapFromGlobal" class="function">mapFromGlobal</dd>
                <dd id="CargandoWindow.mapFromParent" class="function">mapFromParent</dd>
                <dd id="CargandoWindow.mapTo" class="function">mapTo</dd>
                <dd id="CargandoWindow.mapToGlobal" class="function">mapToGlobal</dd>
                <dd id="CargandoWindow.mapToParent" class="function">mapToParent</dd>
                <dd id="CargandoWindow.mask" class="function">mask</dd>
                <dd id="CargandoWindow.maximumHeight" class="function">maximumHeight</dd>
                <dd id="CargandoWindow.maximumSize" class="function">maximumSize</dd>
                <dd id="CargandoWindow.maximumWidth" class="function">maximumWidth</dd>
                <dd id="CargandoWindow.metric" class="function">metric</dd>
                <dd id="CargandoWindow.minimumHeight" class="function">minimumHeight</dd>
                <dd id="CargandoWindow.minimumSize" class="function">minimumSize</dd>
                <dd id="CargandoWindow.minimumSizeHint" class="function">minimumSizeHint</dd>
                <dd id="CargandoWindow.minimumWidth" class="function">minimumWidth</dd>
                <dd id="CargandoWindow.mouseDoubleClickEvent" class="function">mouseDoubleClickEvent</dd>
                <dd id="CargandoWindow.mouseGrabber" class="function">mouseGrabber</dd>
                <dd id="CargandoWindow.mouseMoveEvent" class="function">mouseMoveEvent</dd>
                <dd id="CargandoWindow.mousePressEvent" class="function">mousePressEvent</dd>
                <dd id="CargandoWindow.mouseReleaseEvent" class="function">mouseReleaseEvent</dd>
                <dd id="CargandoWindow.move" class="function">move</dd>
                <dd id="CargandoWindow.moveEvent" class="function">moveEvent</dd>
                <dd id="CargandoWindow.nativeEvent" class="function">nativeEvent</dd>
                <dd id="CargandoWindow.nativeParentWidget" class="function">nativeParentWidget</dd>
                <dd id="CargandoWindow.nextInFocusChain" class="function">nextInFocusChain</dd>
                <dd id="CargandoWindow.normalGeometry" class="function">normalGeometry</dd>
                <dd id="CargandoWindow.overrideWindowFlags" class="function">overrideWindowFlags</dd>
                <dd id="CargandoWindow.overrideWindowState" class="function">overrideWindowState</dd>
                <dd id="CargandoWindow.paintEngine" class="function">paintEngine</dd>
                <dd id="CargandoWindow.paintEvent" class="function">paintEvent</dd>
                <dd id="CargandoWindow.palette" class="function">palette</dd>
                <dd id="CargandoWindow.parentWidget" class="function">parentWidget</dd>
                <dd id="CargandoWindow.pos" class="function">pos</dd>
                <dd id="CargandoWindow.previousInFocusChain" class="function">previousInFocusChain</dd>
                <dd id="CargandoWindow.raise_" class="function">raise_</dd>
                <dd id="CargandoWindow.rect" class="function">rect</dd>
                <dd id="CargandoWindow.redirected" class="function">redirected</dd>
                <dd id="CargandoWindow.releaseKeyboard" class="function">releaseKeyboard</dd>
                <dd id="CargandoWindow.releaseMouse" class="function">releaseMouse</dd>
                <dd id="CargandoWindow.releaseShortcut" class="function">releaseShortcut</dd>
                <dd id="CargandoWindow.removeAction" class="function">removeAction</dd>
                <dd id="CargandoWindow.render" class="function">render</dd>
                <dd id="CargandoWindow.repaint" class="function">repaint</dd>
                <dd id="CargandoWindow.resize" class="function">resize</dd>
                <dd id="CargandoWindow.resizeEvent" class="function">resizeEvent</dd>
                <dd id="CargandoWindow.restoreGeometry" class="function">restoreGeometry</dd>
                <dd id="CargandoWindow.saveGeometry" class="function">saveGeometry</dd>
                <dd id="CargandoWindow.screen" class="function">screen</dd>
                <dd id="CargandoWindow.scroll" class="function">scroll</dd>
                <dd id="CargandoWindow.setAcceptDrops" class="function">setAcceptDrops</dd>
                <dd id="CargandoWindow.setAccessibleDescription" class="function">setAccessibleDescription</dd>
                <dd id="CargandoWindow.setAccessibleName" class="function">setAccessibleName</dd>
                <dd id="CargandoWindow.setAttribute" class="function">setAttribute</dd>
                <dd id="CargandoWindow.setAutoFillBackground" class="function">setAutoFillBackground</dd>
                <dd id="CargandoWindow.setBackgroundRole" class="function">setBackgroundRole</dd>
                <dd id="CargandoWindow.setBaseSize" class="function">setBaseSize</dd>
                <dd id="CargandoWindow.setContentsMargins" class="function">setContentsMargins</dd>
                <dd id="CargandoWindow.setContextMenuPolicy" class="function">setContextMenuPolicy</dd>
                <dd id="CargandoWindow.setCursor" class="function">setCursor</dd>
                <dd id="CargandoWindow.setDisabled" class="function">setDisabled</dd>
                <dd id="CargandoWindow.setEnabled" class="function">setEnabled</dd>
                <dd id="CargandoWindow.setFixedHeight" class="function">setFixedHeight</dd>
                <dd id="CargandoWindow.setFixedSize" class="function">setFixedSize</dd>
                <dd id="CargandoWindow.setFixedWidth" class="function">setFixedWidth</dd>
                <dd id="CargandoWindow.setFocus" class="function">setFocus</dd>
                <dd id="CargandoWindow.setFocusPolicy" class="function">setFocusPolicy</dd>
                <dd id="CargandoWindow.setFocusProxy" class="function">setFocusProxy</dd>
                <dd id="CargandoWindow.setFont" class="function">setFont</dd>
                <dd id="CargandoWindow.setForegroundRole" class="function">setForegroundRole</dd>
                <dd id="CargandoWindow.setGeometry" class="function">setGeometry</dd>
                <dd id="CargandoWindow.setGraphicsEffect" class="function">setGraphicsEffect</dd>
                <dd id="CargandoWindow.setHidden" class="function">setHidden</dd>
                <dd id="CargandoWindow.setInputMethodHints" class="function">setInputMethodHints</dd>
                <dd id="CargandoWindow.setLayout" class="function">setLayout</dd>
                <dd id="CargandoWindow.setLayoutDirection" class="function">setLayoutDirection</dd>
                <dd id="CargandoWindow.setLocale" class="function">setLocale</dd>
                <dd id="CargandoWindow.setMask" class="function">setMask</dd>
                <dd id="CargandoWindow.setMaximumHeight" class="function">setMaximumHeight</dd>
                <dd id="CargandoWindow.setMaximumSize" class="function">setMaximumSize</dd>
                <dd id="CargandoWindow.setMaximumWidth" class="function">setMaximumWidth</dd>
                <dd id="CargandoWindow.setMinimumHeight" class="function">setMinimumHeight</dd>
                <dd id="CargandoWindow.setMinimumSize" class="function">setMinimumSize</dd>
                <dd id="CargandoWindow.setMinimumWidth" class="function">setMinimumWidth</dd>
                <dd id="CargandoWindow.setMouseTracking" class="function">setMouseTracking</dd>
                <dd id="CargandoWindow.setPalette" class="function">setPalette</dd>
                <dd id="CargandoWindow.setParent" class="function">setParent</dd>
                <dd id="CargandoWindow.setScreen" class="function">setScreen</dd>
                <dd id="CargandoWindow.setShortcutAutoRepeat" class="function">setShortcutAutoRepeat</dd>
                <dd id="CargandoWindow.setShortcutEnabled" class="function">setShortcutEnabled</dd>
                <dd id="CargandoWindow.setSizeIncrement" class="function">setSizeIncrement</dd>
                <dd id="CargandoWindow.setSizePolicy" class="function">setSizePolicy</dd>
                <dd id="CargandoWindow.setStatusTip" class="function">setStatusTip</dd>
                <dd id="CargandoWindow.setStyle" class="function">setStyle</dd>
                <dd id="CargandoWindow.setStyleSheet" class="function">setStyleSheet</dd>
                <dd id="CargandoWindow.setTabOrder" class="function">setTabOrder</dd>
                <dd id="CargandoWindow.setTabletTracking" class="function">setTabletTracking</dd>
                <dd id="CargandoWindow.setToolTip" class="function">setToolTip</dd>
                <dd id="CargandoWindow.setToolTipDuration" class="function">setToolTipDuration</dd>
                <dd id="CargandoWindow.setUpdatesEnabled" class="function">setUpdatesEnabled</dd>
                <dd id="CargandoWindow.setVisible" class="function">setVisible</dd>
                <dd id="CargandoWindow.setWhatsThis" class="function">setWhatsThis</dd>
                <dd id="CargandoWindow.setWindowFilePath" class="function">setWindowFilePath</dd>
                <dd id="CargandoWindow.setWindowFlag" class="function">setWindowFlag</dd>
                <dd id="CargandoWindow.setWindowFlags" class="function">setWindowFlags</dd>
                <dd id="CargandoWindow.setWindowIcon" class="function">setWindowIcon</dd>
                <dd id="CargandoWindow.setWindowIconText" class="function">setWindowIconText</dd>
                <dd id="CargandoWindow.setWindowModality" class="function">setWindowModality</dd>
                <dd id="CargandoWindow.setWindowModified" class="function">setWindowModified</dd>
                <dd id="CargandoWindow.setWindowOpacity" class="function">setWindowOpacity</dd>
                <dd id="CargandoWindow.setWindowRole" class="function">setWindowRole</dd>
                <dd id="CargandoWindow.setWindowState" class="function">setWindowState</dd>
                <dd id="CargandoWindow.setWindowTitle" class="function">setWindowTitle</dd>
                <dd id="CargandoWindow.sharedPainter" class="function">sharedPainter</dd>
                <dd id="CargandoWindow.show" class="function">show</dd>
                <dd id="CargandoWindow.showEvent" class="function">showEvent</dd>
                <dd id="CargandoWindow.showFullScreen" class="function">showFullScreen</dd>
                <dd id="CargandoWindow.showMaximized" class="function">showMaximized</dd>
                <dd id="CargandoWindow.showMinimized" class="function">showMinimized</dd>
                <dd id="CargandoWindow.showNormal" class="function">showNormal</dd>
                <dd id="CargandoWindow.size" class="function">size</dd>
                <dd id="CargandoWindow.sizeHint" class="function">sizeHint</dd>
                <dd id="CargandoWindow.sizeIncrement" class="function">sizeIncrement</dd>
                <dd id="CargandoWindow.sizePolicy" class="function">sizePolicy</dd>
                <dd id="CargandoWindow.stackUnder" class="function">stackUnder</dd>
                <dd id="CargandoWindow.statusTip" class="function">statusTip</dd>
                <dd id="CargandoWindow.style" class="function">style</dd>
                <dd id="CargandoWindow.styleSheet" class="function">styleSheet</dd>
                <dd id="CargandoWindow.tabletEvent" class="function">tabletEvent</dd>
                <dd id="CargandoWindow.testAttribute" class="function">testAttribute</dd>
                <dd id="CargandoWindow.toolTip" class="function">toolTip</dd>
                <dd id="CargandoWindow.toolTipDuration" class="function">toolTipDuration</dd>
                <dd id="CargandoWindow.topLevelWidget" class="function">topLevelWidget</dd>
                <dd id="CargandoWindow.underMouse" class="function">underMouse</dd>
                <dd id="CargandoWindow.ungrabGesture" class="function">ungrabGesture</dd>
                <dd id="CargandoWindow.unsetCursor" class="function">unsetCursor</dd>
                <dd id="CargandoWindow.unsetLayoutDirection" class="function">unsetLayoutDirection</dd>
                <dd id="CargandoWindow.unsetLocale" class="function">unsetLocale</dd>
                <dd id="CargandoWindow.update" class="function">update</dd>
                <dd id="CargandoWindow.updateGeometry" class="function">updateGeometry</dd>
                <dd id="CargandoWindow.updateMicroFocus" class="function">updateMicroFocus</dd>
                <dd id="CargandoWindow.updatesEnabled" class="function">updatesEnabled</dd>
                <dd id="CargandoWindow.visibleRegion" class="function">visibleRegion</dd>
                <dd id="CargandoWindow.whatsThis" class="function">whatsThis</dd>
                <dd id="CargandoWindow.wheelEvent" class="function">wheelEvent</dd>
                <dd id="CargandoWindow.width" class="function">width</dd>
                <dd id="CargandoWindow.winId" class="function">winId</dd>
                <dd id="CargandoWindow.window" class="function">window</dd>
                <dd id="CargandoWindow.windowFilePath" class="function">windowFilePath</dd>
                <dd id="CargandoWindow.windowFlags" class="function">windowFlags</dd>
                <dd id="CargandoWindow.windowHandle" class="function">windowHandle</dd>
                <dd id="CargandoWindow.windowIcon" class="function">windowIcon</dd>
                <dd id="CargandoWindow.windowIconText" class="function">windowIconText</dd>
                <dd id="CargandoWindow.windowModality" class="function">windowModality</dd>
                <dd id="CargandoWindow.windowOpacity" class="function">windowOpacity</dd>
                <dd id="CargandoWindow.windowRole" class="function">windowRole</dd>
                <dd id="CargandoWindow.windowState" class="function">windowState</dd>
                <dd id="CargandoWindow.windowTitle" class="function">windowTitle</dd>
                <dd id="CargandoWindow.windowType" class="function">windowType</dd>
                <dd id="CargandoWindow.x" class="function">x</dd>
                <dd id="CargandoWindow.y" class="function">y</dd>
                <dd id="CargandoWindow.RenderFlag" class="class">RenderFlag</dd>
                <dd id="CargandoWindow.windowTitleChanged" class="function">windowTitleChanged</dd>
                <dd id="CargandoWindow.windowIconChanged" class="function">windowIconChanged</dd>
                <dd id="CargandoWindow.windowIconTextChanged" class="function">windowIconTextChanged</dd>
                <dd id="CargandoWindow.customContextMenuRequested" class="function">customContextMenuRequested</dd>

            </div>
            <div><dt>PySide6.QtCore.QObject</dt>
                                <dd id="CargandoWindow.blockSignals" class="function">blockSignals</dd>
                <dd id="CargandoWindow.childEvent" class="function">childEvent</dd>
                <dd id="CargandoWindow.children" class="function">children</dd>
                <dd id="CargandoWindow.connect" class="function">connect</dd>
                <dd id="CargandoWindow.connectNotify" class="function">connectNotify</dd>
                <dd id="CargandoWindow.customEvent" class="function">customEvent</dd>
                <dd id="CargandoWindow.deleteLater" class="function">deleteLater</dd>
                <dd id="CargandoWindow.disconnect" class="function">disconnect</dd>
                <dd id="CargandoWindow.disconnectNotify" class="function">disconnectNotify</dd>
                <dd id="CargandoWindow.dumpObjectInfo" class="function">dumpObjectInfo</dd>
                <dd id="CargandoWindow.dumpObjectTree" class="function">dumpObjectTree</dd>
                <dd id="CargandoWindow.dynamicPropertyNames" class="function">dynamicPropertyNames</dd>
                <dd id="CargandoWindow.emit" class="function">emit</dd>
                <dd id="CargandoWindow.eventFilter" class="function">eventFilter</dd>
                <dd id="CargandoWindow.findChild" class="function">findChild</dd>
                <dd id="CargandoWindow.findChildren" class="function">findChildren</dd>
                <dd id="CargandoWindow.inherits" class="function">inherits</dd>
                <dd id="CargandoWindow.installEventFilter" class="function">installEventFilter</dd>
                <dd id="CargandoWindow.isQuickItemType" class="function">isQuickItemType</dd>
                <dd id="CargandoWindow.isSignalConnected" class="function">isSignalConnected</dd>
                <dd id="CargandoWindow.isWidgetType" class="function">isWidgetType</dd>
                <dd id="CargandoWindow.isWindowType" class="function">isWindowType</dd>
                <dd id="CargandoWindow.killTimer" class="function">killTimer</dd>
                <dd id="CargandoWindow.metaObject" class="function">metaObject</dd>
                <dd id="CargandoWindow.moveToThread" class="function">moveToThread</dd>
                <dd id="CargandoWindow.objectName" class="function">objectName</dd>
                <dd id="CargandoWindow.parent" class="function">parent</dd>
                <dd id="CargandoWindow.property" class="function">property</dd>
                <dd id="CargandoWindow.receivers" class="function">receivers</dd>
                <dd id="CargandoWindow.removeEventFilter" class="function">removeEventFilter</dd>
                <dd id="CargandoWindow.sender" class="function">sender</dd>
                <dd id="CargandoWindow.senderSignalIndex" class="function">senderSignalIndex</dd>
                <dd id="CargandoWindow.setObjectName" class="function">setObjectName</dd>
                <dd id="CargandoWindow.setProperty" class="function">setProperty</dd>
                <dd id="CargandoWindow.signalsBlocked" class="function">signalsBlocked</dd>
                <dd id="CargandoWindow.startTimer" class="function">startTimer</dd>
                <dd id="CargandoWindow.thread" class="function">thread</dd>
                <dd id="CargandoWindow.timerEvent" class="function">timerEvent</dd>
                <dd id="CargandoWindow.tr" class="function">tr</dd>
                <dd id="CargandoWindow.destroyed" class="function">destroyed</dd>
                <dd id="CargandoWindow.objectNameChanged" class="function">objectNameChanged</dd>

            </div>
            <div><dt>PySide6.QtGui.QPaintDevice</dt>
                                <dd id="CargandoWindow.colorCount" class="function">colorCount</dd>
                <dd id="CargandoWindow.depth" class="function">depth</dd>
                <dd id="CargandoWindow.devicePixelRatio" class="function">devicePixelRatio</dd>
                <dd id="CargandoWindow.devicePixelRatioF" class="function">devicePixelRatioF</dd>
                <dd id="CargandoWindow.devicePixelRatioFScale" class="function">devicePixelRatioFScale</dd>
                <dd id="CargandoWindow.heightMM" class="function">heightMM</dd>
                <dd id="CargandoWindow.logicalDpiX" class="function">logicalDpiX</dd>
                <dd id="CargandoWindow.logicalDpiY" class="function">logicalDpiY</dd>
                <dd id="CargandoWindow.paintingActive" class="function">paintingActive</dd>
                <dd id="CargandoWindow.physicalDpiX" class="function">physicalDpiX</dd>
                <dd id="CargandoWindow.physicalDpiY" class="function">physicalDpiY</dd>
                <dd id="CargandoWindow.widthMM" class="function">widthMM</dd>
                <dd id="CargandoWindow.painters" class="variable">painters</dd>
                <dd id="CargandoWindow.PaintDeviceMetric" class="class">PaintDeviceMetric</dd>

            </div>
                                </dl>
                            </div>
                </section>
    </main>
</body>
</html>